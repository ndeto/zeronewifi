if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=pt.type(t);return"function"!==i&&!pt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t,e,i){if(pt.isFunction(e))return pt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return pt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Ct.test(e))return pt.filter(e,t,i);e=pt.filter(e,t)}return pt.grep(t,function(t){return pt.inArray(t,e)>-1!==i})}function s(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function r(t){var e={};return pt.each(t.match(Tt)||[],function(t,i){e[i]=!0}),e}function o(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(nt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(o(),pt.ready())}function l(t,e,i){if(i===undefined&&1===t.nodeType){var n="data-"+e.replace(Mt,"-$1").toLowerCase();if("string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:At.test(i)?pt.parseJSON(i):i)}catch(t){}pt.data(t,e,i)}else i=undefined}return i}function c(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function d(t,e,i,n){if(jt(t)){var s,r,o=pt.expando,a=t.nodeType,l=a?pt.cache:t,c=a?t[o]:t[o]&&o;if(c&&l[c]&&(n||l[c].data)||i!==undefined||"string"!=typeof e)return c||(c=a?t[o]=it.pop()||pt.guid++:o),l[c]||(l[c]=a?{}:{toJSON:pt.noop}),"object"!=typeof e&&"function"!=typeof e||(n?l[c]=pt.extend(l[c],e):l[c].data=pt.extend(l[c].data,e)),r=l[c],n||(r.data||(r.data={}),r=r.data),i!==undefined&&(r[pt.camelCase(e)]=i),"string"==typeof e?null==(s=r[e])&&(s=r[pt.camelCase(e)]):s=r,s}}function h(t,e,i){if(jt(t)){var n,s,r=t.nodeType,o=r?pt.cache:t,a=r?t[pt.expando]:pt.expando;if(o[a]){if(e&&(n=i?o[a]:o[a].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in n?e=[e]:(e=pt.camelCase(e),e=e in n?[e]:e.split(" ")),s=e.length;for(;s--;)delete n[e[s]];if(i?!c(n):!pt.isEmptyObject(n))return}(i||(delete o[a].data,c(o[a])))&&(r?pt.cleanData([t],!0):ht.deleteExpando||o!=o.window?delete o[a]:o[a]=undefined)}}}function u(t,e,i,n){var s,r=1,o=20,a=n?function(){return n.cur()}:function(){return pt.css(t,e,"")},l=a(),c=i&&i[3]||(pt.cssNumber[e]?"":"px"),d=(pt.cssNumber[e]||"px"!==c&&+l)&&Pt.exec(pt.css(t,e));if(d&&d[3]!==c){c=c||d[3],i=i||[],d=+l||1;do{r=r||".5",d/=r,pt.style(t,e,d+c)}while(r!==(r=a()/l)&&1!==r&&--o)}return i&&(d=+d||+l||0,s=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=s)),s}function p(t){var e=Bt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){var i,n,s=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!r)for(r=[],i=t.childNodes||t;null!=(n=i[s]);s++)!e||pt.nodeName(n,e)?r.push(n):pt.merge(r,f(n,e));return e===undefined||e&&pt.nodeName(t,e)?pt.merge([t],r):r}function g(t,e){for(var i,n=0;null!=(i=t[n]);n++)pt._data(i,"globalEval",!e||pt._data(e[n],"globalEval"))}function m(t){Ht.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,i,n,s){for(var r,o,a,l,c,d,h,u=t.length,v=p(e),b=[],y=0;y<u;y++)if((o=t[y])||0===o)if("object"===pt.type(o))pt.merge(b,o.nodeType?[o]:o);else if(Gt.test(o)){for(l=l||v.appendChild(e.createElement("div")),c=(qt.exec(o)||["",""])[1].toLowerCase(),h=Wt[c]||Wt._default,l.innerHTML=h[1]+pt.htmlPrefilter(o)+h[2],r=h[0];r--;)l=l.lastChild;if(!ht.leadingWhitespace&&zt.test(o)&&b.push(e.createTextNode(zt.exec(o)[0])),!ht.tbody)for(o="table"!==c||Ut.test(o)?"<table>"!==h[1]||Ut.test(o)?0:l:l.firstChild,r=o&&o.childNodes.length;r--;)pt.nodeName(d=o.childNodes[r],"tbody")&&!d.childNodes.length&&o.removeChild(d);for(pt.merge(b,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else b.push(e.createTextNode(o));for(l&&v.removeChild(l),ht.appendChecked||pt.grep(f(b,"input"),m),y=0;o=b[y++];)if(n&&pt.inArray(o,n)>-1)s&&s.push(o);else if(a=pt.contains(o.ownerDocument,o),l=f(v.appendChild(o),"script"),a&&g(l),i)for(r=0;o=l[r++];)Lt.test(o.type||"")&&i.push(o);return l=null,v}function b(){return!0}function y(){return!1}function w(){try{return nt.activeElement}catch(t){}}function _(t,e,i,n,s,r){var o,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=undefined);for(a in e)_(t,a,i,n,e[a],r);return t}if(null==n&&null==s?(s=i,n=i=undefined):null==s&&("string"==typeof i?(s=n,n=undefined):(s=n,n=i,i=undefined)),!1===s)s=y;else if(!s)return t;return 1===r&&(o=s,s=function(t){return pt().off(t),o.apply(this,arguments)},s.guid=o.guid||(o.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,s,n,i)})}function x(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function C(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function $(t){var e=ne.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){if(1===e.nodeType&&pt.hasData(t)){var i,n,s,r=pt._data(t),o=pt._data(e,r),a=r.events;if(a){delete o.handle,o.events={};for(i in a)for(n=0,s=a[i].length;n<s;n++)pt.event.add(e,i,a[i][n])}o.data&&(o.data=pt.extend({},o.data))}}function D(t,e){var i,n,s;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ht.noCloneEvent&&e[pt.expando]){s=pt._data(e);for(n in s.events)pt.removeEvent(e,n,s.handle);e.removeAttribute(pt.expando)}"script"===i&&e.text!==t.text?(C(e).text=t.text,$(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ht.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Ht.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function S(t,e,i,n){e=rt.apply([],e);var s,r,o,a,l,c,d=0,h=t.length,u=h-1,p=e[0],g=pt.isFunction(p);if(g||h>1&&"string"==typeof p&&!ht.checkClone&&ie.test(p))return t.each(function(s){var r=t.eq(s);g&&(e[0]=p.call(this,s,r.html())),S(r,e,i,n)});if(h&&(c=v(e,t[0].ownerDocument,!1,t,n),s=c.firstChild,1===c.childNodes.length&&(c=s),s||n)){for(a=pt.map(f(c,"script"),C),o=a.length;d<h;d++)r=c,d!==u&&(r=pt.clone(r,!0,!0),o&&pt.merge(a,f(r,"script"))),i.call(t[d],r,d);if(o)for(l=a[a.length-1].ownerDocument,pt.map(a,$),d=0;d<o;d++)r=a[d],Lt.test(r.type||"")&&!pt._data(r,"globalEval")&&pt.contains(l,r)&&(r.src?pt._evalUrl&&pt._evalUrl(r.src):pt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(se,"")));c=s=null}return t}function T(t,e,i){for(var n,s=e?pt.filter(e,t):t,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||pt.cleanData(f(n)),n.parentNode&&(i&&pt.contains(n.ownerDocument,n)&&g(f(n,"script")),n.parentNode.removeChild(n));return t}function I(t,e){var i=pt(e.createElement(t)).appendTo(e.body),n=pt.css(i[0],"display");return i.detach(),n}function E(t){var e=nt,i=le[t];return i||(i=I(t,e),"none"!==i&&i||(ae=(ae||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(ae[0].contentWindow||ae[0].contentDocument).document,e.write(),e.close(),i=I(t,e),ae.detach()),le[t]=i),i}function j(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t){if(t in Ce)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=xe.length;i--;)if((t=xe[i]+e)in Ce)return t}function M(t,e){for(var i,n,s,r=[],o=0,a=t.length;o<a;o++)n=t[o],n.style&&(r[o]=pt._data(n,"olddisplay"),i=n.style.display,e?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Nt(n)&&(r[o]=pt._data(n,"olddisplay",E(n.nodeName)))):(s=Nt(n),(i&&"none"!==i||!s)&&pt._data(n,"olddisplay",s?i:pt.css(n,"display"))));for(o=0;o<a;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[o]||"":"none"));return t}function F(t,e,i){var n=ye.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function P(t,e,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,o=0;r<4;r+=2)"margin"===i&&(o+=pt.css(t,i+Rt[r],!0,s)),n?("content"===i&&(o-=pt.css(t,"padding"+Rt[r],!0,s)),"margin"!==i&&(o-=pt.css(t,"border"+Rt[r]+"Width",!0,s))):(o+=pt.css(t,"padding"+Rt[r],!0,s),"padding"!==i&&(o+=pt.css(t,"border"+Rt[r]+"Width",!0,s)));return o}function R(t,e,i){var n=!0,s="width"===e?t.offsetWidth:t.offsetHeight,r=pe(t),o=ht.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,r);if(s<=0||null==s){if(s=fe(t,e,r),(s<0||null==s)&&(s=t.style[e]),de.test(s))return s;n=o&&(ht.boxSizingReliable()||s===t.style[e]),s=parseFloat(s)||0}return s+P(t,e,i||(o?"border":"content"),n,r)+"px"}function N(t,e,i,n,s){return new N.prototype.init(t,e,i,n,s)}function O(){return t.setTimeout(function(){$e=undefined}),$e=pt.now()}function H(t,e){var i,n={height:t},s=0;for(e=e?1:0;s<4;s+=2-e)i=Rt[s],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function q(t,e,i){for(var n,s=(B.tweeners[e]||[]).concat(B.tweeners["*"]),r=0,o=s.length;r<o;r++)if(n=s[r].call(i,e,t))return n}function L(t,e,i){var n,s,r,o,a,l,c,d=this,h={},u=t.style,p=t.nodeType&&Nt(t),f=pt._data(t,"fxshow");i.queue||(a=pt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,pt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],c=pt.css(t,"display"),"inline"===("none"===c?pt._data(t,"olddisplay")||E(t.nodeName):c)&&"none"===pt.css(t,"float")&&(ht.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",ht.shrinkWrapBlocks()||d.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],De.exec(s)){if(delete e[n],r=r||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!f||f[n]===undefined)continue;p=!0}h[n]=f&&f[n]||pt.style(t,n)}else c=undefined;if(pt.isEmptyObject(h))"inline"===("none"===c?E(t.nodeName):c)&&(u.display=c);else{f?"hidden"in f&&(p=f.hidden):f=pt._data(t,"fxshow",{}),r&&(f.hidden=!p),p?pt(t).show():d.done(function(){pt(t).hide()}),d.done(function(){var e;pt._removeData(t,"fxshow");for(e in h)pt.style(t,e,h[e])});for(n in h)o=q(p?f[n]:0,n,d),n in f||(f[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function z(t,e){var i,n,s,r,o;for(i in t)if(n=pt.camelCase(i),s=e[n],r=t[i],pt.isArray(r)&&(s=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(o=pt.cssHooks[n])&&"expand"in o){r=o.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=s)}else e[n]=s}function B(t,e,i){var n,s,r=0,o=B.prefilters.length,a=pt.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=$e||O(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,r=1-n,o=0,l=c.tweens.length;o<l;o++)c.tweens[o].run(r);return a.notifyWith(t,[c,r,i]),r<1&&l?i:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},i),originalProperties:e,originalOptions:i,startTime:$e||O(),duration:i.duration,tweens:[],createTween:function(e,i){var n=pt.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),d=c.props;for(z(d,c.opts.specialEasing);r<o;r++)if(n=B.prefilters[r].call(c,t,d,c.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(c.elem,c.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(d,q,c),pt.isFunction(c.opts.start)&&c.opts.start.call(t,c),pt.fx.timer(pt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(t){return pt.attr(t,"class")||""}function G(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,r=e.toLowerCase().match(Tt)||[];if(pt.isFunction(i))for(;n=r[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function U(t,e,i,n){function s(a){var l;return r[a]=!0,pt.each(t[a]||[],function(t,a){var c=a(e,i,n);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),l}var r={},o=t===Qe;return s(e.dataTypes[0])||!r["*"]&&s("*")}function Y(t,e){var i,n,s=pt.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((s[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function V(t,e,i){for(var n,s,r,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),s===undefined&&(s=t.mimeType||e.getResponseHeader("Content-Type"));if(s)for(o in a)if(a[o]&&a[o].test(s)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}n||(n=o)}r=r||n}if(r)return r!==l[0]&&l.unshift(r),i[r]}function X(t,e,i,n){var s,r,o,a,l,c={},d=t.dataTypes.slice();if(d[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(r=d.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=c[l+" "+r]||c["* "+r]))for(s in c)if(a=s.split(" "),a[1]===r&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[s]:!0!==c[s]&&(r=a[0],d.unshift(a[1]));break}if(!0!==o)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function K(t){return t.style&&t.style.display||pt.css(t,"display")}function Q(t){if(!pt.contains(t.ownerDocument||nt,t))return!0;for(;t&&1===t.nodeType;){if("none"===K(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Z(t,e,i,n){var s;if(pt.isArray(e))pt.each(e,function(e,s){i||ii.test(t)?n(t,s):Z(t+"["+("object"==typeof s&&null!=s?e:"")+"]",s,i,n)});else if(i||"object"!==pt.type(e))n(t,e);else for(s in e)Z(t+"["+s+"]",e[s],i,n)}function J(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var it=[],nt=t.document,st=it.slice,rt=it.concat,ot=it.push,at=it.indexOf,lt={},ct=lt.toString,dt=lt.hasOwnProperty,ht={},ut="1.12.4",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ut,constructor:pt,selector:"",length:0,toArray:function(){return st.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:st.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(st.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:it.sort,splice:it.splice},pt.extend=pt.fn.extend=function(){var t,e,i,n,s,r,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||pt.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(s=arguments[a]))for(n in s)t=o[n],i=s[n],o!==i&&(c&&i&&(pt.isPlainObject(i)||(e=pt.isArray(i)))?(e?(e=!1,r=t&&pt.isArray(t)?t:[]):r=t&&pt.isPlainObject(t)?t:{},o[n]=pt.extend(c,r,i)):i!==undefined&&(o[n]=i));return o},pt.extend({expando:"jQuery"+(ut+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!dt.call(t,"constructor")&&!dt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!ht.ownFirst)for(e in t)return dt.call(t,e);for(e in t);return e===undefined||dt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,s=0;if(i(t))for(n=t.length;s<n&&!1!==e.call(t[s],s,t[s]);s++);else for(s in t)if(!1===e.call(t[s],s,t[s]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(at)return at.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;n<i;)t[s++]=e[n++];if(i!==i)for(;e[n]!==undefined;)t[s++]=e[n++];return t.length=s,t},grep:function(t,e,i){for(var n=[],s=0,r=t.length,o=!i;s<r;s++)!e(t[s],s)!==o&&n.push(t[s]);return n},map:function(t,e,n){var s,r,o=0,a=[];if(i(t))for(s=t.length;o<s;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return rt.apply([],a)},guid:1,proxy:function(t,e){var i,n,s;return"string"==typeof e&&(s=t[e],e=t,t=s),pt.isFunction(t)?(i=st.call(arguments,2),n=function(){return t.apply(e||this,i.concat(st.call(arguments)))},n.guid=t.guid=t.guid||pt.guid++,n):undefined},now:function(){return+new Date},support:ht}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=it[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var bt=function(t){function e(t,e,i,n){var s,r,o,a,l,c,h,p,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:q)!==A&&j(e),e=e||A,F)){if(11!==g&&(c=vt.exec(t)))if(s=c[1]){if(9===g){if(!(o=e.getElementById(s)))return i;if(o.id===s)return i.push(o),i}else if(f&&(o=f.getElementById(s))&&O(e,o)&&o.id===s)return i.push(o),i}else{if(c[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((s=c[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(s)),i}if(_.qsa&&!G[t+" "]&&(!P||!P.test(t))){if(1!==g)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(yt,"\\$&"):e.setAttribute("id",a=H),h=k(t),r=h.length,l=ut.test(a)?"#"+a:"[id='"+a+"']";r--;)h[r]=l+" "+u(h[r]);p=h.join(","),f=bt.test(t)&&d(e.parentNode)||e}if(p)try{return Z.apply(i,f.querySelectorAll(p)),i}catch(t){}finally{a===H&&e.removeAttribute("id")}}}return S(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[H]=!0,t}function s(t){var e=A.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var s,r=t([],i.length,e),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function u(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,s=i&&"parentNode"===n,r=z++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r)}:function(e,i,o){var a,l,c,d=[L,r];if(o){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(c=e[H]||(e[H]={}),l=c[e.uniqueID]||(c[e.uniqueID]={}),(a=l[n])&&a[0]===L&&a[1]===r)return d[2]=a[2];if(l[n]=d,d[2]=t(e,i,o))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var s=0,r=i.length;s<r;s++)e(t,i[s],n);return n}function m(t,e,i,n,s){for(var r,o=[],a=0,l=t.length,c=null!=e;a<l;a++)(r=t[a])&&(i&&!i(r,n,s)||(o.push(r),c&&e.push(a)));return o}function v(t,e,i,s,r,o){return s&&!s[H]&&(s=v(s)),r&&!r[H]&&(r=v(r,o)),n(function(n,o,a,l){var c,d,h,u=[],p=[],f=o.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),b=!t||!n&&e?v:m(v,u,t,a,l),y=i?r||(n?t:f||s)?[]:o:b;if(i&&i(b,y,a,l),s)for(c=m(y,p),s(c,[],a,l),d=c.length;d--;)(h=c[d])&&(y[p[d]]=!(b[p[d]]=h));if(n){if(r||t){if(r){for(c=[],d=y.length;d--;)(h=y[d])&&c.push(b[d]=h);r(null,y=[],c,l)}for(d=y.length;d--;)(h=y[d])&&(c=r?tt(n,h):u[d])>-1&&(n[c]=!(o[c]=h))}}else y=m(y===o?y.splice(f,y.length):y),r?r(null,o,y,l):Z.apply(o,y)})}function b(t){for(var e,i,n,s=t.length,r=x.relative[t[0].type],o=r||x.relative[" "],a=r?1:0,l=p(function(t){return t===e},o,!0),c=p(function(t){return tt(e,t)>-1},o,!0),d=[function(t,i,n){var s=!r&&(n||i!==T)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,s}];a<s;a++)if(i=x.relative[t[a].type])d=[p(f(d),i)];else{if(i=x.filter[t[a].type].apply(null,t[a].matches),i[H]){for(n=++a;n<s&&!x.relative[t[n].type];n++);return v(a>1&&f(d),a>1&&u(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&b(t.slice(a,n)),n<s&&b(t=t.slice(n)),n<s&&u(t))}d.push(i)}return f(d)}function y(t,i){var s=i.length>0,r=t.length>0,o=function(n,o,a,l,c){var d,h,u,p=0,f="0",g=n&&[],v=[],b=T,y=n||r&&x.find.TAG("*",c),w=L+=null==b?1:Math.random()||.1,_=y.length;for(c&&(T=o===A||o||c);f!==_&&null!=(d=y[f]);f++){if(r&&d){for(h=0,o||d.ownerDocument===A||(j(d),a=!F);u=t[h++];)if(u(d,o||A,a)){l.push(d);break}c&&(L=w)}s&&((d=!u&&d)&&p--,n&&g.push(d))}if(p+=f,s&&f!==p){for(h=0;u=i[h++];)u(g,v,o,a);if(n){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=K.call(l));v=m(v)}Z.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return c&&(L=w,T=b),g};return s?n(o):o}var w,_,x,C,$,k,D,S,T,I,E,j,A,M,F,P,R,N,O,H="sizzle"+1*new Date,q=t.document,L=0,z=0,B=i(),W=i(),G=i(),U=function(t,e){return t===e&&(E=!0),0},Y=1<<31,V={}.hasOwnProperty,X=[],K=X.pop,Q=X.push,Z=X.push,J=X.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",ot=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(rt),ut=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,yt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),_t=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=function(){j()};try{Z.apply(X=J.call(q.childNodes),q.childNodes),X[q.childNodes.length].nodeType}catch(t){Z={apply:X.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}_=e.support={},$=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},j=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,M=A.documentElement,F=!$(A),(i=A.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),_.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=s(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=mt.test(A.getElementsByClassName),_.getById=s(function(t){return M.appendChild(t).id=H,!A.getElementsByName||!A.getElementsByName(H).length}),_.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&F){var i=e.getElementById(t);return i?[i]:[]}},x.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),x.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},x.find.CLASS=_.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&F)return e.getElementsByClassName(t)},R=[],P=[],(_.qsa=mt.test(A.querySelectorAll))&&(s(function(t){M.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||P.push(".#.+[+~]")}),s(function(t){var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(_.matchesSelector=mt.test(N=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&s(function(t){_.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),R.push("!=",rt)}),P=P.length&&new RegExp(P.join("|")),R=R.length&&new RegExp(R.join("|")),e=mt.test(M.compareDocumentPosition),O=e||mt.test(M.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return E=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!_.sortDetached&&e.compareDocumentPosition(t)===i?t===A||t.ownerDocument===q&&O(q,t)?-1:e===A||e.ownerDocument===q&&O(q,e)?1:I?tt(I,t)-tt(I,e):0:4&i?-1:1)}:function(t,e){if(t===e)return E=!0,0;var i,n=0,s=t.parentNode,r=e.parentNode,a=[t],l=[e];if(!s||!r)return t===A?-1:e===A?1:s?-1:r?1:I?tt(I,t)-tt(I,e):0;if(s===r)return o(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?o(a[n],l[n]):a[n]===q?-1:l[n]===q?1:0},A):A},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==A&&j(t),i=i.replace(dt,"='$1']"),_.matchesSelector&&F&&!G[i+" "]&&(!R||!R.test(i))&&(!P||!P.test(i)))try{var n=N.call(t,i);if(n||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&j(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&j(t);var i=x.attrHandle[e.toLowerCase()],n=i&&V.call(x.attrHandle,e.toLowerCase())?i(t,e,!F):undefined;return n!==undefined?n:_.attributes||!F?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,s=0;if(E=!_.detectDuplicates,I=!_.sortStable&&t.slice(0),t.sort(U),E){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return I=null,t},C=e.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=C(e);return i},x=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=k(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(s){var r=e.attr(s,t);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ot," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,s){var r="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,l){var c,d,h,u,p,f,g=r!==o?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(r){for(;g;){for(u=e;u=u[g];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&b){for(u=m,h=u[H]||(u[H]={}),d=h[u.uniqueID]||(h[u.uniqueID]={}),c=d[t]||[],p=c[0]===L&&c[1],y=p&&c[2],u=p&&m.childNodes[p];u=++p&&u&&u[g]||(y=p=0)||f.pop();)if(1===u.nodeType&&++y&&u===e){d[t]=[L,p,y];break}}else if(b&&(u=e,h=u[H]||(u[H]={}),d=h[u.uniqueID]||(h[u.uniqueID]={}),c=d[t]||[],p=c[0]===L&&c[1],y=p),!1===y)for(;(u=++p&&u&&u[g]||(y=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++y||(b&&(h=u[H]||(u[H]={}),d=h[u.uniqueID]||(h[u.uniqueID]={}),d[t]=[L,y]),u!==e)););return(y-=s)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,i){var s,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[H]?r(i):r.length>1?(s=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,s=r(t,i),o=s.length;o--;)n=tt(t,s[o]),t[n]=!(e[n]=s[o])
}):function(t){return r(t,0,s)}):r}},pseudos:{not:n(function(t){var e=[],i=[],s=D(t.replace(at,"$1"));return s[H]?n(function(t,e,i,n){for(var r,o=s(t,null,n,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,s(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(wt,_t),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:n(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,_t).toLowerCase(),function(e){var i;do{if(i=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[i<0?i+e:i]}),even:c(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,k=e.tokenize=function(t,i){var n,s,r,o,a,l,c,d=W[t+" "];if(d)return i?0:d.slice(0);for(a=t,l=[],c=x.preFilter;a;){n&&!(s=lt.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(r=[])),n=!1,(s=ct.exec(a))&&(n=s.shift(),r.push({value:n,type:s[0].replace(at," ")}),a=a.slice(n.length));for(o in x.filter)!(s=pt[o].exec(a))||c[o]&&!(s=c[o](s))||(n=s.shift(),r.push({value:n,type:o,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):W(t,l).slice(0)},D=e.compile=function(t,e){var i,n=[],s=[],r=G[t+" "];if(!r){for(e||(e=k(t)),i=e.length;i--;)r=b(e[i]),r[H]?n.push(r):s.push(r);r=G(t,y(s,n)),r.selector=t}return r},S=e.select=function(t,e,i,n){var s,r,o,a,l,c="function"==typeof t&&t,h=!n&&k(t=c.selector||t);if(i=i||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&_.getById&&9===e.nodeType&&F&&x.relative[r[1].type]){if(!(e=(x.find.ID(o.matches[0].replace(wt,_t),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(s=pt.needsContext.test(t)?0:r.length;s--&&(o=r[s],!x.relative[a=o.type]);)if((l=x.find[a])&&(n=l(o.matches[0].replace(wt,_t),bt.test(r[0].type)&&d(e.parentNode)||e))){if(r.splice(s,1),!(t=n.length&&u(r)))return Z.apply(i,n),i;break}}return(c||D(t,h))(n,e,!F,i,!e||bt.test(t)&&d(e.parentNode)||e),i},_.sortStable=H.split("").sort(U).join("")===H,_.detectDuplicates=!!E,j(),_.sortDetached=s(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);pt.find=bt,pt.expr=bt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=bt.uniqueSort,pt.text=bt.getText,pt.isXMLDoc=bt.isXML,pt.contains=bt.contains;var yt=function(t,e,i){for(var n=[],s=i!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&pt(t).is(i))break;n.push(t)}return n},wt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},_t=pt.expr.match.needsContext,xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ct=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?pt.find.matchesSelector(n,t)?[n]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,i=[],n=this,s=n.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<s;e++)if(pt.contains(n[e],this))return!0}));for(e=0;e<s;e++)pt.find(t,n[e],i);return i=this.pushStack(s>1?pt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&_t.test(t)?pt(t):t||[],!1).length}});var $t,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(pt.fn.init=function(t,e,i){var n,s;if(!t)return this;if(i=i||$t,"string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:kt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),xt.test(n[1])&&pt.isPlainObject(e))for(n in e)pt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((s=nt.getElementById(n[2]))&&s.parentNode){if(s.id!==n[2])return $t.find(t);this.length=1,this[0]=s}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof i.ready?i.ready(t):t(pt):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))}).prototype=pt.fn,$t=pt(nt);var Dt=/^(?:parents|prev(?:Until|All))/,St={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,i=pt(t,this),n=i.length;return this.filter(function(){for(e=0;e<n;e++)if(pt.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,r=[],o=_t.test(t)||"string"!=typeof t?pt(t,e||this.context):0;n<s;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&pt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?pt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,i){return yt(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,i){return yt(t,"nextSibling",i)},prevUntil:function(t,e,i){return yt(t,"previousSibling",i)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(i,n){var s=pt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=pt.filter(n,s)),this.length>1&&(St[t]||(s=pt.uniqueSort(s)),Dt.test(t)&&(s=s.reverse())),this.pushStack(s)}});var Tt=/\S+/g;pt.Callbacks=function(t){t="string"==typeof t?r(t):pt.extend({},t);var e,i,n,s,o=[],a=[],l=-1,c=function(){for(s=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)!1===o[l].apply(i[0],i[1])&&t.stopOnFalse&&(l=o.length,i=!1);t.memory||(i=!1),e=!1,s&&(o=i?[]:"")},d={add:function(){return o&&(i&&!e&&(l=o.length-1,a.push(i)),function e(i){pt.each(i,function(i,n){pt.isFunction(n)?t.unique&&d.has(n)||o.push(n):n&&n.length&&"string"!==pt.type(n)&&e(n)})}(arguments),i&&!e&&c()),this},remove:function(){return pt.each(arguments,function(t,e){for(var i;(i=pt.inArray(e,o,i))>-1;)o.splice(i,1),i<=l&&l--}),this},has:function(t){return t?pt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return s=!0,i||d.disable(),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(i){pt.each(e,function(e,r){var o=pt.isFunction(t[e])&&t[e];s[r[1]](function(){var t=o&&o.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,n):n}},s={};return n.pipe=n.then,pt.each(e,function(t,r){var o=r[2],a=r[3];n[r[1]]=o.add,a&&o.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=o.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,r=st.call(arguments),o=r.length,a=1!==o||t&&pt.isFunction(t.promise)?o:0,l=1===a?t:pt.Deferred(),c=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?st.call(arguments):s,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);s<o;s++)r[s]&&pt.isFunction(r[s].promise)?r[s].promise().progress(c(s,i,e)).done(c(s,n,r)).fail(l.reject):--a;return a||l.resolveWith(n,r),l.promise()}});var It;pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(!0===t?--pt.readyWait:pt.isReady)||(pt.isReady=!0,!0!==t&&--pt.readyWait>0||(It.resolveWith(nt,[pt]),pt.fn.triggerHandler&&(pt(nt).triggerHandler("ready"),pt(nt).off("ready"))))}}),pt.ready.promise=function(e){if(!It)if(It=pt.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)t.setTimeout(pt.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{nt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(t){}i&&i.doScroll&&function e(){if(!pt.isReady){try{i.doScroll("left")}catch(i){return t.setTimeout(e,50)}o(),pt.ready()}}()}return It.promise(e)},pt.ready.promise();var Et;for(Et in pt(ht))break;ht.ownFirst="0"===Et,ht.inlineBlockNeedsLayout=!1,pt(function(){var t,e,i,n;(i=nt.getElementsByTagName("body")[0])&&i.style&&(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ht.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");ht.deleteExpando=!0;try{delete t.test}catch(t){ht.deleteExpando=!1}t=null}();var jt=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||!0!==e&&t.getAttribute("classid")===e)},At=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Mt=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando])&&!c(t)},data:function(t,e,i){return d(t,e,i)},removeData:function(t,e){return h(t,e)},_data:function(t,e,i){return d(t,e,i,!0)},_removeData:function(t,e){return h(t,e,!0)}}),pt.fn.extend({data:function(t,e){var i,n,s,r=this[0],o=r&&r.attributes;if(t===undefined){if(this.length&&(s=pt.data(r),1===r.nodeType&&!pt._data(r,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=pt.camelCase(n.slice(5)),l(r,n,s[n])));pt._data(r,"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){pt.data(this,t)}):arguments.length>1?this.each(function(){pt.data(this,t,e)}):r?l(r,t,pt.data(r,t)):undefined},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=pt._data(t,e),i&&(!n||pt.isArray(i)?n=pt._data(t,e,pt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=pt.queue(t,e),n=i.length,s=i.shift(),r=pt._queueHooks(t,e),o=function(){pt.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete r.stop,s.call(t,o,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return pt._data(t,i)||pt._data(t,i,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,i)})})}}),pt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?pt.queue(this[0],t):e===undefined?this:this.each(function(){var i=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=pt.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";o--;)(i=pt._data(r[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(e)}}),function(){var t;ht.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return(i=nt.getElementsByTagName("body")[0])&&i.style?(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(nt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var Ft=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=new RegExp("^(?:([+-])=|)("+Ft+")([a-z%]*)$","i"),Rt=["Top","Right","Bottom","Left"],Nt=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},Ot=function(t,e,i,n,s,r,o){var a=0,l=t.length,c=null==i;if("object"===pt.type(i)){s=!0;for(a in i)Ot(t,e,a,i[a],!0,r,o)}else if(n!==undefined&&(s=!0,pt.isFunction(n)||(o=!0),c&&(o?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(pt(t),i)})),e))for(;a<l;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return s?t:c?e.call(t):l?e(t[0],i):r},Ht=/^(?:checkbox|radio)$/i,qt=/<([\w:-]+)/,Lt=/^$|\/(?:java|ecma)script/i,zt=/^\s+/,Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=nt.createElement("div"),e=nt.createDocumentFragment(),i=nt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ht.leadingWhitespace=3===t.firstChild.nodeType,ht.tbody=!t.getElementsByTagName("tbody").length,ht.htmlSerialize=!!t.getElementsByTagName("link").length,ht.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),ht.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ht.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.noCloneEvent=!!t.addEventListener,t[pt.expando]=1,ht.attributes=!t.getAttribute(pt.expando)}();var Wt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ht.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Wt.optgroup=Wt.option,Wt.tbody=Wt.tfoot=Wt.colgroup=Wt.caption=Wt.thead,Wt.th=Wt.td;var Gt=/<|&#?\w+;/,Ut=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ht[e]=i in t)||(n.setAttribute(i,"t"),ht[e]=!1===n.attributes[i].expando);n=null}();var Yt=/^(?:input|select|textarea)$/i,Vt=/^key/,Xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^(?:focusinfocus|focusoutblur)$/,Qt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,i,n,s){var r,o,a,l,c,d,h,u,p,f,g,m=pt._data(t);if(m){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=pt.guid++),(o=m.events)||(o=m.events={}),(d=m.handle)||(d=m.handle=function(t){return void 0===pt||t&&pt.event.triggered===t.type?undefined:pt.event.dispatch.apply(d.elem,arguments)},d.elem=t),e=(e||"").match(Tt)||[""],a=e.length;a--;)r=Qt.exec(e[a])||[],p=g=r[1],f=(r[2]||"").split(".").sort(),p&&(c=pt.event.special[p]||{},p=(s?c.delegateType:c.bindType)||p,c=pt.event.special[p]||{},h=pt.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&pt.expr.match.needsContext.test(s),namespace:f.join(".")},l),(u=o[p])||(u=o[p]=[],u.delegateCount=0,c.setup&&!1!==c.setup.call(t,n,f,d)||(t.addEventListener?t.addEventListener(p,d,!1):t.attachEvent&&t.attachEvent("on"+p,d))),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),s?u.splice(u.delegateCount++,0,h):u.push(h),pt.event.global[p]=!0);t=null}},remove:function(t,e,i,n,s){var r,o,a,l,c,d,h,u,p,f,g,m=pt.hasData(t)&&pt._data(t);if(m&&(d=m.events)){for(e=(e||"").match(Tt)||[""],c=e.length;c--;)if(a=Qt.exec(e[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=pt.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,u=d[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=u.length;r--;)o=u[r],!s&&g!==o.origType||i&&i.guid!==o.guid||a&&!a.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(u.splice(r,1),o.selector&&u.delegateCount--,h.remove&&h.remove.call(t,o));l&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,f,m.handle)||pt.removeEvent(t,p,m.handle),delete d[p])}else for(p in d)pt.event.remove(t,p+e[c],i,n,!0);pt.isEmptyObject(d)&&(delete m.handle,pt._removeData(t,"events"))}},trigger:function(e,i,n,s){var r,o,a,l,c,d,h,u=[n||nt],p=dt.call(e,"type")?e.type:e,f=dt.call(e,"namespace")?e.namespace.split("."):[];if(a=d=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Kt.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),o=p.indexOf(":")<0&&"on"+p,e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e),e.isTrigger=s?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),i=null==i?[e]:pt.makeArray(i,[e]),c=pt.event.special[p]||{},s||!c.trigger||!1!==c.trigger.apply(n,i))){if(!s&&!c.noBubble&&!pt.isWindow(n)){for(l=c.delegateType||p,Kt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)u.push(a),d=a;d===(n.ownerDocument||nt)&&u.push(d.defaultView||d.parentWindow||t)}for(h=0;(a=u[h++])&&!e.isPropagationStopped();)e.type=h>1?l:c.bindType||p,r=(pt._data(a,"events")||{})[e.type]&&pt._data(a,"handle"),r&&r.apply(a,i),(r=o&&a[o])&&r.apply&&jt(a)&&(e.result=r.apply(a,i),!1===e.result&&e.preventDefault());if(e.type=p,!s&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(u.pop(),i))&&jt(n)&&o&&n[p]&&!pt.isWindow(n)){d=n[o],d&&(n[o]=null),pt.event.triggered=p;try{n[p]()}catch(t){}pt.event.triggered=undefined,d&&(n[o]=d)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,i,n,s,r,o=[],a=st.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],c=pt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(o=pt.event.handlers.call(this,t,l),e=0;(s=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,(n=((pt.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,a))!==undefined&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,r,o=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<a;i++)r=e[i],s=r.selector+" ",n[s]===undefined&&(n[s]=r.needsContext?pt(s,this).index(l)>-1:pt.find(s,this,null,[l]).length),n[s]&&n.push(r);n.length&&o.push({elem:l,handlers:n})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},fix:function(t){if(t[pt.expando])return t;var e,i,n,s=t.type,r=t,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=Xt.test(s)?this.mouseHooks:Vt.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,t=new pt.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=r.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,r=e.button,o=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||nt,s=n.documentElement,i=n.body,t.pageX=e.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?e.toElement:o),t.which||r===undefined||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=pt.extend(new pt.Event,i,{type:t,isSimulated:!0});pt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},pt.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},pt.Event=function(t,e){if(!(this instanceof pt.Event))return new pt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?b:y):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),this[pt.expando]=!0},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,r=t.handleObj;return s&&(s===n||pt.contains(n,s))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),ht.submit||(pt.event.special.submit={setup:function(){if(pt.nodeName(this,"form"))return!1;pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):undefined;i&&!pt._data(i,"submit")&&(pt.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),pt._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){if(pt.nodeName(this,"form"))return!1;pt.event.remove(this,"._submit")}}),ht.change||(pt.event.special.change={setup:function(){if(Yt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1;pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Yt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return pt.event.remove(this,"._change"),!Yt.test(this.nodeName)}}),ht.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=pt._data(n,e);s||n.addEventListener(t,i,!0),pt._data(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=pt._data(n,e)-1;s?pt._data(n,e,s):(n.removeEventListener(t,i,!0),pt._removeData(n,e))}}}),pt.fn.extend({on:function(t,e,i,n){return _(this,t,e,i,n)},one:function(t,e,i,n){return _(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,pt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=undefined),!1===i&&(i=y),this.each(function(){pt.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return pt.event.trigger(t,e,i,!0)}});var Zt=/ jQuery\d+="(?:null|\d+)"/g,Jt=new RegExp("<(?:"+Bt+")[\\s/>]","i"),te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,re=p(nt),oe=re.appendChild(nt.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,i){var n,s,r,o,a,l=pt.contains(t.ownerDocument,t);if(ht.html5Clone||pt.isXMLDoc(t)||!Jt.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(oe.innerHTML=t.outerHTML,oe.removeChild(r=oe.firstChild)),!(ht.noCloneEvent&&ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(n=f(r),a=f(t),o=0;null!=(s=a[o]);++o)n[o]&&D(s,n[o]);if(e)if(i)for(a=a||f(t),n=n||f(r),o=0;null!=(s=a[o]);o++)k(s,n[o]);else k(t,r);return n=f(r,"script"),n.length>0&&g(n,!l&&f(t,"script")),n=a=s=null,r},cleanData:function(t,e){for(var i,n,s,r,o=0,a=pt.expando,l=pt.cache,c=ht.attributes,d=pt.event.special;null!=(i=t[o]);o++)if((e||jt(i))&&(s=i[a],r=s&&l[s])){if(r.events)for(n in r.events)d[n]?pt.event.remove(i,n):pt.removeEvent(i,n,r.handle);l[s]&&(delete l[s],c||"undefined"==typeof i.removeAttribute?i[a]=undefined:i.removeAttribute(a),it.push(s))}}}),pt.fn.extend({domManip:S,detach:function(t){return T(this,t,!0)},remove:function(t){return T(this,t)},text:function(t){return Ot(this,function(t){return t===undefined?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return S(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){x(this,t).appendChild(t)}})},prepend:function(){return S(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return S(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return S(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},i=0,n=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(Zt,""):undefined;if("string"==typeof t&&!ee.test(t)&&(ht.htmlSerialize||!Jt.test(t))&&(ht.leadingWhitespace||!zt.test(t))&&!Wt[(qt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(pt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return S(this,arguments,function(e){var i=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(f(this)),i&&i.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var i,n=0,s=[],r=pt(t),o=r.length-1;n<=o;n++)i=n===o?this:this.clone(!0),pt(r[n])[e](i),ot.apply(s,i.get());return this.pushStack(s)}});var ae,le={HTML:"block",BODY:"block"},ce=/^margin/,de=new RegExp("^("+Ft+")(?!px)[a-z%]+$","i"),he=function(t,e,i,n){var s,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];s=i.apply(t,n||[]);for(r in e)t.style[r]=o[r];return s},ue=nt.documentElement;!function(){function e(){var e,d,h=nt.documentElement;h.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=s=a=!1,n=o=!0,t.getComputedStyle&&(d=t.getComputedStyle(c),i="1%"!==(d||{}).top,a="2px"===(d||{}).marginLeft,s="4px"===(d||{width:"4px"}).width,c.style.marginRight="50%",n="4px"===(d||{marginRight:"4px"}).marginRight,e=c.appendChild(nt.createElement("div")),e.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",o=!parseFloat((t.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",r=0===c.getClientRects().length,r&&(c.style.display="",
c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",e=c.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),h.removeChild(l)}var i,n,s,r,o,a,l=nt.createElement("div"),c=nt.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ht.opacity="0.5"===c.style.opacity,ht.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===c.style.backgroundClip,l=nt.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),ht.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,pt.extend(ht,{reliableHiddenOffsets:function(){return null==i&&e(),r},boxSizingReliable:function(){return null==i&&e(),s},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),o},reliableMarginLeft:function(){return null==i&&e(),a}}))}();var pe,fe,ge=/^(top|right|bottom|left)$/;t.getComputedStyle?(pe=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},fe=function(t,e,i){var n,s,r,o,a=t.style;return i=i||pe(t),o=i?i.getPropertyValue(e)||i[e]:undefined,""!==o&&o!==undefined||pt.contains(t.ownerDocument,t)||(o=pt.style(t,e)),i&&!ht.pixelMarginRight()&&de.test(o)&&ce.test(e)&&(n=a.width,s=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=s,a.maxWidth=r),o===undefined?o:o+""}):ue.currentStyle&&(pe=function(t){return t.currentStyle},fe=function(t,e,i){var n,s,r,o,a=t.style;return i=i||pe(t),o=i?i[e]:undefined,null==o&&a&&a[e]&&(o=a[e]),de.test(o)&&!ge.test(e)&&(n=a.left,s=t.runtimeStyle,r=s&&s.left,r&&(s.left=t.currentStyle.left),a.left="fontSize"===e?"1em":o,o=a.pixelLeft+"px",a.left=n,r&&(s.left=r)),o===undefined?o:o+""||"auto"});var me=/alpha\([^)]*\)/i,ve=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,ye=new RegExp("^("+Ft+")(.*)$","i"),we={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:"0",fontWeight:"400"},xe=["Webkit","O","Moz","ms"],Ce=nt.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=fe(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ht.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,o,a=pt.camelCase(e),l=t.style;if(e=pt.cssProps[a]||(pt.cssProps[a]=A(a)||a),o=pt.cssHooks[e]||pt.cssHooks[a],i===undefined)return o&&"get"in o&&(s=o.get(t,!1,n))!==undefined?s:l[e];if(r=typeof i,"string"===r&&(s=Pt.exec(i))&&s[1]&&(i=u(t,e,s),r="number"),null!=i&&i===i&&("number"===r&&(i+=s&&s[3]||(pt.cssNumber[a]?"":"px")),ht.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(o&&"set"in o&&(i=o.set(t,i,n))===undefined)))try{l[e]=i}catch(t){}}},css:function(t,e,i,n){var s,r,o,a=pt.camelCase(e);return e=pt.cssProps[a]||(pt.cssProps[a]=A(a)||a),o=pt.cssHooks[e]||pt.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,i)),r===undefined&&(r=fe(t,e,n)),"normal"===r&&e in _e&&(r=_e[e]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,i,n){if(i)return be.test(pt.css(t,"display"))&&0===t.offsetWidth?he(t,we,function(){return R(t,e,n)}):R(t,e,n)},set:function(t,i,n){var s=n&&pe(t);return F(t,i,n?P(t,e,n,ht.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,s),s):0)}}}),ht.opacity||(pt.cssHooks.opacity={get:function(t,e){return ve.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===pt.trim(r.replace(me,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=me.test(r)?r.replace(me,s):r+" "+s)}}),pt.cssHooks.marginRight=j(ht.reliableMarginRight,function(t,e){if(e)return he(t,{display:"inline-block"},fe,[t,"marginRight"])}),pt.cssHooks.marginLeft=j(ht.reliableMarginLeft,function(t,e){if(e)return(parseFloat(fe(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-he(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];n<4;n++)s[t+Rt[n]+e]=r[n]||r[n-2]||r[0];return s}},ce.test(t)||(pt.cssHooks[t+e].set=F)}),pt.fn.extend({css:function(t,e){return Ot(this,function(t,e,i){var n,s,r={},o=0;if(pt.isArray(e)){for(n=pe(t),s=e.length;o<s;o++)r[e[o]]=pt.css(t,e[o],!1,n);return r}return i!==undefined?pt.style(t,e,i):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Nt(this)?pt(this).show():pt(this).hide()})}}),pt.Tween=N,N.prototype={constructor:N,init:function(t,e,i,n,s,r){this.elem=t,this.prop=i,this.easing=s||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(pt.cssNumber[i]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,i=N.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=N.prototype.init,pt.fx.step={};var $e,ke,De=/^(?:toggle|show|hide)$/,Se=/queueHooks$/;pt.Animation=pt.extend(B,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return u(i.elem,t,Pt.exec(e),i),i}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Tt);for(var i,n=0,s=t.length;n<s;n++)i=t[n],B.tweeners[i]=B.tweeners[i]||[],B.tweeners[i].unshift(e)},prefilters:[L],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),pt.speed=function(t,e,i){var n=t&&"object"==typeof t?pt.extend({},t):{complete:i||!i&&e||pt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!pt.isFunction(e)&&e};return n.duration=pt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in pt.fx.speeds?pt.fx.speeds[n.duration]:pt.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){pt.isFunction(n.old)&&n.old.call(this),n.queue&&pt.dequeue(this,n.queue)},n},pt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=pt.isEmptyObject(t),r=pt.speed(e,i,n),o=function(){var e=B(this,pt.extend({},t),r);(s||pt._data(this,"finish"))&&e.stop(!0)};return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",r=pt.timers,o=pt._data(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&Se.test(s)&&n(o[s]);for(s=r.length;s--;)r[s].elem!==this||null!=t&&r[s].queue!==t||(r[s].anim.stop(i),e=!1,r.splice(s,1));!e&&i||pt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=pt._data(this),n=i[t+"queue"],s=i[t+"queueHooks"],r=pt.timers,o=n?n.length:0;for(i.finish=!0,pt.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var i=pt.fn[e];pt.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(H(e,!0),t,n,s)}}),pt.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,i=0;for($e=pt.now();i<e.length;i++)(t=e[i])()||e[i]!==t||e.splice(i--,1);e.length||pt.fx.stop(),$e=undefined},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){ke||(ke=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(ke),ke=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,i){return e=pt.fx?pt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var s=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(s)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),s=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),t=i.getElementsByTagName("a")[0],t.style.cssText="top:1px",ht.getSetAttribute="t"!==i.className,ht.style=/top/.test(t.getAttribute("style")),ht.hrefNormalized="/a"===t.getAttribute("href"),ht.checkOn=!!e.value,ht.optSelected=s.selected,ht.enctype=!!nt.createElement("form").enctype,n.disabled=!0,ht.optDisabled=!s.disabled,e=nt.createElement("input"),e.setAttribute("value",""),ht.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ht.radioValue="t"===e.value}();var Te=/\r/g,Ie=/[\x20\t\r\n\f]+/g;pt.fn.extend({val:function(t){var e,i,n,s=this[0];{if(arguments.length)return n=pt.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=n?t.call(this,i,pt(this).val()):t,null==s?s="":"number"==typeof s?s+="":pt.isArray(s)&&(s=pt.map(s,function(t){return null==t?"":t+""})),(e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,s,"value")!==undefined||(this.value=s))});if(s)return(e=pt.valHooks[s.type]||pt.valHooks[s.nodeName.toLowerCase()])&&"get"in e&&(i=e.get(s,"value"))!==undefined?i:(i=s.value,"string"==typeof i?i.replace(Te,""):null==i?"":i)}}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t)).replace(Ie," ")}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,r="select-one"===t.type||s<0,o=r?null:[],a=r?s+1:n.length,l=s<0?a:r?s:0;l<a;l++)if(i=n[l],(i.selected||l===s)&&(ht.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!pt.nodeName(i.parentNode,"optgroup"))){if(e=pt(i).val(),r)return e;o.push(e)}return o},set:function(t,e){for(var i,n,s=t.options,r=pt.makeArray(e),o=s.length;o--;)if(n=s[o],pt.inArray(pt.valHooks.option.get(n),r)>-1)try{n.selected=i=!0}catch(t){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),s}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(pt.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>-1}},ht.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ee,je,Ae=pt.expr.attrHandle,Me=/^(?:checked|selected)$/i,Fe=ht.getSetAttribute,Pe=ht.input;pt.fn.extend({attr:function(t,e){return Ot(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?pt.prop(t,e,i):(1===r&&pt.isXMLDoc(t)||(e=e.toLowerCase(),s=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?je:Ee)),i!==undefined?null===i?void pt.removeAttr(t,e):s&&"set"in s&&(n=s.set(t,i,e))!==undefined?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:(n=pt.find.attr(t,e),null==n?undefined:n))},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,s=0,r=e&&e.match(Tt);if(r&&1===t.nodeType)for(;i=r[s++];)n=pt.propFix[i]||i,pt.expr.match.bool.test(i)?Pe&&Fe||!Me.test(i)?t[n]=!1:t[pt.camelCase("default-"+i)]=t[n]=!1:pt.attr(t,i,""),t.removeAttribute(Fe?i:n)}}),je={set:function(t,e,i){return!1===e?pt.removeAttr(t,i):Pe&&Fe||!Me.test(i)?t.setAttribute(!Fe&&pt.propFix[i]||i,i):t[pt.camelCase("default-"+i)]=t[i]=!0,i}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Ae[e]||pt.find.attr;Pe&&Fe||!Me.test(e)?Ae[e]=function(t,e,n){var s,r;return n||(r=Ae[e],Ae[e]=s,s=null!=i(t,e,n)?e.toLowerCase():null,Ae[e]=r),s}:Ae[e]=function(t,e,i){if(!i)return t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),Pe&&Fe||(pt.attrHooks.value={set:function(t,e,i){if(!pt.nodeName(t,"input"))return Ee&&Ee.set(t,e,i);t.defaultValue=e}}),Fe||(Ee={set:function(t,e,i){var n=t.getAttributeNode(i);if(n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i))return e}},Ae.id=Ae.name=Ae.coords=function(t,e,i){var n;if(!i)return(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},pt.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);if(i&&i.specified)return i.value},set:Ee.set},pt.attrHooks.contenteditable={set:function(t,e,i){Ee.set(t,""!==e&&e,i)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]={set:function(t,i){if(""===i)return t.setAttribute(e,"auto"),i}}})),ht.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Re=/^(?:input|select|textarea|button|object)$/i,Ne=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Ot(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(t){}})}}),pt.extend({prop:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,s=pt.propHooks[e]),i!==undefined?s&&"set"in s&&(n=s.set(t,i,e))!==undefined?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):Re.test(t.nodeName)||Ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ht.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),ht.enctype||(pt.propFix.enctype="encoding");var Oe=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,i,n,s,r,o,a,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(Tt)||[];i=this[l++];)if(s=W(i),n=1===i.nodeType&&(" "+s+" ").replace(Oe," ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=pt.trim(n),s!==a&&pt.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,s,r,o,a,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Tt)||[];i=this[l++];)if(s=W(i),n=1===i.nodeType&&(" "+s+" ").replace(Oe," ")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=pt.trim(n),s!==a&&pt.attr(i,"class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(i){pt(this).toggleClass(t.call(this,i,W(this),e),e)}):this.each(function(){var e,n,s,r;if("string"===i)for(n=0,s=pt(this),r=t.match(Tt)||[];e=r[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else t!==undefined&&"boolean"!==i||(e=W(this),e&&pt._data(this,"__className__",e),pt.attr(this,"class",e||!1===t?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+W(i)+" ").replace(Oe," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var He=t.location,qe=pt.now(),Le=/\?/,ze=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,s=pt.trim(e+"");return s&&!pt.trim(s.replace(ze,function(t,e,s,r){return i&&e&&(n=0),0===n?t:(i=s||e,n+=!r-!s,"")}))?Function("return "+s)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new t.DOMParser,i=n.parseFromString(e,"text/xml")):(i=new t.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(t){i=undefined}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),i};var Be=/#.*$/,We=/([?&])_=[^&]*/,Ge=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ue=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ye=/^(?:GET|HEAD)$/,Ve=/^\/\//,Xe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ke={},Qe={},Ze="*/".concat("*"),Je=He.href,ti=Xe.exec(Je.toLowerCase())||[];pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Je,type:"GET",isLocal:Ue.test(ti[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,pt.ajaxSettings),e):Y(pt.ajaxSettings,t)},ajaxPrefilter:G(Ke),ajaxTransport:G(Qe),ajax:function(e,i){function n(e,i,n,s){var r,h,b,y,_,C=i;2!==w&&(w=2,l&&t.clearTimeout(l),d=undefined,a=s||"",x.readyState=e>0?4:0,r=e>=200&&e<300||304===e,n&&(y=V(u,x,n)),y=X(u,y,x,r),r?(u.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(pt.lastModified[o]=_),(_=x.getResponseHeader("etag"))&&(pt.etag[o]=_)),204===e||"HEAD"===u.type?C="nocontent":304===e?C="notmodified":(C=y.state,h=y.data,b=y.error,r=!b)):(b=C,!e&&C||(C="error",e<0&&(e=0))),x.status=e,x.statusText=(i||C)+"",r?g.resolveWith(p,[h,C,x]):g.rejectWith(p,[x,C,b]),x.statusCode(v),v=undefined,c&&f.trigger(r?"ajaxSuccess":"ajaxError",[x,u,r?h:b]),m.fireWith(p,[x,C]),c&&(f.trigger("ajaxComplete",[x,u]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=undefined),i=i||{};var s,r,o,a,l,c,d,h,u=pt.ajaxSetup({},i),p=u.context||u,f=u.context&&(p.nodeType||p.jquery)?pt(p):pt.event,g=pt.Deferred(),m=pt.Callbacks("once memory"),v=u.statusCode||{},b={},y={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!h)for(h={};e=Ge.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return w||(t=y[i]=y[i]||t,b[t]=e),this},overrideMimeType:function(t){return w||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||_;return d&&d.abort(e),n(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||Je)+"").replace(Be,"").replace(Ve,ti[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=pt.trim(u.dataType||"*").toLowerCase().match(Tt)||[""],null==u.crossDomain&&(s=Xe.exec(u.url.toLowerCase()),u.crossDomain=!(!s||s[1]===ti[1]&&s[2]===ti[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(ti[3]||("http:"===ti[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=pt.param(u.data,u.traditional)),U(Ke,u,i,x),2===w)return x;c=pt.event&&u.global,c&&0==pt.active++&&pt.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Ye.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(Le.test(o)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=We.test(o)?o.replace(We,"$1_="+qe++):o+(Le.test(o)?"&":"?")+"_="+qe++)),u.ifModified&&(pt.lastModified[o]&&x.setRequestHeader("If-Modified-Since",pt.lastModified[o]),pt.etag[o]&&x.setRequestHeader("If-None-Match",pt.etag[o])),(u.data&&u.hasContent&&!1!==u.contentType||i.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Ze+"; q=0.01":""):u.accepts["*"]);for(r in u.headers)x.setRequestHeader(r,u.headers[r]);if(u.beforeSend&&(!1===u.beforeSend.call(p,x,u)||2===w))return x.abort();_="abort";for(r in{success:1,error:1,complete:1})x[r](u[r]);if(d=U(Qe,u,i,x)){if(x.readyState=1,c&&f.trigger("ajaxSend",[x,u]),2===w)return x;u.async&&u.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},u.timeout));try{w=1,d.send(b,n)}catch(t){if(!(w<2))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,i){return pt.get(t,e,i,"json")},getScript:function(t,e){return pt.get(t,undefined,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,i,n,s){return pt.isFunction(i)&&(s=s||n,n=i,i=undefined),pt.ajax(pt.extend({url:t,type:e,dataType:s,data:i,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(i){pt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return ht.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Q(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var ei=/%20/g,ii=/\[\]$/,ni=/\r?\n/g,si=/^(?:submit|button|image|reset|file)$/i,ri=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var i,n=[],s=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){s(this.name,this.value)});else for(i in t)Z(i,t[i],e,s);return n.join("&").replace(ei,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&ri.test(this.nodeName)&&!si.test(t)&&(this.checked||!Ht.test(t))}).map(function(t,e){var i=pt(this).val();return null==i?null:pt.isArray(i)?pt.map(i,function(t){return{name:e.name,value:t.replace(ni,"\r\n")}}):{name:e.name,value:i.replace(ni,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=t.ActiveXObject!==undefined?function(){return this.isLocal?tt():nt.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var oi=0,ai={},li=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in ai)ai[t](undefined,!0)}),ht.cors=!!li&&"withCredentials"in li,li=ht.ajax=!!li,li&&pt.ajaxTransport(function(e){if(!e.crossDomain||ht.cors){var i;return{send:function(n,s){var r,o=e.xhr(),a=++oi;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)n[r]!==undefined&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),i=function(t,n){var r,l,c;if(i&&(n||4===o.readyState))if(delete ai[a],i=undefined,o.onreadystatechange=pt.noop,n)4!==o.readyState&&o.abort();else{c={},r=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(t){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=c.text?200:404}c&&s(r,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?t.setTimeout(i):o.onreadystatechange=ai[a]=i:i()},abort:function(){i&&i(undefined,!0)}}}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||pt("head")[0]||nt.documentElement;return{send:function(n,s){e=nt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||s(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(undefined,!0)}}}});var ci=[],di=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ci.pop()||pt.expando+"_"+qe++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,i,n){var s,r,o,a=!1!==e.jsonp&&(di.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&di.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return s=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(di,"$1"+s):!1!==e.jsonp&&(e.url+=(Le.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return o||pt.error(s+" was not called"),o[0]},e.dataTypes[0]="json",r=t[s],t[s]=function(){o=arguments},n.always(function(){r===undefined?pt(t).removeProp(s):t[s]=r,e[s]&&(e.jsonpCallback=i.jsonpCallback,ci.push(s)),o&&pt.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),pt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||nt;var n=xt.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=v([t],e,s),s&&s.length&&pt(s).remove(),pt.merge([],n.childNodes))};var hi=pt.fn.load;pt.fn.load=function(t,e,i){if("string"!=typeof t&&hi)return hi.apply(this,arguments);var n,s,r,o=this,a=t.indexOf(" ");return a>-1&&(n=pt.trim(t.slice(a,t.length)),t=t.slice(0,a)),pt.isFunction(e)?(i=e,e=undefined):e&&"object"==typeof e&&(s="POST"),o.length>0&&pt.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done(function(t){r=arguments,o.html(n?pt("<div>").append(pt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,i){var n,s,r,o,a,l,c,d=pt.css(t,"position"),h=pt(t),u={};"static"===d&&(t.style.position="relative"),a=h.offset(),r=pt.css(t,"top"),l=pt.css(t,"left"),c=("absolute"===d||"fixed"===d)&&pt.inArray("auto",[r,l])>-1,c?(n=h.position(),o=n.top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,i,pt.extend({},a))),null!=e.top&&(u.top=e.top-a.top+o),null!=e.left&&(u.left=e.left-a.left+s),"using"in e?e.using.call(t,u):h.css(u)}},pt.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},s=this[0],r=s&&s.ownerDocument;if(r)return e=r.documentElement,pt.contains(e,s)?("undefined"!=typeof s.getBoundingClientRect&&(n=s.getBoundingClientRect()),i=et(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(i=t.offset()),i.top+=pt.css(t[0],"borderTopWidth",!0),i.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||ue})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);pt.fn[t]=function(n){return Ot(this,function(t,n,s){var r=et(t);if(s===undefined)return r?e in r?r[e]:r.document.documentElement[n]:t[n];r?r.scrollTo(i?pt(r).scrollLeft():s,i?s:pt(r).scrollTop()):t[n]=s},t,n,arguments.length,null)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=j(ht.pixelPosition,function(t,i){if(i)return i=fe(t,e),de.test(i)?pt(t).position()[e]+"px":i})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){pt.fn[n]=function(n,s){var r=arguments.length&&(i||"boolean"!=typeof n),o=i||(!0===n||!0===s?"margin":"border");return Ot(this,function(e,i,n){var s;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):n===undefined?pt.css(e,i,o):pt.style(e,i,n,o)},e,r?n:undefined,r,null)}})}),pt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var ui=t.jQuery,pi=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=pi),e&&t.jQuery===pt&&(t.jQuery=ui),pt},e||(t.jQuery=t.$=pt),pt}),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(t.style[i]!==undefined)return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){
var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){o.detach().trigger("closed.bs.alert").remove()}var s=t(this),r=s.attr("data-target");r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t("#"===r?[]:r);e&&e.preventDefault(),o.length||(o=s.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.button"),r="object"==typeof e&&e;s||n.data("bs.button",s=new i(this,r)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[s]()),setTimeout(t.proxy(function(){n[s](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),o="string"==typeof e?e:r.slide;s||n.data("bs.carousel",s=new i(this,r)),"number"==typeof e?s.to(e):o?s[o]():r.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,n){var s=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,s),o=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,s.addClass(a),r.addClass(a),s.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(s.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var s=function(i){var n,s=t(this),r=t(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var o=t.extend({},r.data(),s.data()),a=s.attr("data-slide-to");a&&(o.interval=!1),e.call(r,o),a&&r.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),s||i.data("bs.collapse",s=new n(this,r)),"string"==typeof e&&s[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(e=s.data("bs.collapse"))&&e.transitioning)){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),e||s.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return s.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var s=t(n);this.addAriaAndCollapsedClass(e(s),s)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var s=t(this);s.attr("data-target")||n.preventDefault();var r=e(s),o=r.data("bs.collapse"),a=o?"toggle":s.data();i.call(r,a)})}(jQuery),function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(s).remove(),t(r).each(function(){var n=t(this),s=e(n),r={relatedTarget:this};s.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(s[0],i.target)||(s.trigger(i=t.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),s.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var s=".dropdown-backdrop",r='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var r=e(s),o=r.hasClass("open");if(i(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var s=e(n),o=s.hasClass("open");if(!o&&27!=i.which||o&&27==i.which)return 27==i.which&&s.find(r).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=s.find(".dropdown-menu"+a);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,n){return this.each(function(){var s=t(this),r=s.data("bs.modal"),o=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);r||s.data("bs.modal",r=new i(this,o)),"string"==typeof e?r[e](n):o.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),s&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});s?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),s=n.attr("href"),r=t(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,o,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(r),e.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(e,n,s){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var o=n.find("> .active"),a=s&&t.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var s=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.affix"),r="object"==typeof e&&e;s||n.data("bs.affix",s=new i(this,r)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),r=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return s<i&&"top";if("bottom"==this.affixed)return null!=i?!(s+this.unpin<=r.top)&&"bottom":!(s+o<=t-n)&&"bottom";var a=null==this.affixed,l=a?s:r.top,c=a?o:e;return null!=i&&s<=i?"top":null!=n&&l+c>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,s=n.top,r=n.bottom,o=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(r=s=n),"function"==typeof s&&(s=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(o,e,s,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),s=n.data("bs.scrollspy"),r="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new e(this,r)),"string"==typeof i&&s[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),s=e.data("target")||e.attr("href"),r=/^#./.test(s)&&t(s);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,r=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return o!=(t=r[r.length-1])&&this.activate(t);if(o&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;)o!=r[t]&&e>=s[t]&&(s[t+1]===undefined||e<s[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),r="object"==typeof e&&e;!s&&/destroy|hide/.test(e)||(s||n.data("bs.tooltip",s=new i(this,r)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),r=s.length;r--;){var o=s[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var s=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),h=r[0].offsetWidth,u=r[0].offsetHeight;if(c){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&d.bottom+u>f.bottom?"top":"top"==a&&d.top-u<f.top?"bottom":"right"==a&&d.right+h>f.width?"left":"left"==a&&d.left-h<f.left?"right":a,r.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,d,h,u);this.applyPlacement(g,a);var m=function(){var t=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==t&&s.leave(s)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),s=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top+=o,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(e.top=e.top+r-c);var d=this.getViewportAdjustedDelta(i,e,l,c);d.left?e.left+=d.left:e.top+=d.top;var h=/top|bottom/.test(i),u=h?2*d.left-s+l:2*d.top-r+c,p=h?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(u,n[0][p],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=s.hoverState&&r.detach(),s.$element&&s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),e&&e()}var s=this,r=t(this.$tip),o=t.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var r=window.SVGElement&&i instanceof window.SVGElement,o=n?{top:0,left:0}:r?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,a,l,o)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{
top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-o.scroll,l=e.top+r-o.scroll+n;a<o.top?s.top=o.top-a:l>o.top+o.height&&(s.top=o.top+o.height-l)}else{var c=e.left-r,d=e.left+r+i;c<o.left?s.left=o.left-c:d>o.right&&(s.left=o.left+o.width-d)}return s},i.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},i.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.popover"),r="object"==typeof e&&e;!s&&/destroy|hide/.test(e)||(s||n.data("bs.popover",s=new i(this,r)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(t.style[i]!==undefined)return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){o.detach().trigger("closed.bs.alert").remove()}var s=t(this),r=s.attr("data-target");r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t("#"===r?[]:r);e&&e.preventDefault(),o.length||(o=s.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.button"),r="object"==typeof e&&e;s||n.data("bs.button",s=new i(this,r)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[s]()),setTimeout(t.proxy(function(){n[s](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),o="string"==typeof e?e:r.slide;s||n.data("bs.carousel",s=new i(this,r)),"number"==typeof e?s.to(e):o?s[o]():r.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,n){var s=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,s),o=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,s.addClass(a),r.addClass(a),s.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(s.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var s=function(i){var n,s=t(this),r=t(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var o=t.extend({},r.data(),s.data()),a=s.attr("data-slide-to");a&&(o.interval=!1),e.call(r,o),a&&r.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),s||i.data("bs.collapse",s=new n(this,r)),"string"==typeof e&&s[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(e=s.data("bs.collapse"))&&e.transitioning)){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),e||s.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return s.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var s=t(n);this.addAriaAndCollapsedClass(e(s),s)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var s=t(this);s.attr("data-target")||n.preventDefault();var r=e(s),o=r.data("bs.collapse"),a=o?"toggle":s.data();i.call(r,a)})}(jQuery),function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(s).remove(),t(r).each(function(){var n=t(this),s=e(n),r={relatedTarget:this};s.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(s[0],i.target)||(s.trigger(i=t.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),s.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var s=".dropdown-backdrop",r='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var r=e(s),o=r.hasClass("open");if(i(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var s=e(n),o=s.hasClass("open");if(!o&&27!=i.which||o&&27==i.which)return 27==i.which&&s.find(r).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=s.find(".dropdown-menu"+a);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,n){return this.each(function(){var s=t(this),r=s.data("bs.modal"),o=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);r||s.data("bs.modal",r=new i(this,o)),"string"==typeof e?r[e](n):o.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),s&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});s?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),s=n.attr("href"),r=t(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,o,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),r="object"==typeof e&&e;!s&&/destroy|hide/.test(e)||(s||n.data("bs.tooltip",s=new i(this,r)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),r=s.length;r--;){var o=s[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var s=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),h=r[0].offsetWidth,u=r[0].offsetHeight;if(c){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&d.bottom+u>f.bottom?"top":"top"==a&&d.top-u<f.top?"bottom":"right"==a&&d.right+h>f.width?"left":"left"==a&&d.left-h<f.left?"right":a,r.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,d,h,u);this.applyPlacement(g,a);var m=function(){var t=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==t&&s.leave(s)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),s=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top+=o,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(e.top=e.top+r-c);var d=this.getViewportAdjustedDelta(i,e,l,c);d.left?e.left+=d.left:e.top+=d.top;var h=/top|bottom/.test(i),u=h?2*d.left-s+l:2*d.top-r+c,p=h?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(u,n[0][p],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=s.hoverState&&r.detach(),s.$element&&s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),e&&e()}var s=this,r=t(this.$tip),o=t.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var r=window.SVGElement&&i instanceof window.SVGElement,o=n?{top:0,left:0}:r?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,a,l,o)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-o.scroll,l=e.top+r-o.scroll+n;a<o.top?s.top=o.top-a:l>o.top+o.height&&(s.top=o.top+o.height-l)}else{var c=e.left-r,d=e.left+r+i;c<o.left?s.left=o.left-c:d>o.right&&(s.left=o.left+o.width-d)}return s},i.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},i.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.popover"),r="object"==typeof e&&e;!s&&/destroy|hide/.test(e)||(s||n.data("bs.popover",s=new i(this,r)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),
i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),s=n.data("bs.scrollspy"),r="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new e(this,r)),"string"==typeof i&&s[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),s=e.data("target")||e.attr("href"),r=/^#./.test(s)&&t(s);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,r=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return o!=(t=r[r.length-1])&&this.activate(t);if(o&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;)o!=r[t]&&e>=s[t]&&(s[t+1]===undefined||e<s[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(r),e.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(e,n,s){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var o=n.find("> .active"),a=s&&t.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var s=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.affix"),r="object"==typeof e&&e;s||n.data("bs.affix",s=new i(this,r)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),r=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return s<i&&"top";if("bottom"==this.affixed)return null!=i?!(s+this.unpin<=r.top)&&"bottom":!(s+o<=t-n)&&"bottom";var a=null==this.affixed,l=a?s:r.top,c=a?o:e;return null!=i&&s<=i?"top":null!=n&&l+c>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,s=n.top,r=n.bottom,o=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(r=s=n),"function"==typeof s&&(s=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(o,e,s,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var s=t.Event(i);return e.trigger(s,n),!1!==s.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(n){var s,r,o,a,l,c;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){s=n.data("ujs:submit-button-formmethod")||n.attr("method"),r=n.data("ujs:submit-button-formaction")||n.attr("action"),o=t(n[0]).serializeArray();var d=n.data("ujs:submit-button");d&&(o.push(d),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(s=n.data("method"),r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(s=n.data("method"),r=i.href(n),o=n.data("params")||null);return c={type:s||"GET",data:o,dataType:l,beforeSend:function(t,s){if(s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),!i.fire(n,"ajax:beforeSend",[t,s]))return!1;n.trigger("ajax:send",t)},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(r)},a&&(c.xhrFields={withCredentials:a}),r&&(c.url=r),i.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(t){return!0}},handleMethod:function(n){var s=i.href(n),r=n.data("method"),o=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),c=t('<form method="post" action="'+s+'"></form>'),d='<input name="_method" value="'+r+'" type="hidden" />';l===e||a===e||i.isCrossDomain(s)||(d+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&c.attr("target",o),c.hide().append(d).appendTo("body"),c.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),n!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),s=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{s=i.confirm(n)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=i.fire(t,"confirm:complete",[s])}return s&&e},blankInputs:function(e,i,n){var s,r,o,a,l=t(),c=i||"input,textarea",d=e.find(c),h={};return d.each(function(){s=t(this),s.is("input[type=radio]")?(a=s.attr("name"),h[a]||(0===e.find('input[type=radio]:checked[name="'+a+'"]').length&&(o=e.find('input[type=radio][name="'+a+'"]'),l=l.add(o)),h[a]=a)):(r=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):!!s.val())===n&&(l=l.add(s))}),!!l.length&&l},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",function(t){return i.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),n.on("ajax:complete",i.linkDisableSelector,function(){i.enableElement(t(this))}),n.on("ajax:complete",i.buttonDisableSelector,function(){i.enableFormElement(t(this))}),n.on("click.rails",i.linkClickSelector,function(e){var n=t(this),s=n.data("method"),r=n.data("params"),o=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!o&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(o&&(!s||"GET"===s)&&!r)return!0;var a=i.handleRemote(n);return!1===a?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return s?(i.handleMethod(n),!1):void 0}),n.on("click.rails",i.buttonClickSelector,function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var s=i.handleRemote(n);return!1===s?i.enableFormElement(n):s.fail(function(){i.enableFormElement(n)}),!1}),n.on("change.rails",i.inputChangeSelector,function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.on("submit.rails",i.formSubmitSelector,function(n){var s,r,o=t(this),a=i.isRemote(o);if(!i.allowAction(o))return i.stopEverything(n);if(o.attr("novalidate")===e)if(o.data("ujs:formnovalidate-button")===e){if((s=i.blankInputs(o,i.requiredInputSelector,!1))&&i.fire(o,"ajax:aborted:required",[s]))return i.stopEverything(n)}else o.data("ujs:formnovalidate-button",e);if(a){if(r=i.nonBlankInputs(o,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.on("click.rails",i.formInputClickSelector,function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var s=n.attr("name"),r=s?{name:s,value:n.val()}:null,o=n.closest("form");0===o.length&&(o=t("#"+n.attr("form"))),o.data("ujs:submit-button",r),o.data("ujs:formnovalidate-button",n.attr("formnovalidate")),o.data("ujs:submit-button-formaction",n.attr("formaction")),o.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.on("ajax:send.rails",i.formSubmitSelector,function(e){this===e.target&&i.disableFormElements(t(this))}),n.on("ajax:complete.rails",i.formSubmitSelector,function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),function(t){var e=function(t){this.value={h:1,s:1,b:1,a:1},this.setColor(t)};e.prototype={constructor:e,setColor:function(e){e=e.toLowerCase();var i=this;t.each(n.stringParsers,function(t,s){var r=s.re.exec(e),o=r&&s.parse(r),a=s.space||"rgba";if(o)return i.value="hsla"===a?n.RGBtoHSB.apply(null,n.HSLtoRGB.apply(null,o)):n.RGBtoHSB.apply(null,o),!1})},setHue:function(t){this.value.h=1-t},setSaturation:function(t){this.value.s=t},setLightness:function(t){this.value.b=1-t},setAlpha:function(t){this.value.a=parseInt(100*(1-t),10)/100},toRGB:function(t,e,i,n){t||(t=this.value.h,e=this.value.s,i=this.value.b),t*=360;var s,r,o,a,l;return t=t%360/60,l=i*e,a=l*(1-Math.abs(t%2-1)),s=r=o=i-l,t=~~t,s+=[l,a,0,0,a,l][t],r+=[a,l,l,a,0,0][t],o+=[0,0,a,l,l,a][t],{r:Math.round(255*s),g:Math.round(255*r),b:Math.round(255*o),a:n||this.value.a}},toHex:function(t,e,i,n){var s=this.toRGB(t,e,i,n);return"#"+(1<<24|parseInt(s.r)<<16|parseInt(s.g)<<8|parseInt(s.b)).toString(16).substr(1)},toHSL:function(t,e,i,n){t||(t=this.value.h,e=this.value.s,i=this.value.b);var s=t,r=(2-e)*i,o=e*i;return o/=r>0&&r<=1?r:2-r,r/=2,o>1&&(o=1),{h:s,s:o,l:r,a:n||this.value.a}}};var i=function(e,i){this.element=t(e);var s=i.format||this.element.data("color-format")||"hex";this.format=n.translateFormats[s],this.isInput=this.element.is("input"),this.component=!!this.element.is(".color")&&this.element.find(".add-on"),this.picker=t(n.template).appendTo("body").on("mousedown",t.proxy(this.mousedown,this)),this.isInput?this.element.on({focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this)}):this.component?this.component.on({click:t.proxy(this.show,this)}):this.element.on({click:t.proxy(this.show,this)}),"rgba"!==s&&"hsla"!==s||(this.picker.addClass("alpha"),this.alpha=this.picker.find(".colorpicker-alpha")[0].style),this.component?(this.picker.find(".colorpicker-color").hide(),this.preview=this.element.find("i")[0].style):this.preview=this.picker.find("div:last")[0].style,this.base=this.picker.find("div:first")[0].style,this.update()};i.prototype={constructor:i,show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),t(window).on("resize",t.proxy(this.place,this)),this.isInput||e&&(e.stopPropagation(),e.preventDefault()),t(document).on({mousedown:t.proxy(this.hide,this)}),this.element.trigger({type:"show",color:this.color})},update:function(){this.color=new e(this.isInput?this.element.prop("value"):this.element.data("color")),this.picker.find("i").eq(0).css({left:100*this.color.value.s,top:100-100*this.color.value.b}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a)),this.previewColor()},setValue:function(t){this.color=new e(t),this.picker.find("i").eq(0).css({left:100*this.color.value.s,top:100-100*this.color.value.b}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a)),this.previewColor(),this.element.trigger({type:"changeColor",color:this.color})},hide:function(){this.picker.hide(),t(window).off("resize",this.place),this.isInput?this.element.prop("value",this.format.call(this)):(t(document).off({mousedown:this.hide}),this.component&&this.element.find("input").prop("value",this.format.call(this)),this.element.data("color",this.format.call(this))),this.element.trigger({type:"hide",color:this.color})},place:function(){var t=this.component?this.component.offset():this.element.offset();this.picker.css({top:t.top+this.height,left:t.left})},previewColor:function(){try{this.preview.backgroundColor=this.format.call(this)}catch(t){this.preview.backgroundColor=this.color.toHex()}this.base.backgroundColor=this.color.toHex(this.color.value.h,1,1,1),this.alpha&&(this.alpha.backgroundColor=this.color.toHex())},pointer:null,slider:null,mousedown:function(e){e.stopPropagation(),e.preventDefault();var i=t(e.target),s=i.closest("div");if(!s.is(".colorpicker")){if(s.is(".colorpicker-saturation"))this.slider=t.extend({},n.sliders.saturation);else if(s.is(".colorpicker-hue"))this.slider=t.extend({},n.sliders.hue);else{if(!s.is(".colorpicker-alpha"))return!1;this.slider=t.extend({},n.sliders.alpha)}var r=s.offset();this.slider.knob=s.find("i")[0].style,this.slider.left=e.pageX-r.left,this.slider.top=e.pageY-r.top,this.pointer={left:e.pageX,top:e.pageY},t(document).on({mousemove:t.proxy(this.mousemove,this),mouseup:t.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(t){t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(this.slider.maxLeft,this.slider.left+((t.pageX||this.pointer.left)-this.pointer.left))),i=Math.max(0,Math.min(this.slider.maxTop,this.slider.top+((t.pageY||this.pointer.top)-this.pointer.top)));return this.slider.knob.left=e+"px",this.slider.knob.top=i+"px",this.slider.callLeft&&this.color[this.slider.callLeft].call(this.color,e/100),this.slider.callTop&&this.color[this.slider.callTop].call(this.color,i/100),this.previewColor(),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),!1}},t.fn.colorpicker=function(e,n){return this.each(function(){var s=t(this),r=s.data("colorpicker"),o="object"==typeof e&&e;r||s.data("colorpicker",r=new i(this,t.extend({},t.fn.colorpicker.defaults,o))),"string"==typeof e&&r[e](n)})},t.fn.colorpicker.defaults={},t.fn.colorpicker.Constructor=i;var n={translateFormats:{rgb:function(){var t=this.color.toRGB();return"rgb("+t.r+","+t.g+","+t.b+")"},rgba:function(){var t=this.color.toRGB();return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"},hsl:function(){var t=this.color.toHSL();return"hsl("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%)"},hsla:function(){var t=this.color.toHSL();return"hsla("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%,"+t.a+")"},hex:function(){return this.color.toHex()}},sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},RGBtoHSB:function(t,e,i,n){t/=255,e/=255,i/=255;var s,r,o,a;return o=Math.max(t,e,i),a=o-Math.min(t,e,i),s=0===a?null:o==t?(e-i)/a:o==e?(i-t)/a+2:(t-e)/a+4,s=(s+360)%6*60/360,r=0===a?0:a/o,{h:s||1,s:r,b:o,a:n||1}},HueToRGB:function(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t},HSLtoRGB:function(t,e,i,s){e<0&&(e=0);var r;r=i<=.5?i*(1+e):i+e-i*e;var o=2*i-r,a=t+1/3,l=t,c=t-1/3;return[Math.round(255*n.HueToRGB(o,r,a)),Math.round(255*n.HueToRGB(o,r,l)),Math.round(255*n.HueToRGB(o,r,c)),s||1]},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}}],template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'}}(window.jQuery),function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(e,i){return t.controller.visit(e,i)},clearCache:function(){return t.controller.clearCache()}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,i,n=[].slice;t.copyObject=function(t){var e,i,n;i={};for(e in t)n=t[e],i[e]=n;return i},t.closest=function(t,i){return e.call(t,i)},e=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&i.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.throttle=function(t){var e;return e=null,function(){var i;return i=1<=arguments.length?n.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(n){return function(){return e=null,t.apply(n,i)}}(this))}},t.dispatch=function(t,e){var i,n,s,r,o;return r=null!=e?e:{},o=r.target,i=r.cancelable,n=r.data,s=document.createEvent("Events"),s.initEvent(t,!0,!0===i),s.data=null!=n?n:{},(null!=o?o:document).dispatchEvent(s),s},t.match=function(t,e){return i.call(t,e)},i=function(){var t,e,i,n;return t=document.documentElement,null!=(e=null!=(i=null!=(n=t.matchesSelector)?n:t.webkitMatchesSelector)?i:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,i;for(i="",t=e=1;36>=e;t=++e)i+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return i}}).call(this),function(){t.Location=function(){function t(t){var e,i;null==t&&(t=""),i=document.createElement("a"),i.href=t.toString(),this.absoluteURL=i.href,e=i.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=i.hash.slice(1))}var e,i,n,s;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=i(t),this.isEqualTo(t)||s(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},i=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return n(t,"/")?t:t+"/"},s=function(t,e){return t.slice(0,e.length)===e},n=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function i(i,n,s){this.delegate=i,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(n).requestURL,this.referrer=t.Location.wrap(s).absoluteURL,this.createXHR()}return i.NETWORK_FAILURE=0,i.TIMEOUT_FAILURE=-1,i.timeout=60,i.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},i.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},i.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},i.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},i.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},i.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},i.prototype.requestCanceled=function(){return this.endRequest()},i.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},i.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},i.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},i.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},i.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},i.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},i}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var i;return i=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+i+"ms ease-out, opacity "+i/2+"ms "+i/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*i)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,i)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}}
;t.BrowserAdapter=function(){function i(i){this.controller=i,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var n,s,r,o;return o=t.HttpRequest,n=o.NETWORK_FAILURE,r=o.TIMEOUT_FAILURE,s=500,i.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},i.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},i.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},i.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},i.prototype.visitRequestCompleted=function(t){return t.loadResponse()},i.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case r:return this.reload();default:return t.loadResponse()}},i.prototype.visitRequestFinished=function(){return this.hideProgressBar()},i.prototype.visitCompleted=function(t){return t.followRedirect()},i.prototype.pageInvalidated=function(){return this.reload()},i.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,s)},i.prototype.showProgressBar=function(){return this.progressBar.show()},i.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},i.prototype.reload=function(){return window.location.reload()},i}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.History=function(){function i(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return i.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},i.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},i.prototype.push=function(e,i){return e=t.Location.wrap(e),this.update("push",e,i)},i.prototype.replace=function(e,i){return e=t.Location.wrap(e),this.update("replace",e,i)},i.prototype.onPopState=function(e){var i,n,s,r;return this.shouldHandlePopState()&&(r=null!=(n=e.state)?n.turbolinks:void 0)?(i=t.Location.wrap(window.location),s=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(i,s)):void 0},i.prototype.onPageLoad=function(){return t.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},i.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},i.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},i.prototype.update=function(t,e,i){var n;return n={turbolinks:{restorationIdentifier:i}},history[t+"State"](n,null,e)},i}()}.call(this),function(){t.Snapshot=function(){function e(t){var e,i;i=t.head,e=t.body,this.head=null!=i?i:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return e.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},e.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},e.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,i;return i=null!=(e=this.getSetting("root"))?e:"/",new t.Location(i)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.hasAnchor=function(t){try{return null!=this.body.querySelector("[id='"+t+"']")}catch(t){}},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.getSetting=function(t){var e,i;return i=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=i[i.length-1],null!=e?e.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var i;return t.render=function(){var t,i,n,s;return n=arguments[0],i=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],s=function(t,e,i){i.prototype=t.prototype;var n=new i,s=t.apply(n,e);return Object(s)===s?s:n}(this,t,function(){}),s.delegate=n,s.render(i),s},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,i(e,t),e)},i=function(t,e){var i,n,s,r,o,a,l;for(r=e.attributes,a=[],i=0,n=r.length;n>i;i++)o=r[i],s=o.name,l=o.value,a.push(t.setAttribute(s,l));return a},t}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,i,r,o,a,l,c;for(this.element=t,this.elements={},c=this.element.childNodes,o=0,l=c.length;l>o;o++)r=c[o],r.nodeType===Node.ELEMENT_NODE&&(a=r.outerHTML,i=null!=(e=this.elements)[a]?e[a]:e[a]={type:s(r),tracked:n(r),elements:[]},i.elements.push(r))}var e,i,n,s;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var i,n;i=this.elements,n=[];for(t in i)(e=i[t].tracked)&&n.push(t);return n}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var i,n,s,r,o,a;s=this.elements,o=[];for(n in s)r=s[n],a=r.type,i=r.elements,a!==t||e.hasElementWithKey(n)||o.push(i[0]);return o},t.prototype.getProvisionalElements=function(){var t,e,i,n,s,r,o;i=[],n=this.elements;for(e in n)s=n[e],o=s.type,r=s.tracked,t=s.elements,null!=o||r?t.length>1&&i.push.apply(i,t.slice(1)):i.push.apply(i,t);return i},s=function(t){return e(t)?"script":i(t)?"stylesheet":void 0},n=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},i=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var s in e)i.call(e,s)&&(t[s]=e[s]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t.SnapshotRenderer=function(i){function n(e,i){this.currentSnapshot=e,this.newSnapshot=i,this.currentHeadDetails=new t.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new t.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(n,i),n.prototype.render=function(t){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},n.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},n.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},n.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},n.prototype.copyNewHeadStylesheetElements=function(){var t,e,i,n,s;for(n=this.getNewHeadStylesheetElements(),s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(document.head.appendChild(t));return s},n.prototype.copyNewHeadScriptElements=function(){var t,e,i,n,s;for(n=this.getNewHeadScriptElements(),s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(document.head.appendChild(this.createScriptElement(t)));return s},n.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,i,n,s;for(n=this.getCurrentHeadProvisionalElements(),s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(document.head.removeChild(t));return s},n.prototype.copyNewHeadProvisionalElements=function(){var t,e,i,n,s;for(n=this.getNewHeadProvisionalElements(),s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(document.head.appendChild(t));return s},n.prototype.importBodyPermanentElements=function(){var t,e,i,n,s,r;for(n=this.getNewBodyPermanentElements(),r=[],e=0,i=n.length;i>e;e++)s=n[e],(t=this.findCurrentBodyPermanentElement(s))?r.push(s.parentNode.replaceChild(t,s)):r.push(void 0);return r},n.prototype.activateBodyScriptElements=function(){var t,e,i,n,s,r;for(n=this.getNewBodyScriptElements(),r=[],e=0,i=n.length;i>e;e++)s=n[e],t=this.createScriptElement(s),r.push(s.parentNode.replaceChild(t,s));return r},n.prototype.assignNewBody=function(){return document.body=this.newBody},n.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},n.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},n.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},n.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},n.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},n.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},n.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},n.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},n.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},n}(t.Renderer)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var s in e)i.call(e,s)&&(t[s]=e[s]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t.ErrorRenderer=function(t){function i(t){this.html=t}return e(i,t),i.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},i.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},i.prototype.activateBodyScriptElements=function(){var t,e,i,n,s,r;for(n=this.getScriptElements(),r=[],e=0,i=n.length;i>e;e++)s=n[e],t=this.createScriptElement(s),r.push(s.parentNode.replaceChild(t,s));return r},i.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},i}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getSnapshot=function(){return t.Snapshot.fromElement(this.element)},e.prototype.render=function(t,e){var i,n,s;return s=t.snapshot,i=t.error,n=t.isPreview,this.markAsPreview(n),null!=s?this.renderSnapshot(s,e):this.renderError(i,e)},e.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,i){return t.SnapshotRenderer.render(this.delegate,i,this.getSnapshot(),t.Snapshot.wrap(e))},e.prototype.renderError=function(e,i){return t.ErrorRenderer.render(this.delegate,i,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function i(i){this.delegate=i,this.onScroll=e(this.onScroll,this),this.onScroll=t.throttle(this.onScroll)}return i.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},i.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},i.prototype.scrollToElement=function(t){return t.scrollIntoView()},i.prototype.scrollToPosition=function(t){var e,i;return e=t.x,i=t.y,window.scrollTo(e,i)},i.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},i.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},i}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var i;return e.prototype.has=function(t){return i(t)in this.snapshots},e.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=i(t),this.snapshots[e]},e.prototype.write=function(t,e){var n;return n=i(t),this.snapshots[n]=e},e.prototype.touch=function(t){var e,n;return n=i(t),e=this.keys.indexOf(n),e>-1&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},e.prototype.trim=function(){var t,e,i,n,s;for(n=this.keys.splice(this.size),s=[],t=0,i=n.length;i>t;t++)e=n[t],s.push(delete this.snapshots[e]);return s},i=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function i(i,n,s){this.controller=i,this.action=s,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(n),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return i.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},i.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},i.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},i.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},i.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},i.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},i.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},i.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},i.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var i;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(i=this.adapter).visitRendered&&i.visitRendered(this),t?void 0:this.complete()})):void 0},i.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},i.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},i.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},i.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},i.prototype.requestCompletedWithResponse=function(e,i){return this.response=e,null!=i&&(this.redirectedToLocation=t.Location.wrap(i)),this.adapter.visitRequestCompleted(this)},i.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},i.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},i.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},i.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},i.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},i.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},i.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},i.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},i.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},i.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},i.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},i.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},i}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function i(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache()}return i.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},i.prototype.disable=function(){return this.enabled=!1},i.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},i.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},i.prototype.visit=function(e,i){var n,s;return null==i&&(i={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(n=null!=(s=i.action)?s:"advance",this.adapter.visitProposedToLocationWithAction(e,n)):window.location=e:void 0},i.prototype.startVisitToLocationWithAction=function(e,i,n){var s;return t.supported?(s=this.getRestorationDataForIdentifier(n),this.startVisit(e,i,{restorationData:s})):window.location=e},i.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},i.prototype.stopHistory=function(){return this.history.stop()},i.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,i){return this.restorationIdentifier=i,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},i.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,i){return this.restorationIdentifier=i,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},i.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,i){var n;return this.restorationIdentifier=i,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},i.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},i.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},i.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},i.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},i.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},i.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},i.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},i.prototype.render=function(t,e){return this.view.render(t,e)},i.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},i.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},i.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},i.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},i.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},i.prototype.clickBubbled=function(t){var e,i,n;return this.enabled&&this.clickEventIsSignificant(t)&&(i=this.getVisitableLinkForNode(t.target))&&(n=this.getVisitableLocationForLink(i))&&this.applicationAllowsFollowingLinkToLocation(i,n)?(t.preventDefault(),e=this.getActionForLink(i),this.visit(n,{action:e})):void 0},i.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var i;return i=this.notifyApplicationAfterClickingLinkToLocation(t,e),!i.defaultPrevented},i.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},i.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,i){return t.dispatch("turbolinks:click",{target:e,data:{url:i.absoluteURL},cancelable:!0})},i.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},i.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},i.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},i.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},i.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},i.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},i.prototype.startVisit=function(t,e,i){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(t,e,i),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},i.prototype.createVisit=function(e,i,n){var s,r,o,a,l;return r=null!=n?n:{},a=r.restorationIdentifier,o=r.restorationData,s=r.historyChanged,l=new t.Visit(this,e,i),l.restorationIdentifier=null!=a?a:t.uuid(),l.restorationData=t.copyObject(o),l.historyChanged=s,l.referrer=this.location,l},i.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},i.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},i.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target]):not([download])"):void 0},i.prototype.getVisitableLocationForLink=function(e){var i;return i=new t.Location(e.getAttribute("href")),this.locationIsVisitable(i)?i:void 0},i.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},i.prototype.nodeIsVisitable=function(e){var i;return!(i=t.closest(e,"[data-turbolinks]"))||"false"!==i.getAttribute("data-turbolinks")},i.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},i.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},i.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},i}()}.call(this),function(){var e,i,n;t.start=function(){return i()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},i=function(){return null==window.Turbolinks&&(window.Turbolinks=t),n()},e=function(){var e;return e=new t.Controller,e.adapter=new t.BrowserAdapter(e),e},(n=function(){return window.Turbolinks===t})()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(){(function(){(function(){var e=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},createConsumer:function(e){var i;return null==e&&(e=null!=(i=this.getConfig("url"))?i:this.INTERNAL.default_mount_path),new t.Consumer(this.createWebSocketURL(e))},getConfig:function(t){var e;return e=document.head.querySelector("meta[name='action-cable-"+t+"']"),null!=e?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?(e=document.createElement("a"),e.href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t;if(t=1<=arguments.length?e.call(arguments,0):[],this.debugging)return t.push(Date.now()),console.log.apply(console,["[ActionCable]"].concat(e.call(t)))}}}).call(this)}).call(this);var t=this.ActionCable;(function(){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ConnectionMonitor=function(){function i(t){this.connection=t,this.visibilityDidChange=e(this.visibilityDidChange,this),this.reconnectAttempts=0}var n,s,r;return i.pollInterval={min:3,max:30},i.staleThreshold=6,i.prototype.start=function(){if(!this.isRunning())return this.startedAt=s(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},i.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=s(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor stopped")},i.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},i.prototype.recordPing=function(){return this.pingedAt=s()},i.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,t.log("ConnectionMonitor recorded connect")},i.prototype.recordDisconnect=function(){return this.disconnectedAt=s(),t.log("ConnectionMonitor recorded disconnect")},i.prototype.startPolling=function(){return this.stopPolling(),this.poll()},i.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},i.prototype.poll=function(){return this.pollTimeout=setTimeout(function(t){return function(){return t.reconnectIfStale(),t.poll()}}(this),this.getPollInterval())},i.prototype.getPollInterval=function(){var t,e,i,s;return s=this.constructor.pollInterval,i=s.min,e=s.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*n(t,i,e))},i.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return t.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+r(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?t.log("ConnectionMonitor skipping reopening recent disconnect"):(t.log("ConnectionMonitor reopening"),this.connection.reopen())},i.prototype.connectionIsStale=function(){var t;return r(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},i.prototype.disconnectedRecently=function(){return this.disconnectedAt&&r(this.disconnectedAt)<this.constructor.staleThreshold},i.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout(function(e){return function(){if(e.connectionIsStale()||!e.connection.isOpen())return t.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),e.connection.reopen()}}(this),200)},s=function(){return(new Date).getTime()},r=function(t){return(s()-t)/1e3},n=function(t,e,i){return Math.max(e,Math.min(i,t))},i}()}).call(this),function(){var e,i,n,s,r,o=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};s=t.INTERNAL,i=s.message_types,n=s.protocols,r=2<=n.length?o.call(n,0,e=n.length-1):(e=0,[]),n[e++],t.Connection=function(){function e(e){this.consumer=e,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new t.ConnectionMonitor(this),this.disconnected=!0}return e.reopenDelay=500,e.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},e.prototype.open=function(){if(this.isActive())throw t.log("Attempted to open WebSocket, but existing socket is "+this.getState()),new Error("Existing connection must be closed before opening");return t.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+n),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new WebSocket(this.consumer.url,n),this.installEventHandlers(),this.monitor.start(),!0},e.prototype.close=function(t){var e,i;if(e=(null!=t?t:{allowReconnect:!0}).allowReconnect,e||this.monitor.stop(),this.isActive())return null!=(i=this.webSocket)?i.close():void 0},e.prototype.reopen=function(){var e;if(t.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(i){return e=i,t.log("Failed to reopen WebSocket",e)}finally{t.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),l.call(r,t)>=0},e.prototype.isState=function(){var t,e;return e=1<=arguments.length?o.call(arguments,0):[],t=this.getState(),l.call(e,t)>=0},e.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},
e.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},e.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},e.prototype.events={message:function(t){var e,n,s,r;if(this.isProtocolSupported())switch(s=JSON.parse(t.data),e=s.identifier,n=s.message,r=s.type,r){case i.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case i.ping:return this.monitor.recordPing();case i.confirmation:return this.subscriptions.notify(e,"connected");case i.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",n)}},open:function(){if(t.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return t.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(t.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return t.log("WebSocket onerror event")}},e}()}.call(this),function(){var e=[].slice;t.Subscriptions=function(){function i(t){this.consumer=t,this.subscriptions=[]}return i.prototype.create=function(e,i){var n,s,r;return n=e,s="object"==typeof n?n:{channel:n},r=new t.Subscription(this.consumer,s,i),this.add(r)},i.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},i.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},i.prototype.reject=function(t){var e,i,n,s,r;for(n=this.findAll(t),s=[],e=0,i=n.length;e<i;e++)r=n[e],this.forget(r),this.notify(r,"rejected"),s.push(r);return s},i.prototype.forget=function(t){var e;return this.subscriptions=function(){var i,n,s,r;for(s=this.subscriptions,r=[],i=0,n=s.length;i<n;i++)(e=s[i])!==t&&r.push(e);return r}.call(this),t},i.prototype.findAll=function(t){var e,i,n,s,r;for(n=this.subscriptions,s=[],e=0,i=n.length;e<i;e++)r=n[e],r.identifier===t&&s.push(r);return s},i.prototype.reload=function(){var t,e,i,n,s;for(i=this.subscriptions,n=[],t=0,e=i.length;t<e;t++)s=i[t],n.push(this.sendCommand(s,"subscribe"));return n},i.prototype.notifyAll=function(){var t,i,n,s,r,o,a;for(i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],r=this.subscriptions,o=[],n=0,s=r.length;n<s;n++)a=r[n],o.push(this.notify.apply(this,[a,i].concat(e.call(t))));return o},i.prototype.notify=function(){var t,i,n,s,r,o,a;for(o=arguments[0],i=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],a="string"==typeof o?this.findAll(o):[o],r=[],n=0,s=a.length;n<s;n++)o=a[n],r.push("function"==typeof o[i]?o[i].apply(o,t):void 0);return r},i.prototype.sendCommand=function(t,e){var i;return i=t.identifier,this.consumer.send({command:e,identifier:i})},i}()}.call(this),function(){t.Subscription=function(){function t(t,i,n){this.consumer=t,null==i&&(i={}),this.identifier=JSON.stringify(i),e(this,n)}var e;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(t,e){var i,n;if(null!=e)for(i in e)n=e[i],t[i]=n;return t},t}()}.call(this),function(){t.Consumer=function(){function e(e){this.url=e,this.subscriptions=new t.Subscriptions(this),this.connection=new t.Connection(this)}return e.prototype.send=function(t){return this.connection.send(t)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},e}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(t){"use strict";var e=function(t){this.init("image",t,e.defaults),"on_error"in t.image&&(this.on_error=t.image.on_error,delete t.image.on_error),"on_success"in t.image&&(this.on_success=t.image.on_success,delete t.image.on_success),"max_size"in t.image&&(this.max_size=t.image.max_size,delete t.image.max_size),this.initImage(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initImage:function(e,i){this.options.image=t.extend({},i.image,e.image),this.name=this.options.image.name||"editable-image-input"},render:function(){var t=this;this.$input=this.$tpl.find("input[type=hidden]:eq(0)"),this.$file=this.$tpl.find("input[type=file]:eq(0)"),this.$file.attr({name:this.name}),this.$input.attr({name:this.name+"-hidden"}),this.options.image.allowExt=this.options.image.allowExt||["jpg","jpeg","png","gif"],this.options.image.allowMime=this.options.image.allowMime||["image/jpg","image/jpeg","image/png","image/gif"],this.options.image.maxSize=t.max_size||this.options.image.maxSize||!1,this.options.image.before_remove=this.options.image.before_remove||function(){return t.$input.val(null),!0},this.$file.ace_file_input(this.options.image).on("change",function(){var e=t.$file.val()||t.$file.data("ace_input_files")?Math.random()+""+(new Date).getTime():null;t.$input.val(e)}).closest(".ace-file-input").css({width:"150px"}).closest(".editable-input").addClass("editable-image"),this.$file.off("file.error.ace").on("file.error.ace",function(e,i){t.on_error&&(i.error_count.ext>0||i.error_count.mime>0?t.on_error(1):i.error_count.size>0&&t.on_error(2))})}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<span><input type="hidden" /></span><span><input type="file" /></span>',inputclass:"",image:{style:"well",btn_choose:"Change Image",btn_change:null,no_icon:"fa fa-picture-o",thumbnail:"large"}}),t.fn.editabletypes.image=e}(window.jQuery),function(t){"use strict";var e=function(i){this.init("wysiwyg",i,e.defaults),this.options.wysiwyg=t.extend({},e.defaults.wysiwyg,i.wysiwyg)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$editor=this.$input.nextAll(".wysiwyg-editor:eq(0)"),this.$tpl.parent().find(".wysiwyg-editor").show().ace_wysiwyg(this.options.wysiwyg).prev().addClass("wysiwyg-style2").closest(".editable-input").addClass("editable-wysiwyg").closest(".editable-container").css({display:"block"}),this.options.wysiwyg&&this.options.wysiwyg.css&&this.$tpl.closest(".editable-wysiwyg").css(this.options.wysiwyg.css)},value2html:function(e,i){return t(i).html(e),!1},html2value:function(t){return t},value2input:function(t){this.$editor.html(t)},input2value:function(){return this.$editor.html()},activate:function(){},isEmpty:function(e){return""===t.trim(e.html())||""===t.trim(e.text())&&(!e.height()||!e.width())}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden" /><div class="wysiwyg-editor"></div>',inputclass:"editable-wysiwyg",wysiwyg:{toolbar:["bold","italic","strikethrough","underline",null,"foreColor",null,"insertImage"]}}),t.fn.editabletypes.wysiwyg=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("spinner",t,e.defaults),this.initSpinner(t,e.defaults),this.nativeUI=!1;try{var i=document.createElement("INPUT");i.type="number",this.nativeUI="number"===i.type&&!0===this.options.spinner.nativeUI}catch(t){}};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initSpinner:function(e,i){this.options.spinner=t.extend({},i.spinner,e.spinner)},render:function(){},activate:function(){if(this.$input.is(":visible"))if(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.nativeUI){this.$input.get(0).type="number";for(var e=["min","max","step"],i=0;i<e.length;i++)e[i]in this.options.spinner&&this.$input.attr(e[i],this.options.spinner[e[i]])}else{var n=parseInt(this.$input.val()),e=t.extend({value:n},this.options.spinner);this.$input.ace_spinner(e)}},autosubmit:function(){this.$input.keydown(function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text" />',inputclass:"",spinner:{min:0,max:100,step:1,icon_up:"fa fa-plus",icon_down:"fa fa-minus",btn_up_class:"btn-success",btn_down_class:"btn-danger"}}),t.fn.editabletypes.spinner=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("slider",t,e.defaults),this.initSlider(t,e.defaults),this.nativeUI=!1;try{var i=document.createElement("INPUT");i.type="range",this.nativeUI="range"===i.type&&!0===this.options.slider.nativeUI}catch(t){}};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initSlider:function(e,i){this.options.slider=t.extend({},i.slider,e.slider)},render:function(){},activate:function(){if(this.$input.is(":visible"))if(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.nativeUI){this.$input.get(0).type="range";for(var e=["min","max","step"],i=0;i<e.length;i++)e[i]in this.options.slider&&(this.$input[0][e[i]]=this.options.slider[e[i]]);var n=this.options.slider.width||200;this.$input.parent().addClass("editable-slider").css("width",n+"px")}else{var s=this,r=parseInt(this.$input.val()),n=this.options.slider.width||200,e=t.extend(this.options.slider,{value:r,slide:function(e,i){var n=parseInt(i.value);s.$input.val(n),null==i.handle.firstChild&&t(i.handle).prepend("<div class='tooltip top in' style='display:none; top:-38px; left:-5px;'><div class='tooltip-arrow'></div><div class='tooltip-inner'></div></div>"),t(i.handle.firstChild).show().children().eq(1).text(n)}});this.$input.parent().addClass("editable-slider").css("width",n+"px").slider(e)}},value2html:function(){},autosubmit:function(){this.$input.keydown(function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text" /><span class="inline ui-slider-green"><span class="slider-display"></span></span>',inputclass:"",slider:{min:1,max:100,step:1,range:"min"}}),t.fn.editabletypes.slider=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("adate",t,e.defaults),this.initDate(t,e.defaults),this.nativeUI=!1;try{var i=document.createElement("INPUT");i.type="date",this.nativeUI="date"===i.type&&!0===this.options.date.nativeUI}catch(t){}};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initDate:function(e,i){this.options.date=t.extend({},i.date,e.date)},render:function(){this.$input=this.$tpl.find("input.date")},activate:function(){if(this.$input.is(":visible")&&this.$input.focus(),this.nativeUI)this.$input.get(0).type="date";else{var t=this.$input;this.$input.datepicker(this.options.date);var e=t.data("datepicker");e&&t.on("click",function(){e.show()}).siblings(".input-group-addon").on("click",function(){e.show()})}},autosubmit:function(){this.$input.keydown(function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="input-group input-group-compact"><input type="text" class="input-medium date" /><span class="input-group-addon"><i class="fa fa-calendar"></i></span></div>',date:{weekStart:0,startView:0,minViewMode:0}}),t.fn.editabletypes.adate=e}(window.jQuery),"undefined"==typeof jQuery)throw new Error("Ace's JavaScript requires jQuery");if(!function(t,e){var i=function(e,i){function n(t){t.preventDefault(),t.stopPropagation();var e=D.offset(),i=e[f],n=w?t.pageY:t.pageX;n>i+A?(A=n-i-j+F)>M&&(A=M):0>(A=n-i-F)&&(A=0),h.update_scroll()}function s(e){e.preventDefault(),e.stopPropagation(),et=tt=w?e.pageY:e.pageX,z=!0,t("html").off("mousemove.ace_scroll").on("mousemove.ace_scroll",r),t(B).off("mouseup.ace_scroll").on("mouseup.ace_scroll",o),D.addClass("active"),W&&h.$element.trigger("drag.start")}function r(t){t.preventDefault(),t.stopPropagation(),et=w?t.pageY:t.pageX,et-tt+A>M?et=tt+M-A:0>et-tt+A&&(et=tt-A),A+=et-tt,tt=et,0>A?A=0:A>M&&(A=M),h.update_scroll()}function o(e){e.preventDefault(),e.stopPropagation(),z=!1,t("html").off(".ace_scroll"),t(B).off(".ace_scroll"),D.removeClass("active"),W&&h.$element.trigger("drag.end"),x&&V&&!K&&l()}function a(t){var e=+new Date;if(Q&&e-nt>1e3){var i=k[y];Z!=i&&(Z=i,J=!0,h.reset(!0)),nt=e}x&&V&&(null!=it&&(clearTimeout(it),it=null),D.addClass("not-idle"),K||1!=t||l())}function l(){null!=it&&(clearTimeout(it),it=null),it=setTimeout(function(){it=null,D.removeClass("not-idle")},X)}function c(){D.css("visibility","hidden").addClass("scroll-hover"),H=w?parseInt(D.outerWidth())||0:parseInt(D.outerHeight())||0,D.css("visibility","").removeClass("scroll-hover")}function d(){if(!1!==Y){var t=$.offset(),e=t.left,i=t.top;w?O||(e+=$.outerWidth()-H):O||(i+=$.outerHeight()-H),!0===Y?D.css({top:parseInt(i),left:parseInt(e)}):"left"===Y?D.css("left",parseInt(e)):"top"===Y&&D.css("top",parseInt(i))}}var h=this,u=ace.helper.getAttrSettings(e,t.fn.ace_scroll.defaults),p=t.extend({},t.fn.ace_scroll.defaults,i,u);this.size=0,this.lock=!1,this.lock_anyway=!1,this.$element=t(e),this.element=e;var f,g,m,v,b,y,w=!0,_=!1,x=!1,C=!1,$=null,k=null,D=null,S=null,T=null,I=null,E=null,j=0,A=0,M=0,F=0,P=!0,R=!1,N="",O=!1,H=0,q=1,L=!1,z=!1,B="onmouseup"in window?window:"html",W=p.dragEvent||!1,G=i.scrollEvent||!1,U=p.detached||!1,Y=p.updatePos||!1,V=p.hideOnIdle||!1,X=p.hideDelay||1500,K=!1,Q=p.observeContent||!1,Z=0,J=!0;this.ref=function(){return this},this.create=function(e){if(!C){e&&(p=t.extend({},t.fn.ace_scroll.defaults,e)),this.size=parseInt(this.$element.attr("data-size"))||p.size||200,w=!p.horizontal,f=w?"top":"left",g=w?"height":"width",m=w?"maxHeight":"maxWidth",v=w?"clientHeight":"clientWidth",b=w?"scrollTop":"scrollLeft",y=w?"scrollHeight":"scrollWidth",this.$element.addClass("ace-scroll"),"static"==this.$element.css("position")?(L=this.element.style.position,this.element.style.position="relative"):L=!1;var i=null;U?i=t('<div class="scroll-track scroll-detached"><div class="scroll-bar"></div></div>').appendTo("body"):(this.$element.wrapInner('<div class="scroll-content" />'),this.$element.prepend('<div class="scroll-track"><div class="scroll-bar"></div></div>')),$=this.$element,U||($=this.$element.find(".scroll-content").eq(0)),w||$.wrapInner("<div />"),k=$.get(0),U?(D=i,d()):D=this.$element.find(".scroll-track").eq(0),S=D.find(".scroll-bar").eq(0),T=D.get(0),I=S.get(0),E=I.style,w||D.addClass("scroll-hz"),p.styleClass&&(N=p.styleClass,D.addClass(N),O=!!N.match(/scroll\-left|scroll\-top/)),0==H&&(D.show(),c()),D.hide(),D.on("mousedown",n),S.on("mousedown",s),$.on("scroll",function(){P&&(A=parseInt(Math.round(this[b]*q)),E[f]=A+"px"),P=!1,G&&this.$element.trigger("scroll",[k])}),p.mouseWheel&&(this.lock=p.mouseWheelLock,this.lock_anyway=p.lockAnyway,this.$element.on(t.event.special.mousewheel?"mousewheel.ace_scroll":"mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(e){if(!_){if(a(!0),!x)return!h.lock_anyway;z&&(z=!1,t("html").off(".ace_scroll"),t(B).off(".ace_scroll"),W&&h.$element.trigger("drag.end")),e.deltaY=e.deltaY||0;var i=e.deltaY>0||e.originalEvent.detail<0||e.originalEvent.wheelDelta>0?1:-1,n=!1,s=k[v],r=k[b];h.lock||(n=-1==i?k[y]<=r+s:0==r),h.move_bar(!0);var o=parseInt(s/8);return 80>o&&(o=80),o>h.size&&(o=h.size),o+=1,k[b]=r-i*o,n&&!h.lock_anyway}}));var r=ace.vars.touch&&"ace_drag"in t.event.special&&p.touchDrag;if(r){var o="",u=r?"ace_drag":"swipe";this.$element.on(u+".ace_scroll",function(t){if(_)return void(t.retval.cancel=!0);if(a(!0),!x)return void(t.retval.cancel=this.lock_anyway);if(o=t.direction,w&&("up"==o||"down"==o)||!w&&("left"==o||"right"==o)){var e=w?t.dy:t.dx;0!=e&&(Math.abs(e)>20&&r&&(e*=2),h.move_bar(!0),k[b]=k[b]+e)}})}V&&D.addClass("idle-hide"),Q&&D.on("mouseenter.ace_scroll",function(){K=!0,a(!1)}).on("mouseleave.ace_scroll",function(){K=!1,0==z&&l()}),this.$element.on("mouseenter.ace_scroll touchstart.ace_scroll",function(){J=!0,Q?a(!0):p.hoverReset&&h.reset(!0),D.addClass("scroll-hover")}).on("mouseleave.ace_scroll touchend.ace_scroll",function(){D.removeClass("scroll-hover")}),w||$.children(0).css(g,this.size),$.css(m,this.size),_=!1,C=!0}},this.is_active=function(){return x},this.is_enabled=function(){return!_},this.move_bar=function(t){P=t},this.get_track=function(){return T},this.reset=function(t){if(!_){C||this.create();var e=this.size;if(!t||J){if(J=!1,U){e-=parseInt(Math.round((parseInt($.css("border-top-width"))+parseInt($.css("border-bottom-width")))/2.5))}var i=w?k[y]:e;if(w&&0==i||!w&&0==this.element.scrollWidth)return void D.removeClass("scroll-active");var n=w?e:k.clientWidth;w||$.children(0).css(g,e),$.css(m,this.size),i>n?(x=!0,D.css(g,n).show(),q=parseFloat((n/i).toFixed(5)),j=parseInt(Math.round(n*q)),F=parseInt(Math.round(j/2)),M=n-j,A=parseInt(Math.round(k[b]*q)),E[g]=j+"px",E[f]=A+"px",D.addClass("scroll-active"),0==H&&c(),R||(p.reset&&(k[b]=0,E[f]=0),R=!0),U&&d()):(x=!1,D.hide(),D.removeClass("scroll-active"),$.css(m,""))}}},this.disable=function(){k[b]=0,E[f]=0,_=!0,x=!1,D.hide(),this.$element.addClass("scroll-disabled"),D.removeClass("scroll-active"),$.css(m,"")},this.enable=function(){_=!1,this.$element.removeClass("scroll-disabled")},this.destroy=function(){x=!1,_=!1,C=!1,this.$element.removeClass("ace-scroll scroll-disabled scroll-active"),this.$element.off(".ace_scroll"),U||(w||$.find("> div").children().unwrap(),$.children().unwrap(),$.remove()),D.remove(),!1!==L&&(this.element.style.position=L),null!=it&&(clearTimeout(it),it=null)},this.modify=function(e){e&&(p=t.extend({},p,e)),this.destroy(),this.create(),J=!0,this.reset(!0)},this.update=function(e){e&&(p=t.extend({},p,e)),this.size=p.size||this.size,this.lock=p.mouseWheelLock||this.lock,this.lock_anyway=p.lockAnyway||this.lock_anyway,V=p.hideOnIdle||V,X=p.hideDelay||X,Q=p.observeContent||!1,W=p.dragEvent||!1,"undefined"!=typeof e.styleClass&&(N&&D.removeClass(N),N=e.styleClass,N&&D.addClass(N),O=!!N.match(/scroll\-left|scroll\-top/))},this.start=function(){k[b]=0},this.end=function(){k[b]=k[y]},this.hide=function(){D.hide()},this.show=function(){D.show()},this.update_scroll=function(){P=!1,E[f]=A+"px",k[b]=parseInt(Math.round(A/q))};var tt=-1,et=-1,it=null,nt=0;return this.track_size=function(){return 0==H&&c(),H},this.create(),J=!0,this.reset(!0),Z=k[y],this};t.fn.ace_scroll=function(n,s){var r,o=this.each(function(){var e=t(this),o=e.data("ace_scroll"),a="object"==typeof n&&n;o||e.data("ace_scroll",o=new i(this,a)),"string"==typeof n&&(r=o[n](s))});return r===e?o:r},t.fn.ace_scroll.defaults={size:200,horizontal:!1,mouseWheel:!0,mouseWheelLock:!1,lockAnyway:!1,styleClass:!1,observeContent:!1,hideOnIdle:!1,hideDelay:1500,hoverReset:!0,reset:!1,dragEvent:!1,touchDrag:!0,touchSwipe:!1,scrollEvent:!1,detached:!1,updatePos:!0}}(window.jQuery),function(t,e){var i=function(e,i){var n=ace.helper.getAttrSettings(e,t.fn.ace_colorpicker.defaults),s=t.extend({},t.fn.ace_colorpicker.defaults,i,n),r=t(e),o="",a="",l=null,c=[];r.addClass("hide").find("option").each(function(){var t="colorpick-btn",e=this.value.replace(/[^\w\s,#\(\)\.]/g,"");e.indexOf("number")>=0||(this.value!=e&&(this.value=e),this.selected&&(t+=" selected",a=e),c.push(e),o+='<li><a class="'+t+'" style="background-color:'+e+';" data-color="'+e+'"></a></li>')}).end().on("change.color",function(){r.next().find(".btn-colorpicker").css("background-color",this.value)}).after('<div class="dropdown dropdown-colorpicker">\t\t<a data-toggle="dropdown" class="dropdown-toggle" '+(s.auto_pos?'data-position="auto"':"")+'><span class="btn-colorpicker" style="background-color:'+a+'"></span></a><ul class="dropdown-menu'+(s.caret?" dropdown-caret":"")+(s.pull_right?" dropdown-menu-right":"")+'">'+o+"</ul></div>");var d=r.next().find(".dropdown-menu");d.on(ace.click_event,function(e,i){var n=t(e.target);if(!n.is(".colorpick-btn"))return!1;l&&l.removeClass("selected"),l=n,l.addClass("selected");var s=l.data("color");return!0!==i&&r.val(s).trigger("change"),r.next().find(".btn-colorpicker").css("background-color",s),e.preventDefault(),!0}),l=r.next().find("a.selected"),this.pick=function(i,n){if("number"==typeof i){if(i>=c.length)return;e.selectedIndex=i,d.find("a:eq("+i+")").trigger(ace.click_event,[!0])}else if("string"==typeof i){var s=i.replace(/[^\w\s,#\(\)\.]/g,"");if(i=c.indexOf(s),-1==i&&!0===n&&(c.push(s),t("<option />").appendTo(r).val(s),t('<li><a class="colorpick-btn"></a></li>').appendTo(d).find("a").css("background-color",s).data("color",s),i=c.length-1),-1==i)return;d.find("a:eq("+i+")").trigger(ace.click_event,[!0])}},this.destroy=function(){r.removeClass("hide").next().remove(),c=[]}};t.fn.ace_colorpicker=function(n,s){var r,o=this.each(function(){var e=t(this),o=e.data("ace_colorpicker"),a="object"==typeof n&&n;o||e.data("ace_colorpicker",o=new i(this,a)),"string"==typeof n&&(r=o[n](s))});return r===e?o:r},t.fn.ace_colorpicker.defaults={pull_right:!1,caret:!0,auto_pos:!0}}(window.jQuery),function(t,e){var i="multiple"in document.createElement("INPUT"),n="FileList"in window,s="FileReader"in window,r="File"in window,o=function(e,i){var n=this,s=ace.helper.getAttrSettings(e,t.fn.ace_file_input.defaults);this.settings=t.extend({},t.fn.ace_file_input.defaults,i,s),this.$element=t(e),this.element=e,this.disabled=!1,this.can_reset=!0,this.$element.off("change.ace_inner_call").on("change.ace_inner_call",function(t,e){return n.disabled||!0===e?void 0:l.call(n)});var r=this.$element.closest("label").css({display:"block"}),o=0==r.length?"label":"span";this.$element.wrap("<"+o+' class="ace-file-input" />'),this.apply_settings(),this.reset_input_field()};o.error={FILE_LOAD_FAILED:1,IMAGE_LOAD_FAILED:2,THUMBNAIL_FAILED:3},o.prototype.apply_settings=function(){var e=this;(this.multi=this.$element.attr("multiple")&&i,this.well_style="well"==this.settings.style,this.well_style?(this.settings.thumbnail||(this.settings.thumbnail="small"),this.$element.parent().addClass("ace-file-multiple")):this.$element.parent().removeClass("ace-file-multiple"),this.$element.parent().find(":not(input[type=file])").remove(),this.$element.after('<span class="ace-file-container" data-title="'+this.settings.btn_choose+'"><span class="ace-file-name" data-title="'+this.settings.no_file+'">'+(this.settings.no_icon?'<i class="'+ace.vars.icon+this.settings.no_icon+'"></i>':"")+"</span></span>"),this.$label=this.$element.next(),this.$container=this.$element.closest(".ace-file-input"),!this.settings.icon_remove)||t('<a class="remove" href="#"><i class="'+ace.vars.icon+this.settings.icon_remove+'"></i></a>').appendTo(this.$element.parent()).on(ace.click_event,function(t){if(t.preventDefault(),!e.can_reset)return!1;var i=!0;return e.settings.before_remove&&(i=e.settings.before_remove.call(e.element)),!!i&&(e.reset_input(),!1)});this.settings.droppable&&n&&a.call(this)},o.prototype.show_file_list=function(e,i){var n=void 0===e?this.$element.data("ace_input_files"):e;if(n&&0!=n.length){this.well_style&&(this.$label.find(".ace-file-name").remove(),this.settings.btn_change||this.$label.addClass("hide-placeholder")),this.$label.attr("data-title",this.settings.btn_change).addClass("selected");for(var o=0;o<n.length;o++){var a="",l=!1;if("string"==typeof n[o])a=n[o];else if(r&&n[o]instanceof File)a=t.trim(n[o].name);else{if(!(n[o]instanceof Object&&n[o].hasOwnProperty("name")))continue;a=n[o].name,n[o].hasOwnProperty("type")&&(l=n[o].type),n[o].hasOwnProperty("path")||(n[o].path=n[o].name)}var d=a.lastIndexOf("\\")+1;0==d&&(d=a.lastIndexOf("/")+1),a=a.substr(d),0==l&&(l=/\.(jpe?g|png|gif|svg|bmp|tiff?)$/i.test(a)?"image":/\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i.test(a)?"video":/\.(mp3|ogg|wav|wma|amr|aac)$/i.test(a)?"audio":"file");var h={file:"fa fa-file",image:"fa fa-picture-o file-image",video:"fa fa-film file-video",audio:"fa fa-music file-audio"},u=h[l];if(this.well_style){this.$label.append('<span class="ace-file-name" data-title="'+a+'"><i class="'+ace.vars.icon+u+'"></i></span>');var p=!0===i&&r&&n[o]instanceof File?t.trim(n[o].type):"";if(s&&this.settings.thumbnail&&(p.length>0&&p.match("image")||0==p.length&&"image"==l)){var f=this;t.when(c.call(this,n[o])).fail(function(t){f.settings.preview_error&&f.settings.preview_error.call(f,a,t.code)})}}else this.$label.find(".ace-file-name").attr({"data-title":a}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+u)}return!0}},o.prototype.reset_input=function(){this.reset_input_ui(),this.reset_input_field()},o.prototype.reset_input_ui=function(){this.$label.attr({"data-title":this.settings.btn_choose,"class":"ace-file-container"}).find(".ace-file-name:first").attr({"data-title":this.settings.no_file,"class":"ace-file-name"}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+this.settings.no_icon).prev("img").remove(),this.settings.no_icon||this.$label.find(ace.vars[".icon"]).remove(),this.$label.find(".ace-file-name").not(":first").remove(),this.reset_input_data()},o.prototype.reset_input_field=function(){this.$element.wrap("<form>").parent().get(0).reset(),this.$element.unwrap()},o.prototype.reset_input_data=function(){this.$element.data("ace_input_files")&&(this.$element.removeData("ace_input_files"),this.$element.removeData("ace_input_method"))},o.prototype.enable_reset=function(t){this.can_reset=t},o.prototype.disable=function(){this.disabled=!0,this.$element.attr("disabled","disabled").addClass("disabled")},o.prototype.enable=function(){this.disabled=!1,this.$element.removeAttr("disabled").removeClass("disabled")},o.prototype.files=function(){return t(this).data("ace_input_files")||null},o.prototype.method=function(){return t(this).data("ace_input_method")||""},o.prototype.update_settings=function(e){this.settings=t.extend({},this.settings,e),this.apply_settings()},o.prototype.loading=function(e){if(!1===e)this.$container.find(".ace-file-overlay").remove(),this.element.removeAttribute("readonly");else{var i="string"==typeof e?e:'<i class="overlay-content fa fa-spin fa-spinner orange2 fa-2x"></i>',n=this.$container.find(".ace-file-overlay");0==n.length&&(n=t('<div class="ace-file-overlay"></div>').appendTo(this.$container),n.on("click tap",function(t){return t.stopImmediatePropagation(),t.preventDefault(),!1}),this.element.setAttribute("readonly","true")),n.empty().append(i)}};var a=function(){var t=this;this.$element.parent().off("dragenter").on("dragenter",function(t){t.preventDefault(),t.stopPropagation()}).off("dragover").on("dragover",function(t){t.preventDefault(),t.stopPropagation()}).off("drop").on("drop",function(e){if(e.preventDefault(),e.stopPropagation(),!t.disabled){var i=e.originalEvent.dataTransfer,n=i.files;if(!t.multi&&n.length>1){var s=[];s.push(n[0]),n=s}return!1!==(n=h.call(t,n,!0))&&(t.$element.data("ace_input_method","drop"),t.$element.data("ace_input_files",n),t.show_file_list(n,!0),t.$element.triggerHandler("change",[!0]),!0)}})},l=function(){var t=this.element.files||[this.element.value];return!1!==(t=h.call(this,t,!1))&&(this.$element.data("ace_input_method","select"),this.$element.data("ace_input_files",t),this.show_file_list(t,!0),!0)},c=function(e){var i=this,n=i.$label.find(".ace-file-name:last"),s=new t.Deferred,a=function(e,i){n.prepend("<img class='middle' style='display:none;' />");var s=n.find("img:last").get(0);t(s).one("load",function(){l.call(null,s,i)}).one("error",function(){c.call(null,s)}),s.src=e},l=function(e,r){var a=i.settings.previewSize;a||(i.settings.previewWidth||i.settings.previewHeight?a={previewWidth:i.settings.previewWidth,previewHeight:i.settings.previewHeight}:(a=50,"large"==i.settings.thumbnail&&(a=150))),"fit"==i.settings.thumbnail?a=n.width():"number"==typeof a&&(a=parseInt(Math.min(a,n.width())));var l=d(e,a);if(null==l)return t(this).remove(),void s.reject({code:o.error.THUMBNAIL_FAILED});var c=!0;if(r&&r instanceof File){r.width=l.width,r.height=l.height,i.$element.trigger("file.preview.ace",{file:r});var h;i.$element.trigger(h=new t.Event("file.preview.ace"),{file:r}),h.isDefaultPrevented()&&(c=!1)}if(c){var u=l.previewWidth,p=l.previewHeight;"small"==i.settings.thumbnail?u=p=parseInt(Math.max(u,p)):n.addClass("large"),t(e).css({"background-image":"url("+l.src+")",width:u,height:p}).data("thumb",l.src).attr({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}).show()}s.resolve()},c=function(){n.find("img").remove(),s.reject({code:o.error.IMAGE_LOAD_FAILED})};if(r&&e instanceof File){var h=new FileReader;h.onload=function(t){a(t.target.result,e)},h.onerror=function(){s.reject({code:o.error.FILE_LOAD_FAILED})},h.readAsDataURL(e)}else e instanceof Object&&e.hasOwnProperty("path")&&a(e.path,null);return s.promise()},d=function(e,i){var n=e.width,s=e.height;n=n>0?n:t(e).width(),s=s>0?s:t(e).height();var r=!1,o=!1,a=!1;"number"==typeof i?r=i:i instanceof Object&&(i.previewWidth&&!i.previewHeight?a=i.previewWidth:i.previewHeight&&!i.previewWidth?o=i.previewHeight:i.previewWidth&&i.previewHeight&&(a=i.previewWidth,o=i.previewHeight)),r?n>s?(a=r,o=parseInt(s/n*a)):(o=r,a=parseInt(n/s*o)):!o&&a?o=parseInt(s/n*a):o&&!a&&(a=parseInt(n/s*o));var l;try{var c=document.createElement("canvas");c.width=a,c.height=o;c.getContext("2d").drawImage(e,0,0,n,s,0,0,a,o),l=c.toDataURL()}catch(t){l=null}return l?(/^data\:image\/(png|jpe?g|gif);base64,[0-9A-Za-z\+\/\=]+$/.test(l)||(l=null),l?{src:l,previewWidth:a,previewHeight:o,width:n,height:s}:null):null},h=function(t,e){var i=f.call(this,t,e);return-1===i?(this.reset_input(),!1):i&&0!=i.length?((i instanceof Array||n&&i instanceof FileList)&&(t=i),i=!0,this.settings.before_change&&(i=this.settings.before_change.call(this.element,t,e)),-1===i?(this.reset_input(),!1):i&&0!=i.length?((i instanceof Array||n&&i instanceof FileList)&&(t=i),t):(this.$element.data("ace_input_files")||this.reset_input(),!1)):(this.$element.data("ace_input_files")||this.reset_input(),!1)},u=function(t){return t?("string"==typeof t&&(t=[t]),0==t.length?null:new RegExp(".(?:"+t.join("|")+")$","i")):null},p=function(t){return t?("string"==typeof t&&(t=[t]),0==t.length?null:new RegExp("^(?:"+t.join("|").replace(/\//g,"\\/")+")$","i")):null},f=function(e,i){var n=u(this.settings.allowExt),s=u(this.settings.denyExt),o=p(this.settings.allowMime),a=p(this.settings.denyMime),l=this.settings.maxSize||!1;if(!(n||s||o||a||l))return!0;for(var c=[],d={},h=0;h<e.length;h++){var f=e[h],g=r?f.name:f;if(!n||n.test(g))if(s&&s.test(g))"ext"in d||(d.ext=[]),d.ext.push(g);else{var m;if(r){if((m=t.trim(f.type)).length>0){if(o&&!o.test(m)){"mime"in d||(d.mime=[]),d.mime.push(g);continue}if(a&&a.test(m)){"mime"in d||(d.mime=[]),d.mime.push(g);continue}}l&&f.size>l?("size"in d||(d.size=[]),d.size.push(g)):c.push(f)}else c.push(f)}else"ext"in d||(d.ext=[]),d.ext.push(g)}if(c.length==e.length)return e;var v={ext:0,mime:0,size:0};"ext"in d&&(v.ext=d.ext.length),"mime"in d&&(v.mime=d.mime.length),"size"in d&&(v.size=d.size.length);var b;return this.$element.trigger(b=new t.Event("file.error.ace"),{file_count:e.length,invalid_count:e.length-c.length,error_list:d,error_count:v,dropped:i}),b.isDefaultPrevented()?-1:c};t.fn.aceFileInput=t.fn.ace_file_input=function(i,n){var s,r=this.each(function(){var e=t(this),r=e.data("ace_file_input"),a="object"==typeof i&&i;r||e.data("ace_file_input",r=new o(this,a)),"string"==typeof i&&(s=r[i](n))});return s===e?r:s},t.fn.ace_file_input.defaults={style:!1,no_file:"No File ...",no_icon:"fa fa-upload",btn_choose:"Choose",btn_change:"Change",icon_remove:"fa fa-times",droppable:!1,thumbnail:!1,allowExt:null,denyExt:null,allowMime:null,denyMime:null,maxSize:!1,previewSize:!1,previewWidth:!1,previewHeight:!1,before_change:null,before_remove:null,preview_error:null}}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.bs_typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){
var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],s=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):s.push(e):i.push(e);return i.concat(n,s)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).attr("data-value",n),e.find("a").html(i.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),i=e.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.bs_typeahead;t.fn.bs_typeahead=function(i){return this.each(function(){var n=t(this),s=n.data("bs_typeahead"),r="object"==typeof i&&i;s||n.data("bs_typeahead",s=new e(this,r)),"string"==typeof i&&s[i]()})},t.fn.bs_typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.bs_typeahead.Constructor=e,t.fn.bs_typeahead.noConflict=function(){return t.fn.bs_typeahead=i,this},t(document).on("focus.bs_typeahead.data-api",'[data-provide="bs_typeahead"]',function(){var e=t(this);e.data("bs_typeahead")||e.bs_typeahead(e.data())})}(window.jQuery),function(t){t.fn.ace_wysiwyg=function(e){var i=t.extend({speech_button:!0,wysiwyg:{}},e),n=["#ac725e","#d06b64","#f83a22","#fa573c","#ff7537","#ffad46","#42d692","#16a765","#7bd148","#b3dc6c","#fbe983","#fad165","#92e1c0","#9fe1e7","#9fc6e7","#4986e7","#9a9cff","#b99aff","#c2c2c2","#cabdbf","#cca6ac","#f691b2","#cd74e6","#a47ae2","#444444"],s={font:{values:["Arial","Courier","Comic Sans MS","Helvetica","Open Sans","Tahoma","Verdana"],icon:"fa fa-font",title:"Font"},fontSize:{values:{5:"Huge",3:"Normal",1:"Small"},icon:"fa fa-text-height",title:"Font Size"},bold:{icon:"fa fa-bold",title:"Bold (Ctrl/Cmd+B)"},italic:{icon:"fa fa-italic",title:"Italic (Ctrl/Cmd+I)"},strikethrough:{icon:"fa fa-strikethrough",title:"Strikethrough"},underline:{icon:"fa fa-underline",title:"Underline"},insertunorderedlist:{icon:"fa fa-list-ul",title:"Bullet list"},insertorderedlist:{icon:"fa fa-list-ol",title:"Number list"},outdent:{icon:"fa fa-outdent",title:"Reduce indent (Shift+Tab)"},indent:{icon:"fa fa-indent",title:"Indent (Tab)"},justifyleft:{icon:"fa fa-align-left",title:"Align Left (Ctrl/Cmd+L)"},justifycenter:{icon:"fa fa-align-center",title:"Center (Ctrl/Cmd+E)"},justifyright:{icon:"fa fa-align-right",title:"Align Right (Ctrl/Cmd+R)"},justifyfull:{icon:"fa fa-align-justify",title:"Justify (Ctrl/Cmd+J)"},createLink:{icon:"fa fa-link",title:"Hyperlink",button_text:"Add",placeholder:"URL",button_class:"btn-primary"},unlink:{icon:"fa fa-chain-broken",title:"Remove Hyperlink"},insertImage:{icon:"fa fa-picture-o",title:"Insert picture",button_text:'<i class="'+ace.vars.icon+'fa fa-file"></i> Choose Image &hellip;',placeholder:"Image URL",button_insert:"Insert",button_class:"btn-success",button_insert_class:"btn-primary",choose_file:!0},foreColor:{values:n,title:"Change Color"},backColor:{values:n,title:"Change Background Color"},undo:{icon:"fa fa-undo",title:"Undo (Ctrl/Cmd+Z)"},redo:{icon:"fa fa-repeat",title:"Redo (Ctrl/Cmd+Y)"},viewSource:{icon:"fa fa-code",title:"View Source"}},r=i.toolbar||["font",null,"fontSize",null,"bold","italic","strikethrough","underline",null,"insertunorderedlist","insertorderedlist","outdent","indent",null,"justifyleft","justifycenter","justifyright","justifyfull",null,"createLink","unlink",null,"insertImage",null,"foreColor",null,"undo","redo",null,"viewSource"];return this.each(function(){var e=' <div class="wysiwyg-toolbar btn-toolbar center"> <div class="btn-group"> ';for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null===o){e+=' </div> <div class="btn-group"> ';continue}if("string"==typeof o&&o in s)o=s[o],o.name=r[n];else{if(!("object"==typeof o&&o.name in s))continue;o=t.extend(s[o.name],o)}var a="className"in o?o.className:"btn-default";switch(o.name){case"font":e+=' <a class="btn btn-sm '+a+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i><i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',e+=' <ul class="dropdown-menu dropdown-light dropdown-caret">';for(var l in o.values)o.values.hasOwnProperty(l)&&(e+=' <li><a data-edit="fontName '+o.values[l]+'" style="font-family:\''+o.values[l]+"'\">"+o.values[l]+"</a></li> ");e+=" </ul>";break;case"fontSize":e+=' <a class="btn btn-sm '+a+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i>&nbsp;<i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',e+=' <ul class="dropdown-menu dropdown-light dropdown-caret"> ';for(var c in o.values)o.values.hasOwnProperty(c)&&(e+=' <li><a data-edit="fontSize '+c+'"><font size="'+c+'">'+o.values[c]+"</font></a></li> ");e+=" </ul> ";break;case"createLink":e+=' <div class="btn-group"> <a class="btn btn-sm '+a+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> ',e+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">\t\t\t\t\t\t\t <div class="input-group">\t\t\t\t\t\t\t\t<input class="form-control" placeholder="'+o.placeholder+'" type="text" data-edit="'+o.name+'" />\t\t\t\t\t\t\t\t<span class="input-group-btn">\t\t\t\t\t\t\t\t\t<button class="btn btn-sm '+o.button_class+'" type="button">'+o.button_text+"</button>\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t </div>\t\t\t\t\t\t</div> </div>";break;case"insertImage":e+=' <div class="btn-group"> <a class="btn btn-sm '+a+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> ',e+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">\t\t\t\t\t\t\t <div class="input-group">\t\t\t\t\t\t\t\t<input class="form-control" placeholder="'+o.placeholder+'" type="text" data-edit="'+o.name+'" />\t\t\t\t\t\t\t\t<span class="input-group-btn">\t\t\t\t\t\t\t\t\t<button class="btn btn-sm '+o.button_insert_class+'" type="button">'+o.button_insert+"</button>\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t </div>",o.choose_file&&"FileReader"in window&&(e+='<div class="space-2"></div>\t\t\t\t\t\t\t <label class="center block no-margin-bottom">\t\t\t\t\t\t\t\t<button class="btn btn-sm '+o.button_class+' wysiwyg-choose-file" type="button">'+o.button_text+'</button>\t\t\t\t\t\t\t\t<input type="file" data-edit="'+o.name+'" />\t\t\t\t\t\t\t  </label>'),e+=" </div> </div>";break;case"foreColor":case"backColor":e+=' <select class="hide wysiwyg_colorpicker" title="'+o.title+'"> ',t.each(o.values,function(t,i){e+=' <option value="'+i+'">'+i+"</option> "}),e+=" </select> ",e+=' <input style="display:none;" disabled class="hide" type="text" data-edit="'+o.name+'" /> ';break;case"viewSource":e+=' <a class="btn btn-sm '+a+'" data-view="source" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> ';break;default:e+=' <a class="btn btn-sm '+a+'" data-edit="'+o.name+'" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> '}}e+=" </div> ";i.speech_button&&"onwebkitspeechchange"in document.createElement("input")&&(e+=' <input class="wysiwyg-speech-input" type="text" data-edit="inserttext" x-webkit-speech />'),null,e+=" </div> ",e=i.toolbar_place?i.toolbar_place.call(this,e):t(this).before(e).prev(),t.fn.tooltip&&e.find("a[title]").tooltip({animation:!1,container:"body"}),e.find(".dropdown-menu input[type=text]").on("click",function(){return!1}).on("change",function(){t(this).closest(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")}).on("keydown",function(e){27==e.which?(this.value="",t(this).change()):13==e.which&&(e.preventDefault(),e.stopPropagation(),t(this).change())}),e.find("input[type=file]").prev().on(ace.click_event,function(){t(this).next().click()}),e.find(".wysiwyg_colorpicker").each(function(){var e=t(this).ace_colorpicker({pull_right:!0}).change(function(){t(this).nextAll("input").eq(0).val(this.value).change()}).next().find(".btn-colorpicker");t.fn.tooltip&&e.tooltip({title:this.title,animation:!1,container:"body"})});var d=t(this),h=!1;e.find("a[data-view=source]").on("click",function(e){if(e.preventDefault(),h){var i=d.next();d.html(i.val()).show(),i.remove(),t(this).removeClass("active")}else t("<textarea />").css({width:d.outerWidth(),height:d.outerHeight()}).val(d.html()).insertAfter(d),d.hide(),t(this).addClass("active");h=!h});var u=t.extend({},{activeToolbarClass:"active",toolbarSelector:e},i.wysiwyg||{});t(this).wysiwyg(u)}),this}}(window.jQuery),function(t,e){function i(e,i){var n=ace.helper.getAttrSettings(e,t.fn.ace_spinner.defaults),s=t.extend({},t.fn.ace_spinner.defaults,i,n),r=s.max;r=(""+r).length;var o=parseInt(Math.max(20*r+40,90)),a=t(e),l="btn-sm",c=2;a.hasClass("input-sm")?(l="btn-xs",c=1):a.hasClass("input-lg")&&(l="btn-lg",c=3),2==c?o+=25:3==c&&(o+=50),a.addClass("spinbox-input form-control text-center").wrap('<div class="ace-spinner middle">');var d=a.closest(".ace-spinner").spinbox(s).wrapInner("<div class='input-group'></div>"),h=d.data("fu.spinbox");s.on_sides?(a.before('<div class="spinbox-buttons input-group-btn">\t\t\t\t\t<button type="button" class="btn spinbox-down '+l+" "+s.btn_down_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+s.icon_down+'"></i>\t\t\t\t\t</button>\t\t\t\t</div>').after('<div class="spinbox-buttons input-group-btn">\t\t\t\t\t<button type="button" class="btn spinbox-up '+l+" "+s.btn_up_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+s.icon_up+'"></i>\t\t\t\t\t</button>\t\t\t\t</div>'),d.addClass("touch-spinner"),d.css("width",o+"px")):(a.after('<div class="spinbox-buttons input-group-btn">\t\t\t\t\t<button type="button" class="btn spinbox-up '+l+" "+s.btn_up_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+s.icon_up+'"></i>\t\t\t\t\t</button>\t\t\t\t\t<button type="button" class="btn spinbox-down '+l+" "+s.btn_down_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+s.icon_down+'"></i>\t\t\t\t\t</button>\t\t\t\t</div>'),ace.vars.touch||s.touch_spinner?(d.addClass("touch-spinner"),d.css("width",o+"px")):(a.next().addClass("btn-group-vertical"),d.css("width",o+"px"))),d.on("changed",function(){a.trigger("change")}),this._call=function(t,e){h[t](e)}}t.fn.ace_spinner=function(n,s){var r,o=this.each(function(){var e=t(this),o=e.data("ace_spinner"),a="object"==typeof n&&n;o||(a=t.extend({},t.fn.ace_spinner.defaults,n),e.data("ace_spinner",o=new i(this,a))),"string"==typeof n&&(r=o._call(n,s))});return r===e?o:r},t.fn.ace_spinner.defaults={icon_up:"fa fa-chevron-up",icon_down:"fa fa-chevron-down",on_sides:!1,btn_up_class:"",btn_down_class:"",max:999,touch_spinner:!1}}(window.jQuery),function(t){t.fn.aceTree=t.fn.ace_tree=function(e){var i={"open-icon":ace.vars.icon+"fa fa-folder-open","close-icon":ace.vars.icon+"fa fa-folder","toggle-icon":ace.vars.icon+"fa fa-play","selected-icon":ace.vars.icon+"fa fa-check","unselected-icon":ace.vars.icon+"fa fa-times","base-icon":ace.vars.icon+"fa","folder-open-icon":"fa fa-plus-square-o","folder-close-icon":"fa fa-plus-minus-o",loadingHTML:"Loading..."};return this.each(function(){var n=ace.helper.getAttrSettings(this,i),s=t.extend({},i,e,n),r=t(this);r.addClass("tree").attr("role","tree"),r.html('<li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">\t\t\t\t'+(s.folderSelect?'<i class="icon-caret '+s["folder-open-icon"]+'"></i>&nbsp;':"")+'\t\t\t\t<div class="tree-branch-header">\t\t\t\t\t<span class="tree-branch-name">\t\t\t\t\t\t<i class="icon-folder '+s["close-icon"]+'"></i>\t\t\t\t\t\t<span class="tree-label"></span>\t\t\t\t\t</span>\t\t\t\t</div>\t\t\t\t<ul class="tree-branch-children" role="group"></ul>\t\t\t\t<div class="tree-loader" role="alert">'+s.loadingHTML+'</div>\t\t\t</li>\t\t\t<li class="tree-item hide" data-template="treeitem" role="treeitem">\t\t\t\t<span class="tree-item-name">\t\t\t\t  '+(null==s["unselected-icon"]?"":'<i class="icon-item '+s["unselected-icon"]+'"></i>')+'\t\t\t\t  <span class="tree-label"></span>\t\t\t\t</span>\t\t\t</li>'),r.addClass(1==s.selectable?"tree-selectable":"tree-unselectable"),r.tree(s)}),this}}(window.jQuery),function(t){t.fn.aceWizard=t.fn.ace_wizard=function(e){return this.each(function(){var i=t(this);i.wizard(),ace.vars.old_ie&&i.find("ul.steps > li").last().addClass("last-child");var n=e&&e.buttons?t(e.buttons):i.siblings(".wizard-actions").eq(0),s=i.data("fu.wizard");s.$prevBtn.remove(),s.$nextBtn.remove(),s.$prevBtn=n.find(".btn-prev").eq(0).on(ace.click_event,function(){s.previous()}).attr("disabled","disabled"),s.$nextBtn=n.find(".btn-next").eq(0).on(ace.click_event,function(){s.next()}).removeAttr("disabled"),s.nextText=s.$nextBtn.text();var r=e&&(e.selectedItem&&e.selectedItem.step||e.step);r&&(s.currentStep=r,s.setState())}),this}}(window.jQuery),function(t,e){function i(e,i){var s=this,r=t(e),o="right",a=!1,l=r.hasClass("fade"),c=ace.helper.getAttrSettings(e,t.fn.ace_aside.defaults);if(this.settings=t.extend({},t.fn.ace_aside.defaults,i,c),!this.settings.background||i.scroll_style||c.scroll_style||(this.settings.scroll_style="scroll-white no-track"),this.container=this.settings.container,this.container)try{t(this.container).get(0)==document.body&&(this.container=null)}catch(t){}this.container&&(this.settings.backdrop=!1,r.addClass("aside-contained"));var d=r.find(".modal-dialog"),h=r.find(".modal-content"),u=300;this.initiate=function(){e.className=e.className.replace(/(\s|^)aside\-(right|top|left|bottom)(\s|$)/gi,"$1$3"),o=this.settings.placement,o&&(o=t.trim(o.toLowerCase())),o&&/right|top|left|bottom/.test(o)||(o="right"),r.attr("data-placement",o),r.addClass("aside-"+o),/right|left/.test(o)?(a=!0,r.addClass("aside-vc")):r.addClass("aside-hz"),this.settings.fixed&&r.addClass("aside-fixed"),this.settings.background&&r.addClass("aside-dark"),this.settings.offset&&r.addClass("navbar-offset"),this.settings.transition||r.addClass("transition-off"),r.addClass("aside-hidden"),this.insideContainer(),d=r.find(".modal-dialog"),h=r.find(".modal-content"),this.settings.body_scroll||r.on("mousewheel.aside DOMMouseScroll.aside touchmove.aside pointermove.aside",function(e){return t.contains(h[0],e.target)?void 0:(e.preventDefault(),!1)}),0==this.settings.backdrop&&r.addClass("no-backdrop")},this.show=function(){if(0==this.settings.backdrop)try{r.data("bs.modal").$backdrop.remove()}catch(t){}this.container?t(this.container).addClass("overflow-hidden"):r.css("position","fixed"),r.removeClass("aside-hidden")},this.hide=function(){this.container&&(this.container.addClass("overflow-hidden"),ace.vars.firefox&&e.offsetHeight),p(),ace.vars.transition&&!l&&r.one("bsTransitionEnd",function(){r.addClass("aside-hidden"),r.css("position",""),s.container&&s.container.removeClass("overflow-hidden")}).emulateTransitionEnd(u)},this.shown=function(){if(p(),t("body").removeClass("modal-open").css("padding-right",""),"invisible"==this.settings.backdrop)try{r.data("bs.modal").$backdrop.css("opacity",0)}catch(t){}var e=a?h.height():d.height();ace.vars.touch?h.addClass("overflow-scroll").css("max-height",e+"px"):h.hasClass("ace-scroll")||h.ace_scroll({size:e,reset:!0,mouseWheelLock:!0,lockAnyway:!this.settings.body_scroll,styleClass:this.settings.scroll_style,observeContent:!0,hideOnIdle:!ace.vars.old_ie,hideDelay:1500}),n.off("resize.modal.aside").on("resize.modal.aside",function(){if(ace.vars.touch)h.css("max-height",(a?h.height():d.height())+"px");else{h.ace_scroll("disable");var t=a?h.height():d.height();h.ace_scroll("update",{size:t}).ace_scroll("enable").ace_scroll("reset")}}).triggerHandler("resize.modal.aside"),s.container&&ace.vars.transition&&!l&&r.one("bsTransitionEnd",function(){s.container.removeClass("overflow-hidden")}).emulateTransitionEnd(u)},this.hidden=function(){n.off(".aside"),ace.vars.transition&&!l||(r.addClass("aside-hidden"),r.css("position",""))},this.insideContainer=function(){var e=t(".main-container"),i=r.find(".modal-dialog");if(i.css({right:"",left:""}),e.hasClass("container")){var s=!1;1==a&&(i.css(o,parseInt((n.width()-e.width())/2)),s=!0),s&&ace.vars.firefox&&ace.helper.redraw(e[0])}},this.flip=function(){var t={right:"left",left:"right",top:"bottom",bottom:"top"};r.removeClass("aside-"+o).addClass("aside-"+t[o]),o=t[o]};var p=function(){var t=r.find(".aside-trigger");if(0!=t.length){t.toggleClass("open");var e=t.find(ace.vars[".icon"]);0!=e.length&&e.toggleClass(e.attr("data-icon1")+" "+e.attr("data-icon2"))}};this.initiate(),this.container&&(this.container=t(this.container)),r.appendTo(this.container||"body")}var n=t(window);t(document).on("show.bs.modal",".modal.aside",function(){t(".aside.in").modal("hide"),t(this).ace_aside("show")}).on("hide.bs.modal",".modal.aside",function(){t(this).ace_aside("hide")}).on("shown.bs.modal",".modal.aside",function(){t(this).ace_aside("shown")}).on("hidden.bs.modal",".modal.aside",function(){t(this).ace_aside("hidden")}),t(window).on("resize.aside_container",function(){t(".modal.aside").ace_aside("insideContainer")}),t(document).on("settings.ace.aside",function(e,i){"main_container_fixed"==i&&t(".modal.aside").ace_aside("insideContainer")}),t.fn.aceAside=t.fn.ace_aside=function(n,s){var r,o=this.each(function(){var e=t(this),o=e.data("ace_aside"),a="object"==typeof n&&n;o||e.data("ace_aside",o=new i(this,a)),"string"==typeof n&&"function"==typeof o[n]&&(r=s instanceof Array?o[n].apply(o,s):o[n](s))});return r===e?o:r},t.fn.ace_aside.defaults={fixed:!1,background:!1,offset:!1,body_scroll:!1,transition:!0,scroll_style:"scroll-dark no-track",container:null,backdrop:!1,placement:"right"}}(window.jQuery),function(){"ace"in window||(window.ace={}),ace.config={storage_method:0,cookie_expiry:604800,cookie_path:""},"vars"in window.ace||(window.ace.vars={}),ace.vars.very_old_ie=!("querySelector"in document.documentElement),ace.settings={saveState:function(t,e,i,n){if(!t||"string"==typeof t&&!(t=document.getElementById(t))||!t.hasAttribute("id"))return!1;if(!ace.hasClass(t,"ace-save-state"))return!1;var e=e||"class",s=t.getAttribute("id"),r=ace.data.get("state","id-"+s)||{};if("string"==typeof r)try{r=JSON.parse(r)}catch(t){r={}}var o,a=void 0!==i,l=!1,c=/class/i;/checked|disabled|readonly|value/i.test(e)?o=a?i:t[e]:t.hasAttribute(e)?o=a?i:t.getAttribute(e):a||(l=!0),l?delete r[e]:c.test(e)?(r.hasOwnProperty(e)||(r[e]={}),!0===n?r[e][o]=1:!1===n?r[e][o]=-1:r[e].className=o):r[e]=o,ace.data.set("state","id-"+s,JSON.stringify(r))},loadState:function(t,e){if(!t||"string"==typeof t&&!(t=document.getElementById(t))||!t.hasAttribute("id"))return!1;var i=t.getAttribute("id"),n=ace.data.get("state","id-"+i)||{};if("string"==typeof n)try{n=JSON.parse(n)}catch(t){n={}}var s=function(t,e,i){var n=/class/i,s=/checked|disabled|readonly|value/i;if(n.test(e)){if("object"==typeof i){"className"in i&&t.setAttribute("class",i.className);for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];1==o?ace.addClass(t,r):-1==o&&ace.removeClass(t,r)}}}else s.test(e)?t[e]=i:t.setAttribute(e,i)};if(void 0!==e)n.hasOwnProperty(e)&&null!==n[e]&&s(t,e,n[e]);else for(var r in n)n.hasOwnProperty(r)&&null!==n[r]&&s(t,r,n[r])},clearState:function(t){var e=null;"string"==typeof t?e=t:"hasAttribute"in t&&t.hasAttribute("id")&&(e=t.getAttribute("id")),e&&ace.data.remove("state","id-"+e)}},function(){var t=function(){var t=!1,e="Webkit Moz O ms Khtml".split(" "),i="",n=document.createElement("div");if(void 0!==n.style.animationName&&(t=!0),!1===t)for(var s=0;s<e.length;s++)if(void 0!==n.style[e[s]+"AnimationName"]){i=e[s],i+"Animation","-"+i.toLowerCase()+"-",t=!0;break}return t};if(ace.vars.animation=t(),ace.vars.animation){var e=document.createElement("style");e.innerHTML="@keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-moz-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-webkit-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-ms-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}@-o-keyframes nodeInserted{from{outline-color:#fff}to{outline-color:#000}}.ace-save-state{animation-duration:10ms;-o-animation-duration:10ms;-ms-animation-duration:10ms;-moz-animation-duration:10ms;-webkit-animation-duration:10ms;animation-delay:0s;-o-animation-delay:0s;-ms-animation-delay:0s;-moz-animation-delay:0s;-webkit-animation-delay:0s;animation-name:nodeInserted;-o-animation-name:nodeInserted;-ms-animation-name:nodeInserted;-moz-animation-name:nodeInserted;-webkit-animation-name:nodeInserted}",document.head.appendChild(e);var i=function(t){var e=t.target;e&&ace.hasClass(e,"ace-save-state")&&ace.settings.loadState(e)};document.addEventListener("animationstart",i,!1),document.addEventListener("MSAnimationStart",i,!1),document.addEventListener("webkitAnimationStart",i,!1)}else{var n=function(){for(var t=document.querySelectorAll(".ace-save-state"),e=0;e<t.length;e++)ace.settings.loadState(t[e])};"complete"==document.readyState?n():document.addEventListener?document.addEventListener("DOMContentLoaded",n,!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&n()})}}(),ace.data_storage=function(t,e){var i="ace_",n=null,s=0;(1==t||t===e||0==t)&&"localStorage"in window&&null!==window.localStorage?(n=ace.storage,s=1):null==n&&(2==t||t===e)&&"cookie"in document&&null!==document.cookie&&(n=ace.cookie,s=2),this.set=function(t,e,r,o,a,l){if(n)if(r===l)r=e,e=t,null==r?n.remove(i+e):1==s?n.set(i+e,r):2==s&&n.set(i+e,r,ace.config.cookie_expiry,o||ace.config.cookie_path);else if(1==s)null==r?n.remove(i+t+"_"+e):(a&&"object"==typeof r&&(r=JSON.stringify(r)),n.set(i+t+"_"+e,r));else if(2==s){var c=n.get(i+t),d=c?JSON.parse(c):{};if(null==r){if(delete d[e],0==ace.sizeof(d))return void n.remove(i+t)}else d[e]=r;n.set(i+t,JSON.stringify(d),ace.config.cookie_expiry,o||ace.config.cookie_path)}},this.get=function(t,e,r,o){if(!n)return null;if(e===o)return e=t,n.get(i+e);if(1==s){var a=n.get(i+t+"_"+e);if(r&&a)try{a=JSON.parse(a)}catch(t){}return a}if(2==s){var l=n.get(i+t),c=l?JSON.parse(l):{};return e in c?c[e]:null}},this.remove=function(t,e,i){n&&(e===i?(e=t,this.set(e,null)):this.set(t,e,null))}},ace.cookie={get:function(t){var e,i,n=document.cookie,s=t+"=";if(n){if(-1==(i=n.indexOf("; "+s))){if(0!=(i=n.indexOf(s)))return null}else i+=2;return e=n.indexOf(";",i),-1==e&&(e=n.length),decodeURIComponent(n.substring(i+s.length,e))}},set:function(t,e,i,n,s,r){var o=new Date;"object"==typeof i&&i.toGMTString?i=i.toGMTString():parseInt(i,10)?(o.setTime(o.getTime()+1e3*parseInt(i,10)),i=o.toGMTString()):i="",document.cookie=t+"="+encodeURIComponent(e)+(i?"; expires="+i:"")+(n?"; path="+n:"")+(s?"; domain="+s:"")+(r?"; secure":"")},remove:function(t,e){this.set(t,"",-1e3,e)}},ace.storage={get:function(t){return window.localStorage.getItem(t)},set:function(t,e){window.localStorage.setItem(t,e)},remove:function(t){window.localStorage.removeItem(t)}},ace.sizeof=function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e},ace.hasClass=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},ace.addClass=function(t,e){for(var i=e.split(/\s+/),n=0;n<i.length;n++)if(i[n].length>0&&!ace.hasClass(t,i[n])){var s=t.className;t.className=s+(s.length?" ":"")+i[n]}},ace.removeClass=function(t,e){for(var i=e.split(/\s+/),n=0;n<i.length;n++)i[n].length>0&&ace.replaceClass(t,i[n]);ace.replaceClass(t,e)},ace.replaceClass=function(t,e,i){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","i");t.className=t.className.replace(n,function(t,e,n){return i?e+i+n:" "}).replace(/^\s+|\s+$/g,"")},ace.toggleClass=function(t,e){ace.hasClass(t,e)?ace.removeClass(t,e):ace.addClass(t,e)},ace.isHTMlElement=function(t){return window.HTMLElement?t instanceof HTMLElement:"nodeType"in t&&1==t.nodeType},ace.data=new ace.data_storage(ace.config.storage_method)}(),"undefined"==typeof jQuery)throw new Error("Ace's JavaScript requires jQuery");if(!function(){"ace"in window||(window.ace={}),"helper"in window.ace||(window.ace.helper={}),"vars"in window.ace||(window.ace.vars={}),window.ace.vars.icon=" ace-icon ",window.ace.vars[".icon"]=".ace-icon",ace.vars.touch="ontouchstart"in window;var t=navigator.userAgent;ace.vars.webkit=!!t.match(/AppleWebKit/i),ace.vars.safari=!!t.match(/Safari/i)&&!t.match(/Chrome/i),ace.vars.android=ace.vars.safari&&!!t.match(/Android/i),ace.vars.ios_safari=!!t.match(/OS ([4-9])(_\d)+ like Mac OS X/i)&&!t.match(/CriOS/i),ace.vars.ie=window.navigator.msPointerEnabled||document.all&&document.querySelector,ace.vars.old_ie=document.all&&!document.addEventListener,ace.vars.very_old_ie=document.all&&!document.querySelector,ace.vars.firefox="MozAppearance"in document.documentElement.style,ace.vars.non_auto_fixed=ace.vars.android||ace.vars.ios_safari,ace.click_event=ace.vars.touch&&jQuery.fn.tap?"tap":"click"}(),function(t){t.unCamelCase=function(t){return t.replace(/([a-z])([A-Z])/g,function(t,e,i){return e+"-"+i.toLowerCase()})},t.strToVal=function(t){var e=t.match(/^(?:(true)|(false)|(null)|(\-?[\d]+(?:\.[\d]+)?)|(\[.*\]|\{.*\}))$/i),i=t;if(e)if(e[1])i=!0;else if(e[2])i=!1;else if(e[3])i=null;else if(e[4])i=parseFloat(t);else if(e[5])try{i=JSON.parse(t)}catch(t){}return i},t.getAttrSettings=function(e,i,n){if(e){var s=i instanceof Array?1:2,n=n?n.replace(/([^\-])$/,"$1-"):"";n="data-"+n;var r={};for(var o in i)if(i.hasOwnProperty(o)){var a,l=1==s?i[o]:o,c=t.unCamelCase(l.replace(/[^A-Za-z0-9]{1,}/g,"-")).toLowerCase();if(!(a=e.getAttribute(n+c)))continue;r[l]=t.strToVal(a)}return r}},t.scrollTop=function(){return document.scrollTop||document.documentElement.scrollTop||document.body.scrollTop},t.winHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.redraw=function(t,e){if(t){var i=t.style.display;t.style.display="none",t.offsetHeight,!0!==e?t.style.display=i:setTimeout(function(){t.style.display=i},10)}}}(ace.helper),jQuery(function(){try{ace.demo.init()}catch(t){}}),function(t){ace.demo={functions:{},init:function(t){var t=!!t&&!0;if("undefined"==typeof requirejs||t)for(var e in ace.demo.functions)ace.demo.functions.hasOwnProperty(e)&&ace.demo.functions[e]()}},ace.demo.functions.basics=function(){ace.vars.non_auto_fixed&&t("body").addClass("mob-safari"),ace.vars.transition=ace.vars.animation||!!t.support.transition},ace.demo.functions.enableSidebar=function(){var e=t(".sidebar");t.fn.ace_sidebar&&e.ace_sidebar(),t.fn.ace_sidebar_scroll&&e.ace_sidebar_scroll({include_toggle:ace.vars.safari||ace.vars.ios_safari}),t.fn.ace_sidebar_hover&&e.ace_sidebar_hover({sub_hover_delay:750,sub_scroll_style:"no-track scroll-thin scroll-margin scroll-visible"})},ace.demo.functions.enableDemoAjax=function(){if(t.fn.ace_ajax){window.Pace&&(window.paceOptions={ajax:!0,document:!0,eventLag:!1});var e={close_active:!0,close_mobile_menu:"#sidebar",close_dropdowns:!0,default_url:"page/index",content_url:function(t){if(!t.match(/^page\//))return!1;var e=document.location.pathname;return e.match(/(\/ajax\/)(index\.html)?/)?e.replace(/(\/ajax\/)(index\.html)?/,"/ajax/content/"+t.replace(/^page\//,"")+".html"):e+"?"+t.replace(/\//,"=")}};e.loading_overlay="body",t("[data-ajax-content=true]").ace_ajax(e),t(window).on("error.ace_ajax",function(){t("[data-ajax-content=true]").each(function(){var e=t(this);e.ace_ajax("working")&&(window.Pace&&Pace.running&&Pace.stop(),e.ace_ajax("stopLoading",!0))})})}},ace.demo.functions.handleScrollbars=function(){var e=!!t.fn.ace_scroll;e&&t(".dropdown-content").ace_scroll({reset:!1,mouseWheelLock:!0}),e&&!ace.vars.old_ie&&(t(window).on("resize.reset_scroll",function(){t(".ace-scroll:not(.scroll-disabled)").not(":hidden").ace_scroll("reset")}),e&&t(document).on("settings.ace.reset_scroll",function(e,i){"sidebar_collapsed"==i&&t(".ace-scroll:not(.scroll-disabled)").not(":hidden").ace_scroll("reset")}))},ace.demo.functions.dropdownAutoPos=function(){t(document).on("click.dropdown.pos",'.dropdown-toggle[data-position="auto"]',function(){var e=t(this).offset(),i=t(this.parentNode);parseInt(e.top+t(this).height())+50>ace.helper.scrollTop()+ace.helper.winHeight()-i.find(".dropdown-menu").eq(0).height()?i.addClass("dropup"):i.removeClass("dropup")})},ace.demo.functions.navbarHelpers=function(){t('.ace-nav [class*="icon-animated-"]').closest("a").one("click",function(){var e=t(this).find('[class*="icon-animated-"]').eq(0),i=e.attr("class").match(/icon\-animated\-([\d\w]+)/);e.removeClass(i[0])}),t(document).on("click",".dropdown-navbar .nav-tabs",function(e){e.stopPropagation();var i;e.target,(i=t(e.target).closest("[data-toggle=tab]"))&&i.length>0&&(i.tab("show"),e.preventDefault(),t(window).triggerHandler("resize.navbar.dropdown"))})},ace.demo.functions.sidebarTooltips=function(){t(".sidebar .nav-list .badge[title],.sidebar .nav-list .badge[title]").each(function(){var e=t(this).attr("class").match(/tooltip\-(?:\w+)/);e=e?e[0]:"tooltip-error",t(this).tooltip({placement:function(e,i){var n=t(i).offset();return parseInt(n.left)<parseInt(document.body.scrollWidth/2)?"right":"left"},container:"body",template:'<div class="tooltip '+e+'"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})})},ace.demo.functions.someBrowserFix=function(){if(ace.vars.webkit){var e=t(".ace-nav").get(0);e&&t(window).on("resize.webkit_fix",function(){ace.helper.redraw(e)})}ace.vars.ios_safari&&t(document).on("ace.settings.ios_fix",function(e,i,n){"navbar_fixed"==i&&(t(document).off("focus.ios_fix blur.ios_fix","input,textarea,.wysiwyg-editor"),1==n&&t(document).on("focus.ios_fix","input,textarea,.wysiwyg-editor",function(){t(window).on("scroll.ios_fix",function(){var e=t("#navbar").get(0);e&&ace.helper.redraw(e)})}).on("blur.ios_fix","input,textarea,.wysiwyg-editor",function(){t(window).off("scroll.ios_fix")}))}).triggerHandler("ace.settings.ios_fix",["navbar_fixed","fixed"==t("#navbar").css("position")])},ace.demo.functions.bsCollapseToggle=function(){t(document).on("hide.bs.collapse show.bs.collapse",function(e){var i=e.target.getAttribute("id"),n=t('a[href*="#'+i+'"]');0==n.length&&(n=t('a[data-target*="#'+i+'"]')),0!=n.length&&n.find(ace.vars[".icon"]).each(function(){var i,n=t(this),s=null,r=null
;return(s=n.attr("data-icon-show"))?r=n.attr("data-icon-hide"):(i=n.attr("class").match(/fa\-(.*)\-(up|down)/))&&(s="fa-"+i[1]+"-down",r="fa-"+i[1]+"-up"),s?("show"==e.type?n.removeClass(s).addClass(r):n.removeClass(r).addClass(s),!1):void 0})})},ace.demo.functions.smallDeviceDropdowns=function(){function e(){var e=t(this).find("> .dropdown-menu");if("fixed"==e.css("position")){var n=parseInt(t(window).width()),s=n>320?60:n>240?40:30,r=parseInt(n)-s,o=parseInt(t(window).height())-30,a=parseInt(Math.min(r,320));e.css("width",a);var l=!1,c=0,d=e.find(".tab-pane.active .dropdown-content.ace-scroll");0==d.length?d=e.find(".dropdown-content.ace-scroll"):l=!0;var h=d.closest(".dropdown-menu"),u=e[0].scrollHeight;if(1==d.length){var p=d.find(".scroll-content")[0];p&&(u=p.scrollHeight),c+=h.find(".dropdown-header").outerHeight(),c+=h.find(".dropdown-footer").outerHeight();var f=h.closest(".tab-content");0!=f.length&&(c+=f.siblings(".nav-tabs").eq(0).height())}var g=parseInt(Math.min(o,480,u+c)),m=parseInt(Math.abs((r+s-a)/2)),v=parseInt(Math.abs((o+30-g)/2)),b=parseInt(e.css("z-index"))||0;if(e.css({height:g,left:m,right:"auto",top:v-(l?3:1)}),1==d.length&&(ace.vars.touch?d.ace_scroll("disable").css("max-height",g-c).addClass("overflow-scroll"):d.ace_scroll("update",{size:g-c}).ace_scroll("enable").ace_scroll("reset")),e.css("height",g+(l?7:2)),e.hasClass("user-menu")){e.css("height","");var y=t(this).find(".user-info");1==y.length&&"fixed"==y.css("position")?y.css({left:m,right:"auto",top:v,width:a-2,"max-width":a-2,"z-index":b+1}):y.css({left:"",right:"",top:"",width:"","max-width":"","z-index":""})}t(this).closest(".navbar.navbar-fixed-top").css("z-index",b)}else 0!=e.length&&i.call(this,e)}function i(e){e=e||t(this).find("> .dropdown-menu"),e.length>0&&(e.css({width:"",height:"",left:"",right:"",top:""}).find(".dropdown-content").each(function(){ace.vars.touch&&t(this).css("max-height","").removeClass("overflow-scroll");var e=parseInt(t(this).attr("data-size")||0)||t.fn.ace_scroll.defaults.size;t(this).ace_scroll("update",{size:e}).ace_scroll("enable").ace_scroll("reset")}),e.hasClass("user-menu"))&&t(this).find(".user-info").css({left:"",right:"",top:"",width:"","max-width":"","z-index":""}),t(this).closest(".navbar").css("z-index","")}ace.vars.old_ie||t(document).on("shown.bs.dropdown.navbar",".ace-nav > li.dropdown-modal",function(){e.call(this);var i=this;t(window).on("resize.navbar.dropdown",function(){e.call(i)})}).on("hidden.bs.dropdown.navbar",".ace-nav > li.dropdown-modal",function(){t(window).off("resize.navbar.dropdown"),i.call(this)})}}(jQuery),function(t){var e=t(".btn-scroll-up");if(e.length>0){var i=!1;t(window).on("scroll.scroll_btn",function(){var t=ace.helper.scrollTop(),n=ace.helper.winHeight(),s=document.body.scrollHeight;t>parseInt(n/4)||t>0&&s>=n&&n+t>=s-1?i||(e.addClass("display"),i=!0):i&&(e.removeClass("display"),i=!1)}).triggerHandler("scroll.scroll_btn"),e.on(ace.click_event,function(){var e=Math.min(500,Math.max(100,parseInt(ace.helper.scrollTop()/3)));return t("html,body").animate({scrollTop:0},e),!1})}}(window.jQuery),function(t,e){function i(e,i){function s(e){var i="",n=t(".breadcrumb");if(n.length>0&&n.is(":visible")){n.find("> li:not(:first-child)").remove();var s=0;e.parents(".nav li").each(function(){var e=t(this).find("> a"),r=e.clone();r.find("i,.fa,.glyphicon,.ace-icon,.menu-icon,.badge,.label").remove();var o=r.text();r.remove();var a=e.attr("href");if(0==s){var l=t('<li class="active"></li>').appendTo(n);l.text(o),i=o}else{var l=t("<li><a /></li>").insertAfter(n.find("> li:first-child"));l.find("a").attr("href",a).text(o)}s++})}return i}function r(e){var i=o.find(".ajax-append-title");if(i.length>0)document.title=i.text(),i.remove();else if(e.length>0){var n=t.trim(String(document.title).replace(/^(.*)[\-]/,""));n&&(n=" - "+n),e=t.trim(e)+n}}var o=t(e),a=this;o.attr("data-ajax-content","true");var l=ace.helper.getAttrSettings(e,t.fn.ace_ajax.defaults);this.settings=t.extend({},t.fn.ace_ajax.defaults,i,l);var c=!1,d=t();this.force_reload=!1,this.loadUrl=function(t,e,i){var n=!1;t=t.replace(/^(\#\!)?\#/,""),this.force_reload=!1===e,"function"==typeof this.settings.content_url&&(n=this.settings.content_url(t)),"string"==typeof n&&this.getUrl(n,t,i)},this.loadAddr=function(t,e,i){this.force_reload=!1===i,this.getUrl(t,e,!1)},this.reload=function(){var e=t.trim(window.location.hash);!e&&this.settings.default_url&&(e=this.settings.default_url),this.loadUrl(e,!1)},this.post=function(e,i,n,s){var e=e||t.trim(location.href.replace(location.hash,""));if(e){var i=i||{},n=n||!1;this.getUrl(e,null,!1,"POST",i,n,s)}},this.getUrl=function(e,i,n,l,h,u,p){if(!c){var f,l=l||"GET",u="GET"==l||"POST"==l&&1==u,h=h||null;if(o.trigger(f=t.Event("ajaxloadstart"),{url:e,hash:i,method:l,data:h}),!f.isDefaultPrevented()){a.startLoading();var g="GET"==l?{url:e,cache:!this.force_reload}:{url:e,method:"POST",data:h};"POST"==l&&"object"==typeof p&&(g=t.extend({},g,p)),t.ajax(g).error(function(){o.trigger("ajaxloaderror",{url:e,hash:i,method:l,data:h}),a.stopLoading(!0)}).done(function(c){if(o.trigger("ajaxloaddone",{url:e,hash:i,method:l,data:h}),"POST"==l){var p;o.trigger(p=t.Event("ajaxpostdone",{url:e,data:h,result:c})),p.isDefaultPrevented()&&(u=!1)}var f=null,g="";if("function"==typeof a.settings.update_active)f=a.settings.update_active.call(null,i,e,l,u);else if(!0===a.settings.update_active&&i&&(f=t('a[data-url="'+i+'"]'),f.length>0)){var m=f.closest(".nav");m.length>0&&(m.find(".active").each(function(){var e="active";(t(this).hasClass("hover")||a.settings.close_active)&&(e+=" open"),t(this).removeClass(e),a.settings.close_active&&t(this).find(" > .submenu").css("display","")}),f.closest("li").addClass("active").parents(".nav li").addClass("active open"),m.closest(".sidebar[data-sidebar-scroll=true]").each(function(){var e=t(this);e.ace_sidebar_scroll("reset"),1==n&&e.ace_sidebar_scroll("scroll_to_active")}))}"function"==typeof a.settings.update_breadcrumbs?g=a.settings.update_breadcrumbs.call(null,i,e,f,l,u):!0===a.settings.update_breadcrumbs&&null!=f&&f.length>0&&(g=s(f)),d.addClass("content-loaded").detach(),u&&(c=String(c).replace(/<(title|link)([\s\>])/gi,'<div class="hidden ajax-append-$1"$2').replace(/<\/(title|link)\>/gi,"</div>"),o.empty().html(c)),t(a.settings.loading_overlay||o).append(d),u&&setTimeout(function(){t("head").find("link.ace-ajax-stylesheet").remove();for(var e=["link.ace-main-stylesheet","link#main-ace-style",'link[href*="/ace.min.css"]','link[href*="/ace.css"]'],i=[],n=0;n<e.length&&(i=t("head").find(e[n]).first(),!(i.length>0));n++);o.find(".ajax-append-link").each(function(){var e=t(this);if(e.attr("href")){var n=jQuery("<link />",{type:"text/css",rel:"stylesheet","class":"ace-ajax-stylesheet"});i.length>0?n.insertBefore(i):n.appendTo("head"),n.attr("href",e.attr("href"))}e.remove()})},10),"function"==typeof a.settings.update_title?a.settings.update_title.call(null,i,e,g,l,u):!0===a.settings.update_title&&"GET"==l&&r(g),!n&&u&&t("html,body").animate({scrollTop:0},250),o.trigger("ajaxloadcomplete",{url:e,hash:i,method:l,data:h});var v=/\.(?:\s*)ace(?:_a|A)jax(?:\s*)\((?:\s*)(?:\'|\")loadScripts(?:\'|\")/;c.match(v)?a.stopLoading():a.stopLoading(!0)})}}};var h=!1,u=null;this.startLoading=function(){c||(c=!0,this.settings.loading_overlay||"static"!=o.css("position")||(o.css("position","relative"),h=!0),d.remove(),d=t('<div class="ajax-loading-overlay"><i class="ajax-loading-icon '+(this.settings.loading_icon||"")+'"></i> '+this.settings.loading_text+"</div>"),"body"==this.settings.loading_overlay?t("body").append(d.addClass("ajax-overlay-body")):this.settings.loading_overlay?t(this.settings.loading_overlay).append(d):o.append(d),!1!==this.settings.max_load_wait&&(u=setTimeout(function(){if(u=null,c){var e;o.trigger(e=t.Event("ajaxloadlong")),e.isDefaultPrevented()||a.stopLoading(!0)}},1e3*this.settings.max_load_wait)))},this.stopLoading=function(t){!0===t?(c=!1,d.remove(),h&&(o.css("position",""),h=!1),null!=u&&(clearTimeout(u),u=null)):(d.addClass("almost-loaded"),o.one("ajaxscriptsloaded.inner_call",function(){a.stopLoading(!0)}))},this.working=function(){return c},this.loadScripts=function(e,i){var e=e||[];t.ajaxPrefilter("script",function(t){t.cache=!0}),setTimeout(function(){function s(){"function"==typeof i&&i(),t('.btn-group[data-toggle="buttons"] > .btn').button(),o.trigger("ajaxscriptsloaded")}function r(t){t+=1,t<e.length?a(t):s()}function a(i){if(i=i||0,!e[i])return r(i);var o="js-"+e[i].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");!0!==n[o]?t.getScript(e[i]).done(function(){n[o]=!0}).complete(function(){d++,d>=l&&c?s():r(i)}):r(i)}for(var l=0,d=0,h=0;h<e.length;h++)e[h]&&function(){var t="js-"+e[h].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");!0!==n[t]&&l++}();l>0?a():s()},10)},t(window).off("hashchange.ace_ajax").on("hashchange.ace_ajax",function(e,i){var n=t.trim(window.location.hash);if(n&&0!=n.length){if(a.settings.close_mobile_menu)try{t(a.settings.close_mobile_menu).ace_sidebar("mobileHide")}catch(e){}a.settings.close_dropdowns&&t(".dropdown.open .dropdown-toggle").dropdown("toggle"),a.loadUrl(n,null,i)}}).trigger("hashchange.ace_ajax",[!0]),!t.trim(window.location.hash)&&this.settings.default_url&&(window.location.hash=this.settings.default_url)}var n={};t.fn.aceAjax=t.fn.ace_ajax=function(n,s,r,o,a){var l,c=this.each(function(){var c=t(this),d=c.data("ace_ajax"),h="object"==typeof n&&n;d||c.data("ace_ajax",d=new i(this,h)),"string"==typeof n&&"function"==typeof d[n]&&(l=a!==e?d[n](s,r,o,a):o!==e?d[n](s,r,o):r!==e?d[n](s,r):d[n](s))});return l===e?c:l},t.fn.aceAjax.defaults=t.fn.ace_ajax.defaults={content_url:!1,default_url:!1,loading_icon:"fa fa-spin fa-spinner fa-2x orange",loading_text:"",loading_overlay:null,update_breadcrumbs:!0,update_title:!0,update_active:!0,close_active:!1,max_load_wait:!1,close_mobile_menu:!1,close_dropdowns:!1}}(window.jQuery),function(t,e){if(ace.vars.touch){var i="touchmove MSPointerMove MSPointerHover pointermove";t.event.special.ace_drag={setup:function(){var n=0,s=t(this);s.on("touchstart MSPointerDown pointerdown",function(r){function o(t){if(c){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t;if(a={coords:[e.pageX,e.pageY]},c&&a&&(h=0,u=0,!1!==(d=Math.abs(u=c.coords[1]-a.coords[1])>n&&Math.abs(h=c.coords[0]-a.coords[0])<=Math.abs(u)?u>0?"up":"down":Math.abs(h=c.coords[0]-a.coords[0])>n&&Math.abs(u)<=Math.abs(h)&&(h>0?"left":"right")))){var i={cancel:!1};c.origin.trigger({type:"ace_drag",direction:d,dx:h,dy:u,retval:i}),0==i.cancel&&t.preventDefault()}c.coords[0]=a.coords[0],c.coords[1]=a.coords[1]}}var a,l=r.originalEvent.touches?r.originalEvent.touches[0]:r,c={coords:[l.pageX,l.pageY],origin:t(r.target)},d=!1,h=0,u=0;s.on(i,o).one("touchend touchcancel MSPointerUp MSPointerCancel pointerup pointercancel",function(){s.off(i,o),c=a=e})})}}}}(window.jQuery),function(t,e){function i(e,i){function s(){this.mobile_view=this.mobile_style<4&&this.is_mobile_view(),this.collapsible=!this.mobile_view&&this.is_collapsible(),this.minimized=!this.collapsible&&this.$sidebar.hasClass(d)||3==this.mobile_style&&this.mobile_view&&this.$sidebar.hasClass(h),this.horizontal=!(this.mobile_view||this.collapsible)&&this.$sidebar.hasClass(p)}var r=this;this.$sidebar=t(e),this.$sidebar.attr("data-sidebar","true"),this.$sidebar.attr("id")||this.$sidebar.attr("id","id-sidebar-"+ ++n);var o=ace.helper.getAttrSettings(e,t.fn.ace_sidebar.defaults,"sidebar-");this.settings=t.extend({},t.fn.ace_sidebar.defaults,i,o),this.minimized=!1,this.collapsible=!1,this.horizontal=!1,this.mobile_view=!1,this.vars=function(){return{minimized:this.minimized,collapsible:this.collapsible,horizontal:this.horizontal,mobile_view:this.mobile_view}},this.get=function(t){return this.hasOwnProperty(t)?this[t]:void 0},this.set=function(t,e){this.hasOwnProperty(t)&&(this[t]=e)},this.ref=function(){return this};var a=function(e,i){var n,s,r=t(this).find(ace.vars[".icon"]);if(r.length>0){n=r.attr("data-icon1"),s=r.attr("data-icon2"),void 0!==e?e?r.removeClass(n).addClass(s):r.removeClass(s).addClass(n):r.toggleClass(n).toggleClass(s);try{!1!==i&&ace.settings.saveState(r.get(0))}catch(t){}}},l=function(){var e=r.$sidebar.find(".sidebar-collapse");return 0==e.length&&(e=t('.sidebar-collapse[data-target="#'+(r.$sidebar.attr("id")||"")+'"]')),e=0!=e.length?e[0]:null};this.toggleMenu=function(i,n){if(this.collapsible)return!1;this.minimized=!this.minimized;var n=!(!1===i||!1===n);this.minimized?this.$sidebar.addClass("menu-min"):this.$sidebar.removeClass("menu-min");try{n&&ace.settings.saveState(e,"class","menu-min",this.minimized)}catch(t){}return i||(i=l()),i&&a.call(i,this.minimized,n),ace.vars.old_ie&&ace.helper.redraw(e),t(document).trigger("settings.ace",["sidebar_collapsed",this.minimized,e,n]),this.minimized?this.$sidebar.trigger(t.Event("collapse.ace.sidebar")):this.$sidebar.trigger(t.Event("expand.ace.sidebar")),!0},this.collapse=function(t,e){this.collapsible||(this.minimized=!1,this.toggleMenu(t,e))},this.expand=function(t,e){this.collapsible||(this.minimized=!0,this.toggleMenu(t,e))},this.showResponsive=function(){this.$sidebar.removeClass(h).removeClass(u)},this.toggleResponsive=function(e,i){if(this.mobile_view&&3==this.mobile_style){if(this.$sidebar.hasClass("menu-min")){this.$sidebar.removeClass("menu-min");var n=l();n&&a.call(n)}var i="boolean"==typeof i?i:"boolean"==typeof e?e:this.$sidebar.hasClass(h);if(i?this.$sidebar.addClass(u).removeClass(h):this.$sidebar.removeClass(u).addClass(h),this.minimized=!i,e&&"object"==typeof e||(e=this.$sidebar.find(".sidebar-expand"),0==e.length&&(e=t('.sidebar-expand[data-target="#'+(this.$sidebar.attr("id")||"")+'"]')),e=0!=e.length?e[0]:null),e){var s,o,c=t(e).find(ace.vars[".icon"]);c.length>0&&(s=c.attr("data-icon1"),o=c.attr("data-icon2"),i?c.removeClass(s).addClass(o):c.removeClass(o).addClass(s))}i?r.$sidebar.trigger(t.Event("mobileShow.ace.sidebar")):r.$sidebar.trigger(t.Event("mobileHide.ace.sidebar")),t(document).triggerHandler("settings.ace",["sidebar_collapsed",this.minimized])}},this.is_collapsible=function(){var e;return this.$sidebar.hasClass("navbar-collapse")&&null!=(e=t('.navbar-toggle[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))&&e.scrollHeight>0},this.is_mobile_view=function(){var e;return null!=(e=t('.menu-toggler[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))&&e.scrollHeight>0};var c=!1;this.show=function(e,i,n){if((n=!1!==n)&&c)return!1;var s,r=t(e);if(r.trigger(s=t.Event("show.ace.submenu")),s.isDefaultPrevented())return!1;n&&(c=!0),i=void 0!==i?i:this.settings.duration,r.css({height:0,overflow:"hidden",display:"block"}).removeClass("nav-hide").addClass("nav-show").parent().addClass("open"),e.scrollTop=0;var o=function(e,i){e&&e.stopPropagation(),r.css({"transition-property":"","transition-duration":"",overflow:"",height:""}),!1!==i&&r.trigger(t.Event("shown.ace.submenu")),n&&(c=!1)},a=e.scrollHeight;return 0!=i&&0!=a&&t.support.transition.end?(r.css({height:a,"transition-property":"height","transition-duration":i/1e3+"s"}).one(t.support.transition.end,o),ace.vars.android&&setTimeout(function(){o(null,!1),ace.helper.redraw(e)},i+20)):o(),!0},this.hide=function(e,i,n){if((n=!1!==n)&&c)return!1;var s,r=t(e);if(r.trigger(s=t.Event("hide.ace.submenu")),s.isDefaultPrevented())return!1;n&&(c=!0),i=void 0!==i?i:this.settings.duration;var o=e.scrollHeight;r.css({height:o,overflow:"hidden",display:"block"}).parent().removeClass("open"),e.offsetHeight;var a=function(e,i){e&&e.stopPropagation(),r.css({display:"none",overflow:"",height:"","transition-property":"","transition-duration":""}).removeClass("nav-show").addClass("nav-hide"),!1!==i&&r.trigger(t.Event("hidden.ace.submenu")),n&&(c=!1)};return 0!=i&&0!=o&&t.support.transition.end?(r.css({height:0,"transition-property":"height","transition-duration":i/1e3+"s"}).one(t.support.transition.end,a),ace.vars.android&&setTimeout(function(){a(null,!1),ace.helper.redraw(e)},i+20)):a(),!0},this.toggle=function(t,e){if(e=e||r.settings.duration,0==t.scrollHeight){if(this.show(t,e))return 1}else if(this.hide(t,e))return-1;return 0},this.mobileToggle=function(t){this.mobile_view?1==this.mobile_style||2==this.mobile_style?this.toggleMobile("object"==typeof t?t:null,"boolean"==typeof t?t:null):3==this.mobile_style&&this.toggleResponsive("object"==typeof t?t:null,"boolean"==typeof t?t:null):this.collapsible&&this.toggleCollapsible("object"==typeof t?t:null,"boolean"==typeof t?t:null)},this.mobileShow=function(){this.mobileToggle(!0)},this.mobileHide=function(){this.mobileToggle(!1)},this.toggleMobile=function(e,i){if(1==this.mobile_style||2==this.mobile_style){var i="boolean"==typeof i?i:"boolean"==typeof e?e:!this.$sidebar.hasClass("display");e&&"object"==typeof e||(e=t('.menu-toggler[data-target="#'+(this.$sidebar.attr("id")||"")+'"]'),e=0!=e.length?e[0]:null),i?(this.$sidebar.addClass("display"),e&&t(e).addClass("display")):(this.$sidebar.removeClass("display"),e&&t(e).removeClass("display")),i?r.$sidebar.trigger(t.Event("mobileShow.ace.sidebar")):r.$sidebar.trigger(t.Event("mobileHide.ace.sidebar"))}},this.toggleCollapsible=function(e,i){if(4==this.mobile_style){var i="boolean"==typeof i?i:"boolean"==typeof e?e:!this.$sidebar.hasClass("in");i?this.$sidebar.collapse("show"):(this.$sidebar.removeClass("display"),this.$sidebar.collapse("hide")),i?r.$sidebar.trigger(t.Event("mobileShow.ace.sidebar")):r.$sidebar.trigger(t.Event("mobileHide.ace.sidebar"))}};var d="menu-min",h="responsive-min",u="responsive-max",p="h-sidebar";(function(){this.mobile_style=1,this.$sidebar.hasClass("responsive")&&!t('.menu-toggler[data-target="#'+this.$sidebar.attr("id")+'"]').hasClass("navbar-toggle")?this.mobile_style=2:this.$sidebar.hasClass(h)?this.mobile_style=3:this.$sidebar.hasClass("navbar-collapse")&&(this.mobile_style=4)}).call(r),t(window).on("resize.sidebar.vars",function(){s.call(r)}).triggerHandler("resize.sidebar.vars"),this.$sidebar.on(ace.click_event+".ace.submenu",".nav-list",function(e){var i=this,n=t(e.target).closest("a");if(n&&0!=n.length){var s=r.minimized&&!r.collapsible;if(n.hasClass("dropdown-toggle")){e.preventDefault();var o=n.siblings(".submenu").get(0);if(!o)return!1;var a=t(o),l=0,c=o.parentNode.parentNode;if(s&&c==i||a.parent().hasClass("hover")&&"absolute"==a.css("position")&&!r.collapsible)return!1;var d=0==o.scrollHeight;return d&&r.settings.hide_open_subs&&t(c).find("> .open > .submenu").each(function(){this==o||t(this.parentNode).hasClass("active")||(l-=this.scrollHeight,r.hide(this,r.settings.duration,!1))}),d?(r.show(o,r.settings.duration),0!=l&&(l+=o.scrollHeight)):(r.hide(o,r.settings.duration),l-=o.scrollHeight),0!=l&&("true"!=r.$sidebar.attr("data-sidebar-scroll")||r.minimized||r.$sidebar.ace_sidebar_scroll("prehide",l)),!1}if("tap"==ace.click_event&&s&&n.get(0).parentNode.parentNode==i){var h=n.find(".menu-text").get(0);if(null!=h&&e.target!=h&&!t.contains(h,e.target))return e.preventDefault(),!1}if(ace.vars.ios_safari&&"false"!==n.attr("data-link"))return document.location=n.attr("href"),e.preventDefault(),!1}})}var n=0;t(document).on(ace.click_event+".ace.menu",".menu-toggler",function(e){var i=t(this),n=t(i.attr("data-target"));if(0!=n.length){e.preventDefault(),n.ace_sidebar("mobileToggle",this);var s=ace.click_event+".ace.autohide",r="true"===n.attr("data-auto-hide");return i.hasClass("display")?(r&&t(document).on(s,function(e){return n.get(0)==e.target||t.contains(n.get(0),e.target)?void e.stopPropagation():(n.ace_sidebar("mobileToggle",this,!1),void t(document).off(s))}),"true"==n.attr("data-sidebar-scroll")&&n.ace_sidebar_scroll("reset")):r&&t(document).off(s),!1}}).on(ace.click_event+".ace.menu",".sidebar-collapse",function(e){var i=t(this).attr("data-target"),n=null;i&&(n=t(i)),null!=n&&0!=n.length||(n=t(this).closest(".sidebar")),0!=n.length&&(e.preventDefault(),n.ace_sidebar("toggleMenu",this))}).on(ace.click_event+".ace.menu",".sidebar-expand",function(e){var i=t(this).attr("data-target"),n=null;if(i&&(n=t(i)),null!=n&&0!=n.length||(n=t(this).closest(".sidebar")),0!=n.length){var s=this;e.preventDefault(),n.ace_sidebar("toggleResponsive",this);var r=ace.click_event+".ace.autohide";"true"===n.attr("data-auto-hide")&&(n.hasClass(responsive_max_class)?t(document).on(r,function(e){return n.get(0)==e.target||t.contains(n.get(0),e.target)?void e.stopPropagation():(n.ace_sidebar("toggleResponsive",s),void t(document).off(r))}):t(document).off(r))}}),t.fn.ace_sidebar=function(n,s,r){var o,a=this.each(function(){var a=t(this),l=a.data("ace_sidebar"),c="object"==typeof n&&n;l||a.data("ace_sidebar",l=new i(this,c)),"string"==typeof n&&"function"==typeof l[n]&&(o=s instanceof Array?l[n].apply(l,s):r!==e?l[n](s,r):l[n](s))});return o===e?a:o},t.fn.ace_sidebar.defaults={duration:300,hide_open_subs:!0}}(window.jQuery),function(t,e){function i(e,i){var r,o,a,l,c=this,d=t(window),h=t(e);if(r=h.find(".nav-list"),o=r.get(0)){var u=ace.helper.getAttrSettings(e,t.fn.ace_sidebar_scroll.defaults);this.settings=t.extend({},t.fn.ace_sidebar_scroll.defaults,i,u);var p=c.settings.scroll_to_active,f=h.ace_sidebar("ref");h.attr("data-sidebar-scroll","true");var g=null,m=null,v=null,b=null,y=null,w=null;this.is_scrolling=!1;var _=!1;this.sidebar_fixed=s(e,"fixed");var x,C,$=function(){var t=r.parent().offset();return c.sidebar_fixed&&(t.top-=ace.helper.scrollTop()),d.innerHeight()-t.top-(c.settings.include_toggle?0:a.outerHeight())+1},k=function(){return o.clientHeight},D=function(e){if(!_&&c.sidebar_fixed&&(r=h.find(".nav-list"),a=h.find(".sidebar-toggle").eq(0),l=h.find(".sidebar-shortcuts").eq(0),o=r.get(0))){r.wrap('<div class="nav-wrap-up pos-rel" />'),r.after("<div><div></div></div>"),r.wrap('<div class="nav-wrap" />'),c.settings.include_toggle||a.css({"z-index":1}),c.settings.include_shortcuts||l.css({"z-index":99}),g=r.parent().next().ace_scroll({size:$(),mouseWheelLock:!0,hoverReset:!1,dragEvent:!0,styleClass:c.settings.scroll_style,touchDrag:!1}).closest(".ace-scroll").addClass("nav-scroll"),w=g.data("ace_scroll"),m=g.find(".scroll-content").eq(0),v=m.find(" > div").eq(0),y=t(w.get_track()),b=y.find(".scroll-bar").eq(0),c.settings.include_shortcuts&&0!=l.length&&(r.parent().prepend(l).wrapInner("<div />"),r=r.parent()),c.settings.include_toggle&&0!=a.length&&(r.append(a),r.closest(".nav-wrap").addClass("nav-wrap-t")),r.css({position:"relative"}),1==c.settings.scroll_outside&&g.addClass("scrollout"),o=r.get(0),o.style.top=0,m.on("scroll.nav",function(){o.style.top=-1*this.scrollTop+"px"}),r.on(t.event.special.mousewheel?"mousewheel.ace_scroll":"mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(t){return c.is_scrolling&&w.is_active()?g.trigger(t):!c.settings.lock_anyway}),r.on("mouseenter.ace_scroll",function(){y.addClass("scroll-hover")}).on("mouseleave.ace_scroll",function(){y.removeClass("scroll-hover")});var i=m.get(0);if(r.on("ace_drag.nav",function(e){if(!c.is_scrolling||!w.is_active())return void(e.retval.cancel=!0);if(0!=t(e.target).closest(".can-scroll").length)return void(e.retval.cancel=!0);if("up"==e.direction||"down"==e.direction){w.move_bar(!0);var n=e.dy;n=parseInt(Math.min(x,n)),Math.abs(n)>2&&(n*=2),0!=n&&(i.scrollTop=i.scrollTop+n,o.style.top=-1*i.scrollTop+"px")}}),c.settings.smooth_scroll&&r.on("touchstart.nav MSPointerDown.nav pointerdown.nav",function(){r.css("transition-property","none"),b.css("transition-property","none")}).on("touchend.nav touchcancel.nav MSPointerUp.nav MSPointerCancel.nav pointerup.nav pointercancel.nav",function(){r.css("transition-property","top"),b.css("transition-property","top")}),n&&!c.settings.include_toggle){var s=a.get(0);s&&m.on("scroll.safari",function(){ace.helper.redraw(s)})}if(_=!0,1==e&&(c.reset(),p&&c.scroll_to_active(),p=!1),"number"==typeof c.settings.smooth_scroll&&c.settings.smooth_scroll>0&&(r.css({"transition-property":"top","transition-duration":(c.settings.smooth_scroll/1e3).toFixed(2)+"s"}),b.css({"transition-property":"top","transition-duration":(c.settings.smooth_scroll/1500).toFixed(2)+"s"}),g.on("drag.start",function(t){t.stopPropagation(),r.css("transition-property","none")}).on("drag.end",function(t){t.stopPropagation(),r.css("transition-property","top")})),ace.vars.android){var d=ace.helper.scrollTop();2>d&&(window.scrollTo(d,0),setTimeout(function(){c.reset()},20));var u,f=ace.helper.winHeight();t(window).on("scroll.ace_scroll",function(){c.is_scrolling&&w.is_active()&&(u=ace.helper.winHeight())!=f&&(f=u,c.reset())})}}};this.scroll_to_active=function(){if(w&&w.is_active())try{var t,e=f.vars(),i=h.find(".nav-list");e.minimized&&!e.collapsible?t=i.find("> .active"):(t=r.find("> .active.hover"),0==t.length&&(t=r.find(".active:not(.open)")));var n=t.outerHeight();i=i.get(0);for(var s=t.get(0);s!=i;)n+=s.offsetTop,s=s.parentNode;var a=n-g.height();a>0&&(o.style.top=-a+"px",m.scrollTop(a))}catch(t){}},this.reset=function(t){if(!0===t&&(this.sidebar_fixed=s(e,"fixed")),!this.sidebar_fixed)return void this.disable();_||D();var i=f.vars(),n=!i.collapsible&&!i.horizontal&&(x=$())<(C=o.clientHeight);this.is_scrolling=!0,n&&(v.css({height:C,width:8}),g.prev().css({"max-height":x}),w.update({size:x}),w.enable(),w.reset()),n&&w.is_active()?h.addClass("sidebar-scroll"):this.is_scrolling&&this.disable()},this.disable=function(){this.is_scrolling=!1,g&&(g.css({height:"","max-height":""}),v.css({height:"",width:""}),g.prev().css({"max-height":""}),w.disable()),parseInt(o.style.top)<0&&c.settings.smooth_scroll&&t.support.transition.end?r.one(t.support.transition.end,function(){h.removeClass("sidebar-scroll"),r.off(".trans")}):h.removeClass("sidebar-scroll"),o.style.top=0},this.prehide=function(t){if(this.is_scrolling&&!f.get("minimized"))if(k()+t<$())this.disable();else if(0>t){var e=m.scrollTop()+t;if(0>e)return;o.style.top=-1*e+"px"}},this._reset=function(t){!0===t&&(this.sidebar_fixed=s(e,"fixed")),ace.vars.webkit?setTimeout(function(){c.reset()},0):this.reset()},this.set_hover=function(){y&&y.addClass("scroll-hover")},this.get=function(t){return this.hasOwnProperty(t)?this[t]:void 0},this.set=function(t,e){this.hasOwnProperty(t)&&(this[t]=e)},this.ref=function(){return this},this.updateStyle=function(t){null!=w&&w.update({styleClass:t})},h.on("hidden.ace.submenu.sidebar_scroll shown.ace.submenu.sidebar_scroll",".submenu",function(t){t.stopPropagation(),f.get("minimized")||(c._reset(),"shown"==t.type&&c.set_hover())}),D(!0)}}var n=ace.vars.safari&&navigator.userAgent.match(/version\/[1-5]/i),s="getComputedStyle"in window?function(t,e){return t.offsetHeight,window.getComputedStyle(t).position==e}:function(e,i){return e.offsetHeight,t(e).css("position")==i};t(document).on("settings.ace.sidebar_scroll",function(e,i){t(".sidebar[data-sidebar-scroll=true]").each(function(){var e=t(this),n=e.ace_sidebar_scroll("ref");if("sidebar_collapsed"==i&&s(this,"fixed"))"true"==e.attr("data-sidebar-hover")&&e.ace_sidebar_hover("reset"),n._reset();else if("sidebar_fixed"===i||"navbar_fixed"===i){var r=n.get("is_scrolling"),o=s(this,"fixed");n.set("sidebar_fixed",o),o&&!r?n._reset():o||n.disable()}})}),t(window).on("resize.ace.sidebar_scroll",function(){t(".sidebar[data-sidebar-scroll=true]").each(function(){var e=t(this);"true"==e.attr("data-sidebar-hover")&&e.ace_sidebar_hover("reset");var i=t(this).ace_sidebar_scroll("ref"),n=s(this,"fixed");i.set("sidebar_fixed",n),i._reset()})}),t.fn.ace_sidebar_scroll||(t.fn.ace_sidebar_scroll=function(n,s){var r,o=this.each(function(){var e=t(this),o=e.data("ace_sidebar_scroll"),a="object"==typeof n&&n;o||e.data("ace_sidebar_scroll",o=new i(this,a)),"string"==typeof n&&"function"==typeof o[n]&&(r=o[n](s))});return r===e?o:r},t.fn.ace_sidebar_scroll.defaults={scroll_to_active:!0,include_shortcuts:!0,include_toggle:!1,smooth_scroll:150,scroll_outside:!1,scroll_style:"",lock_anyway:!1})}(window.jQuery),function(t,e){function i(e,i){function a(e){var i=e,n=t(i),s=null,r=!1;this.show=function(){null!=s&&clearTimeout(s),s=null,n.addClass("hover-show hover-shown"),r=!0;for(var t=0;t<o.length;t++)o[t].find(".hover-show").not(".hover-shown").each(function(){l(this).hide()})},this.hide=function(){r=!1,n.removeClass("hover-show hover-shown hover-flip"),null!=s&&clearTimeout(s),s=null;var t=n.find("> .submenu").get(0);t&&c(t,"hide")},this.hideDelay=function(t){null!=s&&clearTimeout(s),n.removeClass("hover-shown"),s=setTimeout(function(){r=!1,n.removeClass("hover-show hover-flip"),s=null;var e=n.find("> .submenu").get(0);e&&c(e,"hide"),"function"==typeof t&&t.call(this)},u.settings.sub_hover_delay)},this.is_visible=function(){return r}}function l(e){var i=t(e).data("subHide");return i||t(e).data("subHide",i=new a(e)),i}function c(e,i){var n=t(e).data("ace_scroll");return!!n&&("string"==typeof i?(n[i](),!0):n)}function d(i){var n=t(this),r=t(i);i.style.top="",i.style.bottom="";var o=null;m.minimized&&(o=n.find(".menu-text").get(0))&&(o.style.marginTop="");var a=ace.helper.scrollTop(),l=0,d=a;x&&(l=e.offsetTop,d+=l+1);var u=n.offset();u.top=parseInt(u.top);var p,f=0;i.style.maxHeight="";var v=i.scrollHeight,p=n.height();o&&(f=p,u.top+=f);var y=parseInt(u.top+v),_=0,$=w.height(),k=parseInt(u.top-d-f),D=$,S=m.horizontal,T=!1;if(S&&this.parentNode==g&&(_=0,u.top+=n.height(),T=!0),!T&&(_=y-($+a))>=0&&(_=k>_?_:k,0==_&&(_=20),k-_>10&&(_+=parseInt(Math.min(25,k-_))),u.top+(p-f)>y-_&&(_-=u.top+(p-f)-(y-_)),_>0&&(i.style.top=-_+"px",o&&(o.style.marginTop=-_+"px"))),0>_&&(_=0),_>0&&_>p-20?n.addClass("pull_up"):n.removeClass("pull_up"),S)if(n.parent().parent().hasClass("hover-flip"))n.addClass("hover-flip");else{var I=r.offset(),E=r.width(),j=w.width();I.left+E>j&&n.addClass("hover-flip")}if(!(n.hasClass("hover")&&!m.mobile_view&&r.find("> li > .submenu").length>0)){var A=D-(u.top-a)+_,M=_-A;if(M>0&&p>M&&(A+=parseInt(Math.max(p,p-M))),!(90>(A-=5))){var F=!1;if(s)r.addClass("sub-scroll").css("max-height",A+"px");else{if(0==(F=c(i))){r.ace_scroll({observeContent:!0,detached:!0,updatePos:!1,reset:!0,mouseWheelLock:!0,styleClass:h.settings.sub_scroll_style}),F=c(i);var P=F.get_track();P&&r.after(P)}F.update({size:A})}if(C=A,!s&&F){A>14&&v-A>4?(F.enable(),F.reset()):F.disable();var P=F.get_track();if(P){P.style.top=-(_-f-1)+"px";var u=r.position(),R=u.left;R+=b?2:r.outerWidth()-F.track_size(),P.style.left=parseInt(R)+"px",T&&(P.style.left=parseInt(R-2)+"px",P.style.top=parseInt(u.top)+(o?f-2:0)+"px")}}ace.vars.safari&&ace.helper.redraw(i)}}}var h=this,u=this,p=ace.helper.getAttrSettings(e,t.fn.ace_sidebar_hover.defaults);this.settings=t.extend({},t.fn.ace_sidebar_hover.defaults,i,p);var f=t(e),g=f.find(".nav-list").get(0);f.attr("data-sidebar-hover","true"),o.push(f);var m={},v=ace.vars.old_ie,b=!1,y=h.settings.sub_hover_delay||!1;n&&y&&(h.settings.sub_hover_delay=parseInt(Math.max(h.settings.sub_hover_delay,2500)));var w=t(window),_=t(".navbar").eq(0),x="fixed"==_.css("position");this.update_vars=function(){x="fixed"==_.css("position")},h.dirty=!1,this.reset=function(){0!=h.dirty&&(h.dirty=!1,f.find(".submenu").each(function(){var e=t(this),i=e.parent();e.css({top:"",bottom:"","max-height":""}),e.hasClass("ace-scroll")?e.ace_scroll("disable"):e.removeClass("sub-scroll"),r(this,"absolute")?e.addClass("can-scroll"):e.removeClass("can-scroll"),i.removeClass("pull_up").find(".menu-text:first").css("margin-top","")}),f.find(".hover-show").removeClass("hover-show hover-shown hover-flip"))},this.updateStyle=function(t){sub_scroll_style=t,f.find(".submenu.ace-scroll").ace_scroll("update",{styleClass:t})},this.changeDir=function(t){b="right"===t};var C=-1;s||f.on("hide.ace.submenu.sidebar_hover",".submenu",function(e){if(!(1>C)){e.stopPropagation();var i=t(this).closest(".ace-scroll.can-scroll");0!=i.length&&r(i[0],"absolute")&&i[0].scrollHeight-this.scrollHeight<C&&i.ace_scroll("disable")}}),s||f.on("shown.ace.submenu.sidebar_hover hidden.ace.submenu.sidebar_hover",".submenu",function(){if(!(1>C)){var e=t(this).closest(".ace-scroll.can-scroll");if(0!=e.length&&r(e[0],"absolute")){var i=e[0].scrollHeight;C>14&&i-C>4?e.ace_scroll("enable").ace_scroll("reset"):e.ace_scroll("disable")}}});var $=-1,k=n?"touchstart.sub_hover":"mouseenter.sub_hover",D=n?"touchend.sub_hover touchcancel.sub_hover":"mouseleave.sub_hover";f.on(k,".nav-list li, .sidebar-shortcuts",function(){if(m=f.ace_sidebar("vars"),!m.collapsible){var e=t(this),i=!1,s=e.hasClass("hover"),o=e.find("> .submenu").get(0);if(!(o||this.parentNode==g||s||(i=e.hasClass("sidebar-shortcuts"))))return void(o&&t(o).removeClass("can-scroll"));var a=o,c=!1;if(a||this.parentNode!=g||(a=e.find("> a > .menu-text").get(0)),!a&&i&&(a=e.find(".sidebar-shortcuts-large").get(0)),!(a&&(c=r(a,"absolute"))||s))return void(o&&t(o).removeClass("can-scroll"));var u=y?l(this):null;if(o)if(c){h.dirty=!0;var p=ace.helper.scrollTop()
;if(y&&!u.is_visible()||!n&&p!=$||v)if(t(o).addClass("can-scroll"),v||n){var b=this;setTimeout(function(){d.call(b,o)},0)}else d.call(this,o);$=p}else t(o).removeClass("can-scroll");y&&u.show()}}).on(D,".nav-list li, .sidebar-shortcuts",function(){m=f.ace_sidebar("vars"),m.collapsible||t(this).hasClass("hover-show")&&y&&l(this).hideDelay()})}if(!ace.vars.very_old_ie){var n=ace.vars.touch,s=ace.vars.old_ie||n,r="getComputedStyle"in window?function(t,e){return t.offsetHeight,window.getComputedStyle(t).position==e}:function(e,i){return e.offsetHeight,t(e).css("position")==i};t(window).on("resize.sidebar.ace_hover",function(){t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars").ace_sidebar_hover("reset")}),t(document).on("settings.ace.ace_hover",function(e,i){"sidebar_collapsed"==i?t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("reset"):"navbar_fixed"==i&&t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars")});var o=[];t.fn.ace_sidebar_hover=function(n,s){var r,o=this.each(function(){var e=t(this),o=e.data("ace_sidebar_hover"),a="object"==typeof n&&n;o||e.data("ace_sidebar_hover",o=new i(this,a)),"string"==typeof n&&"function"==typeof o[n]&&(r=o[n](s))});return r===e?o:r},t.fn.ace_sidebar_hover.defaults={sub_hover_delay:750,sub_scroll_style:"no-track scroll-thin"}}}(window.jQuery),function(t,e){function i(e,i){var n=e.find(".widget-main").eq(0);t(window).off("resize.widget.scroll");var s=ace.vars.old_ie||ace.vars.touch;if(i){var r=n.data("ace_scroll");r&&n.data("save_scroll",{size:r.size,lock:r.lock,lock_anyway:r.lock_anyway});var o=e.height()-e.find(".widget-header").height()-10;o=parseInt(o),n.css("min-height",o),s?(r&&n.ace_scroll("disable"),n.css("max-height",o).addClass("overflow-scroll")):(r?n.ace_scroll("update",{size:o,mouseWheelLock:!0,lockAnyway:!0}):n.ace_scroll({size:o,mouseWheelLock:!0,lockAnyway:!0}),n.ace_scroll("enable").ace_scroll("reset")),t(window).on("resize.widget.scroll",function(){var t=e.height()-e.find(".widget-header").height()-10;t=parseInt(t),n.css("min-height",t),s?n.css("max-height",t).addClass("overflow-scroll"):n.ace_scroll("update",{size:t}).ace_scroll("reset")})}else{n.css("min-height","");var a=n.data("save_scroll");a&&n.ace_scroll("update",{size:a.size,mouseWheelLock:a.lock,lockAnyway:a.lock_anyway}).ace_scroll("enable").ace_scroll("reset"),s?n.css("max-height","").removeClass("overflow-scroll"):a||n.ace_scroll("disable")}}var n=function(e){this.$box=t(e),this.reload=function(){var t=this.$box,e=!1;"static"==t.css("position")&&(e=!0,t.addClass("position-relative")),t.append('<div class="widget-box-overlay"><i class="'+ace.vars.icon+'loading-icon fa fa-spinner fa-spin fa-2x white"></i></div>'),t.one("reloaded.ace.widget",function(){t.find(".widget-box-overlay").remove(),e&&t.removeClass("position-relative")})},this.closeFast=function(){this.close(0)},this.close=function(t){var e=this.$box,t=void 0===t?300:t;e.fadeOut(t,function(){e.trigger("closed.ace.widget"),e.remove()})},this.toggleFast=function(){this.toggle(null,null,0,0)},this.toggle=function(t,e,i,n){var s=this.$box,r=s.find(".widget-body").eq(0),o=null,a=t||(s.hasClass("collapsed")?"show":"hide"),l="show"==a?"shown":"hidden";if(e||(e=s.find("> .widget-header a[data-action=collapse]").eq(0),0==e.length&&(e=null)),e){o=e.find(ace.vars[".icon"]).eq(0);var c,d=null,h=null;(d=o.attr("data-icon-show"))?h=o.attr("data-icon-hide"):(c=o.attr("class").match(/fa\-(.*)\-(up|down)/))&&(d="fa-"+c[1]+"-down",h="fa-"+c[1]+"-up")}var i=void 0===i?250:i,n=void 0===n?200:n;"show"==a?(o&&o.removeClass(d).addClass(h),r.hide(),s.removeClass("collapsed"),r.slideDown(i,function(){s.trigger(l+".ace.widget")})):(o&&o.removeClass(h).addClass(d),r.slideUp(n,function(){s.addClass("collapsed"),s.trigger(l+".ace.widget")})),s.trigger("toggled.ace.widget",[a])},this.hide=function(){this.toggle("hide")},this.show=function(){this.toggle("show")},this.hideFast=function(){this.toggle("hide",null,0,0)},this.showFast=function(){this.toggle("show",null,0,0)},this.fullscreen=function(t){var e=this.$box.find("> .widget-header a[data-action=fullscreen]").find(ace.vars[".icon"]).eq(0),n=null,s=null;(n=e.attr("data-icon1"))?s=e.attr("data-icon2"):(n="fa-expand",s="fa-compress");var r=this.$box.hasClass("fullscreen"),o=!0!==t&&!1!==t;!0===t||o&&!r?(e.removeClass(n).addClass(s),this.$box.addClass("fullscreen"),i(this.$box,!0)):(!1===t||o&&r)&&(e.addClass(n).removeClass(s),this.$box.removeClass("fullscreen"),i(this.$box,!1)),this.$box.trigger("fullscreened.ace.widget")}};t.fn.widget_box=function(i,s){var r,o=this.each(function(){var e=t(this),o=e.data("widget_box"),a="object"==typeof i&&i;o||e.data("widget_box",o=new n(this,a)),"string"==typeof i&&(r=o[i](s))});return r===e?o:r},t(document).on(ace.click_event+".ace.widget",".widget-header a[data-action]",function(e){e.preventDefault();var i=t(this),s=i.closest(".widget-box");if(0!=s.length&&!s.hasClass("ui-sortable-helper")){var r=s.data("widget_box");r||s.data("widget_box",r=new n(s.get(0)));var o=i.data("action");if("collapse"==o){var a,l=s.hasClass("collapsed")?"show":"hide";if(s.trigger(a=t.Event(l+".ace.widget")),a.isDefaultPrevented())return;s.trigger(a=t.Event("toggle.ace.widget"),[l]),r.toggle(l,i)}else if("close"==o){var a;if(s.trigger(a=t.Event("close.ace.widget")),a.isDefaultPrevented())return;r.close()}else if("reload"==o){i.blur();var a;if(s.trigger(a=t.Event("reload.ace.widget")),a.isDefaultPrevented())return;r.reload()}else if("fullscreen"==o){var a;if(s.trigger(a=t.Event("fullscreen.ace.widget")),a.isDefaultPrevented())return;r.fullscreen()}else"settings"==o&&s.trigger("setting.ace.widget")}})}(window.jQuery),function(t){t("#ace-settings-btn").on(ace.click_event,function(e){e.preventDefault(),t(this).toggleClass("open"),t("#ace-settings-box").toggleClass("open")}),t("#ace-settings-navbar").on("click",function(){ace.settingFunction.navbar_fixed(null,this.checked)}),t("#ace-settings-sidebar").on("click",function(){ace.settingFunction.sidebar_fixed(null,this.checked)}),t("#ace-settings-breadcrumbs").on("click",function(){ace.settingFunction.breadcrumbs_fixed(null,this.checked)}),t("#ace-settings-add-container").on("click",function(){ace.settingFunction.main_container_fixed(null,this.checked)}),t("#ace-settings-compact").on("click",function(){if(this.checked){t("#sidebar").addClass("compact");var e=t("#ace-settings-hover");e.length>0&&e.removeAttr("checked").trigger("click")}else t("#sidebar").removeClass("compact"),t("#sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("reset");ace.vars.old_ie&&ace.helper.redraw(t("#sidebar")[0],!0)}),t("#ace-settings-highlight").on("click",function(){this.checked?t("#sidebar .nav-list > li").addClass("highlight"):t("#sidebar .nav-list > li").removeClass("highlight"),ace.vars.old_ie&&ace.helper.redraw(t("#sidebar")[0])}),t("#ace-settings-hover").on("click",function(){if(!t("#sidebar").hasClass("h-sidebar")){if(this.checked)t("#sidebar li").addClass("hover").filter(".open").removeClass("open").find("> .submenu").css("display","none");else{t("#sidebar li.hover").removeClass("hover");var e=t("#ace-settings-compact");e.length>0&&e.get(0).checked&&e.trigger("click")}t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("reset"),t(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("reset"),ace.vars.old_ie&&ace.helper.redraw(t("#sidebar")[0])}}),t(document).on("settings.ace",function(e,i,n,s,r){var o="";switch(i){case"navbar_fixed":o="ace-settings-navbar";break;case"sidebar_fixed":o="ace-settings-sidebar";break;case"breadcrumbs_fixed":o="ace-settings-breadcrumbs";break;case"main_container_fixed":o="ace-settings-add-container"}if(o&&(o=document.getElementById(o))){t(o).prop("checked",n);try{1==r&&ace.settings.saveState(o,"checked")}catch(t){}}}),ace.settingFunction={navbar_fixed:function(e,i,n,s){if(ace.vars.very_old_ie)return!1;var e=e||"#navbar";if("string"==typeof e&&(e=t(e).get(0)),!e)return!1;var r,i=i||!1,n=void 0===n||n;if(t(document).trigger(r=t.Event("presettings.ace"),["navbar_fixed",i,e,n]),r.isDefaultPrevented())return!1;if(!1!==s&&!i){var o=t("#sidebar");o.hasClass("sidebar-fixed")&&ace.settingFunction.sidebar_fixed(o.get(0),!1,n)}i?t(e).addClass("navbar-fixed-top"):t(e).removeClass("navbar-fixed-top"),n&&ace.settings.saveState(e,"class","navbar-fixed-top",i),t(document).trigger("settings.ace",["navbar_fixed",i,e,n])},sidebar_fixed:function(e,i,n,s){if(ace.vars.very_old_ie)return!1;var e=e||"#sidebar";if("string"==typeof e&&(e=t(e).get(0)),!e)return!1;var r,i=i||!1,n=void 0===n||n;if(t(document).trigger(r=t.Event("presettings.ace"),["sidebar_fixed",i,e,n]),r.isDefaultPrevented())return!1;!1!==s&&(i?ace.settingFunction.navbar_fixed(null,!0,n):ace.settingFunction.breadcrumbs_fixed(null,!1,n));var o=t("#menu-toggler");i?(t(e).addClass("sidebar-fixed"),o.addClass("fixed")):(t(e).removeClass("sidebar-fixed"),o.removeClass("fixed")),n&&(ace.settings.saveState(e,"class","sidebar-fixed",i),0!=o.length&&ace.settings.saveState(o[0],"class","fixed",i)),t(document).trigger("settings.ace",["sidebar_fixed",i,e,n])},breadcrumbs_fixed:function(e,i,n,s){if(ace.vars.very_old_ie)return!1;var e=e||"#breadcrumbs";if("string"==typeof e&&(e=t(e).get(0)),!e)return!1;var r,i=i||!1,n=void 0===n||n;return t(document).trigger(r=t.Event("presettings.ace"),["breadcrumbs_fixed",i,e,n]),!r.isDefaultPrevented()&&(i&&!1!==s&&ace.settingFunction.sidebar_fixed(null,!0,n),i?t(e).addClass("breadcrumbs-fixed"):t(e).removeClass("breadcrumbs-fixed"),n&&ace.settings.saveState(e,"class","breadcrumbs-fixed",i),void t(document).trigger("settings.ace",["breadcrumbs_fixed",i,e,n]))},main_container_fixed:function(e,i,n){if(ace.vars.very_old_ie)return!1;var i=i||!1,n=void 0===n||n,e=e||"#main-container";if("string"==typeof e&&(e=t(e).get(0)),!e)return!1;var s;if(t(document).trigger(s=t.Event("presettings.ace"),["main_container_fixed",i,e,n]),s.isDefaultPrevented())return!1;var r=t("#navbar-container");i?(t(e).addClass("container"),t(r).addClass("container")):(t(e).removeClass("container"),t(r).removeClass("container")),n&&(ace.settings.saveState(e,"class","container",i),0!=r.length&&ace.settings.saveState(r[0],"class","container",i)),navigator.userAgent.match(/webkit/i)&&(t("#sidebar").toggleClass("menu-min"),setTimeout(function(){t("#sidebar").toggleClass("menu-min")},10)),t(document).trigger("settings.ace",["main_container_fixed",i,e,n])}}}(jQuery),function(t){t("#ace-settings-rtl").removeAttr("checked").on("click",function(){e()});var e=function(){function e(e){function i(t,e){s.find("."+t).removeClass(t).addClass("tmp-rtl-"+t).end().find("."+e).removeClass(e).addClass(t).end().find(".tmp-rtl-"+t).removeClass("tmp-rtl-"+t).addClass(e)}var n=t(document.body);e||n.toggleClass("rtl"),e=e||document.body;var s=t(e);s.find(".dropdown-menu:not(.datepicker-dropdown,.colorpicker)").toggleClass("dropdown-menu-right").end().find(".pull-right:not(.dropdown-menu,blockquote,.profile-skills .pull-right)").removeClass("pull-right").addClass("tmp-rtl-pull-right").end().find(".pull-left:not(.dropdown-submenu,.profile-skills .pull-left)").removeClass("pull-left").addClass("pull-right").end().find(".tmp-rtl-pull-right").removeClass("tmp-rtl-pull-right").addClass("pull-left").end().find(".chosen-select").toggleClass("chosen-rtl").next().toggleClass("chosen-rtl"),i("align-left","align-right"),i("no-padding-left","no-padding-right"),i("arrowed","arrowed-right"),i("arrowed-in","arrowed-in-right"),i("tabs-left","tabs-right"),i("messagebar-item-left","messagebar-item-right"),t(".modal.aside-vc").ace_aside("flip").ace_aside("insideContainer"),s.find(".fa").each(function(){if(!(this.className.match(/ui-icon/)||t(this).closest(".fc-button").length>0))for(var e=this.attributes.length,i=0;e>i;i++){var n=this.attributes[i].value;n.match(/fa\-(?:[\w\-]+)\-left/)?this.attributes[i].value=n.replace(/fa\-([\w\-]+)\-(left)/i,"fa-$1-right"):n.match(/fa\-(?:[\w\-]+)\-right/)&&(this.attributes[i].value=n.replace(/fa\-([\w\-]+)\-(right)/i,"fa-$1-left"))}}),n.hasClass("rtl")?(s.find(".scroll-hz").addClass("make-ltr").find(".scroll-content").wrapInner('<div class="make-rtl" />'),t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("changeDir","right")):(s.find(".scroll-hz").removeClass("make-ltr").find(".make-rtl").children().unwrap(),t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("changeDir","left")),t.fn.ace_scroll&&s.find(".scroll-hz").ace_scroll("reset");try{var r=t("#piechart-placeholder");if(r.length>0){var o=n.hasClass("rtl")?"nw":"ne";r.data("draw").call(r.get(0),r,r.data("chart"),o)}}catch(t){}ace.helper.redraw(e,!0)}e(),t(".page-content-area[data-ajax-content=true]").on("ajaxscriptsloaded.rtl",function(){t("body").hasClass("rtl")&&e(this)})}}(jQuery),function(t){try{t("#skin-colorpicker").ace_colorpicker({auto_pos:!1})}catch(t){}t("#skin-colorpicker").on("change",function(){function e(e){var i=t(document.body);i.removeClass("no-skin skin-1 skin-2 skin-3"),i.addClass(e),ace.data.set("skin",e);var n=["red","blue","green",""];t(".ace-nav > li.grey").removeClass("dark"),t(".ace-nav > li").removeClass("no-border margin-1"),t(".ace-nav > li:not(:last-child)").removeClass("light-pink").find("> a > "+ace.vars[".icon"]).removeClass("pink").end().eq(0).find(".badge").removeClass("badge-warning"),t(".sidebar-shortcuts .btn").removeClass("btn-pink btn-white").find(ace.vars[".icon"]).removeClass("white"),t(".ace-nav > li.grey").removeClass("red").find(".badge").removeClass("badge-yellow"),t(".sidebar-shortcuts .btn").removeClass("btn-primary btn-white");var s=0;t(".sidebar-shortcuts .btn").each(function(){t(this).find(ace.vars[".icon"]).removeClass(n[s++])});var r=["btn-success","btn-info","btn-warning","btn-danger"];if("no-skin"==e){var s=0;t(".sidebar-shortcuts .btn").each(function(){t(this).attr("class","btn "+r[s++%4])}),t(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("updateStyle",""),t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("updateStyle","no-track scroll-thin")}else if("skin-1"==e){t(".ace-nav > li.grey").addClass("dark");var s=0;t(".sidebar-shortcuts").find(".btn").each(function(){t(this).attr("class","btn "+r[s++%4])}),t(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("updateStyle","scroll-white no-track"),t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("updateStyle","no-track scroll-thin scroll-white")}else if("skin-2"==e)t(".ace-nav > li").addClass("no-border margin-1"),t(".ace-nav > li:not(:last-child)").addClass("light-pink").find("> a > "+ace.vars[".icon"]).addClass("pink").end().eq(0).find(".badge").addClass("badge-warning"),t(".sidebar-shortcuts .btn").attr("class","btn btn-white btn-pink").find(ace.vars[".icon"]).addClass("white"),t(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("updateStyle","scroll-white no-track"),t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("updateStyle","no-track scroll-thin scroll-white");else if("skin-3"==e){i.addClass("no-skin"),t(".ace-nav > li.grey").addClass("red").find(".badge").addClass("badge-yellow");var s=0;t(".sidebar-shortcuts .btn").each(function(){t(this).attr("class","btn btn-primary btn-white"),t(this).find(ace.vars[".icon"]).addClass(n[s++])}),t(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("updateStyle","scroll-dark no-track"),t(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("updateStyle","no-track scroll-thin")}t(".sidebar[data-sidebar-scroll=true]").ace_sidebar_scroll("reset"),ace.vars.old_ie&&ace.helper.redraw(document.body,!0)}e(t(this).find("option:selected").data("skin"))})}(jQuery),function(t){t(document).on("reload.ace.widget",".widget-box",function(){var e=t(this);setTimeout(function(){e.trigger("reloaded.ace.widget")},parseInt(1e3*Math.random()+1e3))})}(window.jQuery),function(t){ace.vars.US_STATES=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];try{t("#nav-search-input").bs_typeahead({source:ace.vars.US_STATES,updater:function(e){return t("#nav-search-input").focus(),e}})}catch(t){}}(window.jQuery),function(t,e){if("function"==typeof define&&define.amd)define(["exports","module"],e);else if("undefined"!=typeof exports&&"undefined"!=typeof module)e(exports,module);else{var i={exports:{}};e(i.exports,i),t.autosize=i.exports}}(this,function(t,e){"use strict";function i(t){function e(){var e=window.getComputedStyle(t,null);p=e.overflowY,"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),u="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(u)&&(u=0),s()}function i(e){var i=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=i,p=e,h&&(t.style.overflowY=e),n()}function n(){var e=window.pageYOffset,i=document.body.scrollTop,n=t.style.height;t.style.height="auto";var s=t.scrollHeight+u;return 0===t.scrollHeight?void(t.style.height=n):(t.style.height=s+"px",f=t.clientWidth,document.documentElement.scrollTop=e,void(document.body.scrollTop=i))}function s(){var e=t.style.height;if(n(),window.getComputedStyle(t,null).height!==t.style.height?"visible"!==p&&i("visible"):"hidden"!==p&&i("hidden"),e!==t.style.height){var s=o("autosize:resized");t.dispatchEvent(s)}}var a=void 0===arguments[1]?{}:arguments[1],l=a.setOverflowX,c=void 0===l||l,d=a.setOverflowY,h=void 0===d||d;if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!r.has(t)){var u=null,p=null,f=t.clientWidth,g=function(){t.clientWidth!==f&&s()},m=function(e){window.removeEventListener("resize",g,!1),t.removeEventListener("input",s,!1),t.removeEventListener("keyup",s,!1),t.removeEventListener("autosize:destroy",m,!1),t.removeEventListener("autosize:update",s,!1),r["delete"](t),Object.keys(e).forEach(function(i){t.style[i]=e[i]})}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",m,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",s,!1),window.addEventListener("resize",g,!1),t.addEventListener("input",s,!1),t.addEventListener("autosize:update",s,!1),r.add(t),c&&(t.style.overflowX="hidden",t.style.wordWrap="break-word"),e()}}function n(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=o("autosize:destroy");t.dispatchEvent(e)}}function s(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=o("autosize:update");t.dispatchEvent(e)}}var r="function"==typeof Set?new Set:function(){var t=[];return{has:function(e){return Boolean(t.indexOf(e)>-1)},add:function(e){t.push(e)},"delete":function(e){t.splice(t.indexOf(e),1)}}}(),o=function(t){return new Event(t)};try{new Event("test")}catch(t){o=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(a=function(t){return t},a.destroy=function(t){return t},a.update=function(t){return t}):(a=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return i(t,e)}),t},a.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],n),t},a.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t}),e.exports=a}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,i){"use strict";function n(t){var e=m[f.locale];return e?e[t]:m.en[t]}function s(t,i,n){t.stopPropagation(),t.preventDefault(),e.isFunction(n)&&!1===n.call(i,t)||i.modal("hide")}function r(t){var e,i=0;for(e in t)i++;return i}function o(t,i){var n=0;e.each(t,function(t,e){i(t,e,n++)})}function a(t){var i,n;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},f,t),t.buttons||(t.buttons={}),i=t.buttons,n=r(i),o(i,function(t,s,r){if(e.isFunction(s)&&(s=i[t]={callback:s}),"object"!==e.type(s))throw new Error("button with key "+t+" must be an object");s.label||(s.label=t),s.className||(s.className=2>=n&&r===n-1?"btn-primary":"btn-default")}),t}function l(t,e){var i=t.length,n={};if(1>i||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof t[0]?(n[e[0]]=t[0],n[e[1]]=t[1]):n=t[0],n}function c(t,i,n){return e.extend(!0,{},t,l(i,n))}function d(t,e,i,n){return u(c({className:"bootbox-"+t,buttons:h.apply(null,e)},n,i),e)}function h(){for(var t={},e=0,i=arguments.length;i>e;e++){var s=arguments[e],r=s.toLowerCase(),o=s.toUpperCase();t[r]={label:n(o)}}return t}function u(t,e){var n={};return o(e,function(t,e){n[e]=!0}),o(t.buttons,function(t){if(n[t]===i)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var p={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},f={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},g={};g.alert=function(){var t;if(t=d("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},g.dialog(t)},g.confirm=function(){var t;if(t=d("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return g.dialog(t)},g.prompt=function(){var t,n,s,r,a,l,d;if(r=e(p.form),n={className:"bootbox-prompt",buttons:h("cancel","confirm"),value:"",inputType:"text"},t=u(c(n,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===i||t.show,t.message=r,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var i;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":i=a.val();break;case"checkbox":var n=a.find("input:checked");i=[],o(n,function(t,n){i.push(e(n).val())})}return t.callback.call(this,i)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!p.inputs[t.inputType])throw new Error("invalid prompt type");switch(a=e(p.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":a.val(t.value);break;case"select":var f={};if(d=t.inputOptions||[],!e.isArray(d))throw new Error("Please pass an array of input options");if(!d.length)throw new Error("prompt with select requires options");o(d,function(t,n){var s=a;if(n.value===i||n.text===i)throw new Error("given options in wrong format");n.group&&(f[n.group]||(f[n.group]=e("<optgroup/>").attr("label",n.group)),s=f[n.group]),s.append("<option value='"+n.value+"'>"+n.text+"</option>")}),o(f,function(t,e){a.append(e)}),a.val(t.value);break;case"checkbox":var m=e.isArray(t.value)?t.value:[t.value];if(d=t.inputOptions||[],!d.length)throw new Error("prompt with checkbox requires options");if(!d[0].value||!d[0].text)throw new Error("given options in wrong format");a=e("<div/>"),o(d,function(i,n){var s=e(p.inputs[t.inputType]);s.find("input").attr("value",n.value),s.find("label").append(n.text),o(m,function(t,e){e===n.value&&s.find("input").prop("checked",!0)}),a.append(s)})}return t.placeholder&&a.attr("placeholder",t.placeholder),t.pattern&&a.attr("pattern",t.pattern),t.maxlength&&a.attr("maxlength",t.maxlength),r.append(a),r.on("submit",function(t){t.preventDefault(),t.stopPropagation(),s.find(".btn-primary").click()}),s=g.dialog(t),s.off("shown.bs.modal"),s.on("shown.bs.modal",function(){a.focus()}),!0===l&&s.modal("show"),s},g.dialog=function(t){t=a(t);var n=e(p.dialog),r=n.find(".modal-dialog"),l=n.find(".modal-body"),c=t.buttons,d="",h={onEscape:t.onEscape};if(e.fn.modal===i)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(o(c,function(t,e){d+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",h[t]=e.callback}),l.find(".bootbox-body").html(t.message),!0===t.animate&&n.addClass("fade"),t.className&&n.addClass(t.className),"large"===t.size?r.addClass("modal-lg"):"small"===t.size&&r.addClass("modal-sm"),t.title&&l.before(p.header),t.closeButton){var u=e(p.closeButton);t.title?n.find(".modal-header").prepend(u):u.css("margin-top","-10px").prependTo(l)}return t.title&&n.find(".modal-title").html(t.title),d.length&&(l.after(p.footer),n.find(".modal-footer").html(d)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&n.on("click.dismiss.bs.modal",function(t){n.children(".modal-backdrop").length&&(t.currentTarget=n.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(t){h.onEscape&&s(t,n,h.onEscape)}),n.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");s(t,n,h[i])}),n.on("click",".bootbox-close-button",function(t){s(t,n,h.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),e(t.container).append(n),n.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&n.modal("show"),n},g.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(f,t)},g.hideAll=function(){return e(".bootbox").modal("hide"),g};var m={bg_BG:{OK:"\u041e\u043a",CANCEL:"\u041e\u0442\u043a\u0430\u0437",CONFIRM:"\u041f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u043c"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zru\u0161it",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"\u0395\u03bd\u03c4\u03ac\u03be\u03b5\u03b9",CANCEL:"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7",CONFIRM:"\u0395\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"\u0642\u0628\u0648\u0644",CANCEL:"\u0644\u063a\u0648",CONFIRM:"\u062a\u0627\u06cc\u06cc\u062f"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",CANCEL:"\u05d1\u05d9\u05d8\u05d5\u05dc",CONFIRM:"\u05d0\u05d9\u05e9\u05d5\u05e8"},hu:{OK:"OK",CANCEL:"M\xe9gsem",CONFIRM:"Meger\u0151s\xedt"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"\u30ad\u30e3\u30f3\u30bb\u30eb",CONFIRM:"\u78ba\u8a8d"},lt:{OK:"Gerai",CANCEL:"At\u0161aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u0101t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"\u0e15\u0e01\u0e25\u0e07",CANCEL:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",CONFIRM:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"},tr:{OK:"Tamam",CANCEL:"\u0130ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};return g.addLocale=function(t,i){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!i[e])throw new Error("Please supply a translation for '"+e+"'")}),m[t]={OK:i.OK,CANCEL:i.CANCEL,CONFIRM:i.CONFIRM},g},g.removeLocale=function(t){return delete m[t],g},g.setLocale=function(t){return g.setDefaults("locale",t)},g.init=function(i){return t(i||e)},g}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function s(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function r(t){return function(){return this[t].apply(this,arguments)}}function o(t){return t&&!isNaN(t.getTime())}function a(e,i){function n(t,e){return e.toLowerCase()}var s,r=t(e).data(),o={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in r)i.test(l)&&(s=l.replace(a,n),o[s]=r[l]);return o}function l(e){var i={};if(m[e]||(e=e.split("-")[0],m[e])){var n=m[e];return t.each(g,function(t,e){e in n&&(i[e]=n[e])}),i}}var c=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new c;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),d=function(e,i){t(e).data("datepicker",this),this._process_options(i),this.dates=new c,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),
this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_resolveViewName:function(t,i){return 0===t||"days"===t||"month"===t?0:1===t||"months"===t||"year"===t?1:2===t||"years"===t||"decade"===t?2:3===t||"decades"===t||"century"===t?3:4===t||"centuries"===t||"millennium"===t?4:i!==e&&i},_check_template:function(i){try{if(i===e||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;return t(i).length>0}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var s=this.o=t.extend({},this._o),r=s.language;m[r]||(r=r.split("-")[0],m[r]||(r=f.language)),s.language=r,s.startView=this._resolveViewName(s.startView,0),s.minViewMode=this._resolveViewName(s.minViewMode,0),s.maxViewMode=this._resolveViewName(s.maxViewMode,4),s.startView=Math.min(s.startView,s.maxViewMode),s.startView=Math.max(s.startView,s.minViewMode),!0!==s.multidate&&(s.multidate=Number(s.multidate)||!1,!1!==s.multidate&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7;var o=v.parseFormat(s.format);if(s.startDate!==-1/0&&(s.startDate?s.startDate instanceof Date?s.startDate=this._local_to_utc(this._zero_time(s.startDate)):s.startDate=v.parseDate(s.startDate,o,s.language,s.assumeNearbyYear):s.startDate=-1/0),s.endDate!==1/0&&(s.endDate?s.endDate instanceof Date?s.endDate=this._local_to_utc(this._zero_time(s.endDate)):s.endDate=v.parseDate(s.endDate,o,s.language,s.assumeNearbyYear):s.endDate=1/0),s.daysOfWeekDisabled=s.daysOfWeekDisabled||[],t.isArray(s.daysOfWeekDisabled)||(s.daysOfWeekDisabled=s.daysOfWeekDisabled.split(/[,\s]*/)),s.daysOfWeekDisabled=t.map(s.daysOfWeekDisabled,function(t){return parseInt(t,10)}),s.daysOfWeekHighlighted=s.daysOfWeekHighlighted||[],t.isArray(s.daysOfWeekHighlighted)||(s.daysOfWeekHighlighted=s.daysOfWeekHighlighted.split(/[,\s]*/)),s.daysOfWeekHighlighted=t.map(s.daysOfWeekHighlighted,function(t){return parseInt(t,10)}),s.datesDisabled=s.datesDisabled||[],!t.isArray(s.datesDisabled)){var a=[];a.push(v.parseDate(s.datesDisabled,o,s.language,s.assumeNearbyYear)),s.datesDisabled=a}s.datesDisabled=t.map(s.datesDisabled,function(t){return v.parseDate(t,o,s.language,s.assumeNearbyYear)});var l=String(s.orientation).toLowerCase().split(/\s+/g),c=s.orientation.toLowerCase();if(l=t.grep(l,function(t){return/^auto|left|right|top|bottom$/.test(t)}),s.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===l.length)switch(l[0]){case"top":case"bottom":s.orientation.y=l[0];break;case"left":case"right":s.orientation.x=l[0]}else c=t.grep(l,function(t){return/^left|right$/.test(t)}),s.orientation.x=c[0]||"auto",c=t.grep(l,function(t){return/^top|bottom$/.test(t)}),s.orientation.y=c[0]||"auto";if(s.defaultViewDate){var d=s.defaultViewDate.year||(new Date).getFullYear(),h=s.defaultViewDate.month||0,u=s.defaultViewDate.day||1;s.defaultViewDate=i(d,h,u)}else s.defaultViewDate=n()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,s,r=0;r<t.length;r++)i=t[r][0],2===t[r].length?(n=e,s=t[r][1]):3===t[r].length&&(n=t[r][1],s=t[r][2]),i.on(s,n)},_unapplyEvents:function(t){for(var i,n,s,r=0;r<t.length;r++)i=t[r][0],2===t[r].length?(s=e,n=t[r][1]):3===t[r].length&&(s=t[r][1],n=t[r][2]),i.off(n,s)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),s=this._utc_to_local(n);this.element.trigger({type:e,date:s,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return v.formatDate(i,e,this.o.language)},this)})},show:function(){if(!(this.component?this.element.find("input"):this.element).attr("readonly")||!1!==this.o.enableOnReadonly)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var i;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))i=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),e.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return void 0!==t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),remove:r("destroy"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,i,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,s=t(this.o.container),r=s.width(),o="body"===this.o.container?t(document).scrollTop():s.scrollTop(),a=s.offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var c=Math.max.apply(Math,l)+this.o.zIndexOffset,d=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=d.left-a.left,f=d.top-a.top;"body"!==this.o.container&&(f+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-u)):d.left<0?(this.picker.addClass("datepicker-orient-left"),p-=d.left-n):p+e>r?(this.picker.addClass("datepicker-orient-right"),p+=u-e):this.picker.addClass("datepicker-orient-left");var g,m=this.o.orientation.y;if("auto"===m&&(g=-o+f-i,m=0>g?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f-=i+parseInt(this.picker.css("padding-top")):f+=h,this.o.rtl){var v=r-(p+u);this.picker.css({top:f,right:v,zIndex:c})}else this.picker.css({top:f,left:p,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],n=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=t.grep(i,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,n?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var e=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1}),i+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)i+='<th class="dow',t.inArray(e,this.o.daysOfWeekDisabled)>-1&&(i+=" disabled"),i+='">'+m[this.o.language].daysMin[e++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",i=0;12>i;){e+='<span class="month'+(t&&t.getMonth()===i?" focused":"")+'">'+m[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<s?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>s)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===r.getFullYear()&&e.getUTCMonth()===r.getMonth()&&e.getUTCDate()===r.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),this.dateWithinRange(e)&&!this.dateIsDisabled(e)||i.push("disabled"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected"),e.valueOf()===this.range[0]&&i.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,n,s,r,o,a,l,c){var d,h,u,p,f,g,m,v,b,y,w;for(d="",h=this.picker.find(i),u=parseInt(o/s,10)*s,f=parseInt(a/r,10)*r,g=parseInt(l/r,10)*r,p=t.map(this.dates,function(t){return parseInt(t.getUTCFullYear()/r,10)*r}),h.find(".datepicker-switch").text(u+"-"+(u+9*r)),m=u-r,v=-1;11>v;v+=1)b=[n],y=null,-1===v?b.push("old"):10===v&&b.push("new"),-1!==t.inArray(m,p)&&b.push("active"),(f>m||m>g)&&b.push("disabled"),m===this.viewDate.getFullYear()&&b.push("focused"),c!==t.noop&&(w=c(new Date(m,0,1)),w===e?w={}:"boolean"==typeof w?w={enabled:w}:"string"==typeof w&&(w={classes:w}),!1===w.enabled&&b.push("disabled"),w.classes&&(b=b.concat(w.classes.split(/\s+/))),w.tooltip&&(y=w.tooltip)),d+='<span class="'+b.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+m+"</span>",m+=r;h.find("td").html(d)},fill:function(){var n,s,r=new Date(this.viewDate),o=r.getUTCFullYear(),a=r.getUTCMonth(),l=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,c=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=m[this.o.language].today||m.en.today||"",p=m[this.o.language].clear||m.en.clear||"",f=m[this.o.language].titleFormat||m.en.titleFormat;if(!isNaN(o)&&!isNaN(a)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(r,f,this.o.language)),this.picker.find("tfoot .today").text(u).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(p).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var g=i(o,a-1,28),b=v.getDaysInMonth(g.getUTCFullYear(),g.getUTCMonth());g.setUTCDate(b),g.setUTCDate(b-(g.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(g);g.getUTCFullYear()<100&&y.setUTCFullYear(g.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var w,_=[];g.valueOf()<y;){if(g.getUTCDay()===this.o.weekStart&&(_.push("<tr>"),this.o.calendarWeeks)){var x=new Date(+g+(this.o.weekStart-g.getUTCDay()-7)%7*864e5),C=new Date(Number(x)+(11-x.getUTCDay())%7*864e5),$=new Date(Number($=i(C.getUTCFullYear(),0,1))+(11-$.getUTCDay())%7*864e5),k=(C-$)/864e5/7+1;_.push('<td class="cw">'+k+"</td>")}w=this.getClassNames(g),w.push("day"),this.o.beforeShowDay!==t.noop&&(s=this.o.beforeShowDay(this._utc_to_local(g)),s===e?s={}:"boolean"==typeof s?s={enabled:s}:"string"==typeof s&&(s={classes:s}),!1===s.enabled&&w.push("disabled"),s.classes&&(w=w.concat(s.classes.split(/\s+/))),s.tooltip&&(n=s.tooltip)),w=t.unique(w),_.push('<td class="'+w.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+g.getUTCDate()+"</td>"),n=null,g.getUTCDay()===this.o.weekEnd&&_.push("</tr>"),g.setUTCDate(g.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(_.join(""));var D=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",S=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?D:o).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===o&&S.eq(e.getUTCMonth()).addClass("active")}),(l>o||o>d)&&S.addClass("disabled"),o===l&&S.slice(0,c).addClass("disabled"),o===d&&S.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var T=this;t.each(S,function(i,n){var s=new Date(o,i,1),r=T.o.beforeShowMonth(s);r===e?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),!1!==r.enabled||t(n).hasClass("disabled")||t(n).addClass("disabled"),r.classes&&t(n).addClass(r.classes),r.tooltip&&t(n).prop("title",r.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,o,l,d,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,o,l,d,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,o,l,d,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var s,r,o,a,l,c,d;s=t(e.target),s.hasClass("datepicker-switch")&&this.showMode(1);var h=s.closest(".prev, .next");h.length>0&&(r=v.modes[this.viewMode].navStep*(h.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),s.hasClass("today")&&(this.showMode(-2),this._setDate(n(),"linked"===this.o.todayBtn?null:"view")),s.hasClass("clear")&&this.clearDates(),s.hasClass("disabled")||(s.hasClass("day")&&(o=parseInt(s.text(),10)||1,a=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),s.hasClass("old")&&(0===l?(l=11,a-=1,c=!0,d=!0):(l-=1,c=!0)),s.hasClass("new")&&(11===l?(l=0,a+=1,c=!0,d=!0):(l+=1,c=!0)),this._setDate(i(a,l,o)),d&&this._trigger("changeYear",this.viewDate),c&&this._trigger("changeMonth",this.viewDate)),s.hasClass("month")&&(this.viewDate.setUTCDate(1),o=1,l=s.parent().find("span").index(s),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(a,l,o)),this.showMode()):this.showMode(-1),this.fill()),(s.hasClass("year")||s.hasClass("decade")||s.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,l=0,a=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(a),s.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(a,l,o))),s.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(i(a,l,o))),s.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(i(a,l,o))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!o(t))return this.o.defaultViewDate;if(!e)return t;var i,n,s=new Date(t.valueOf()),r=s.getUTCDate(),a=s.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)n=-1===e?function(){return s.getUTCMonth()===a}:function(){return s.getUTCMonth()!==i},i=a+e,s.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var c=0;l>c;c++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(r),n=function(){return i!==s.getUTCMonth()}}for(;n();)s.setUTCDate(--r),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1;i="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return s(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation()));var e,i,n=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(i=this.moveAvailableDate(s,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(i=this.moveAvailableDate(s,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(s,e,"moveDay"):this.weekOfDateIsDisabled(s)||(i=this.moveAvailableDate(s,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(s,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(s,e,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var h=function(e,i){t(e).data("datepicker",this),this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,p.call(t(this.inputs),i).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker");if(void 0!==i){var n=i.getUTCDate(),s=t.inArray(e.target,this.inputs),r=s-1,o=s+1,a=this.inputs.length;if(-1!==s){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[r])for(;r>=0&&n<this.dates[r];)this.pickers[r--].setUTCDate(n);else if(n>this.dates[o])for(;a>o&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates(),delete this.updating}}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var u=t.fn.datepicker,p=function(i){var n=Array.apply(null,arguments);n.shift();var s;if(this.each(function(){var e=t(this),r=e.data("datepicker"),o="object"==typeof i&&i;if(!r){var c=a(this,"date"),u=t.extend({},f,c,o),p=l(u.language),g=t.extend({},f,p,c,o);e.hasClass("input-daterange")||g.inputs?(t.extend(g,{inputs:g.inputs||e.find("input").toArray()}),r=new h(this,g)):r=new d(this,g),e.data("datepicker",r)}"string"==typeof i&&"function"==typeof r[i]&&(s=r[i].apply(r,n))}),s===e||s instanceof d||s instanceof h)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return s};t.fn.datepicker=p;var f=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},g=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=d;var m=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,v.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(s,r,o,a){function l(t,e){return!0===e&&(e=10),100>t&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}function c(){var t=this.slice(0,b[p].length),e=b[p].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!s)return e;if(s instanceof Date)return s;if("string"==typeof r&&(r=v.parseFormat(r)),r.toValue)return r.toValue(s,r,o);var h,u,p,f,g=/([\-+]\d+)([dmwy])/,b=s.match(/([\-+]\d+)([dmwy])/g),y={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},w={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(s)){for(s=new Date,p=0;p<b.length;p++)h=g.exec(b[p]),u=parseInt(h[1]),f=y[h[2]],s=d.prototype[f](s,u);return i(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())}if("undefined"!=typeof w[s]&&(s=w[s],b=s.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(s))){for(s=new Date,p=0;p<b.length;p++)h=g.exec(b[p]),u=parseInt(h[1]),f=y[h[2]],s=d.prototype[f](s,u);return i(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())}b=s&&s.match(this.nonpunctuation)||[],s=new Date;var _,x,C={},$=["yyyy","yy","M","MM","m","mm","d","dd"],k={yyyy:function(t,e){return t.setUTCFullYear(a?l(e,a):e)},yy:function(t,e){return t.setUTCFullYear(a?l(e,a):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};k.M=k.MM=k.mm=k.m,k.dd=k.d,s=n();var D=r.parts.slice();if(b.length!==D.length&&(D=t(D).filter(function(e,i){return-1!==t.inArray(i,$)}).toArray()),b.length===D.length){var S;for(p=0,S=D.length;S>p;p++){if(_=parseInt(b[p],10),h=D[p],isNaN(_))switch(h){case"MM":x=t(m[o].months).filter(c),_=t.inArray(x[0],m[o].months)+1;break;case"M":x=t(m[o].monthsShort).filter(c),_=t.inArray(x[0],m[o].monthsShort)+1}C[h]=_}var T,I;for(p=0;p<$.length;p++)(I=$[p])in C&&!isNaN(C[I])&&(T=new Date(s),k[I](T,C[I]),isNaN(T)||(s=T))}return s},formatDate:function(e,i,n){if(!e)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(e,i,n);var s={d:e.getUTCDate(),D:m[n].daysShort[e.getUTCDay()],DD:m[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:m[n].monthsShort[e.getUTCMonth()],MM:m[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,e=[];for(var r=t.extend([],i.separators),o=0,a=i.parts.length;a>=o;o++)r.length&&e.push(r.shift()),e.push(s[i.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=u,this},t.fn.datepicker.version="1.6.0",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),p.call(i,"show"))}),t(function(){p.call(t('[data-provide="datepicker-inline"]'))})}),function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(t,e){"use strict";if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var i=function(i,n){var s,r,o,a,l,c,d,h={},u=!0,p=!1,f=!1,g=0,m=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],b=["top","bottom","auto"],y=["left","right","auto"],w=["default","top","bottom"],_={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},x={},C=function(t){var i,s,r,o,a,l=!1;return void 0!==e.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone&&(l=!0),void 0===t||null===t?i=l?e().tz(n.timeZone).startOf("d"):e().startOf("d"):l?(s=e().tz(n.timeZone).utcOffset(),r=e(t,c,n.useStrict).utcOffset(),r!==s?(o=e().tz(n.timeZone).format("Z"),
a=e(t,c,n.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+o,i=e(a,c,n.useStrict).tz(n.timeZone)):i=e(t,c,n.useStrict).tz(n.timeZone)):i=e(t,c,n.useStrict),i},$=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},k=function(){return $("h")||$("m")||$("s")},D=function(){return $("y")||$("M")||$("d")},S=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(n.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(n.icons.next)))),i=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone()))]},T=function(){var e=t("<tr>"),i=t("<tr>"),s=t("<tr>");return $("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(n.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),s.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(n.icons.down))))),$("m")&&($("h")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),s.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(n.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),s.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(n.icons.down))))),$("s")&&($("m")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),s.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(n.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),s.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(n.icons.down))))),a||(e.append(t("<td>").addClass("separator")),i.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),s.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,i,s]))},I=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),s=[T()];return $("h")&&s.push(e),$("m")&&s.push(i),$("s")&&s.push(n),s},E=function(){var e=[];return n.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(t("<span>").addClass(n.icons.today)))),!n.sideBySide&&D()&&k()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(t("<span>").addClass(n.icons.time)))),n.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(t("<span>").addClass(n.icons.clear)))),n.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(t("<span>").addClass(n.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},j=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=t("<div>").addClass("datepicker").append(S()),s=t("<div>").addClass("timepicker").append(I()),r=t("<ul>").addClass("list-unstyled"),o=t("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(E());return n.inline&&e.removeClass("dropdown-menu"),a&&e.addClass("usetwentyfour"),$("s")&&!a&&e.addClass("wider"),n.sideBySide&&D()&&k()?(e.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&e.append(o),e.append(t("<div>").addClass("row").append(i.addClass("col-md-6")).append(s.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&e.append(o),e):("top"===n.toolbarPlacement&&r.append(o),D()&&r.append(t("<li>").addClass(n.collapse&&k()?"collapse in":"").append(i)),"default"===n.toolbarPlacement&&r.append(o),k()&&r.append(t("<li>").addClass(n.collapse&&D()?"collapse":"").append(s)),"bottom"===n.toolbarPlacement&&r.append(o),e.append(r))},A=function(){var e,s={};return e=i.is("input")||n.inline?i.data():i.find("input").data(),e.dateOptions&&e.dateOptions instanceof Object&&(s=t.extend(!0,s,e.dateOptions)),t.each(n,function(t){var i="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[i]&&(s[t]=e[i])}),s},M=function(){var e,s=(p||i).position(),r=(p||i).offset(),o=n.widgetPositioning.vertical,a=n.widgetPositioning.horizontal;if(n.widgetParent)e=n.widgetParent.append(f);else if(i.is("input"))e=i.after(f).parent();else{if(n.inline)return void(e=i.append(f));e=i,i.children().first().after(f)}if("auto"===o&&(o=r.top+1.5*f.height()>=t(window).height()+t(window).scrollTop()&&f.height()+i.outerHeight()<r.top?"top":"bottom"),"auto"===a&&(a=e.width()<r.left+f.outerWidth()/2&&r.left+f.outerWidth()>t(window).width()?"right":"left"),"top"===o?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===a?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===t(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===o?"auto":s.top+i.outerHeight(),bottom:"top"===o?s.top+i.outerHeight():"auto",left:"left"===a?e===i?0:s.left:"auto",right:"left"===a?"auto":e.outerWidth()-i.outerWidth()-(e===i?0:s.left)})},F=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||i.trigger(t)},P=function(t){"y"===t&&(t="YYYY"),F({type:"dp.update",change:t,viewDate:r.clone()})},R=function(t){f&&(t&&(d=Math.max(g,Math.min(3,d+t))),f.find(".datepicker > div").hide().filter(".datepicker-"+m[d].clsName).show())},N=function(){var e=t("<tr>"),i=r.clone().startOf("w").startOf("d");for(!0===n.calendarWeeks&&e.append(t("<th>").addClass("cw").text("#"));i.isBefore(r.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");f.find(".datepicker-days thead").append(e)},O=function(t){return!0===n.disabledDates[t.format("YYYY-MM-DD")]},H=function(t){return!0===n.enabledDates[t.format("YYYY-MM-DD")]},q=function(t){return!0===n.disabledHours[t.format("H")]},L=function(t){return!0===n.enabledHours[t.format("H")]},z=function(e,i){if(!e.isValid())return!1;if(n.disabledDates&&"d"===i&&O(e))return!1;if(n.enabledDates&&"d"===i&&!H(e))return!1;if(n.minDate&&e.isBefore(n.minDate,i))return!1;if(n.maxDate&&e.isAfter(n.maxDate,i))return!1;if(n.daysOfWeekDisabled&&"d"===i&&-1!==n.daysOfWeekDisabled.indexOf(e.day()))return!1;if(n.disabledHours&&("h"===i||"m"===i||"s"===i)&&q(e))return!1;if(n.enabledHours&&("h"===i||"m"===i||"s"===i)&&!L(e))return!1;if(n.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var s=!1;if(t.each(n.disabledTimeIntervals,function(){return e.isBetween(this[0],this[1])?(s=!0,!1):void 0}),s)return!1}return!0},B=function(){for(var e=[],i=r.clone().startOf("y").startOf("d");i.isSame(r,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");f.find(".datepicker-months td").empty().append(e)},W=function(){var e=f.find(".datepicker-months"),i=e.find("th"),o=e.find("tbody").find("span");i.eq(0).find("span").attr("title",n.tooltips.prevYear),i.eq(1).attr("title",n.tooltips.selectYear),i.eq(2).find("span").attr("title",n.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),z(r.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(r.year()),z(r.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),o.removeClass("active"),s.isSame(r,"y")&&!u&&o.eq(s.month()).addClass("active"),o.each(function(e){z(r.clone().month(e),"M")||t(this).addClass("disabled")})},G=function(){var t=f.find(".datepicker-years"),e=t.find("th"),i=r.clone().subtract(5,"y"),o=r.clone().add(6,"y"),a="";for(e.eq(0).find("span").attr("title",n.tooltips.prevDecade),e.eq(1).attr("title",n.tooltips.selectDecade),e.eq(2).find("span").attr("title",n.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(i,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(i.year()+"-"+o.year()),n.maxDate&&n.maxDate.isBefore(o,"y")&&e.eq(2).addClass("disabled");!i.isAfter(o,"y");)a+='<span data-action="selectYear" class="year'+(i.isSame(s,"y")&&!u?" active":"")+(z(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");t.find("td").html(a)},U=function(){var t=f.find(".datepicker-decades"),i=t.find("th"),o=e({y:r.year()-r.year()%100-1}),a=o.clone().add(100,"y"),l=o.clone(),c="";for(i.eq(0).find("span").attr("title",n.tooltips.prevCentury),i.eq(2).find("span").attr("title",n.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(o.isSame(e({y:1900}))||n.minDate&&n.minDate.isAfter(o,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(o.year()+"-"+a.year()),(o.isSame(e({y:2e3}))||n.maxDate&&n.maxDate.isBefore(a,"y"))&&i.eq(2).addClass("disabled");!o.isAfter(a,"y");)c+='<span data-action="selectDecade" class="decade'+(o.isSame(s,"y")?" active":"")+(z(o,"y")?"":" disabled")+'" data-selection="'+(o.year()+6)+'">'+(o.year()+1)+" - "+(o.year()+12)+"</span>",o.add(12,"y");c+="<span></span><span></span><span></span>",t.find("td").html(c),i.eq(1).text(l.year()+1+"-"+o.year())},Y=function(){var e,i,o,a,l=f.find(".datepicker-days"),c=l.find("th"),d=[];if(D()){for(c.eq(0).find("span").attr("title",n.tooltips.prevMonth),c.eq(1).attr("title",n.tooltips.selectMonth),c.eq(2).find("span").attr("title",n.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),c.eq(1).text(r.format(n.dayViewHeaderFormat)),z(r.clone().subtract(1,"M"),"M")||c.eq(0).addClass("disabled"),z(r.clone().add(1,"M"),"M")||c.eq(2).addClass("disabled"),e=r.clone().startOf("M").startOf("w").startOf("d"),a=0;42>a;a++)0===e.weekday()&&(i=t("<tr>"),n.calendarWeeks&&i.append('<td class="cw">'+e.week()+"</td>"),d.push(i)),o="",e.isBefore(r,"M")&&(o+=" old"),e.isAfter(r,"M")&&(o+=" new"),e.isSame(s,"d")&&!u&&(o+=" active"),z(e,"d")||(o+=" disabled"),e.isSame(C(),"d")&&(o+=" today"),(0===e.day()||6===e.day())&&(o+=" weekend"),i.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="day'+o+'">'+e.date()+"</td>"),e.add(1,"d");l.find("tbody").empty().append(d),W(),G(),U()}},V=function(){var e=f.find(".timepicker-hours table"),i=r.clone().startOf("d"),n=[],s=t("<tr>");for(r.hour()>11&&!a&&i.hour(12);i.isSame(r,"d")&&(a||r.hour()<12&&i.hour()<12||r.hour()>11);)i.hour()%4==0&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectHour" class="hour'+(z(i,"h")?"":" disabled")+'">'+i.format(a?"HH":"hh")+"</td>"),i.add(1,"h");e.empty().append(n)},X=function(){for(var e=f.find(".timepicker-minutes table"),i=r.clone().startOf("h"),s=[],o=t("<tr>"),a=1===n.stepping?5:n.stepping;r.isSame(i,"h");)i.minute()%(4*a)==0&&(o=t("<tr>"),s.push(o)),o.append('<td data-action="selectMinute" class="minute'+(z(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(a,"m");e.empty().append(s)},K=function(){for(var e=f.find(".timepicker-seconds table"),i=r.clone().startOf("m"),n=[],s=t("<tr>");r.isSame(i,"m");)i.second()%20==0&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectSecond" class="second'+(z(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");e.empty().append(n)},Q=function(){var t,e,i=f.find(".timepicker span[data-time-component]");a||(t=f.find(".timepicker [data-action=togglePeriod]"),e=s.clone().add(s.hours()>=12?-12:12,"h"),t.text(s.format("A")),z(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),i.filter("[data-time-component=hours]").text(s.format(a?"HH":"hh")),i.filter("[data-time-component=minutes]").text(s.format("mm")),i.filter("[data-time-component=seconds]").text(s.format("ss")),V(),X(),K()},Z=function(){f&&(Y(),Q())},J=function(t){var e=u?null:s;return t?(t=t.clone().locale(n.locale),1!==n.stepping&&t.minutes(Math.round(t.minutes()/n.stepping)*n.stepping%60).seconds(0),void(z(t)?(s=t,r=s.clone(),o.val(s.format(l)),i.data("date",s.format(l)),u=!1,Z(),F({type:"dp.change",date:s.clone(),oldDate:e})):(n.keepInvalid||o.val(u?"":s.format(l)),F({type:"dp.error",date:t})))):(u=!0,o.val(""),i.data("date",""),F({type:"dp.change",date:!1,oldDate:e}),void Z())},tt=function(){var e=!1;return f?(f.find(".collapse").each(function(){var i=t(this).data("collapse");return!i||!i.transitioning||(e=!0,!1)}),e?h:(p&&p.hasClass("btn")&&p.toggleClass("active"),f.hide(),t(window).off("resize",M),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,F({type:"dp.hide",date:s.clone()}),o.blur(),h)):h},et=function(){J(null)},it={next:function(){var t=m[d].navFnc;r.add(m[d].navStep,t),Y(),P(t)},previous:function(){var t=m[d].navFnc;r.subtract(m[d].navStep,t),Y(),P(t)},pickerSwitch:function(){R(1)},selectMonth:function(e){var i=t(e.target).closest("tbody").find("span").index(t(e.target));r.month(i),d===g?(J(s.clone().year(r.year()).month(r.month())),n.inline||tt()):(R(-1),Y()),P("M")},selectYear:function(e){var i=parseInt(t(e.target).text(),10)||0;r.year(i),d===g?(J(s.clone().year(r.year())),n.inline||tt()):(R(-1),Y()),P("YYYY")},selectDecade:function(e){var i=parseInt(t(e.target).data("selection"),10)||0;r.year(i),d===g?(J(s.clone().year(r.year())),n.inline||tt()):(R(-1),Y()),P("YYYY")},selectDay:function(e){var i=r.clone();t(e.target).is(".old")&&i.subtract(1,"M"),t(e.target).is(".new")&&i.add(1,"M"),J(i.date(parseInt(t(e.target).text(),10))),k()||n.keepOpen||n.inline||tt()},incrementHours:function(){var t=s.clone().add(1,"h");z(t,"h")&&J(t)},incrementMinutes:function(){var t=s.clone().add(n.stepping,"m");z(t,"m")&&J(t)},incrementSeconds:function(){var t=s.clone().add(1,"s");z(t,"s")&&J(t)},decrementHours:function(){var t=s.clone().subtract(1,"h");z(t,"h")&&J(t)},decrementMinutes:function(){var t=s.clone().subtract(n.stepping,"m");z(t,"m")&&J(t)},decrementSeconds:function(){var t=s.clone().subtract(1,"s");z(t,"s")&&J(t)},togglePeriod:function(){J(s.clone().add(s.hours()>=12?-12:12,"h"))},togglePicker:function(e){var i,s=t(e.target),r=s.closest("ul"),o=r.find(".in"),a=r.find(".collapse:not(.in)");if(o&&o.length){if((i=o.data("collapse"))&&i.transitioning)return;o.collapse?(o.collapse("hide"),a.collapse("show")):(o.removeClass("in"),a.addClass("in")),s.is("span")?s.toggleClass(n.icons.time+" "+n.icons.date):s.find("span").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var i=parseInt(t(e.target).text(),10);a||(s.hours()>=12?12!==i&&(i+=12):12===i&&(i=0)),J(s.clone().hours(i)),it.showPicker.call(h)},selectMinute:function(e){J(s.clone().minutes(parseInt(t(e.target).text(),10))),it.showPicker.call(h)},selectSecond:function(e){J(s.clone().seconds(parseInt(t(e.target).text(),10))),it.showPicker.call(h)},clear:et,today:function(){var t=C();z(t,"d")&&J(t)},close:tt},nt=function(e){return!t(e.currentTarget).is(".disabled")&&(it[t(e.currentTarget).data("action")].apply(h,arguments),!1)},st=function(){var e,i={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return o.prop("disabled")||!n.ignoreReadonly&&o.prop("readonly")||f?h:(void 0!==o.val()&&0!==o.val().trim().length?J(ot(o.val().trim())):n.useCurrent&&u&&(o.is("input")&&0===o.val().trim().length||n.inline)&&(e=C(),"string"==typeof n.useCurrent&&(e=i[n.useCurrent](e)),J(e)),f=j(),N(),B(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),Z(),R(),t(window).on("resize",M),f.on("click","[data-action]",nt),f.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),f.show(),M(),n.focusOnShow&&!o.is(":focus")&&o.focus(),F({type:"dp.show"}),h)},rt=function(){return f?tt():st()},ot=function(t){return t=void 0===n.parseInputDate?e.isMoment(t)||t instanceof Date?e(t):C(t):n.parseInputDate(t),t.locale(n.locale),t},at=function(t){var e,i,s,r,o=null,a=[],l={},c=t.which,d="p";x[c]=d;for(e in x)x.hasOwnProperty(e)&&x[e]===d&&(a.push(e),parseInt(e,10)!==c&&(l[e]=!0));for(e in n.keyBinds)if(n.keyBinds.hasOwnProperty(e)&&"function"==typeof n.keyBinds[e]&&(s=e.split(" "),s.length===a.length&&_[c]===s[s.length-1])){for(r=!0,i=s.length-2;i>=0;i--)if(!(_[s[i]]in l)){r=!1;break}if(r){o=n.keyBinds[e];break}}o&&(o.call(h,f),t.stopPropagation(),t.preventDefault())},lt=function(t){x[t.which]="r",t.stopPropagation(),t.preventDefault()},ct=function(e){var i=t(e.target).val().trim(),n=i?ot(i):null;return J(n),e.stopImmediatePropagation(),!1},dt=function(){o.on({change:ct,blur:n.debug?"":tt,keydown:at,keyup:lt,focus:n.allowInputToggle?st:""}),i.is("input")?o.on({focus:st}):p&&(p.on("click",rt),p.on("mousedown",!1))},ht=function(){o.off({change:ct,blur:blur,keydown:at,keyup:lt,focus:n.allowInputToggle?tt:""}),i.is("input")?o.off({focus:st}):p&&(p.off("click",rt),p.off("mousedown",!1))},ut=function(e){var i={};return t.each(e,function(){var t=ot(this);t.isValid()&&(i[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(i).length&&i},pt=function(e){var i={};return t.each(e,function(){i[this]=!0}),!!Object.keys(i).length&&i},ft=function(){var t=n.format||"L LT";l=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return(s.localeData().longDateFormat(t)||t).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return s.localeData().longDateFormat(t)||t})}),c=n.extraFormats?n.extraFormats.slice():[],c.indexOf(t)<0&&c.indexOf(l)<0&&c.push(l),a=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,$("y")&&(g=2),$("M")&&(g=1),$("d")&&(g=0),d=Math.max(g,d),u||J(s)};if(h.destroy=function(){tt(),ht(),i.removeData("DateTimePicker"),i.removeData("date")},h.toggle=rt,h.show=st,h.hide=tt,h.disable=function(){return tt(),p&&p.hasClass("btn")&&p.addClass("disabled"),o.prop("disabled",!0),h},h.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),o.prop("disabled",!1),h},h.ignoreReadonly=function(t){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=t,h},h.options=function(e){if(0===arguments.length)return t.extend(!0,{},n);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,n,e),t.each(n,function(t,e){if(void 0===h[t])throw new TypeError("option "+t+" is not recognized!");h[t](e)}),h},h.date=function(t){if(0===arguments.length)return u?null:s.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return J(null===t?null:ot(t)),h},h.format=function(t){if(0===arguments.length)return n.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a sting or boolean:false parameter "+t);return n.format=t,l&&ft(),h},h.timeZone=function(t){return 0===arguments.length?n.timeZone:(n.timeZone=t,h)},h.dayViewHeaderFormat=function(t){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=t,h},h.extraFormats=function(t){if(0===arguments.length)return n.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=t,c&&ft(),h},h.disabledDates=function(e){if(0===arguments.length)return n.disabledDates?t.extend({},n.disabledDates):n.disabledDates;if(!e)return n.disabledDates=!1,Z(),h;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=ut(e),n.enabledDates=!1,Z(),h},h.enabledDates=function(e){if(0===arguments.length)return n.enabledDates?t.extend({},n.enabledDates):n.enabledDates;if(!e)return n.enabledDates=!1,Z(),h;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=ut(e),n.disabledDates=!1,Z(),h},h.daysOfWeekDisabled=function(t){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return n.daysOfWeekDisabled=!1,Z(),h;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=t.reduce(function(t,e){return e=parseInt(e,10),e>6||0>e||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var e=0;!z(s,"d");){if(s.add(1,"d"),7===e)throw"Tried 7 times to find a valid date";e++}J(s)}return Z(),h},h.maxDate=function(t){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof t&&!1===t)return n.maxDate=!1,Z(),h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=C());var e=ot(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(n.minDate&&e.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(l));return n.maxDate=e,n.useCurrent&&!n.keepInvalid&&s.isAfter(t)&&J(n.maxDate),r.isAfter(e)&&(r=e.clone().subtract(n.stepping,"m")),Z(),h},h.minDate=function(t){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof t&&!1===t)return n.minDate=!1,Z(),h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=C());var e=ot(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(n.maxDate&&e.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(l));return n.minDate=e,n.useCurrent&&!n.keepInvalid&&s.isBefore(t)&&J(n.minDate),r.isBefore(e)&&(r=e.clone().add(n.stepping,"m")),Z(),h},h.defaultDate=function(t){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!t)return n.defaultDate=!1,h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=C());var e=ot(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!z(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=e,(n.defaultDate&&n.inline||""===o.val().trim())&&J(n.defaultDate),h},h.locale=function(t){if(0===arguments.length)return n.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return n.locale=t,s.locale(n.locale),r.locale(n.locale),l&&ft(),f&&(tt(),st()),h},h.stepping=function(t){return 0===arguments.length?n.stepping:(t=parseInt(t,10),(isNaN(t)||1>t)&&(t=1),n.stepping=t,h)},h.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return n.useCurrent=t,h},h.collapse=function(t){if(0===arguments.length)return n.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===t?h:(n.collapse=t,f&&(tt(),st()),h)},h.icons=function(e){if(0===arguments.length)return t.extend({},n.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(n.icons,e),f&&(tt(),st()),h},h.tooltips=function(e){if(0===arguments.length)return t.extend({},n.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(n.tooltips,e),f&&(tt(),st()),h},h.useStrict=function(t){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=t,h},h.sideBySide=function(t){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=t,f&&(tt(),st()),h},h.viewMode=function(t){if(0===arguments.length)return n.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return n.viewMode=t,d=Math.max(v.indexOf(t),g),R(),h},h.toolbarPlacement=function(t){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return n.toolbarPlacement=t,f&&(tt(),st()),h},h.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===y.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+y.join(", ")+")");n.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===b.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.vertical=e.vertical}return Z(),h},h.calendarWeeks=function(t){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=t,Z(),h},h.showTodayButton=function(t){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=t,f&&(tt(),st()),h},h.showClear=function(t){if(0===arguments.length)return n.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=t,f&&(tt(),st()),h},h.widgetParent=function(e){if(0===arguments.length)return n.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=e,f&&(tt(),st()),h},h.keepOpen=function(t){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=t,h},h.focusOnShow=function(t){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=t,h},h.inline=function(t){if(0===arguments.length)return n.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return n.inline=t,h},h.clear=function(){return et(),h},h.keyBinds=function(t){return n.keyBinds=t,h},h.getMoment=function(t){return C(t)},h.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return n.debug=t,h},h.allowInputToggle=function(t){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=t,h},h.showClose=function(t){if(0===arguments.length)return n.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=t,h},h.keepInvalid=function(t){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return n.keepInvalid=t,h},h.datepickerInput=function(t){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=t,h},h.parseInputDate=function(t){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=t,h},h.disabledTimeIntervals=function(e){if(0===arguments.length)return n.disabledTimeIntervals?t.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!e)return n.disabledTimeIntervals=!1,Z(),h;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=e,Z(),h},h.disabledHours=function(e){if(0===arguments.length)return n.disabledHours?t.extend({},n.disabledHours):n.disabledHours;if(!e)return n.disabledHours=!1,Z(),h;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=pt(e),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!z(s,"h");){if(s.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}J(s)}return Z(),h},h.enabledHours=function(e){if(0===arguments.length)return n.enabledHours?t.extend({},n.enabledHours):n.enabledHours;if(!e)return n.enabledHours=!1,Z(),h;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=pt(e),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!z(s,"h");){if(s.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}J(s)}return Z(),h},h.viewDate=function(t){if(0===arguments.length)return r.clone();if(!t)return r=s.clone(),h;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return r=ot(t),P(),h},i.is("input"))o=i;else if(o=i.find(n.datepickerInput),0===o.size())o=i.find("input");else if(!o.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(i.hasClass("input-group")&&(p=0===i.find(".datepickerbutton").size()?i.find(".input-group-addon"):i.find(".datepickerbutton")),!n.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return s=C(),r=s.clone(),t.extend(!0,n,A()),h.options(n),ft(),dt(),o.prop("disabled")&&h.disable(),
o.is("input")&&0!==o.val().trim().length?J(ot(o.val().trim())):n.defaultDate&&void 0===o.attr("placeholder")&&J(n.defaultDate),n.inline&&st(),h};t.fn.datetimepicker=function(e){return this.each(function(){var n=t(this);n.data("DateTimePicker")||(e=t.extend(!0,{},t.fn.datetimepicker.defaults,e),n.data("DateTimePicker",i(n,e)))})},t.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(!t)return void this.show();var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}),function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.editableform.defaults,i),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width())&&this.$loading.width(t),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),!1!==t&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var i,n=this.$form.find(".control-group"),s=this.$form.find(".editable-error-block");if(!1===e)n.removeClass(t.fn.editableform.errorGroupClass),s.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){i=(""+e).split("\n");for(var r=0;r<i.length;r++)i[r]=t("<div>").text(i[r]).html();e=i.join("<br>")}n.addClass(t.fn.editableform.errorGroupClass),s.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var i=this.input.input2value(),n=this.validate(i);if("object"===t.type(n)&&void 0!==n.newValue){if(i=n.newValue,this.input.value2input(i),"string"==typeof n.msg)return this.error(n.msg),void this.showForm()}else if(n)return this.error(n),void this.showForm();if(!this.options.savenochange&&this.input.value2str(i)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var s=this.input.value2submit(i);this.isSaving=!0,t.when(this.save(s)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,i):null;return!1===e?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(i=e.newValue),this.error(!1),this.value=i,void this.$div.triggerHandler("save",{newValue:i,submitValue:s,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,i):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var i,n="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;return!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==n&&void 0!==n))?void 0:(this.showLoading(),i={name:this.options.name||"",value:e,pk:n},"function"==typeof this.options.params?i=this.options.params.call(this.options.scope,i):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(i,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,i):t.ajax(t.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions)))},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(i){var n=arguments;return this.each(function(){var s=t(this),r=s.data("editableform"),o="object"==typeof i&&i;r||s.data("editableform",r=new e(this,o)),"string"==typeof i&&r[i].apply(r,Array.prototype.slice.call(n,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass=null,t.fn.editableform.errorBlockClass="editable-error",t.fn.editableform.engine="jquery"}(window.jQuery),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(t){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,i,n){var s,r,o={};if(!t.isArray(i)||!i.length)return o;for(var a=0;a<i.length;a++)s=i[a],e.hasOwnProperty(s)&&(o[s]=e[s]),!0!==n&&(r=s.toLowerCase(),e.hasOwnProperty(r)&&(o[s]=e[r]));return o},getConfigData:function(e){var i={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(i[t]=e)}),i},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,i,n){if(!i||null===e)return[];if("function"!=typeof n){var s=n||"value";n=function(t){return t[s]}}var r=t.isArray(e),o=[],a=this;return t.each(i,function(i,s){if(s.children)o=o.concat(a.itemsByValue(e,s.children,n));else if(r)t.grep(e,function(t){return t==(s&&"object"==typeof s?n(s):s)}).length&&o.push(s);else{var l=s&&"object"==typeof s?n(s):s;e==l&&o.push(s)}}),o},createInput:function(e){var i,n,s=e.type;return"date"===s&&("inline"===e.mode?t.fn.editabletypes.datefield?s="datefield":t.fn.editabletypes.dateuifield&&(s="dateuifield"):t.fn.editabletypes.date?s="date":t.fn.editabletypes.dateui&&(s="dateui"),"date"!==s||t.fn.editabletypes.date||(s="combodate")),"datetime"===s&&"inline"===e.mode&&(s="datetimefield"),"wysihtml5"!==s||t.fn.editabletypes[s]||(s="textarea"),"function"==typeof t.fn.editabletypes[s]?(i=t.fn.editabletypes[s],n=this.sliceObj(e,this.objectKeys(i.defaults)),new i(n)):(t.error("Unknown type: "+s),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,i="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var s=0;s<n.length;s++)if("string"==typeof e[n[s]+i])return!0;return!1}}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init(t,e)},i=function(t,e){this.init(t,e)};e.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,n){this.$element=t(i),this.options=t.extend({},t.fn.editableContainer.defaults,n),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(i){var n,s=t(i.target),r=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!t(".select2-drop-mask").is(":visible")&&t.contains(document.documentElement,i.target)&&!s.is(document)){for(n=0;n<r.length;n++)if(s.is(r[n])||s.parents(r[n]).length)return;e.prototype.closeOthers(i.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var e in this.options)e in this.defaults?this.containerOptions[e]=this.options[e]:this.formOptions[e]=this.options[e]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),!1!==e&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(i,n){if(n!==e&&!t(n).find(e).length){var s=t(n),r=s.data("editableContainer");r&&("cancel"===r.options.onblur?s.data("editableContainer").hide("onblur"):"submit"===r.options.onblur&&s.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(n){var s=arguments;return this.each(function(){var r=t(this),o="editableContainer",a=r.data(o),l="object"==typeof n&&n,c="inline"===l.mode?i:e;a||r.data(o,a=new c(this,l)),"string"==typeof n&&a[n].apply(a,Array.prototype.slice.call(s,1))})},t.fn.editableContainer.Popup=e,t.fn.editableContainer.Inline=i,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,i,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,i=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),i=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),"string"==typeof this.options.value?this.value=this.input.str2value(this.options.value):this.value=this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!i;break;default:e=!1}t.when(!e||this.render()).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var i=t(e.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(e))},this))},render:function(t){return!1!==this.options.display?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,i){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,i){this.option(t.trim(e),i)},this)):(this.options[e]=i,"disabled"===e?i?this.disable():this.enable():("value"===e&&this.setValue(i),this.container&&this.container.option(e,i),void(this.input.option&&this.input.option(e,i))))},handleEmpty:function(e){!1!==this.options.display&&(void 0!==e?this.isEmpty=e:"function"==typeof this.input.isEmpty?this.isEmpty=this.input.isEmpty(this.$element):this.isEmpty=""===t.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var i=!1;i=i||"function"==typeof this.options.url,i=i||!1===this.options.display,i=i||void 0!==e.response,i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),i?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var n=this.$element,s=n.css("background-color");n.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===s&&(s=""),n.css("background-color",s),n.addClass("editable-bg-transition"),setTimeout(function(){n.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(e,i,n){this.value=i?this.input.str2value(e):e,this.container&&this.container.option("value",this.value),t.when(this.render(n)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},t.fn.editable=function(i){var n={},s=arguments,r="editable";switch(i){case"validate":return this.each(function(){var e,i=t(this),s=i.data(r);s&&(e=s.validate())&&(n[s.options.name]=e)}),n;case"getValue":return 2===arguments.length&&!0===arguments[1]?n=this.eq(0).data(r).value:this.each(function(){var e=t(this),i=e.data(r);i&&void 0!==i.value&&null!==i.value&&(n[i.options.name]=i.input.value2submit(i.value))}),n;case"submit":var o=arguments[1]||{},a=this,l=this.editable("validate");if(t.isEmptyObject(l)){var c={};if(1===a.length){var d=a.data("editable"),h={name:d.options.name||"",value:d.input.value2submit(d.value),pk:"function"==typeof d.options.pk?d.options.pk.call(d.options.scope):d.options.pk};"function"==typeof d.options.params?h=d.options.params.call(d.options.scope,h):(d.options.params=t.fn.editableutils.tryParseJson(d.options.params,!0),t.extend(h,d.options.params)),c={url:d.options.url,data:h,type:"POST"},o.success=o.success||d.options.success,o.error=o.error||d.options.error}else{var u=this.editable("getValue");c={url:o.url,data:u,type:"POST"}}c.success="function"==typeof o.success?function(t){o.success.call(a,t,o)}:t.noop,c.error="function"==typeof o.error?function(){o.error.apply(a,arguments)}:t.noop,o.ajaxOptions&&t.extend(c,o.ajaxOptions),o.data&&t.extend(c.data,o.data),t.ajax(c)}else"function"==typeof o.error&&o.error.call(a,l);return this}return this.each(function(){var n=t(this),o=n.data(r),a="object"==typeof i&&i;return a&&a.selector?void(o=new e(this,a)):(o||n.data(r,o=new e(this,a)),void("string"==typeof i&&o[i].apply(o,Array.prototype.slice.call(s,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,i,n){this.type=e,this.options=t.extend({},n,i)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,i){t(i)[this.options.escape?"text":"html"](t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(window.jQuery),function(t){"use strict";var e=function(){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(){return null},value2html:function(e,i,n,s){var r=t.Deferred(),o=function(){"function"==typeof n?n.call(i,e,this.sourceData,s):this.value2htmlFinal(e,i),r.resolve()};return null===e?o.call(this):this.onSourceReady(o,function(){r.resolve()}),r.promise()},onSourceReady:function(e,i){var n;if(t.isFunction(this.options.source)?(n=this.options.source.call(this.options.scope),this.sourceData=null):n=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))return void e.call(this);try{n=t.fn.editableutils.tryParseJson(n,!1)}catch(t){return void i.call(this)}if("string"==typeof n){if(this.options.sourceCache){var s,r=n;if(t(document).data(r)||t(document).data(r,{}),s=t(document).data(r),!1===s.loading&&s.sourceData)return this.sourceData=s.sourceData,this.doPrepend(),void e.call(this);if(!0===s.loading)return s.callbacks.push(t.proxy(function(){this.sourceData=s.sourceData,this.doPrepend(),e.call(this)},this)),void s.err_callbacks.push(t.proxy(i,this));s.loading=!0,s.callbacks=[],s.err_callbacks=[]}var o=t.extend({url:n,type:"get",cache:!1,dataType:"json",success:t.proxy(function(n){s&&(s.loading=!1),this.sourceData=this.makeArray(n),t.isArray(this.sourceData)?(s&&(s.sourceData=this.sourceData,t.each(s.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(i.call(this),s&&t.each(s.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){i.call(this),s&&(s.loading=!1,t.each(s.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);t.ajax(o)}else this.sourceData=this.makeArray(n),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):i.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(e){var i,n,s,r,o=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){r=function(t,e){return n={value:t,text:e},!(i++>=2)&&void 0};for(var a=0;a<e.length;a++)s=e[a],"object"==typeof s?(i=0,t.each(s,r),1===i?o.push(n):i>1&&(s.children&&(s.children=this.makeArray(s.children)),o.push(s))):o.push({value:s,text:s})}else t.each(e,function(t,e){o.push({value:t,text:e})});return o},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),t.fn.editabletypes.list=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(i,n){var s;if(t.isArray(n))for(var r=0;r<n.length;r++)s={},n[r].children?(s.label=n[r].text,i.append(e(t("<optgroup>",s),n[r].children))):(s.value=n[r].value,n[r].disabled&&(s.disabled=!0),i.append(t("<option>",s).text(n[r].text)));return i};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,i){var n="",s=t.fn.editableutils.itemsByValue(e,this.sourceData);s.length&&(n=s[0].text),t.fn.editabletypes.abstractinput.prototype.value2html.call(this,n,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),t.fn.editabletypes.select=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var i=0;i<this.sourceData.length;i++)e=t("<label>").append(t("<input>",{type:"checkbox",value:this.sourceData[i].value})).append(t("<span>").text(" "+this.sourceData[i].text)),t("<div>").append(e).appendTo(this.$tpl)
;this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var i,n=null;return"string"==typeof e&&e.length?(i=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),n=e.split(i)):n=t.isArray(e)?e:[e],n},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(i,n){var s=t(n);t.each(e,function(t,e){s.val()==e&&s.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(i,n){e.push(t(n).val())}),e},value2htmlFinal:function(e,i){var n=[],s=t.fn.editableutils.itemsByValue(e,this.sourceData),r=this.options.escape;s.length?(t.each(s,function(e,i){var s=r?t.fn.editableutils.escape(i.text):i.text;n.push(s)}),t(i).html(n.join("<br>"))):t(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,i){e?t(i).text("[hidden]"):t(i).empty()},html2value:function(){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(t){"use strict";var e=function(i){if(this.init("select2",i,e.defaults),i.select2=i.select2||{},this.sourceData=null,i.placeholder&&(i.select2.placeholder=i.placeholder),!i.select2.tags&&i.source){var n=i.source;t.isFunction(i.source)&&(n=i.source.call(i.scope)),"string"==typeof n?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(t){return{query:t}}),i.select2.ajax.results||(i.select2.ajax.results=function(t){return{results:t}}),i.select2.ajax.url=n):(this.sourceData=this.convertSource(n),i.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,i.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var s=this.idFunc||"id";this.idFunc=function(t){return t[s]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(i,n){var s,r="",o=this;this.options.select2.tags?s=i:this.sourceData&&(s=t.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc)),t.isArray(s)?(r=[],t.each(s,function(t,e){r.push(e&&"object"==typeof e?o.formatSelection(e):e)})):s&&(r=o.formatSelection(s)),r=t.isArray(r)?r.join(this.options.viewseparator):r,e.superclass.value2html.call(this,r,n)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(t.isArray(e)&&(e=e.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,n=this.options.select2.formatSelection;if(!i&&!n){var s=t(this.options.scope);if(!s.data("editable").isEmpty){var r={id:e,text:s.text()};this.$input.select2("data",r)}}}},input2value:function(){return this.$input.val()},str2value:function(e,i){if("string"!=typeof e||!this.isMultiple)return e;i=i||this.getSeparator();var n,s,r;if(null===e||e.length<1)return null;for(n=e.split(i),s=0,r=n.length;r>s;s+=1)n[s]=t.trim(n[s]);return n},autosubmit:function(){this.$input.on("change",function(e,i){i||t(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||t.fn.select2.defaults.separator},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var i=0;i<e.length;i++)void 0!==e[i].value&&(e[i].id=e[i].value,delete e[i].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<select></select>",select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(window.jQuery),function(t){var e=function(e,i){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,i,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(e){this.$element.val(this.getValue()).change(),this.options.smartDays&&(t(e.target).is(".month")||t(e.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,i){i=i[0];var n=new RegExp(i+"+"),s=i.length>1?i.substring(1,2):i;e=e.replace(n,"{"+s+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,i){i=i[0];var n=i.length>1?i.substring(1,2):i;e=e.replace("{"+n+"}",'<select class="'+t+'"></select>')}),e},initCombos:function(){for(var t in this.map){var e=this.$widget.find("."+t);this["$"+t]=e.length?e:null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var i="fill"+t.charAt(0).toUpperCase()+t.slice(1),n=this[i](),s=e.val();e.empty();for(var r=0;r<n.length;r++)e.append('<option value="'+n[r][0]+'">'+n[r][1]+"</option>");e.val(s)}},fillCommon:function(t){var e,i=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var n="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];n=n.split(" ").reverse()[0],i.push(["",n])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},fillDay:function(){var t,e,i=this.fillCommon("d"),n=-1!==this.options.template.indexOf("DD"),s=31;if(this.options.smartDays&&this.$month&&this.$year){var r=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(r)||isNaN(o)||(s=moment([o,r]).daysInMonth())}for(e=1;s>=e;e++)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillMonth:function(){var t,e,i=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),s=-1!==this.options.template.indexOf("MMM"),r=-1!==this.options.template.indexOf("MM");for(e=0;11>=e;e++)t=n?moment().date(1).month(e).format("MMMM"):s?moment().date(1).month(e).format("MMM"):r?this.leadZero(e+1):e+1,i.push([e,t]);return i},fillYear:function(){var t,e,i=[],n=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=n?e:(e+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([e,t]);return i=this.fillCommon("y").concat(i)},fillHour:function(){var t,e,i=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),s=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),r=n?1:0,o=n?12:23;for(e=r;o>=e;e++)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillMinute:function(){var t,e,i=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillSecond:function(){var t,e,i=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a");return this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]},getValue:function(e){var i,n={},s=this,r=!1;return t.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return n[t]=s["$"+t]?parseInt(s["$"+t].val(),10):e,isNaN(n[t])?(r=!0,!1):void 0}}),r?"":(this.$ampm&&(12===n.hour?n.hour="am"===this.$ampm.val()?0:12:n.hour="am"===this.$ampm.val()?n.hour:n.hour+12),i=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]),this.highlight(i),e=void 0===e?this.options.format:e,null===e?i.isValid()?i:null:i.isValid()?i.format(e):"")},setValue:function(e){function i(e,i){var n={};return e.children("option").each(function(e,s){var r,o=t(s).attr("value");""!==o&&(r=Math.abs(o-i),("undefined"==typeof n.distance||r<n.distance)&&(n={value:o,distance:r}))}),n.value}if(e){var n="string"==typeof e?moment(e,this.options.format):moment(e),s=this,r={};n.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(r[t]=n[e[1]]())}),this.$ampm&&(r.hour>=12?(r.ampm="pm",r.hour>12&&(r.hour-=12)):(r.ampm="am",0===r.hour&&(r.hour=12))),t.each(r,function(t,e){s["$"+t]&&("minute"===t&&s.options.minuteStep>1&&s.options.roundTime&&(e=i(s["$"+t],e)),"second"===t&&s.options.secondStep>1&&s.options.roundTime&&(e=i(s["$"+t],e)),s["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(n.format(this.options.format)).change())}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return 9>=t?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(i){var n,s=Array.apply(null,arguments);return s.shift(),"getValue"===i&&this.length&&(n=this.eq(0).data("combodate"))?n.getValue.apply(n,s):this.each(function(){var n=t(this),r=n.data("combodate"),o="object"==typeof i&&i;r||n.data("combodate",r=new e(this,o)),"string"==typeof i&&"function"==typeof r[i]&&r[i].apply(r,s)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(t){"use strict";var e=function(i){this.init("combodate",i,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),i.combodate=t.fn.editableutils.tryParseJson(i.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===t.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,i){var n=t?t.format(this.options.viewformat):"";e.superclass.value2html.call(this,n,i)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(window.jQuery),function(t){"use strict";var e=t.fn.editableform.Constructor.prototype.initInput;t.extend(t.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=t(t.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){e.apply(this);var i=null===this.input.options.inputclass||!1===this.input.options.inputclass,n="input-sm",s="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~t.inArray(this.input.type,s)&&(this.input.$input.addClass("form-control"),i&&(this.input.options.inputclass=n,this.input.$input.addClass(n)));for(var r=this.$form.find(".editable-buttons"),o=i?[n]:this.input.options.inputclass.split(" "),a=0;a<o.length;a++)"input-lg"===o[a].toLowerCase()&&r.find("button").removeClass("btn-sm").addClass("btn-lg")}}),t.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass=null,t.fn.editableform.engine="bs3"}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:t.fn.popover?t.fn.popover.Constructor.DEFAULTS:{},initContainer:function(){t.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var e;this.$element.data("template")&&(e=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),e&&this.$element.data("template",e)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){(function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,n=i.test(e);n&&(e=e.replace(i,"")||"top");var s=this.getPosition(),r=t[0].offsetWidth,o=t[0].offsetHeight;if(n){var a=this.$element.parent(),l=e,c=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:a.outerWidth(),h="body"==this.options.container?window.innerHeight:a.outerHeight(),u="body"==this.options.container?0:a.offset().left;e="bottom"==e&&s.top+s.height+o-c>h?"top":"top"==e&&s.top-c-o<0?"bottom":"right"==e&&s.right+r>d?"left":"left"==e&&s.left-r<u?"right":e,t.removeClass(l).addClass(e)}var p=this.getCalculatedOffset(e,s,r,o);this.applyPlacement(p,e)}).call(this.container())}})}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetime",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),e.datetimepicker=t.fn.editableutils.tryParseJson(e.datetimepicker,!0),this.options.datetimepicker=t.extend({},i.datetimepicker,e.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=t.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var e=t(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,i){var n=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return i?void e.superclass.value2html.call(this,n,i):n},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var e=t(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var i,n=null;return t&&(n=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(i=this.dpg.formatDate(n,e,this.options.datetimepicker.language,this.options.formatType),t!==i&&(n=null))),n}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.datetime=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-group date"><input type="text"/><span class="input-group-addon"><i class="fa fa-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(window.jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";var e=function(e,i){var n=["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"];t.each(n,function(n,s){void 0!==t(e).data(s)&&(i="object"==typeof i?i:{},i[s]=t(e).data(s))}),this.$ns="bootstrap-markdown",this.$element=t(e),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=t.extend(!0,{},t.fn.markdown.defaults,i,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};e.prototype={constructor:e,__alterButtons:function(e,i){var n=this.$handler,s="all"==e,r=this;t.each(n,function(t,n){!1===(!s&&n.indexOf(e)<0)&&i(r.$editor.find('button[data-handler="'+n+'"]'))})},__buildButtons:function(e,i){var n,s=this.$ns,r=this.$handler,o=this.$callback;for(n=0;n<e.length;n++){var a,l=e[n];for(a=0;a<l.length;a++){var c,d=l[a].data,h=t("<div/>",{"class":"btn-group"});for(c=0;c<d.length;c++){var u,p,f=d[c],g=s+"-"+f.name,m=this.__getIcon(f.icon),v=f.btnText?f.btnText:"",b=f.btnClass?f.btnClass:"btn",y=f.tabIndex?f.tabIndex:"-1",w="undefined"!=typeof f.hotkey?f.hotkey:"",_="undefined"!=typeof jQuery.hotkeys&&""!==w?" ("+w+")":"";u=t("<button></button>"),u.text(" "+this.__localize(v)).addClass("btn-default btn-sm").addClass(b),b.match(/btn\-(primary|success|info|warning|danger|link)/)&&u.removeClass("btn-default"),u.attr({type:"button",title:this.__localize(f.title)+_,tabindex:y,"data-provider":s,"data-handler":g,"data-hotkey":w}),!0===f.toggle&&u.attr("data-toggle","button"),p=t("<span/>"),p.addClass(m),p.prependTo(u),h.append(u),r.push(g),o.push(f.callback)}i.append(h)}}return i},__setListener:function(){var e=void 0!==this.$textarea.attr("rows"),i=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",n=e?this.$textarea.attr("rows"):i;this.$textarea.attr("rows",n),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on({focus:t.proxy(this.focus,this),keyup:t.proxy(this.keyup,this),change:t.proxy(this.change,this),select:t.proxy(this.select,this)}),this.eventSupported("keydown")&&this.$textarea.on("keydown",t.proxy(this.keydown,this)),this.eventSupported("keypress")&&this.$textarea.on("keypress",t.proxy(this.keypress,this)),this.$textarea.data("markdown",this)},__handle:function(e){var i=t(e.currentTarget),n=this.$handler,s=this.$callback,r=i.attr("data-handler"),o=n.indexOf(r),a=s[o];t(e.currentTarget).focus(),a(this),this.change(this),r.indexOf("cmdSave")<0&&this.$textarea.focus(),e.preventDefault()},__localize:function(e){var i=t.fn.markdown.messages,n=this.$options.language;return void 0!==i&&"undefined"!=typeof i[n]&&"undefined"!=typeof i[n][e]?i[n][e]:e},__getIcon:function(t){return"object"==typeof t?t[this.$options.iconlibrary]:t},setFullscreen:function(e){var i=this.$editor,n=this.$textarea;!0===e?(i.addClass("md-fullscreen-mode"),t("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(i.removeClass("md-fullscreen-mode"),t("body").removeClass("md-nooverflow"),1==this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=e,n.focus()},showEditor:function(){var e,i=this,n=this.$ns,s=this.$element,r=(s.css("height"),s.css("width"),this.$editable),o=this.$handler,a=this.$callback,l=this.$options,c=t("<div/>",{"class":"md-editor",click:function(){i.focus()}});if(null===this.$editor){var d=t("<div/>",{"class":"md-header btn-toolbar"}),h=[];if(l.buttons.length>0&&(h=h.concat(l.buttons[0])),l.additionalButtons.length>0&&t.each(l.additionalButtons[0],function(e,i){var n=t.grep(h,function(t){return t.name===i.name});n.length>0?n[0].data=n[0].data.concat(i.data):h.push(l.additionalButtons[0][e])}),l.reorderButtonGroups.length>0&&(h=h.filter(function(t){return l.reorderButtonGroups.indexOf(t.name)>-1}).sort(function(t,e){return l.reorderButtonGroups.indexOf(t.name)<l.reorderButtonGroups.indexOf(e.name)?-1:l.reorderButtonGroups.indexOf(t.name)>l.reorderButtonGroups.indexOf(e.name)?1:0})),h.length>0&&(d=this.__buildButtons([h],d)),l.fullscreen.enable&&d.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(l.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(t){t.preventDefault(),i.setFullscreen(!0)}),c.append(d),s.is("textarea"))s.before(c),e=s,e.addClass("md-input"),c.append(e);else{var u="function"==typeof toMarkdown?toMarkdown(s.html()):s.html(),p=t.trim(u);e=t("<textarea/>",{"class":"md-input",val:p}),c.append(e),r.el=s,r.type=s.prop("tagName").toLowerCase(),r.content=s.html(),t(s[0].attributes).each(function(){r.attrKeys.push(this.nodeName),r.attrValues.push(this.nodeValue)}),s.replaceWith(c)}var f=t("<div/>",{"class":"md-footer"}),g=!1,m="";if(l.savable){g=!0;var v="cmdSave";o.push(v),a.push(l.onSave),f.append('<button class="btn btn-success" data-provider="'+n+'" data-handler="'+v+'"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")}if(m="function"==typeof l.footer?l.footer(this):l.footer,""!==t.trim(m)&&(g=!0,f.append(m)),g&&c.append(f),l.width&&"inherit"!==l.width&&(jQuery.isNumeric(l.width)?(c.css("display","table"),e.css("width",l.width+"px")):c.addClass(l.width)),l.height&&"inherit"!==l.height)if(jQuery.isNumeric(l.height)){var b=l.height;d&&(b=Math.max(0,b-d.outerHeight())),f&&(b=Math.max(0,b-f.outerHeight())),e.css("height",b+"px")}else c.addClass(l.height);this.$editor=c,this.$textarea=e,this.$editable=r,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',t.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"==typeof jQuery.hotkeys&&d.find('[data-provider="bootstrap-markdown"]').each(function(){var i=t(this),n=i.attr("data-hotkey");""!==n.toLowerCase()&&e.bind("keydown",n,function(){return i.trigger("click"),!1})}),"preview"===l.initialstate?this.showPreview():"fullscreen"===l.initialstate&&l.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return l.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),l.fullscreen.enable&&!1!==l.fullscreen&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(l.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",function(t){t.preventDefault(),i.setFullscreen(!1)})),this.hideButtons(l.hiddenButtons),this.disableButtons(l.disabledButtons),l.onShow(this),this},parseContent:function(t){var t=t||this.$textarea.val();return this.$options.parser?this.$options.parser(t):"object"==typeof markdown?markdown.toHTML(t):"function"==typeof marked?marked(t):t},showPreview:function(){var e,i,n=this.$options,s=this.$textarea,r=s.next(),o=t("<div/>",{"class":"md-preview","data-provider":"markdown-preview"});return 1==this.$isPreview?this:(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),i=n.onPreview(this),e="string"==typeof i?i:this.parseContent(),o.html(e),r&&"md-footer"==r.attr("class")?o.insertBefore(r):s.parent().append(o),o.css({width:s.outerWidth()+"px",height:s.outerHeight()+"px"}),this.$options.resize&&o.css("resize",this.$options.resize),s.hide(),o.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this)},hidePreview:function(){return this.$isPreview=!1,this.$editor.find('div[data-provider="markdown-preview"]').remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(t){return this.$textarea.val(t),this},findSelection:function(t){var e;if((e=this.getContent().indexOf(t))>=0&&t.length>0){var i,n=this.getSelection();return this.setSelection(e,e+t.length),i=this.getSelection(),this.setSelection(n.start,n.end),i}return null},getSelection:function(){var t=this.$textarea[0];return("selectionStart"in t&&function(){var e=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value.substr(t.selectionStart,e)}}||function(){return null})()},setSelection:function(t,e){var i=this.$textarea[0];return("selectionStart"in i&&function(){i.selectionStart=t,i.selectionEnd=e}||function(){return null})()},replaceSelection:function(t){var e=this.$textarea[0];return("selectionStart"in e&&function(){return e.value=e.value.substr(0,e.selectionStart)+t+e.value.substr(e.selectionEnd,e.value.length),e.selectionStart=e.value.length,this}||function(){return e.value+=t,jQuery(e)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var t,e=this.$nextTab.shift();return"function"==typeof e?t=e():"object"==typeof e&&e.length>0&&(t=e),t},setNextTab:function(t,e){if("string"==typeof t){var i=this;this.$nextTab.push(function(){return i.findSelection(t)})}else if("number"==typeof t&&"number"==typeof e){var n=this.getSelection();this.setSelection(t,e),this.$nextTab.push(this.getSelection()),this.setSelection(n.start,n.end)}},__parseButtonNameParam:function(t){return"string"==typeof t?t.split(" "):t},enableButtons:function(e){var i=this.__parseButtonNameParam(e),n=this;return t.each(i,function(t){n.__alterButtons(i[t],function(t){t.removeAttr("disabled")})}),this},disableButtons:function(e){var i=this.__parseButtonNameParam(e),n=this;return t.each(i,function(t){n.__alterButtons(i[t],function(t){t.attr("disabled","disabled")})}),this},hideButtons:function(e){var i=this.__parseButtonNameParam(e),n=this;return t.each(i,function(t){n.__alterButtons(i[t],function(t){t.addClass("hidden")})}),this},showButtons:function(e){var i=this.__parseButtonNameParam(e),n=this;return t.each(i,function(t){n.__alterButtons(i[t],function(t){t.removeClass("hidden")})}),this},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},keyup:function(t){var e=!1;switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var i;if(null!==(i=this.getNextTab())){var n=this;setTimeout(function(){n.setSelection(i.start,i.end)},500),e=!0}else{var s=this.getSelection();s.start==s.end&&s.end==this.getContent().length?e=!1:(this.setSelection(this.getContent().length,this.getContent().length),e=!0)}break;case 13:e=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),e=!1;break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault()),this.$options.onChange(this)},change:function(){return this.$options.onChange(this),this},select:function(){return this.$options.onSelect(this),this},
focus:function(){var e=this.$options,i=(e.hideable,this.$editor);return i.addClass("active"),t(document).find(".md-editor").each(function(){if(t(this).attr("id")!==i.attr("id")){var e;e=t(this).find("textarea").data("markdown"),null===e&&(e=t(this).find('div[data-provider="markdown-preview"]').data("markdown")),e&&e.blur()}}),e.onFocus(this),this},blur:function(){var e=this.$options,i=e.hideable,n=this.$editor,s=this.$editable;if(n.hasClass("active")||0===this.$element.parent().length){if(n.removeClass("active"),i)if(null!==s.el){var r=t("<"+s.type+"/>"),o=this.getContent(),a=this.parseContent(o);t(s.attrKeys).each(function(t){r.attr(s.attrKeys[t],s.attrValues[t])}),r.html(a),n.replaceWith(r)}else n.hide();e.onBlur(this)}return this}};var i=t.fn.markdown;t.fn.markdown=function(i){return this.each(function(){var n=t(this),s=n.data("markdown"),r="object"==typeof i&&i;s||n.data("markdown",s=new e(this,r))})},t.fn.markdown.messages={},t.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(t){var e,i,n=t.getSelection(),s=t.getContent();e=0===n.length?t.__localize("strong text"):n.text,"**"===s.substr(n.start-2,2)&&"**"===s.substr(n.end,2)?(t.setSelection(n.start-2,n.end+2),t.replaceSelection(e),i=n.start-2):(t.replaceSelection("**"+e+"**"),i=n.start+2),t.setSelection(i,i+e.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(t){var e,i,n=t.getSelection(),s=t.getContent();e=0===n.length?t.__localize("emphasized text"):n.text,"_"===s.substr(n.start-1,1)&&"_"===s.substr(n.end,1)?(t.setSelection(n.start-1,n.end+1),t.replaceSelection(e),i=n.start-1):(t.replaceSelection("_"+e+"_"),i=n.start+1),t.setSelection(i,i+e.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(t){var e,i,n,s,r=t.getSelection(),o=t.getContent();e=0===r.length?t.__localize("heading text"):r.text+"\n",n=4,"### "===o.substr(r.start-n,n)||(n=3,"###"===o.substr(r.start-n,n))?(t.setSelection(r.start-n,r.end),t.replaceSelection(e),i=r.start-n):r.start>0&&!!(s=o.substr(r.start-1,1))&&"\n"!=s?(t.replaceSelection("\n\n### "+e),i=r.start+6):(t.replaceSelection("### "+e),i=r.start+4),t.setSelection(i,i+e.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(e){var i,n,s,r=e.getSelection();e.getContent(),i=0===r.length?e.__localize("enter link description here"):r.text,s=prompt(e.__localize("Insert Hyperlink"),"http://");var o=new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]","i");if(null!==s&&""!==s&&"http://"!==s&&o.test(s)){var a=t("<div>"+s+"</div>").text();e.replaceSelection("["+i+"]("+a+")"),n=r.start+1,e.setSelection(n,n+i.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(e){var i,n,s,r=e.getSelection();e.getContent(),i=0===r.length?e.__localize("enter image description here"):r.text,s=prompt(e.__localize("Insert Image Hyperlink"),"http://");var o=new RegExp("^((http|https)://|(//))[a-z0-9]","i");if(null!==s&&""!==s&&"http://"!==s&&o.test(s)){var a=t("<div>"+s+"</div>").text();e.replaceSelection("!["+i+"]("+a+' "'+e.__localize("enter image title here")+'")'),n=r.start+2,e.setNextTab(e.__localize("enter image title here")),e.setSelection(n,n+i.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(e){var i,n,s=e.getSelection();if(e.getContent(),0===s.length)i=e.__localize("list text here"),e.replaceSelection("- "+i),n=s.start+2;else if(s.text.indexOf("\n")<0)i=s.text,e.replaceSelection("- "+i),n=s.start+2;else{var r=[];r=s.text.split("\n"),i=r[0],t.each(r,function(t,e){r[t]="- "+e}),e.replaceSelection("\n\n"+r.join("\n")),n=s.start+4}e.setSelection(n,n+i.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(e){var i,n,s=e.getSelection();if(e.getContent(),0===s.length)i=e.__localize("list text here"),e.replaceSelection("1. "+i),n=s.start+3;else if(s.text.indexOf("\n")<0)i=s.text,e.replaceSelection("1. "+i),n=s.start+3;else{var r=[];r=s.text.split("\n"),i=r[0],t.each(r,function(t,e){r[t]="1. "+e}),e.replaceSelection("\n\n"+r.join("\n")),n=s.start+5}e.setSelection(n,n+i.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(t){var e,i,n=t.getSelection(),s=t.getContent();e=0===n.length?t.__localize("code text here"):n.text,"```\n"===s.substr(n.start-4,4)&&"\n```"===s.substr(n.end,4)?(t.setSelection(n.start-4,n.end+4),t.replaceSelection(e),i=n.start-4):"`"===s.substr(n.start-1,1)&&"`"===s.substr(n.end,1)?(t.setSelection(n.start-1,n.end+1),t.replaceSelection(e),i=n.start-1):s.indexOf("\n")>-1?(t.replaceSelection("```\n"+e+"\n```"),i=n.start+4):(t.replaceSelection("`"+e+"`"),i=n.start+1),t.setSelection(i,i+e.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(e){var i,n,s=e.getSelection();if(e.getContent(),0===s.length)i=e.__localize("quote here"),e.replaceSelection("> "+i),n=s.start+2;else if(s.text.indexOf("\n")<0)i=s.text,e.replaceSelection("> "+i),n=s.start+2;else{var r=[];r=s.text.split("\n"),i=r[0],t.each(r,function(t,e){r[t]="> "+e}),e.replaceSelection("\n\n"+r.join("\n")),n=s.start+4}e.setSelection(n,n+i.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(t){!1===t.$isPreview?t.showPreview():t.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(){},onPreview:function(){},onSave:function(){},onBlur:function(){},onFocus:function(){},onChange:function(){},onFullscreen:function(){},onSelect:function(){}},t.fn.markdown.Constructor=e,t.fn.markdown.noConflict=function(){return t.fn.markdown=i,this};var n=function(t){var e=t;return e.data("markdown")?void e.data("markdown").showEditor():void e.markdown()},s=function(){var e=t(document.activeElement);t(document).find(".md-editor").each(function(){var i=t(this),n=e.closest(".md-editor")[0]===this,s=i.find("textarea").data("markdown")||i.find('div[data-provider="markdown-preview"]').data("markdown");s&&!n&&s.blur()})};t(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(e){n(t(this)),e.preventDefault()}).on("click focusin",function(t){s(t)}).ready(function(){t('textarea[data-provide="markdown"]').each(function(){n(t(this))})})}),function(t){"use strict";function e(t,e){for(var i=0;i<t.length;++i)e(t[i],i)}function i(e,i){this.$select=t(e),this.$select.attr("data-placeholder")&&(i.nonSelectedText=this.$select.data("placeholder")),this.options=this.mergeOptions(t.extend({},i,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=t.proxy(this.options.onChange,this),this.options.onDropdownShow=t.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=t.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=t.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=t.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&t("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions"],init:function(e,i,n){var s=t(e),r=ko.toJS(i());if(s.multiselect(r),n.has("options")){var o=n.get("options");ko.isObservable(o)&&ko.computed({read:function(){o(),setTimeout(function(){var t=s.data("multiselect");t&&t.updateOriginalOptions(),s.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:e})}if(n.has("value")){var a=n.get("value");ko.isObservable(a)&&ko.computed({read:function(){a(),setTimeout(function(){s.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(n.has("selectedOptions")){var l=n.get("selectedOptions");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout(function(){s.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}ko.utils.domNodeDisposal.addDisposeCallback(e,function(){s.multiselect("destroy")})},update:function(e,i){var n=t(e),s=ko.toJS(i());n.multiselect("setOptions",s),n.multiselect("rebuild")}}),i.prototype={defaults:{buttonText:function(e,i){if(0===e.length)return this.nonSelectedText;if(this.allSelectedText&&e.length===t("option",t(i)).length&&1!==t("option",t(i)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+e.length+")":this.allSelectedText;if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText;var n="",s=this.delimiterText;return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();n+=e+s}),n.substr(0,n.length-2)},buttonTitle:function(e){if(0===e.length)return this.nonSelectedText;var i="",n=this.delimiterText;return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();i+=e+n}),i.substr(0,i.length-2)},optionLabel:function(e){return t(e).attr("label")||t(e).text()},onChange:function(){},onDropdownShow:function(){},onDropdownHide:function(){},onDropdownShown:function(){},onDropdownHidden:function(){},onSelectAll:function(){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:i,buildContainer:function(){this.$container=t(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=t(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=t(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(t.proxy(function(e,i){var n=t(i),s=n.prop("tagName").toLowerCase();n.prop("value")!==this.options.selectAllValue&&("optgroup"===s?this.createOptgroup(i):"option"===s&&("divider"===n.data("role")?this.createDivider():this.createOptionValue(i)))},this)),t("li input",this.$ul).on("change",t.proxy(function(e){var i=t(e.target),n=i.prop("checked")||!1,s=i.val()===this.options.selectAllValue;this.options.selectedClass&&(n?i.closest("li").addClass(this.options.selectedClass):i.closest("li").removeClass(this.options.selectedClass));var r=i.val(),o=this.getOptionByValue(r),a=t("option",this.$select).not(o),l=t("input",this.$container).not(i);return s&&(n?this.selectAll():this.deselectAll()),s||(n?(o.prop("selected",!0),this.options.multiple?o.prop("selected",!0):(this.options.selectedClass&&t(l).closest("li").removeClass(this.options.selectedClass),t(l).prop("checked",!1),a.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&a.closest("a").css("outline","")):o.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(o,n),!this.options.preventInputChangeEvent&&void 0},this)),t("li a",this.$ul).on("mousedown",function(t){return!t.shiftKey&&void 0}),t("li a",this.$ul).on("touchstart click",t.proxy(function(e){e.stopPropagation();var i=t(e.target);if(e.shiftKey&&this.options.multiple){i.is("label")&&(e.preventDefault(),i=i.find("input"),i.prop("checked",!i.prop("checked")));var n=i.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==i){var s=i.closest("li").index(),r=this.lastToggledInput.closest("li").index();if(s>r){var o=r;r=s,s=o}++r;var a=this.$ul.find("li").slice(s,r).find("input");a.prop("checked",n),this.options.selectedClass&&a.closest("li").toggleClass(this.options.selectedClass,n);for(var l=0,c=a.length;c>l;l++){var d=t(a[l]);this.getOptionByValue(d.val()).prop("selected",n)}}i.trigger("change")}i.is("input")&&!i.closest("li").is(".multiselect-item")&&(this.lastToggledInput=i),i.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",t.proxy(function(e){if(!t('input[type="text"]',this.$container).is(":focus"))if(9===e.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var i=t(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!i.length)return;var n=i.index(i.filter(":focus"));38===e.keyCode&&n>0?n--:40===e.keyCode&&n<i.length-1?n++:~n||(n=0);var s=i.eq(n);if(s.focus(),32===e.keyCode||13===e.keyCode){var r=s.find("input");r.prop("checked",!r.prop("checked")),r.change()}e.stopPropagation(),e.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&t("li.multiselect-group",this.$ul).on("click",t.proxy(function(e){e.stopPropagation();var i=t(e.target).parent(),n=i.nextUntil("li.multiselect-group"),s=n.filter(":visible:not(.disabled)"),r=!0,o=s.find("input");o.each(function(){r=r&&t(this).prop("checked")}),o.prop("checked",!r).trigger("change")},this))},createOptionValue:function(e){var i=t(e);i.is(":selected")&&i.prop("selected",!0);var n=this.options.optionLabel(e),s=i.val(),r=this.options.multiple?"checkbox":"radio",o=t(this.options.templates.li),a=t("label",o);a.addClass(r),this.options.enableHTML?a.html(" "+n):a.text(" "+n);var l=t("<input/>").attr("type",r).addClass("ace");this.options.checkboxName&&l.attr("name",this.options.checkboxName),a.prepend(l),l.after('<span class="lbl" />');var c=i.prop("selected")||!1;l.val(s),s===this.options.selectAllValue&&(o.addClass("multiselect-item multiselect-all"),l.parent().parent().addClass("multiselect-all")),a.attr("title",i.attr("title")),this.$ul.append(o),i.is(":disabled")&&l.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),l.prop("checked",c),c&&this.options.selectedClass&&l.closest("li").addClass(this.options.selectedClass)},createDivider:function(){var e=t(this.options.templates.divider);this.$ul.append(e)},createOptgroup:function(e){var i=t(e).prop("label"),n=t(this.options.templates.liGroup);this.options.enableHTML?t("label",n).html(i):t("label",n).text(i),this.options.enableClickableOptGroups&&n.addClass("multiselect-group-clickable"),this.$ul.append(n),t(e).is(":disabled")&&n.addClass("disabled"),t("option",e).each(t.proxy(function(t,e){this.createOptionValue(e)},this))},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&t("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(t(this.options.templates.divider));var e=t(this.options.templates.li);t("label",e).addClass("checkbox"),this.options.enableHTML?t("label",e).html(" "+this.options.selectAllText):t("label",e).text(" "+this.options.selectAllText),this.options.selectAllName?t("label",e).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):t("label",e).prepend('<input type="checkbox" />');var i=t("input",e);i.val(this.options.selectAllValue),e.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all"),this.$ul.prepend(e),i.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=e){if(this.$filter=t(this.options.templates.filter),t("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var i=t(this.options.templates.filterClearBtn);i.on("click",t.proxy(function(){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),t("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(i)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(t){t.stopPropagation()}).on("input keydown",t.proxy(function(e){13===e.which&&e.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(t.proxy(function(){if(this.query!==e.target.value){this.query=e.target.value;var i,n;t.each(t("li",this.$ul),t.proxy(function(e,s){var r=t("input",s).length>0?t("input",s).val():"",o=t("label",s).text(),a="";if("text"===this.options.filterBehavior?a=o:"value"===this.options.filterBehavior?a=r:"both"===this.options.filterBehavior&&(a=o+"\n"+r),r!==this.options.selectAllValue&&o){var l=!1;this.options.enableCaseInsensitiveFiltering&&a.toLowerCase().indexOf(this.query.toLowerCase())>-1?l=!0:a.indexOf(this.query)>-1&&(l=!0),t(s).toggle(l).toggleClass("filter-hidden",!l),t(s).hasClass("multiselect-group")?(i=s,n=l):(l&&t(i).show().removeClass("filter-hidden"),!l&&n&&t(s).show().removeClass("filter-hidden"))}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){t("option",this.$select).each(t.proxy(function(e,i){var n=t("li input",this.$ul).filter(function(){return t(this).val()===t(i).val()});t(i).is(":selected")?(n.prop("checked",!0),this.options.selectedClass&&n.closest("li").addClass(this.options.selectedClass)):(n.prop("checked",!1),this.options.selectedClass&&n.closest("li").removeClass(this.options.selectedClass)),t(i).is(":disabled")?n.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):n.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(e,i){t.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var s=e[n];if(null!==s&&void 0!==s){var r=this.getOptionByValue(s),o=this.getInputByValue(s);void 0!==r&&void 0!==o&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&o.closest("li").addClass(this.options.selectedClass),o.prop("checked",!0),r.prop("selected",!0),i&&this.options.onChange(r,!0))}}this.updateButtonText(),this.updateSelectAll()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(e,i){t.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var s=e[n];if(null!==s&&void 0!==s){var r=this.getOptionByValue(s),o=this.getInputByValue(s);void 0!==r&&void 0!==o&&(this.options.selectedClass&&o.closest("li").removeClass(this.options.selectedClass),o.prop("checked",!1),r.prop("selected",!1),i&&this.options.onChange(r,!1))}}this.updateButtonText(),this.updateSelectAll()},selectAll:function(e,i){var e=void 0===e||e,n=t("li input[type='checkbox']:enabled",this.$ul),s=n.filter(":visible"),r=n.length,o=s.length;if(e?(s.prop("checked",!0),t("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(n.prop("checked",!0),t("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),r===o||!1===e)t("option:enabled",this.$select).prop("selected",!0);else{var a=s.map(function(){return t(this).val()}).get();t("option:enabled",this.$select).filter(function(){return-1!==t.inArray(t(this).val(),a)}).prop("selected",!0)}i&&this.options.onSelectAll()},deselectAll:function(e){var e=void 0===e||e;if(e){var i=t("li input[type='checkbox']:not(:disabled)",this.$ul).filter(":visible");i.prop("checked",!1);var n=i.map(function(){return t(this).val()}).get();t("option:enabled",this.$select).filter(function(){return-1!==t.inArray(t(this).val(),n)}).prop("selected",!1),this.options.selectedClass&&t("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else t("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),t("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&t("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&t("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(i){var n=0,s=this.$select.empty();t.each(i,function(i,r){var o;t.isArray(r.children)?(n++,o=t("<optgroup/>").attr({label:r.label||"Group "+n,disabled:!!r.disabled}),e(r.children,function(e){o.append(t("<option/>").attr({value:e.value,label:e.label||e.value,title:e.title,selected:!!e.selected,disabled:!!e.disabled}))})):o=t("<option/>").attr({value:r.value,label:r.label||r.value,title:r.title,selected:!!r.selected,disabled:!!r.disabled}),s.append(o)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(t){this.options=this.mergeOptions(t)},mergeOptions:function(e){return t.extend(!0,{},this.defaults,this.options,e)},hasSelectAll:function(){return t("li.multiselect-all",this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var e=t("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),i=e.length,n=e.filter(":checked").length,s=t("li.multiselect-all",this.$ul),r=s.find("input");n>0&&n===i?(r.prop("checked",!0),s.addClass(this.options.selectedClass),this.options.onSelectAll()):(r.prop("checked",!1),s.removeClass(this.options.selectedClass))}},updateButtonText:function(){var e=this.getSelected();this.options.enableHTML?t(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(e,this.$select)):t(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(e,this.$select)),t(".multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return t("option",this.$select).filter(":selected")},getOptionByValue:function(e){for(var i=t("option",this.$select),n=e.toString(),s=0;s<i.length;s+=1){var r=i[s];if(r.value===n)return t(r)}},getInputByValue:function(e){for(var i=t("li input",this.$ul),n=e.toString(),s=0;s<i.length;s+=1){var r=i[s];if(r.value===n)return t(r)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(t,e,i){var n=Array.prototype.slice.call(arguments,3);return setTimeout(function(){t.apply(i||window,n)},e)},setAllSelectedText:function(t){this.options.allSelectedText=t,this.updateButtonText()}},t.fn.multiselect=function(e,n,s){return this.each(function(){var r=t(this).data("multiselect"),o="object"==typeof e&&e;r||(r=new i(this,o),t(this).data("multiselect",r)),"string"==typeof e&&(r[e](n,s),"destroy"===e&&t(this).data("multiselect",!1))})},t.fn.multiselect.Constructor=i,t(function(){t("select[data-role=multiselect]").multiselect()})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.element=t(e),this.options=t.extend(!0,{},t.fn.tag.defaults,i),this.values=t.grep(t.map(this.element.val().split(","),t.trim),function(t){return t.length>0}),this.show()};e.prototype={constructor:e,show:function(){var e=this;e.element.parent().prepend(e.element.detach().hide()),e.element.wrap(t('<div class="tags">')).parent().on("click",function(){e.input.focus()}),e.values.length&&t.each(e.values,function(){e.createBadge(this)}),e.input=t('<input type="text">').attr("placeholder",e.options.placeholder).insertAfter(e.element).on("focus",function(){e.element.parent().addClass("tags-hover")}).on("blur",function(){e.skip||(e.process(),e.element.parent().removeClass("tags-hover"),e.element.siblings(".tag").removeClass("tag-important")),e.skip=!1}).on("keydown",function(i){if(188==i.keyCode||13==i.keyCode||9==i.keyCode)!t.trim(t(this).val())||e.element.siblings(".typeahead").length&&!e.element.siblings(".typeahead").is(":hidden")?188==i.keyCode&&(e.options.autocompleteOnComma?!e.element.siblings(".typeahead").length||e.element.siblings(".typeahead").is(":hidden")?i.preventDefault():(e.input.data("bs_typeahead").select(),i.stopPropagation(),i.preventDefault()):(i.preventDefault(),e.process())):(9!=i.keyCode&&i.preventDefault(),e.process());else if(t.trim(t(this).val())||8!=i.keyCode)e.element.siblings(".tag").removeClass("tag-important");else{var n=e.element.siblings(".tag").length;if(n){var s=e.element.siblings(".tag:eq("+(n-1)+")");s.hasClass("tag-important")?e.remove(n-1):s.addClass("tag-important")}}}).bs_typeahead({source:e.options.source,matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())&&(-1==e.inValues(t)||e.options.allowDuplicates)},updater:t.proxy(e.add,e)}),t(e.input.data("bs_typeahead").$menu).on("mousedown",function(){e.skip=!0}),this.element.trigger("shown")},inValues:function(e){if(this.options.caseInsensitive){var i=-1;return t.each(this.values,function(t,n){return n.toLowerCase()==e.toLowerCase()?(i=t,!1):void 0}),i}return t.inArray(e,this.values)},createBadge:function(e){var i=this;t("<span/>",{"class":"tag"}).text(e.toString()).append(t('<button type="button" class="close">&times;</button>').on("click",function(){i.remove(i.element.siblings(".tag").index(t(this).closest(".tag")))})).insertBefore(i.element)},add:function(e){var i=this;if(!i.options.allowDuplicates){var n=i.inValues(e);if(-1!=n){var s=i.element.siblings(".tag:eq("+n+")");return s.addClass("tag-warning"),void setTimeout(function(){t(s).removeClass("tag-warning")},500)}}this.values.push(e),this.createBadge(e),this.element.val(this.values.join(", ")),this.element.trigger("added",[e])},remove:function(t){if(t>=0){var e=this.values.splice(t,1);this.element.siblings(".tag:eq("+t+")").remove(),this.element.val(this.values.join(", ")),this.element.trigger("removed",[e])}},process:function(){var e=t.grep(t.map(this.input.val().split(","),t.trim),function(t){return t.length>0}),i=this;t.each(e,function(){i.add(this)}),this.input.val("")},skip:!1};var i=t.fn.tag;t.fn.tag=function(i){return this.each(function(){var n=t(this),s=n.data("tag"),r="object"==typeof i&&i;s||n.data("tag",s=new e(this,r)),"string"==typeof i&&s[i]()})},t.fn.tag.defaults={allowDuplicates:!1,caseInsensitive:!0,autocompleteOnComma:!1,placeholder:"",source:[]},t.fn.tag.Constructor=e,t.fn.tag.noConflict=function(){return t.fn.tag=i,this},t(window).on("load",function(){t('[data-provide="tag"]').each(function(){var e=t(this);e.data("tag")||e.tag(e.data())})})}(window.jQuery),function(t,e,i){"use strict";var n=function(e,i){this.widget="",this.$element=t(e),this.defaultTime=i.defaultTime,this.disableFocus=i.disableFocus,this.disableMousewheel=i.disableMousewheel,this.isOpen=i.isOpen,this.minuteStep=i.minuteStep,this.modalBackdrop=i.modalBackdrop,this.orientation=i.orientation,this.secondStep=i.secondStep,this.snapToStep=i.snapToStep,this.showInputs=i.showInputs,this.showMeridian=i.showMeridian,this.showSeconds=i.showSeconds,this.template=i.template,this.appendWidgetTo=i.appendWidgetTo,this.showWidgetOnAddonClick=i.showWidgetOnAddonClick,this.icons=i.icons,this.maxHours=i.maxHours,this.explicitMode=i.explicitMode,this.handleDocumentClick=function(t){var e=t.data.scope;e.$element.parent().find(t.target).length||e.$widget.is(t.target)||e.$widget.find(t.target).length||e.hideWidget()},this._init()};n.prototype={constructor:n,_init:function(){var e=this;this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker")?(this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}),!1!==this.template?this.$widget=t(this.getTemplate()).on("click",t.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e),"keyup.timepicker":t.proxy(e.widgetKeyup,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},
decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(t){var e;e=t?this.minute-t:this.minute-this.minuteStep,0>e?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function(){var t=this.second-this.secondStep;0>t?(this.decrementMinute(!0),this.second=t+60):this.second=t},elementKeydown:function(t){switch(t.which){case 9:if(t.shiftKey){if("hour"===this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else{if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}this.highlightNextUnit()}t.preventDefault(),this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:t.preventDefault(),this.highlightNextUnit(),this.updateFromElementVal();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(i.selection){t.focus();var e=i.selection.createRange(),n=i.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-n}},getTemplate:function(){var t,e,i,n,s,r;switch(this.showInputs?(e='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',s='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',i='<span class="bootstrap-timepicker-minute"></span>',n='<span class="bootstrap-timepicker-second"></span>',s='<span class="bootstrap-timepicker-meridian"></span>'),r='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"></span></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+i+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+n+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+s+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"></span></a></td>':"")+"</tr></table>",this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">'+r+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+r+"</div>"}return t},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){!1!==this.isOpen&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(i).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(0,1):t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(2,4):t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.hour<10?t.setSelectionRange(8,10):t.setSelectionRange(9,11)},0):setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return this.hour===this.maxHours-1?void(this.hour=0):void this.hour++},incrementMinute:function(t){var e;e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep,e>59?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t},mousewheel:function(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var i=e.originalEvent.wheelDelta||-e.originalEvent.detail,n=null;switch("mousewheel"===e.type?n=-1*e.originalEvent.wheelDelta:"DOMMouseScroll"===e.type&&(n=40*e.originalEvent.detail),n&&(e.preventDefault(),t(this).scrollTop(n+t(this).scrollTop())),this.highlightedUnit){case"minute":i>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":i>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:i>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},changeToNearestStep:function(t,e){return t%e==0?t:Math.round(t%e/e)?(t+(e-t%e))%60:t-t%e},place:function(){if(!this.isInline){var i=this.$widget.outerWidth(),n=this.$widget.outerHeight(),s=10,r=t(e).width(),o=t(e).height(),a=t(e).scrollTop(),l=parseInt(this.$element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"),10)+10,c=this.component?this.component.parent().offset():this.$element.offset(),d=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),u=c.left,p=c.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(u-=i-h)):(this.$widget.addClass("timepicker-orient-left"),c.left<0?u-=c.left-s:c.left+i>r&&(u=r-i-s));var f,g,m=this.orientation.y;"auto"===m&&(f=-a+c.top-n,g=a+o-(c.top+d+n),m=Math.max(f,g)===g?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+m),"top"===m?p+=d:p-=n+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:p,left:u,zIndex:l})}},remove:function(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,i=e.getHours(),n=e.getMinutes(),s=e.getSeconds(),r="AM";0!==s&&60===(s=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep)&&(n+=1,s=0),0!==n&&60===(n=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep)&&(i+=1,n=0),this.showMeridian&&(0===i?i=12:i>=12?(i>12&&(i-=12),r="PM"):r="AM"),this.hour=i,this.minute=n,this.second=s,this.meridian=r,this.update()}else!1===t?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t,e){if(!t)return void this.clear();var i,n,s,r,o,a;if("object"==typeof t&&t.getMonth)s=t.getHours(),r=t.getMinutes(),o=t.getSeconds(),this.showMeridian&&(a="AM",s>12&&(a="PM",s%=12),12===s&&(a="PM"));else{if((i=(/a/i.test(t)?1:0)+(/p/i.test(t)?2:0))>2)return void this.clear();if(n=t.replace(/[^0-9\:]/g,"").split(":"),s=n[0]?n[0].toString():n.toString(),this.explicitMode&&s.length>2&&s.length%2!=0)return void this.clear();r=n[1]?n[1].toString():"",o=n[2]?n[2].toString():"",s.length>4&&(o=s.slice(-2),s=s.slice(0,-2)),s.length>2&&(r=s.slice(-2),s=s.slice(0,-2)),r.length>2&&(o=r.slice(-2),r=r.slice(0,-2)),s=parseInt(s,10),r=parseInt(r,10),o=parseInt(o,10),isNaN(s)&&(s=0),isNaN(r)&&(r=0),isNaN(o)&&(o=0),o>59&&(o=59),r>59&&(r=59),s>=this.maxHours&&(s=this.maxHours-1),this.showMeridian?(s>12&&(i=2,s-=12),i||(i=1),0===s&&(s=12),a=1===i?"AM":"PM"):12>s&&2===i?s+=12:s>=this.maxHours?s=this.maxHours-1:(0>s||12===s&&1===i)&&(s=0)}this.hour=s,this.snapToStep?(this.minute=this.changeToNearestStep(r,this.minuteStep),this.second=this.changeToNearestStep(o,this.secondStep)):(this.minute=r,this.second=o),this.meridian=a,this.update(e)},showWidget:function(){this.isOpen||this.$element.is(":disabled")||(this.$widget.appendTo(this.appendWidgetTo),t(i).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):!1===this.isOpen&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(t){this.updateElement(),t||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(!1!==this.$widget){var t=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,i=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(i),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(i),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var t=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(t,!0)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var i=t(e.target),n=i.closest("a").data("action");n&&this[n](),this.update(),i.is("input")&&i.get(0).setSelectionRange(0,2)},widgetKeydown:function(e){var i=t(e.target),n=i.attr("class").replace("bootstrap-timepicker-","");switch(e.which){case 9:if(e.shiftKey){if("hour"===n)return this.hideWidget()}else if(this.showMeridian&&"meridian"===n||this.showSeconds&&"second"===n||!this.showMeridian&&!this.showSeconds&&"minute"===n)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),n){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),i.get(0).setSelectionRange(0,2);break;case 40:switch(e.preventDefault(),n){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),i.get(0).setSelectionRange(0,2)}},widgetKeyup:function(t){(65===t.which||77===t.which||80===t.which||46===t.which||8===t.which||t.which>=48&&t.which<=57||t.which>=96&&t.which<=105)&&this.updateFromWidgetInputs()}},t.fn.timepicker=function(e){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var s=t(this),r=s.data("timepicker"),o="object"==typeof e&&e;r||s.data("timepicker",r=new n(this,t.extend({},t.fn.timepicker.defaults,o,t(this).data()))),"string"==typeof e&&r[e].apply(r,i)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1},t.fn.timepicker.Constructor=n,t(i).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(e){var i=t(this);i.data("timepicker")||(e.preventDefault(),i.timepicker())})}(jQuery,window,document),function(t){"use strict";var e=function(e){var i=t.Deferred(),n=new FileReader;return n.onload=function(t){i.resolve(t.target.result)},n.onerror=i.reject,n.onprogress=i.notify,n.readAsDataURL(e),i.promise()};t.fn.cleanHtml=function(){var e=t(this).html();return e&&e.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},t.fn.wysiwyg=function(i){var n,s,r,o=this,a=function(){s.activeToolbarClass&&t(s.toolbarSelector).find(r).each(function(){try{var e=t(this).data(s.commandRole);document.queryCommandState(e)?t(this).addClass(s.activeToolbarClass):t(this).removeClass(s.activeToolbarClass)}catch(t){}})},l=function(t,e){var i=t.split(" "),n=i.shift(),s=i.join(" ")+(e||"");document.execCommand(n,0,s),a()},c=function(e){t.each(e,function(t,e){o.keydown(t,function(t){o.attr("contenteditable")&&o.is(":visible")&&(t.preventDefault(),t.stopPropagation(),l(e))}).keyup(t,function(t){o.attr("contenteditable")&&o.is(":visible")&&(t.preventDefault(),t.stopPropagation())})})},d=function(){try{var t=window.getSelection();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}catch(t){}},h=function(){n=d()},u=function(){try{var t=window.getSelection();if(n){try{t.removeAllRanges()}catch(t){document.body.createTextRange().select(),document.selection.empty()}t.addRange(n)}}catch(t){}},p=function(i){o.focus(),t.each(i,function(i,n){/^image\//.test(n.type)?t.when(e(n)).done(function(t){l("insertimage",t)}).fail(function(t){s.fileUploadError("file-reader",t)}):s.fileUploadError("unsupported-file-type",n.type)})},f=function(t,e){u(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",0,e||"transparent"),h(),t.data(s.selectionMarker,e)},g=function(e,i){e.find(r).click(function(){u(),o.focus(),l(t(this).data(i.commandRole)),h()}),e.find("[data-toggle=dropdown]").click(u);var n=!!window.navigator.msPointerEnabled||!!document.all&&!!document.addEventListener;e.find("input[type=text][data-"+i.commandRole+"]").on("webkitspeechchange change",function(){var e=this.value;this.value="",u(),e&&(o.focus(),l(t(this).data(i.commandRole),e)),h()}).on("focus",function(){if(!n){var e=t(this);e.data(i.selectionMarker)||(f(e,i.selectionColor),e.focus())}}).on("blur",function(){if(!n){var e=t(this);e.data(i.selectionMarker)&&f(e,!1)}}),e.find("input[type=file][data-"+i.commandRole+"]").change(function(){u(),"file"===this.type&&this.files&&this.files.length>0&&p(this.files),h(),this.value=""})},m=function(){o.on("dragenter dragover",!1).on("drop",function(t){var e=t.originalEvent.dataTransfer;t.stopPropagation(),t.preventDefault(),e&&e.files&&e.files.length>0&&p(e.files)})};return s=t.extend({},t.fn.wysiwyg.defaults,i),r="a[data-"+s.commandRole+"],button[data-"+s.commandRole+"],input[type=button][data-"+s.commandRole+"]",c(s.hotKeys),s.dragAndDropImages&&m(),g(t(s.toolbarSelector),s),o.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){h(),a()}),t(window).bind("touchend",function(t){var e=o.is(t.target)||o.has(t.target).length>0,i=d();i&&i.startContainer===i.endContainer&&i.startOffset===i.endOffset&&!e||(h(),a())}),this},t.fn.wysiwyg.defaults={hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo","ctrl+l meta+l":"justifyleft","ctrl+r meta+r":"justifyright","ctrl+e meta+e":"justifycenter","ctrl+j meta+j":"justifyfull","shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,fileUploadError:function(t,e){console.log("File upload error",t,e)}}}(window.jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){o.detach().trigger("closed.bs.alert").remove()}var s=t(this),r=s.attr("data-target");r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=s.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.button"),r="object"==typeof e&&e;s||n.data("bs.button",s=new i(this,r)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[s]()),setTimeout(t.proxy(function(){n[s](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),o="string"==typeof e?e:r.slide;s||n.data("bs.carousel",s=new i(this,r)),"number"==typeof e?s.to(e):o?s[o]():r.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var s=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,s),o=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,s.addClass(a),r.addClass(a),s.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(s.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var s=function(i){var n,s=t(this),r=t(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var o=t.extend({},r.data(),s.data()),a=s.attr("data-slide-to");a&&(o.interval=!1),e.call(r,o),a&&r.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),s||i.data("bs.collapse",s=new n(this,r)),"string"==typeof e&&s[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(e=s.data("bs.collapse"))&&e.transitioning)){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),e||s.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION):s.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var s=t(n);this.addAriaAndCollapsedClass(e(s),s)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var s=t(this);s.attr("data-target")||n.preventDefault();var r=e(s),o=r.data("bs.collapse"),a=o?"toggle":s.data();i.call(r,a)})}(jQuery),function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(s).remove(),t(r).each(function(){var n=t(this),s=e(n),r={relatedTarget:this};s.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(s[0],i.target)||(s.trigger(i=t.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),s.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var s=".dropdown-backdrop",r='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.6",o.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var r=e(s),o=r.hasClass("open");if(i(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var s=e(n),o=s.hasClass("open");if(!o&&27!=i.which||o&&27==i.which)return 27==i.which&&s.find(r).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=s.find(".dropdown-menu"+a);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown
;t.fn.dropdown=n,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,n){return this.each(function(){var s=t(this),r=s.data("bs.modal"),o=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);r||s.data("bs.modal",r=new i(this,o)),"string"==typeof e?r[e](n):o.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),s&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});s?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),s=n.attr("href"),r=t(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,o,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),r="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.tooltip",s=new i(this,r)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),r=s.length;r--;){var o=s[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var s=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),h=r[0].offsetWidth,u=r[0].offsetHeight;if(c){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&d.bottom+u>f.bottom?"top":"top"==a&&d.top-u<f.top?"bottom":"right"==a&&d.right+h>f.width?"left":"left"==a&&d.left-h<f.left?"right":a,r.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,d,h,u);this.applyPlacement(g,a);var m=function(){var t=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==t&&s.leave(s)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),s=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top+=o,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(e.top=e.top+r-c);var d=this.getViewportAdjustedDelta(i,e,l,c);d.left?e.left+=d.left:e.top+=d.top;var h=/top|bottom/.test(i),u=h?2*d.left-s+l:2*d.top-r+c,p=h?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(u,n[0][p],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=s.hoverState&&r.detach(),s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),e&&e()}var s=this,r=t(this.$tip),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var r=n?{top:0,left:0}:e.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,o,a,r)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-o.scroll,l=e.top+r-o.scroll+n;a<o.top?s.top=o.top-a:l>o.top+o.height&&(s.top=o.top+o.height-l)}else{var c=e.left-r,d=e.left+r+i;c<o.left?s.left=o.left-c:d>o.right&&(s.left=o.left+o.width-d)}return s},i.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},i.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.popover"),r="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.popover",s=new i(this,r)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),s=n.data("bs.scrollspy"),r="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new e(this,r)),"string"==typeof i&&s[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),s=e.data("target")||e.attr("href"),r=/^#./.test(s)&&t(s);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,r=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return o!=(t=r[r.length-1])&&this.activate(t);if(o&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;)o!=r[t]&&e>=s[t]&&(void 0===s[t+1]||e<s[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(r),e.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(e,n,s){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var o=n.find("> .active"),a=s&&t.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var s=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.affix"),r="object"==typeof e&&e;s||n.data("bs.affix",s=new i(this,r)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),r=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return i>s&&"top";if("bottom"==this.affixed)return null!=i?!(s+this.unpin<=r.top)&&"bottom":!(t-n>=s+o)&&"bottom";var a=null==this.affixed,l=a?s:r.top,c=a?o:e;return null!=i&&i>=s?"top":null!=n&&l+c>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,s=n.top,r=n.bottom,o=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(r=s=n),"function"==typeof s&&(s=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(o,e,s,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(e,i),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";var s=t.fn.dataTable;return t.extend(s.ext.buttons,{colvis:function(t,e){return{extend:"collection",text:function(t){return t.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:e.columns}]}},columnsToggle:function(t,e){return t.columns(e.columns).indexes().map(function(t){return{extend:"columnToggle",columns:t}}).toArray()},columnToggle:function(t,e){return{extend:"columnVisibility",columns:e.columns}},columnsVisibility:function(t,e){return t.columns(e.columns).indexes().map(function(t){return{extend:"columnVisibility",columns:t,visibility:e.visibility}}).toArray()},columnVisibility:{columns:n,text:function(t,e,i){return i._columnText(t,i.columns)},className:"buttons-columnVisibility",action:function(t,e,i,s){var r=e.columns(s.columns),o=r.visible();r.visible(s.visibility!==n?s.visibility:!(o.length&&o[0]))},init:function(t,e,i){var n=this,s=t.column(i.columns);t.on("column-visibility.dt"+i.namespace,function(t,e,s,r){e.bDestroying||s!==i.columns||n.active(r)}).on("column-reorder.dt"+i.namespace,function(e,s,r){if(1===t.columns(i.columns).count()){"number"==typeof i.columns&&(i.columns=r.mapping[i.columns]);var o=t.column(i.columns);n.text(i._columnText(t,i.columns)),n.active(o.visible())}}),this.active(s.visible())},destroy:function(t,e,i){t.off("column-visibility.dt"+i.namespace).off("column-reorder.dt"+i.namespace)},_columnText:function(t,e){var i=t.column(e).index();return t.settings()[0].aoColumns[i].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"")}},colvisRestore:{className:"buttons-colvisRestore",text:function(t){return t.i18n("buttons.colvisRestore","Restore visibility")},init:function(t,e,i){i._visOriginal=t.columns().indexes().map(function(e){return t.column(e).visible()}).toArray()},action:function(t,e,i,n){e.columns().every(function(t){var i=e.colReorder&&e.colReorder.transpose?e.colReorder.transpose(t,"toOriginal"):t;this.visible(n._visOriginal[i])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(t,e,i,n){e.columns(n.show).visible(!0),e.columns(n.hide).visible(!1)},show:[],hide:[]}}),s.Buttons}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(e,i),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";var s=t.fn.dataTable,r={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(t){return"string"==typeof t&&(t=i.getElementById(t)),t.addClass||(t.hide=function(){this.style.display="none"},t.show=function(){this.style.display=""},t.addClass=function(t){this.removeClass(t),this.className+=" "+t},t.removeClass=function(t){this.className=this.className.replace(new RegExp("\\s*"+t+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},t.hasClass=function(t){return!!this.className.match(new RegExp("\\s*"+t+"\\s*"))}),t},setMoviePath:function(t){this.moviePath=t},dispatch:function(t,e,i){var n=this.clients[t];n&&n.receiveEvent(e,i)},register:function(t,e){this.clients[t]=e},getDOMObjectPosition:function(t){var e={left:0,top:0,width:t.width?t.width:t.offsetWidth,height:t.height?t.height:t.offsetHeight};for(""!==t.style.width&&(e.width=t.style.width.replace("px","")),""!==t.style.height&&(e.height=t.style.height.replace("px",""));t;)e.left+=t.offsetLeft,e.top+=t.offsetTop,t=t.offsetParent;return e},Client:function(t){this.handlers={},this.id=r.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,r.register(this.id,this),t&&this.glue(t)}};r.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,sheetName:"",glue:function(t,e){this.domElement=r.$(t);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex,10)+1);var s=r.getDOMObjectPosition(this.domElement);this.div=i.createElement("div");var o=this.div.style;o.position="absolute",o.left="0px",o.top="0px",o.width=s.width+"px",o.height=s.height+"px",o.zIndex=n,void 0!==e&&""!==e&&(this.div.title=e),0!==s.width&&0!==s.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(s.width,s.height).replace(/&/g,"&amp;"))},positionElement:function(){var t=r.getDOMObjectPosition(this.domElement),e=this.div.style;if(e.position="absolute",e.width=t.width+"px",e.height=t.height+"px",0!==t.width&&0!==t.height){this.sized=!0;var i=this.div.childNodes[0];i.width=t.width,i.height=t.height}},getHTML:function(t,e){var i="",n="id="+this.id+"&width="+t+"&height="+e;if(navigator.userAgent.match(/MSIE/)){i+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+t+'" height="'+e+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+r.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><param name="wmode" value="transparent"/></object>'}else i+='<embed id="'+this.movieId+'" src="'+r.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+t+'" height="'+e+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){var e=this;this.domElement&&this.div&&(t(this.div).remove(),this.domElement=null,this.div=null,t.each(r.clients,function(t,i){i===e&&delete r.clients[t]}))},reposition:function(t){if(t&&(this.domElement=r.$(t),this.domElement||this.hide()),this.domElement&&this.div){var e=r.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=e.left+"px",i.top=e.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(t){this.clipText+=t,this.ready&&this.movie.appendText(t)},setText:function(t){this.clipText=t,this.ready&&this.movie.setText(t)},setFileName:function(t){this.fileName=t,this.ready&&this.movie.setFileName(t)},setSheetName:function(t){this.sheetName=t,this.ready&&this.movie.setSheetName(t)},setAction:function(t){this.action=t,this.ready&&this.movie.setAction(t)},addEventListener:function(t,e){t=t.toString().toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},setHandCursor:function(t){this.handCursorEnabled=t,this.ready&&this.movie.setHandCursor(t)},setCSSEffects:function(t){this.cssEffects=!!t},receiveEvent:function(t,n){var s;switch(t=t.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=i.getElementById(this.movieId),!this.movie)return s=this,void setTimeout(function(){s.receiveEvent("load",null)},1);if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return s=this,setTimeout(function(){s.receiveEvent("load",null)},100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[t])for(var r=0,o=this.handlers[t].length;o>r;r++){var a=this.handlers[t][r];"function"==typeof a?a(this,n):"object"==typeof a&&2==a.length?a[0][a[1]](this,n):"string"==typeof a&&e[a](this,n)}}},r.hasFlash=function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(t){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==n&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},e.ZeroClipboard_TableTools=r;var o=function(t,e){e.attr("id"),e.parents("html").length?t.glue(e[0],""):setTimeout(function(){o(t,e)},500)},a=function(e,i){
var s="*"===e.filename&&"*"!==e.title&&e.title!==n?e.title:e.filename;return"function"==typeof s&&(s=s()),-1!==s.indexOf("*")&&(s=s.replace("*",t("title").text())),s=s.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),i===n||!0===i?s+e.extension:s},l=function(t){var e="Sheet1";return t.sheetName&&(e=t.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),e},c=function(e){var i=e.title;return"function"==typeof i&&(i=i()),-1!==i.indexOf("*")?i.replace("*",t("title").text()):i},d=function(t,e){var i=e.match(/[\s\S]{1,8192}/g)||[];t.clearText();for(var n=0,s=i.length;s>n;n++)t.appendText(i[n])},h=function(t){return t.newline?t.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},u=function(t,e){for(var i=h(e),s=t.buttons.exportData(e.exportOptions),r=e.fieldBoundary,o=e.fieldSeparator,a=new RegExp(r,"g"),l=e.escapeChar!==n?e.escapeChar:"\\",c=function(t){for(var e="",i=0,n=t.length;n>i;i++)i>0&&(e+=o),e+=r?r+(""+t[i]).replace(a,l+r)+r:t[i];return e},d=e.header?c(s.header)+i:"",u=e.footer&&s.footer?i+c(s.footer):"",p=[],f=0,g=s.body.length;g>f;f++)p.push(c(s.body[f]));return{str:d+p.join(i)+u,rows:p.length}},p={available:function(){return r.hasFlash()},init:function(t,e,i){r.moviePath=s.Buttons.swfPath;var n=new r.Client;n.setHandCursor(!0),n.addEventListener("mouseDown",function(){i._fromFlash=!0,t.button(e[0]).trigger(),i._fromFlash=!1}),o(n,e),i._flash=n},destroy:function(t,e,i){i._flash.destroy()},fieldSeparator:",",fieldBoundary:'"',exportOptions:{},title:"*",filename:"*",extension:".csv",header:!0,footer:!1};return s.Buttons.swfPath="assets/swf/flashExport.swf",s.Api.register("buttons.resize()",function(){t.each(r.clients,function(t,e){e.domElement!==n&&e.domElement.parentNode&&e.positionElement()})}),s.ext.buttons.copyFlash=t.extend({},p,{className:"buttons-copy buttons-flash",text:function(t){return t.i18n("buttons.copy","Copy")},action:function(t,e,i,n){if(n._fromFlash){var s=n._flash,r=u(e,n),o=n.customize?n.customize(r.str,n):r.str;s.setAction("copy"),d(s,o),e.buttons.info(e.i18n("buttons.copyTitle","Copy to clipboard"),e.i18n("buttons.copyInfo",{_:"Copied %d rows to clipboard",1:"Copied 1 row to clipboard"},r.rows),3e3)}},fieldSeparator:"\t",fieldBoundary:""}),s.ext.buttons.csvFlash=t.extend({},p,{className:"buttons-csv buttons-flash",text:function(t){return t.i18n("buttons.csv","CSV")},action:function(t,e,i,n){var s=n._flash,r=u(e,n),o=n.customize?n.customize(r.str,n):r.str;s.setAction("csv"),s.setFileName(a(n)),d(s,o)},escapeChar:'"'}),s.ext.buttons.excelFlash=t.extend({},p,{className:"buttons-excel buttons-flash",text:function(t){return t.i18n("buttons.excel","Excel")},action:function(e,i,s,r){var o="",c=r._flash,h=i.buttons.exportData(r.exportOptions),u=function(e){for(var i=[],s=0,r=e.length;r>s;s++)null!==e[s]&&e[s]!==n||(e[s]=""),i.push("number"==typeof e[s]||e[s].match&&t.trim(e[s]).match(/^-?\d+(\.\d+)?$/)&&"0"!==e[s].charAt(0)?'<c t="n"><v>'+e[s]+"</v></c>":'<c t="inlineStr"><is><t>'+(e[s].replace?e[s].replace(/&(?!amp;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/[\x00-\x1F\x7F-\x9F]/g,""):e[s])+"</t></is></c>");return"<row>"+i.join("")+"</row>"};r.header&&(o+=u(h.header));for(var p=0,f=h.body.length;f>p;p++)o+=u(h.body[p]);r.footer&&(o+=u(h.footer)),c.setAction("excel"),c.setFileName(a(r)),c.setSheetName(l(r)),d(c,o)},extension:".xlsx"}),s.ext.buttons.pdfFlash=t.extend({},p,{className:"buttons-pdf buttons-flash",text:function(t){return t.i18n("buttons.pdf","PDF")},action:function(t,e,i,n){var s=n._flash,r=e.buttons.exportData(n.exportOptions),o=e.table().node().offsetWidth,l=e.columns(n.columns).indexes().map(function(t){return e.column(t).header().offsetWidth/o});s.setAction("pdf"),s.setFileName(c(n)),d(s,JSON.stringify({title:a(n,!1),message:n.message,colWidth:l.toArray(),orientation:n.orientation,size:n.pageSize,header:n.header?r.header:null,footer:n.footer?r.footer:null,body:r.body}))},extension:".pdf",orientation:"portrait",pageSize:"A4",message:"",newline:"\n"}),s.Buttons}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(e,i),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";var s=t.fn.dataTable,r=function(t){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,i=function(){return t.URL||t.webkitURL||t},s=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in s,o=function(i){var n=e.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)},a=t.webkitRequestFileSystem,l=t.requestFileSystem||a||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},d="application/octet-stream",h=0,u=500,p=function(e){var n=function(){"string"==typeof e?i().revokeObjectURL(e):e.remove()};t.chrome?n():setTimeout(n,u)},f=function(t,e,i){e=[].concat(e);for(var n=e.length;n--;){var s=t["on"+e[n]];if("function"==typeof s)try{s.call(t,i||t)}catch(t){c(t)}}},g=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},m=function(e,c){e=g(e);var u,m,v,b=this,y=e.type,w=!1,_=function(){f(b,"writestart progress write writeend".split(" "))},x=function(){if(!w&&u||(u=i().createObjectURL(e)),m)m.location.href=u;else{t.open(u,"_blank")===n&&"undefined"!=typeof safari&&(t.location.href=u)}b.readyState=b.DONE,_(),p(u)},C=function(t){return function(){return b.readyState!==b.DONE?t.apply(this,arguments):void 0}},$={create:!0,exclusive:!1};return b.readyState=b.INIT,c||(c="download"),r?(u=i().createObjectURL(e),s.href=u,s.download=c,o(s),b.readyState=b.DONE,_(),void p(u)):(t.chrome&&y&&y!==d&&(v=e.slice||e.webkitSlice,e=v.call(e,0,e.size,d),w=!0),a&&"download"!==c&&(c+=".download"),(y===d||a)&&(m=t),l?(h+=e.size,void l(t.TEMPORARY,h,C(function(t){t.root.getDirectory("saved",$,C(function(t){var i=function(){t.getFile(c,$,C(function(t){t.createWriter(C(function(i){i.onwriteend=function(e){m.location.href=t.toURL(),b.readyState=b.DONE,f(b,"writeend",e),p(t)},i.onerror=function(){var t=i.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){i["on"+t]=b["on"+t]}),i.write(e),b.abort=function(){i.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),x)}),x)};t.getFile(c,{create:!1},C(function(t){t.remove(),i()}),C(function(t){t.code===t.NOT_FOUND_ERR?i():x()}))}),x)}),x)):void x())},v=m.prototype,b=function(t,e){return new m(t,e)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e){return navigator.msSaveOrOpenBlob(g(t),e)}:(v.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,b)}}(e),o=function(e,i){var s="*"===e.filename&&"*"!==e.title&&e.title!==n?e.title:e.filename;return"function"==typeof s&&(s=s()),-1!==s.indexOf("*")&&(s=s.replace("*",t("title").text())),s=s.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),i===n||!0===i?s+e.extension:s},a=function(t){var e="Sheet1";return t.sheetName&&(e=t.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),e},l=function(e){var i=e.title;return"function"==typeof i&&(i=i()),-1!==i.indexOf("*")?i.replace("*",t("title").text()):i},c=function(t){return t.newline?t.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},d=function(t,e){for(var i=c(e),s=t.buttons.exportData(e.exportOptions),r=e.fieldBoundary,o=e.fieldSeparator,a=new RegExp(r,"g"),l=e.escapeChar!==n?e.escapeChar:"\\",d=function(t){for(var e="",i=0,n=t.length;n>i;i++)i>0&&(e+=o),e+=r?r+(""+t[i]).replace(a,l+r)+r:t[i];return e},h=e.header?d(s.header)+i:"",u=e.footer&&s.footer?i+d(s.footer):"",p=[],f=0,g=s.body.length;g>f;f++)p.push(d(s.body[f]));return{str:h+p.join(i)+u,rows:p.length}},h=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Opera")},u={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\t<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\t<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\t<Default Extension="xml" ContentType="application/xml"/>\t<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\t<Default Extension="jpeg" ContentType="image/jpeg"/>\t<Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\t<Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\t<fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/>\t<workbookPr showInkAnnotation="0" autoCompressPictures="0"/>\t<bookViews>\t\t<workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/>\t</bookViews>\t<sheets>\t\t<sheet name="__SHEET_NAME__" sheetId="1" r:id="rId1"/>\t</sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\t<sheetData>\t\t__DATA__\t</sheetData></worksheet>'};return s.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(t){return t.i18n("buttons.copy","Copy")},action:function(e,n,s,r){var o=d(n,r),a=o.str,l=t("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});r.customize&&(a=r.customize(a,r));var c=t("<textarea readonly/>").val(a).appendTo(l);if(i.queryCommandSupported("copy")){l.appendTo(n.table().container()),c[0].focus(),c[0].select();try{return i.execCommand("copy"),l.remove(),void n.buttons.info(n.i18n("buttons.copyTitle","Copy to clipboard"),n.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},o.rows),2e3)}catch(t){}}var h=t("<span>"+n.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>\u2318</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(l);n.buttons.info(n.i18n("buttons.copyTitle","Copy to clipboard"),h,0),c[0].focus(),c[0].select();var u=t(h).closest(".dt-button-info"),p=function(){u.off("click.buttons-copy"),t(i).off(".buttons-copy"),n.buttons.info(!1)};u.on("click.buttons-copy",p),t(i).on("keydown.buttons-copy",function(t){27===t.keyCode&&p()}).on("copy.buttons-copy cut.buttons-copy",function(){p()})},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1},s.ext.buttons.csvHtml5={className:"buttons-csv buttons-html5",available:function(){return e.FileReader!==n&&e.Blob},text:function(t){return t.i18n("buttons.csv","CSV")},action:function(t,e,n,s){var a=(c(s),d(e,s).str),l=s.charset;s.customize&&(a=s.customize(a,s)),!1!==l?(l||(l=i.characterSet||i.charset),l&&(l=";charset="+l)):l="",r(new Blob([a],{type:"text/csv"+l}),o(s))},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},s.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return e.FileReader!==n&&e.JSZip!==n&&!h()},text:function(t){return t.i18n("buttons.excel","Excel")},action:function(i,s,l,c){var d="",h=s.buttons.exportData(c.exportOptions),p=function(e){for(var i=[],s=0,r=e.length;r>s;s++)null!==e[s]&&e[s]!==n||(e[s]=""),i.push("number"==typeof e[s]||e[s].match&&t.trim(e[s]).match(/^-?\d+(\.\d+)?$/)&&"0"!==e[s].charAt(0)?'<c t="n"><v>'+e[s]+"</v></c>":'<c t="inlineStr"><is><t>'+(e[s].replace?e[s].replace(/&(?!amp;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):e[s])+"</t></is></c>");return"<row>"+i.join("")+"</row>"};c.header&&(d+=p(h.header));for(var f=0,g=h.body.length;g>f;f++)d+=p(h.body[f]);c.footer&&(d+=p(h.footer));var m=new e.JSZip,v=m.folder("_rels"),b=m.folder("xl"),y=m.folder("xl/_rels"),w=m.folder("xl/worksheets");m.file("[Content_Types].xml",u["[Content_Types].xml"]),v.file(".rels",u["_rels/.rels"]),b.file("workbook.xml",u["xl/workbook.xml"].replace("__SHEET_NAME__",a(c))),y.file("workbook.xml.rels",u["xl/_rels/workbook.xml.rels"]),w.file("sheet1.xml",u["xl/worksheets/sheet1.xml"].replace("__DATA__",d)),r(m.generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),o(c))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1},s.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return e.FileReader!==n&&e.pdfMake},text:function(t){return t.i18n("buttons.pdf","PDF")},action:function(i,n,s,a){var d=(c(a),n.buttons.exportData(a.exportOptions)),u=[];a.header&&u.push(t.map(d.header,function(t){return{text:"string"==typeof t?t:t+"",style:"tableHeader"}}));for(var p=0,f=d.body.length;f>p;p++)u.push(t.map(d.body[p],function(t){return{text:"string"==typeof t?t:t+"",style:p%2?"tableBodyEven":"tableBodyOdd"}}));a.footer&&u.push(t.map(d.footer,function(t){return{text:"string"==typeof t?t:t+"",style:"tableFooter"}}));var g={pageSize:a.pageSize,pageOrientation:a.orientation,content:[{table:{headerRows:1,body:u},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}};a.message&&g.content.unshift({text:a.message,style:"message",margin:[0,0,0,12]}),a.title&&g.content.unshift({text:l(a,!1),style:"title",margin:[0,0,0,12]}),a.customize&&a.customize(g,a);var m=e.pdfMake.createPdf(g);"open"!==a.download||h()?m.getBuffer(function(t){var e=new Blob([t],{type:"application/pdf"});r(e,o(a))}):m.open()},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,message:null,customize:null,download:"download"},s.Buttons}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(e,i),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i){"use strict";var n=t.fn.dataTable,s=i.createElement("a"),r=function(e){var i,n=t(e).clone()[0];return"link"===n.nodeName.toLowerCase()&&(s.href=n.href,i=s.host,-1===i.indexOf("/")&&0!==s.pathname.indexOf("/")&&(i+="/"),n.href=s.protocol+"//"+i+s.pathname+s.search),n.outerHTML};return n.ext.buttons.print={className:"buttons-print",text:function(t){return t.i18n("buttons.print","Print")},action:function(i,n,s,o){var a=n.buttons.exportData(o.exportOptions),l=function(t,e){for(var i="<tr>",n=0,s=t.length;s>n;n++)i+="<"+e+">"+t[n]+"</"+e+">";return i+"</tr>"},c='<table class="'+n.table().node().className+'">';o.header&&(c+="<thead>"+l(a.header,"th")+"</thead>"),c+="<tbody>";for(var d=0,h=a.body.length;h>d;d++)c+=l(a.body[d],"td");c+="</tbody>",o.footer&&(c+="<tfoot>"+l(a.footer,"th")+"</tfoot>");var u=e.open("",""),p=o.title;"function"==typeof p&&(p=p()),-1!==p.indexOf("*")&&(p=p.replace("*",t("title").text())),u.document.close();var f="<title>"+p+"</title>";t("style, link").each(function(){f+=r(this)}),t(u.document.head).html(f),t(u.document.body).html("<h1>"+p+"</h1><div>"+o.message+"</div>"+c),o.customize&&o.customize(u),setTimeout(function(){o.autoPrint&&(u.print(),u.close())},250)},title:"*",message:"",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},n.Buttons}),function(){var t,e,i,n,s,r={}.hasOwnProperty,o=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};n=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,s,r,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),r=t.childNodes,o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push(this.add_option(i,e,t.disabled));return o},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,i;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),n.select_to_array=function(t){var e,i,s,r,o;for(i=new n,o=t.childNodes,s=0,r=o.length;r>s;s++)e=o[s],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,i,n,s,r,o,a;for(e="",s=0,a=this.results_data,r=0,o=a.length;o>r&&(i=a[r],n="",n=i.group?this.result_add_group(i):this.result_add_option(i),""!==n&&(s++,e+=n),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(s>=this.max_shown_results));r++);return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,i,n,s;for(n=this.results_data,s=[],e=0,i=n.length;i>e;e++)t=n[e],t.selected?s.push(t.selected=!1):s.push(void 0);return s},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,n,s,r,o,a,l,c,d,h;for(this.no_results_clear(),n=0,r=this.get_search_text(),t=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(t,"i"),i=this.get_search_regex(t),h=this.results_data,c=0,d=h.length;d>c;c++)e=h[c],e.search_match=!1,s=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(s=this.results_data[e.group_array_index],0===s.active_options&&s.search_match&&(n+=1),s.active_options+=1),e.search_text=e.group?e.label:e.html,e.group&&!this.group_search||(e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(n+=1),e.search_match?(r.length&&(o=e.search_text.search(l),a=e.search_text.substr(0,o+r.length)+"</em>"+e.search_text.substr(o+r.length),e.search_text=a.substr(0,o)+"<em>"+a.substr(o)),null!=s&&(s.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>n&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e;return e=this.search_contains?"":"^",new RegExp(e+t,"i")},t.prototype.search_string_match=function(t,e){var i,n,s,r;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(n=t.replace(/\[|\]/g,"").split(" "),n.length))for(s=0,r=n.length;r>s;s++)if(i=n[s],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,e=0,i=n.length;i>e;e++)t=n[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(){var t=this;return setTimeout(function(){return t.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return!/iP(od|hone)/i.test(window.navigator.userAgent)&&((!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))&&(!/IEMobile/i.test(window.navigator.userAgent)&&(!/Windows Phone/i.test(window.navigator.userAgent)&&(!/BlackBerry/i.test(window.navigator.userAgent)&&(!/BB10/i.test(window.navigator.userAgent)&&("Microsoft Internet Explorer"!==window.navigator.appName||document.documentMode>=8))))))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(n){return e.browser_is_supported()?this.each(function(){var e,s;return e=t(this),s=e.data("chosen"),"destroy"===n?void(s instanceof i&&s.destroy()):void(s instanceof i||e.data("chosen",new i(this,n)))}):this}}),i=function(e){function i(){return s=i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),
this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,n,s,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),s=n+r,i=this.result_highlight.position().top+this.search_results.scrollTop(),(e=i+this.result_highlight.outerHeight())>=s)return this.search_results.scrollTop(e-n>0?e-n:0);if(r>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},i.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(e){var i,n,s=this;return i=t("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(n=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),n.bind("click.chosen",function(t){return s.choice_destroy_link_click(t)}),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,n,s,r,o,a,l;if(this.is_multiple){for(0,o=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=r.length;l>a;a++)n=r[a],s+=n+":"+this.search_field.css(n)+";";return e=t("<div />",{style:s}),e.text(this.search_field.val()),t("body").append(e),o=e.width()+25,e.remove(),i=this.container.outerWidth(),o>i-10&&(o=i-10),this.search_field.css({width:o+"px"})}},i}(e)}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";var s=t.fn.dataTable,r=0,o=0,a=s.ext.buttons,l=function(e,i){!0===i&&(i={}),t.isArray(i)&&(i={buttons:i}),this.c=t.extend(!0,{},l.defaults,i),i.buttons&&(this.c.buttons=i.buttons),this.s={dt:new s.Api(e),buttons:[],subButtons:[],listenKeys:"",namespace:"dtb"+r++},this.dom={container:t("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};t.extend(l.prototype,{action:function(t,e){var i=this._indexToButton(t).conf;return this.s.dt,e===n?i.action:(i.action=e,this)},active:function(t,e){var i=this._indexToButton(t),s=this.c.dom.button.active;return e===n?i.node.hasClass(s):(i.node.toggleClass(s,e===n||e),this)},add:function(t,e){if("string"==typeof t&&-1!==t.indexOf("-")){var i=t.split("-");this.c.buttons[1*i[0]].buttons.splice(1*i[1],0,e)}else this.c.buttons.splice(1*t,0,e);return this.dom.container.empty(),this._buildButtons(this.c.buttons),this},container:function(){return this.dom.container},disable:function(t){return this._indexToButton(t).node.addClass(this.c.dom.button.disabled),this},destroy:function(){t("body").off("keyup."+this.s.namespace);var e,i,n,s,r=this.s.buttons,o=this.s.subButtons;for(e=0,i=r.length;i>e;e++)for(this.removePrep(e),n=0,s=o[e].length;s>n;n++)this.removePrep(e+"-"+n);this.removeCommit(),this.dom.container.remove();var a=this.s.dt.settings()[0];for(e=0,i=a.length;i>e;e++)if(a.inst===this){a.splice(e,1);break}return this},enable:function(t,e){return!1===e?this.disable(t):(this._indexToButton(t).node.removeClass(this.c.dom.button.disabled),this)},name:function(){return this.c.name},node:function(t){return this._indexToButton(t).node},removeCommit:function(){var t,e,i,n=this.s.buttons,s=this.s.subButtons;for(t=n.length-1;t>=0;t--)null===n[t]&&(n.splice(t,1),s.splice(t,1),this.c.buttons.splice(t,1));for(t=0,e=s.length;e>t;t++)for(i=s[t].length-1;i>=0;i--)null===s[t][i]&&(s[t].splice(i,1),this.c.buttons[t].buttons.splice(i,1));return this},removePrep:function(t){var e,i=this.s.dt;if("number"==typeof t||-1===t.indexOf("-"))e=this.s.buttons[1*t],e.conf.destroy&&e.conf.destroy.call(i.button(t),i,e,e.conf),e.node.remove(),this._removeKey(e.conf),this.s.buttons[1*t]=null;else{var n=t.split("-");e=this.s.subButtons[1*n[0]][1*n[1]],e.conf.destroy&&e.conf.destroy.call(i.button(t),i,e,e.conf),e.node.remove(),this._removeKey(e.conf),this.s.subButtons[1*n[0]][1*n[1]]=null}return this},text:function(t,e){var i=this._indexToButton(t),s=this.c.dom.collection.buttonLiner,r="string"==typeof t&&-1!==t.indexOf("-")&&s&&s.tag?s.tag:this.c.dom.buttonLiner.tag,o=this.s.dt,a=function(t){return"function"==typeof t?t(o,i.node,i.conf):t};return e===n?a(i.conf.text):(i.conf.text=e,r?i.node.children(r).html(a(e)):i.node.html(a(e)),this)},toIndex:function(t){var e,i,n,s,r=this.s.buttons,o=this.s.subButtons;for(e=0,i=r.length;i>e;e++)if(r[e].node[0]===t)return e+"";for(e=0,i=o.length;i>e;e++)for(n=0,s=o[e].length;s>n;n++)if(o[e][n].node[0]===t)return e+"-"+n},_constructor:function(){var e=this,n=this.s.dt,s=n.settings()[0];s._buttons||(s._buttons=[]),s._buttons.push({inst:this,name:this.c.name}),this._buildButtons(this.c.buttons),n.on("destroy",function(){e.destroy()}),t("body").on("keyup."+this.s.namespace,function(t){if(!i.activeElement||i.activeElement===i.body){var n=String.fromCharCode(t.keyCode).toLowerCase();-1!==e.s.listenKeys.toLowerCase().indexOf(n)&&e._keypress(n,t)}})},_addKey:function(e){e.key&&(this.s.listenKeys+=t.isPlainObject(e.key)?e.key.key:e.key)},_buildButtons:function(e,i,s){var r=this.s.dt,o=0;i||(i=this.dom.container,this.s.buttons=[],this.s.subButtons=[]);for(var a=0,l=e.length;l>a;a++){var c=this._resolveExtends(e[a]);if(c)if(t.isArray(c))this._buildButtons(c,i,s);else{var d=this._buildButton(c,s!==n);if(d){var h=d.node;if(i.append(d.inserter),s===n?(this.s.buttons.push({node:h,conf:c,inserter:d.inserter}),this.s.subButtons.push([])):this.s.subButtons[s].push({node:h,conf:c,inserter:d.inserter}),c.buttons){var u=this.c.dom.collection;c._collection=t("<"+u.tag+"/>").addClass(u.className),this._buildButtons(c.buttons,c._collection,o)}c.init&&c.init.call(r.button(h),r,h,c),o++}}}},_buildButton:function(e,i){var n=this.c.dom.button,s=this.c.dom.buttonLiner,r=this.c.dom.collection,a=this.s.dt,l=function(t){return"function"==typeof t?t(a,d,e):t};if(i&&r.button&&(n=r.button),i&&r.buttonLiner&&(s=r.buttonLiner),e.available&&!e.available(a,e))return!1;var c=function(e,i,n,s){s.action.call(i.button(n),e,i,n,s),t(i.table().node()).triggerHandler("buttons-action.dt",[i.button(n),i,n,s])},d=t("<"+n.tag+"/>").addClass(n.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(t){t.preventDefault(),!d.hasClass(n.disabled)&&e.action&&c(t,a,d,e),d.blur()}).on("keyup.dtb",function(t){13===t.keyCode&&!d.hasClass(n.disabled)&&e.action&&c(t,a,d,e)});s.tag?d.append(t("<"+s.tag+"/>").html(l(e.text)).addClass(s.className)):d.html(l(e.text)),!1===e.enabled&&d.addClass(n.disabled),e.className&&d.addClass(e.className),e.titleAttr&&d.attr("title",e.titleAttr),e.namespace||(e.namespace=".dt-button-"+o++);var h,u=this.c.dom.buttonContainer;return h=u&&u.tag?t("<"+u.tag+"/>").addClass(u.className).append(d):d,this._addKey(e),{node:d,inserter:h}},_indexToButton:function(t){if("number"==typeof t||-1===t.indexOf("-"))return this.s.buttons[1*t];var e=t.split("-");return this.s.subButtons[1*e[0]][1*e[1]]},_keypress:function(e,i){var n,s,r,o,a=this.s.buttons,l=this.s.subButtons,c=function(n,s){if(n.key)if(n.key===e)s.click();else if(t.isPlainObject(n.key)){if(n.key.key!==e)return;if(n.key.shiftKey&&!i.shiftKey)return;if(n.key.altKey&&!i.altKey)return;if(n.key.ctrlKey&&!i.ctrlKey)return;if(n.key.metaKey&&!i.metaKey)return;s.click()}};for(n=0,s=a.length;s>n;n++)c(a[n].conf,a[n].node);for(n=0,s=l.length;s>n;n++)for(r=0,o=l[n].length;o>r;r++)c(l[n][r].conf,l[n][r].node)},_removeKey:function(e){if(e.key){var i=t.isPlainObject(e.key)?e.key.key:e.key,n=this.s.listenKeys.split(""),s=t.inArray(i,n);n.splice(s,1),this.s.listenKeys=n.join("")}},_resolveExtends:function(e){var i,s,r=this.s.dt,o=function(i){for(var s=0;!t.isPlainObject(i)&&!t.isArray(i);){if(i===n)return;if("function"==typeof i){if(!(i=i(r,e)))return!1}else if("string"==typeof i){if(!a[i])throw"Unknown button type: "+i;i=a[i]}if(++s>30)throw"Buttons: Too many iterations"}return t.isArray(i)?i:t.extend({},i)};for(e=o(e);e&&e.extend;){if(!a[e.extend])throw"Cannot extend unknown button type: "+e.extend;var l=o(a[e.extend]);if(t.isArray(l))return l;if(!l)return!1;var c=l.className;e=t.extend({},l,e),c&&e.className!==c&&(e.className=c+" "+e.className);var d=e.postfixButtons;if(d){for(e.buttons||(e.buttons=[]),i=0,s=d.length;s>i;i++)e.buttons.push(d[i]);e.postfixButtons=null}var h=e.prefixButtons;if(h){for(e.buttons||(e.buttons=[]),i=0,s=h.length;s>i;i++)e.buttons.splice(i,0,h[i]);e.prefixButtons=null}e.extend=l.extend}return e}}),l.background=function(e,i,s){s===n&&(s=400),e?t("<div/>").addClass(i).css("display","none").appendTo("body").fadeIn(s):t("body > div."+i).fadeOut(s,function(){t(this).remove()})},l.instanceSelector=function(e,i){if(!e)return t.map(i,function(t){return t.inst});var n=[],s=t.map(i,function(t){return t.name}),r=function(e){if(t.isArray(e))for(var o=0,a=e.length;a>o;o++)r(e[o]);else if("string"==typeof e)if(-1!==e.indexOf(","))r(e.split(","));else{var l=t.inArray(t.trim(e),s);-1!==l&&n.push(i[l].inst)}else"number"==typeof e&&n.push(i[e].inst)};return r(e),n},l.buttonSelector=function(e,i){for(var s=[],r=function(e,i){var o,a,l=[];t.each(i.s.buttons,function(t,e){null!==e&&l.push({node:e.node[0],name:e.conf.name})}),t.each(i.s.subButtons,function(e,i){t.each(i,function(t,e){null!==e&&l.push({node:e.node[0],name:e.conf.name})})});var c=t.map(l,function(t){return t.node});if(t.isArray(e)||e instanceof t)for(o=0,a=e.length;a>o;o++)r(e[o],i);else if(null===e||e===n||"*"===e)for(o=0,a=l.length;a>o;o++)s.push({inst:i,idx:i.toIndex(l[o].node)});else if("number"==typeof e)s.push({inst:i,idx:e});else if("string"==typeof e)if(-1!==e.indexOf(",")){var d=e.split(",");for(o=0,a=d.length;a>o;o++)r(t.trim(d[o]),i)}else if(e.match(/^\d+(\-\d+)?$/))s.push({inst:i,idx:e});else if(-1!==e.indexOf(":name")){var h=e.replace(":name","");for(o=0,a=l.length;a>o;o++)l[o].name===h&&s.push({inst:i,idx:i.toIndex(l[o].node)})}else t(c).filter(e).each(function(){s.push({inst:i,idx:i.toIndex(this)})});else if("object"==typeof e&&e.nodeName){var u=t.inArray(e,c);-1!==u&&s.push({inst:i,idx:i.toIndex(c[u])})}},o=0,a=e.length;a>o;o++){var l=e[o];r(i,l)}return s},l.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection"},button:{tag:"a",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},l.version="1.1.2",t.extend(a,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",action:function(n,s,r,o){var a=r,c=a.offset(),d=t(s.table().container()),h=!1;t("div.dt-button-background").length&&(h=t("div.dt-button-collection").offset(),t(i).trigger("click.dtb-collection")),o._collection.addClass(o.collectionLayout).css("display","none").appendTo("body").fadeIn(o.fade);var u=o._collection.css("position");if(h&&"absolute"===u)o._collection.css({top:h.top+5,left:h.left+5});else if("absolute"===u){o._collection.css({top:c.top+a.outerHeight(),left:c.left});var p=c.left+o._collection.outerWidth(),f=d.offset().left+d.width();p>f&&o._collection.css("left",c.left-(p-f))}else{var g=o._collection.height()/2;g>t(e).height()/2&&(g=t(e).height()/2),o._collection.css("marginTop",-1*g)}o.background&&l.background(!0,o.backgroundClassName,o.fade),setTimeout(function(){t("div.dt-button-background").on("click.dtb-collection",function(){}),t("body").on("click.dtb-collection",function(e){t(e.target).parents().andSelf().filter(o._collection).length||(o._collection.fadeOut(o.fade,function(){o._collection.detach()}),t("div.dt-button-background").off("click.dtb-collection"),l.background(!1,o.backgroundClassName,o.fade),t("body").off("click.dtb-collection"),s.off("buttons-action.b-internal"))})},10),o.autoClose&&s.on("buttons-action.b-internal",function(){t("div.dt-button-background").click()})},background:!0,collectionLayout:"",backgroundClassName:"dt-button-background",autoClose:!1,fade:400},copy:function(t,e){return a.copyHtml5?"copyHtml5":a.copyFlash&&a.copyFlash.available(t,e)?"copyFlash":void 0},csv:function(t,e){return a.csvHtml5&&a.csvHtml5.available(t,e)?"csvHtml5":a.csvFlash&&a.csvFlash.available(t,e)?"csvFlash":void 0},excel:function(t,e){return a.excelHtml5&&a.excelHtml5.available(t,e)?"excelHtml5":a.excelFlash&&a.excelFlash.available(t,e)?"excelFlash":void 0},pdf:function(t,e){return a.pdfHtml5&&a.pdfHtml5.available(t,e)?"pdfHtml5":a.pdfFlash&&a.pdfFlash.available(t,e)?"pdfFlash":void 0},pageLength:function(e){var i=e.settings()[0].aLengthMenu,n=t.isArray(i[0])?i[0]:i,s=t.isArray(i[0])?i[1]:i,r=function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())};return{extend:"collection",text:r,className:"buttons-page-length",autoClose:!0,buttons:t.map(n,function(t,e){return{text:s[e],action:function(e,i){i.page.len(t).draw()},init:function(e,i,n){var s=this,r=function(){s.active(e.page.len()===t)};e.on("length.dt"+n.namespace,r),r()},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}}),init:function(t,e,i){var n=this;t.on("length.dt"+i.namespace,function(){n.text(r(t))})},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}}}),s.Api.register("buttons()",function(t,e){return e===n&&(e=t,t=n),this.iterator(!0,"table",function(i){return i._buttons?l.buttonSelector(l.instanceSelector(t,i._buttons),e):void 0},!0)}),s.Api.register("button()",function(t,e){var i=this.buttons(t,e);return i.length>1&&i.splice(1,i.length),i}),s.Api.registerPlural("buttons().active()","button().active()",function(t){return t===n?this.map(function(t){return t.inst.active(t.idx)}):this.each(function(e){e.inst.active(e.idx,t)})}),s.Api.registerPlural("buttons().action()","button().action()",function(t){return t===n?this.map(function(t){return t.inst.action(t.idx)}):this.each(function(e){e.inst.action(e.idx,t)})}),s.Api.register(["buttons().enable()","button().enable()"],function(t){return this.each(function(e){e.inst.enable(e.idx,t)})}),s.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(t){t.inst.disable(t.idx)})}),s.Api.registerPlural("buttons().nodes()","button().node()",function(){var e=t();return t(this.each(function(t){e=e.add(t.inst.node(t.idx))})),e}),s.Api.registerPlural("buttons().text()","button().text()",function(t){return t===n?this.map(function(t){return t.inst.text(t.idx)}):this.each(function(e){e.inst.text(e.idx,t)})}),s.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(t){t.inst.node(t.idx).trigger("click")})}),s.Api.registerPlural("buttons().containers()","buttons().container()",function(){var e=t();return t(this.each(function(t){e=e.add(t.inst.container())})),e}),s.Api.register("button().add()",function(t,e){return 1===this.length&&this[0].inst.add(t,e),this.button(t)}),s.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(t){t.destroy()}),this}),s.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(t){t.inst.removePrep(t.idx)}),this.pluck("inst").unique().each(function(t){t.removeCommit()}),this});var c;s.Api.register("buttons.info()",function(e,i,s){var r=this;return!1===e?(t("#datatables_buttons_info").fadeOut(function(){t(this).remove()}),clearTimeout(c),c=null,this):(c&&clearTimeout(c),t("#datatables_buttons_info").length&&t("#datatables_buttons_info").remove(),e=e?"<h2>"+e+"</h2>":"",t('<div id="datatables_buttons_info" class="dt-button-info"/>').html(e).append(t("<div/>")["string"==typeof i?"html":"append"](i)).css("display","none").appendTo("body").fadeIn(),s!==n&&0!==s&&(c=setTimeout(function(){r.buttons.info(!1)},s)),this)}),s.Api.register("buttons.exportData()",function(t){return this.context.length?h(new s.Api(this.context[0]),t):void 0});var d=t("<textarea/>")[0],h=function(e,i){for(var n=t.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return s(t)},footer:function(t){return s(t)},body:function(t){return s(t)}}},i),s=function(t){return"string"!=typeof t?t:(n.stripHtml&&(t=t.replace(/<.*?>/g,"")),n.trim&&(t=t.replace(/^\s+|\s+$/g,"")),n.stripNewlines&&(t=t.replace(/\n/g," ")),n.decodeEntities&&(d.innerHTML=t,t=d.value),t)},r=e.columns(n.columns).indexes().map(function(t){return n.format.header(e.column(t).header().innerHTML,t)}).toArray(),o=e.table().footer()?e.columns(n.columns).indexes().map(function(t){var i=e.column(t).footer();return n.format.footer(i?i.innerHTML:"",t)}).toArray():null,a=e.rows(n.rows,n.modifier).indexes().toArray(),l=e.cells(a,n.columns).render(n.orthogonal).toArray(),c=r.length,h=c>0?l.length/c:0,u=new Array(h),p=0,f=0,g=h;g>f;f++){for(var m=new Array(c),v=0;c>v;v++)m[v]=n.format.body(l[p],v,f),p++;u[f]=m}return{header:r,footer:o,body:u}};return t.fn.dataTable.Buttons=l,t.fn.DataTable.Buttons=l,t(i).on("init.dt plugin-init.dt",function(t,e){if("dt"===t.namespace){var i=e.oInit.buttons||s.defaults.buttons;i&&!e._buttons&&new l(e,i).container()}}),s.ext.feature.push({fnInit:function(t){var e=new s.Api(t),i=e.init().buttons||s.defaults.buttons;return new l(e,i).container()},cFeature:"B"}),l}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";function s(t,e,i){var n,s,r,o=function(e,i){if(e>i){var n=i;i=e,e=n}var s=!1;return t.columns(":visible").indexes().filter(function(t){return t===e&&(s=!0),t===i?(s=!1,!0):s})},a=function(e,i){var n=t.rows({search:"applied"}).indexes();if(n.indexOf(e)>n.indexOf(i)){var s=i;i=e,e=s}var r=!1;return n.filter(function(t){return t===e&&(r=!0),t===i?(r=!1,!0):r})};t.cells({selected:!0}).any()||i?(s=o(i.column,e.column),r=a(i.row,e.row)):(s=o(0,e.column),r=a(0,e.row)),n=t.cells(r,s).flatten(),t.cells(e,{selected:!0}).any()?t.cells(n).deselect():t.cells(n).select()}function r(e){var i=e.settings()[0],n=i._select.selector;t(e.table().body()).off("mousedown.dtSelect",n).off("mouseup.dtSelect",n).off("click.dtSelect",n),t("body").off("click.dtSelect")}function o(i){var n=t(i.table().body()),s=i.settings()[0],r=s._select.selector;n.on("mousedown.dtSelect",r,function(t){t.shiftKey&&n.css("-moz-user-select","none").one("selectstart.dtSelect",r,function(){return!1})}).on("mouseup.dtSelect",r,function(){n.css("-moz-user-select","")}).on("click.dtSelect",r,function(n){var s,r=i.select.items();if(!e.getSelection||!e.getSelection().toString()){var o=i.settings()[0];if(t(n.target).closest("div.dataTables_wrapper")[0]==i.table().container()){var a=t(n.target).closest("td, th"),l=i.cell(a).index();i.cell(a).any()&&("row"===r?(s=l.row,u(n,i,o,"row",s)):"column"===r?(s=i.cell(a).index().column,u(n,i,o,"column",s)):"cell"===r&&(s=i.cell(a).index(),u(n,i,o,"cell",s)),o._select_lastCell=l)}}}),t("body").on("click.dtSelect",function(e){if(s._select.blurable){if(t(e.target).parents().filter(i.table().container()).length)return;if(t(e.target).parents("div.DTE").length)return;h(s,!0)}})}function a(e,i,n,s){s&&!e.flatten().length||(n.unshift(e),t(e.table().node()).triggerHandler(i+".dt",n))}function l(e){var i=e.settings()[0];if(i._select.info&&i.aanFeatures.i){var n=t('<span class="select-info"/>'),s=function(i,s){n.append(t('<span class="select-item"/>').append(e.i18n("select."+i+"s",{_:"%d "+i+"s selected",0:"",1:"1 "+i+" selected"},s)))};s("row",e.rows({selected:!0}).flatten().length),s("column",e.columns({selected:!0}).flatten().length),s("cell",e.cells({selected:!0}).flatten().length),t.each(i.aanFeatures.i,function(e,i){i=t(i);var s=i.children("span.select-info");s.length&&s.remove(),""!==n.text()&&i.append(n)})}}function c(e){var i=new f.Api(e);e.aoRowCreatedCallback.push({fn:function(i,n,s){var r,o,a=e.aoData[s];for(a._select_selected&&t(i).addClass(e._select.className),r=0,o=e.aoColumns.length;o>r;r++)(e.aoColumns[r]._select_selected||a._selected_cells&&a._selected_cells[r])&&t(a.anCells[r]).addClass(e._select.className)},sName:"select-deferRender"}),i.on("preXhr.dt.dtSelect",function(){var t=i.rows({selected:!0}).ids(!0).filter(function(t){return t!==n}),e=i.cells({selected:!0}).eq(0).map(function(t){var e=i.row(t.row).id(!0);return e?{row:e,column:t.column}:n}).filter(function(t){return t!==n});i.one("draw.dt.dtSelect",function(){i.rows(t).select(),e.any()&&e.each(function(t){i.cells(t.row,t.column).select()})})}),i.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt",function(){l(i)}),i.on("destroy.dtSelect",function(){r(i),i.off(".dtSelect")})}function d(e,i,n,s){var r=e[i+"s"]({search:"applied"}).indexes(),o=t.inArray(s,r),a=t.inArray(n,r);if(e[i+"s"]({selected:!0}).any()||-1!==o){if(o>a){var l=a;a=o,o=l}r.splice(a+1,r.length),r.splice(0,o)}else r.splice(t.inArray(n,r)+1,r.length);e[i](n,{selected:!0}).any()?(r.splice(t.inArray(n,r),1),e[i+"s"](r).deselect()):e[i+"s"](r).select()}function h(t,e){if(e||"single"===t._select.style){var i=new f.Api(t);i.rows({selected:!0}).deselect(),i.columns({selected:!0}).deselect(),i.cells({selected:!0}).deselect()}}function u(t,e,i,n,r){var o=e.select.style(),a=e[n](r,{selected:!0}).any();if("os"===o)if(t.ctrlKey||t.metaKey)e[n](r).select(!a);else if(t.shiftKey)"cell"===n?s(e,r,i._select_lastCell||null):d(e,n,r,i._select_lastCell?i._select_lastCell[n]:null);else{var l=e[n+"s"]({selected:!0});a&&1===l.flatten().length?e[n](r).deselect():(l.deselect(),e[n](r).select())}else e[n](r).select(!a)}function p(t,e){return function(i){return i.i18n("buttons."+t,e)}}var f=t.fn.dataTable;f.select={},f.select.version="1.1.2",f.select.init=function(e){var i=e.settings()[0],s=i.oInit.select,r=f.defaults.select,o=s===n?r:s,a="row",l="api",c=!1,d=!0,h="td, th",u="selected";i._select={},!0===o?l="os":"string"==typeof o?l=o:t.isPlainObject(o)&&(o.blurable!==n&&(c=o.blurable),o.info!==n&&(d=o.info),o.items!==n&&(a=o.items),o.style!==n&&(l=o.style),o.selector!==n&&(h=o.selector),o.className!==n&&(u=o.className)),e.select.selector(h),e.select.items(a),e.select.style(l),e.select.blurable(c),e.select.info(d),i._select.className=u,
t.fn.dataTable.ext.order["select-checkbox"]=function(e,i){return this.api().column(i,{order:"index"}).nodes().map(function(i){return"row"===e._select.items?t(i).parent().hasClass(e._select.className):"cell"===e._select.items&&t(i).hasClass(e._select.className)})},t(e.table().node()).hasClass("selectable")&&e.select.style("os")},t.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(t,e){f.ext.selector[e.type].push(function(t,i,s){var r,o=i.selected,a=[];if(o===n)return s;for(var l=0,c=s.length;c>l;l++)r=t[e.prop][s[l]],(!0===o&&!0===r._select_selected||!1===o&&!r._select_selected)&&a.push(s[l]);return a})}),f.ext.selector.cell.push(function(t,e,i){var s,r=e.selected,o=[];if(r===n)return i;for(var a=0,l=i.length;l>a;a++)s=t.aoData[i[a].row],(!0===r&&s._selected_cells&&!0===s._selected_cells[i[a].column]||!1===r&&(!s._selected_cells||!s._selected_cells[i[a].column]))&&o.push(i[a]);return o});var g=f.Api.register,m=f.Api.registerPlural;return g("select()",function(){return this.iterator("table",function(t){f.select.init(new f.Api(t))})}),g("select.blurable()",function(t){return t===n?this.context[0]._select.blurable:this.iterator("table",function(e){e._select.blurable=t})}),g("select.info()",function(t){return l===n?this.context[0]._select.info:this.iterator("table",function(e){e._select.info=t})}),g("select.items()",function(t){return t===n?this.context[0]._select.items:this.iterator("table",function(e){e._select.items=t,a(new f.Api(e),"selectItems",[t])})}),g("select.style()",function(t){return t===n?this.context[0]._select.style:this.iterator("table",function(e){e._select.style=t,e._select_init||c(e);var i=new f.Api(e);r(i),"api"!==t&&o(i),a(new f.Api(e),"selectStyle",[t])})}),g("select.selector()",function(t){return t===n?this.context[0]._select.selector:this.iterator("table",function(e){r(new f.Api(e)),e._select.selector=t,"api"!==e._select.style&&o(new f.Api(e))})}),m("rows().select()","row().select()",function(e){var i=this;return!1===e?this.deselect():(this.iterator("row",function(e,i){h(e),e.aoData[i]._select_selected=!0,t(e.aoData[i].nTr).addClass(e._select.className)}),this.iterator("table",function(t,e){a(i,"select",["row",i[e]],!0)}),this)}),m("columns().select()","column().select()",function(e){var i=this;return!1===e?this.deselect():(this.iterator("column",function(e,i){h(e),e.aoColumns[i]._select_selected=!0;var n=new f.Api(e).column(i);t(n.header()).addClass(e._select.className),t(n.footer()).addClass(e._select.className),n.nodes().to$().addClass(e._select.className)}),this.iterator("table",function(t,e){a(i,"select",["column",i[e]],!0)}),this)}),m("cells().select()","cell().select()",function(e){var i=this;return!1===e?this.deselect():(this.iterator("cell",function(e,i,s){h(e);var r=e.aoData[i];r._selected_cells===n&&(r._selected_cells=[]),r._selected_cells[s]=!0,r.anCells&&t(r.anCells[s]).addClass(e._select.className)}),this.iterator("table",function(t,e){a(i,"select",["cell",i[e]],!0)}),this)}),m("rows().deselect()","row().deselect()",function(){var e=this;return this.iterator("row",function(e,i){e.aoData[i]._select_selected=!1,t(e.aoData[i].nTr).removeClass(e._select.className)}),this.iterator("table",function(t,i){a(e,"deselect",["row",e[i]],!0)}),this}),m("columns().deselect()","column().deselect()",function(){var e=this;return this.iterator("column",function(e,i){e.aoColumns[i]._select_selected=!1;var n=new f.Api(e),s=n.column(i);t(s.header()).removeClass(e._select.className),t(s.footer()).removeClass(e._select.className),n.cells(null,i).indexes().each(function(i){var n=e.aoData[i.row],s=n._selected_cells;!n.anCells||s&&s[i.column]||t(n.anCells[i.column]).removeClass(e._select.className)})}),this.iterator("table",function(t,i){a(e,"deselect",["column",e[i]],!0)}),this}),m("cells().deselect()","cell().deselect()",function(){var e=this;return this.iterator("cell",function(e,i,n){var s=e.aoData[i];s._selected_cells[n]=!1,s.anCells&&!e.aoColumns[n]._select_selected&&t(s.anCells[n]).removeClass(e._select.className)}),this.iterator("table",function(t,i){a(e,"deselect",["cell",e[i]],!0)}),this}),t.extend(f.ext.buttons,{selected:{text:p("selected","Selected"),className:"buttons-selected",init:function(t){var e=this;t.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var t=e.rows({selected:!0}).any()||e.columns({selected:!0}).any()||e.cells({selected:!0}).any();e.enable(t)}),this.disable()}},selectedSingle:{text:p("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(t){var e=this;t.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var i=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;e.enable(1===i)}),this.disable()}},selectAll:{text:p("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:p("selectNone","Deselect all"),className:"buttons-select-none",action:function(){h(this.settings()[0],!0)},init:function(t){var e=this;t.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var i=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;e.enable(i>0)}),this.disable()}}}),t.each(["Row","Column","Cell"],function(t,e){var i=e.toLowerCase();f.ext.buttons["select"+e+"s"]={text:p("select"+e+"s","Select "+i+"s"),className:"buttons-select-"+i+"s",action:function(){this.select.items(i)},init:function(t){var e=this;t.on("selectItems.dt.DT",function(t,n,s){e.active(s===i)})}}}),t(i).on("preInit.dt.dtSelect",function(t,e){"dt"===t.namespace&&f.select.init(new f.Api(e))}),f.select}),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(i,n,s){t.daterangepicker=e(t,s,i,n)});else if("undefined"!=typeof exports){var i=require("moment"),n="undefined"!=typeof window?window.jQuery:void 0;if(!n)try{n=require("jquery"),n.fn||(n.fn={})}catch(t){if(!n)throw new Error("jQuery dependency not found")}e(t,exports,i,n)}else t.daterangepicker=e(t,{},t.moment||moment,t.jQuery||t.Zepto||t.ender||t.$)}(this||{},function(t,e,i,n){var s=function(t,e,s){if(this.parentEl="body",this.element=n(t),this.startDate=i().startOf("day"),this.endDate=i().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:i.weekdaysMin(),monthNames:i.monthsShort(),firstDay:i.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof e&&null!==e||(e={}),e=n.extend(this.element.data(),e),"string"!=typeof e.template&&(e.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=n(e.parentEl&&n(e.parentEl).length?e.parentEl:this.parentEl),this.container=n(e.template).appendTo(this.parentEl),"object"==typeof e.locale&&("string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel&&(this.locale.customRangeLabel=e.locale.customRangeLabel)),"string"==typeof e.startDate&&(this.startDate=i(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=i(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=i(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=i(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=i(e.startDate)),"object"==typeof e.endDate&&(this.endDate=i(e.endDate)),"object"==typeof e.minDate&&(this.minDate=i(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=i(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var o,a,l;if("undefined"==typeof e.startDate&&"undefined"==typeof e.endDate&&n(this.element).is("input[type=text]")){var c=n(this.element).val(),d=c.split(this.locale.separator);o=a=null,2==d.length?(o=i(d[0],this.locale.format),a=i(d[1],this.locale.format)):this.singleDatePicker&&""!==c&&(o=i(c,this.locale.format),a=i(c,this.locale.format)),null!==o&&null!==a&&(this.setStartDate(o),this.setEndDate(a))}if("object"==typeof e.ranges){for(l in e.ranges){o="string"==typeof e.ranges[l][0]?i(e.ranges[l][0],this.locale.format):i(e.ranges[l][0]),a="string"==typeof e.ranges[l][1]?i(e.ranges[l][1],this.locale.format):i(e.ranges[l][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var h=this.maxDate;if(this.dateLimit&&o.clone().add(this.dateLimit).isAfter(h)&&(h=o.clone().add(this.dateLimit)),h&&a.isAfter(h)&&(a=h.clone()),!(this.minDate&&a.isBefore(this.minDate)||h&&o.isAfter(h))){var u=document.createElement("textarea");u.innerHTML=l;var p=u.value;this.ranges[p]=[o,a]}}var f="<ul>";for(l in this.ranges)f+="<li>"+l+"</li>";f+="<li>"+this.locale.customRangeLabel+"</li>",f+="</ul>",this.container.find(".ranges").prepend(f)}if("function"==typeof s&&(this.callback=s),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof e.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),"undefined"!=typeof e.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof e.ranges&&"right"==this.opens){var g=this.container.find(".ranges"),m=g.clone();g.remove(),this.container.find(".calendar.left").parent().prepend(m)}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",n.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",n.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",n.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",n.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",n.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",n.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",n.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",n.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",n.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",n.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",n.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",n.proxy(this.clickCancel,this)).on("click.daterangepicker","li",n.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",n.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",n.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":n.proxy(this.show,this),"focus.daterangepicker":n.proxy(this.show,this),"keyup.daterangepicker":n.proxy(this.elementChanged,this),"keydown.daterangepicker":n.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",n.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return s.prototype={constructor:s,setStartDate:function(t){"string"==typeof t&&(this.startDate=i(t,this.locale.format)),"object"==typeof t&&(this.startDate=i(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=i(t,this.locale.format)),"object"==typeof t&&(this.endDate=i(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,i;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".left .ampmselect").val();"PM"===n&&12>t&&(t+=12),"AM"===n&&12===t&&(t=0)}}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".right .ampmselect").val();"PM"===n&&12>t&&(t+=12),"AM"===n&&12===t&&(t=0)}this.leftCalendar.month.hour(t).minute(e).second(i),this.rightCalendar.month.hour(t).minute(e).second(i)}if(this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate){var s=!0,r=0;for(var o in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[o][0])&&this.endDate.isSame(this.ranges[o][1])){s=!1,this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[o][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[o][1].format("YYYY-MM-DD")){s=!1,this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").html();break}r++}s&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())}},renderCalendar:function(t){var e="left"==t?this.leftCalendar:this.rightCalendar,s=e.month.month(),r=e.month.year(),o=e.month.hour(),a=e.month.minute(),l=e.month.second(),c=i([r,s]).daysInMonth(),d=i([r,s,1]),h=i([r,s,c]),u=i(d).subtract(1,"month").month(),p=i(d).subtract(1,"month").year(),f=i([p,u]).daysInMonth(),g=d.day(),e=[];e.firstDay=d,e.lastDay=h;for(var m=0;6>m;m++)e[m]=[];var v=f-g+this.locale.firstDay+1;v>f&&(v-=7),g==this.locale.firstDay&&(v=f-6);for(var b,y,w=i([p,u,v,12,a,l]),m=0,b=0,y=0;42>m;m++,b++,w=i(w).add(24,"hour"))m>0&&b%7==0&&(b=0,y++),e[y][b]=w.clone().hour(o).minute(a).second(l),w.hour(12),this.minDate&&e[y][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[y][b].isBefore(this.minDate)&&"left"==t&&(e[y][b]=this.minDate.clone()),this.maxDate&&e[y][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[y][b].isAfter(this.maxDate)&&"right"==t&&(e[y][b]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var _="left"==t?this.minDate:this.startDate,x=this.maxDate,C=("left"==t?this.startDate:this.endDate,'<table class="table-condensed">');C+="<thead>",C+="<tr>",this.showWeekNumbers&&(C+="<th></th>"),C+=_&&!_.isBefore(e.firstDay)||this.linkedCalendars&&"left"!=t?"<th></th>":'<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>';var $=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){for(var k=e[1][1].month(),D=e[1][1].year(),S=x&&x.year()||D+5,T=_&&_.year()||D-50,I=D==T,E=D==S,j='<select class="monthselect">',A=0;12>A;A++)j+=(!I||A>=_.month())&&(!E||A<=x.month())?"<option value='"+A+"'"+(A===k?" selected='selected'":"")+">"+this.locale.monthNames[A]+"</option>":"<option value='"+A+"'"+(A===k?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[A]+"</option>";j+="</select>";for(var M='<select class="yearselect">',F=T;S>=F;F++)M+='<option value="'+F+'"'+(F===D?' selected="selected"':"")+">"+F+"</option>";M+="</select>",$=j+M}if(C+='<th colspan="5" class="month">'+$+"</th>",C+=x&&!x.isAfter(e.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>',C+="</tr>",C+="<tr>",this.showWeekNumbers&&(C+='<th class="week">'+this.locale.weekLabel+"</th>"),n.each(this.locale.daysOfWeek,function(t,e){C+="<th>"+e+"</th>"}),C+="</tr>",C+="</thead>",C+="<tbody>",null==this.endDate&&this.dateLimit){var P=this.startDate.clone().add(this.dateLimit).endOf("day");x&&!P.isBefore(x)||(x=P)}for(var y=0;6>y;y++){C+="<tr>",this.showWeekNumbers&&(C+='<td class="week">'+e[y][0].week()+"</td>");for(var b=0;7>b;b++){var R=[];e[y][b].isSame(new Date,"day")&&R.push("today"),e[y][b].isoWeekday()>5&&R.push("weekend"),e[y][b].month()!=e[1][1].month()&&R.push("off"),this.minDate&&e[y][b].isBefore(this.minDate,"day")&&R.push("off","disabled"),x&&e[y][b].isAfter(x,"day")&&R.push("off","disabled"),this.isInvalidDate(e[y][b])&&R.push("off","disabled"),e[y][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&R.push("active","start-date"),null!=this.endDate&&e[y][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&R.push("active","end-date"),null!=this.endDate&&e[y][b]>this.startDate&&e[y][b]<this.endDate&&R.push("in-range");for(var N="",O=!1,m=0;m<R.length;m++)N+=R[m]+" ","disabled"==R[m]&&(O=!0);O||(N+="available"),C+='<td class="'+N.replace(/^\s+|\s+$/g,"")+'" data-title="r'+y+"c"+b+'">'+e[y][b].date()+"</td>"}C+="</tr>"}C+="</tbody>",C+="</table>",this.container.find(".calendar."+t+" .calendar-table").html(C)},renderTimePicker:function(t){var e,i,n,s=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(s=this.startDate.clone().add(this.dateLimit)),"left"==t)i=this.startDate.clone(),n=this.minDate;else if("right"==t){i=this.endDate?this.endDate.clone():this.previousRightTime.clone(),n=this.startDate;var r=this.container.find(".calendar.right .calendar-time div");if(""!=r.html()){if(i.hour(r.find(".hourselect option:selected").val()||i.hour()),i.minute(r.find(".minuteselect option:selected").val()||i.minute()),i.second(r.find(".secondselect option:selected").val()||i.second()),!this.timePicker24Hour){var o=r.find(".ampmselect option:selected").val();"PM"===o&&i.hour()<12&&i.hour(i.hour()+12),"AM"===o&&12===i.hour()&&i.hour(0)}i.isBefore(this.startDate)&&(i=this.startDate.clone()),i.isAfter(s)&&(i=s.clone())}}e='<select class="hourselect">';for(var a=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=a;l>=c;c++){var d=c;this.timePicker24Hour||(d=i.hour()>=12?12==c?12:c+12:12==c?0:c);var h=i.clone().hour(d),u=!1;n&&h.minute(59).isBefore(n)&&(u=!0),s&&h.minute(0).isAfter(s)&&(u=!0),e+=d!=i.hour()||u?u?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":'<option value="'+c+'" selected="selected">'+c+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(var c=0;60>c;c+=this.timePickerIncrement){var p=10>c?"0"+c:c,h=i.clone().minute(c),u=!1;n&&h.second(59).isBefore(n)&&(u=!0),s&&h.second(0).isAfter(s)&&(u=!0),e+=i.minute()!=c||u?u?'<option value="'+c+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+c+'">'+p+"</option>":'<option value="'+c+'" selected="selected">'+p+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(var c=0;60>c;c++){var p=10>c?"0"+c:c,h=i.clone().second(c),u=!1;n&&h.isBefore(n)&&(u=!0),s&&h.isAfter(s)&&(u=!0),e+=i.second()!=c||u?u?'<option value="'+c+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+c+'">'+p+"</option>":'<option value="'+c+'" selected="selected">'+p+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",g="";n&&i.clone().hour(12).minute(0).second(0).isBefore(n)&&(f=' disabled="disabled" class="disabled"'),s&&i.clone().hour(0).minute(0).second(0).isAfter(s)&&(g=' disabled="disabled" class="disabled"'),e+=i.hour()>=12?'<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":'<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,e={top:0,left:0},i=n(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>n(window).width()&&this.container.css({left:"auto",right:0}))},show:function(){this.isShowing||(this._outsideClickProxy=n.proxy(function(t){this.outsideClick(t)},this),n(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),n(window).on("resize.daterangepicker",n.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),n(document).off(".daterangepicker"),n(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=n(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.innerHTML;if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.hideCalendars(),this.clickApply()}},clickPrev:function(t){n(t.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){n(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&n(t.target).hasClass("available")){var e=n(t.target).attr("data-title"),i=e.substr(1,1),s=e.substr(3,1),r=n(t.target).parents(".calendar"),o=r.hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];this.endDate?this.container.find("input[name=daterangepicker_start]").val(o.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(o.format(this.locale.format));var a=this.leftCalendar,l=this.rightCalendar,c=this.startDate;this.endDate||this.container.find(".calendar td").each(function(t,e){if(!n(e).hasClass("week")){var i=n(e).attr("data-title"),s=i.substr(1,1),r=i.substr(3,1),d=n(e).parents(".calendar"),h=d.hasClass("left")?a.calendar[s][r]:l.calendar[s][r];h.isAfter(c)&&h.isBefore(o)?n(e).addClass("in-range"):n(e).removeClass("in-range")}})}},clickDate:function(t){if(n(t.target).hasClass("available")){
var e=n(t.target).attr("data-title"),i=e.substr(1,1),s=e.substr(3,1),r=n(t.target).parents(".calendar"),o=r.hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];if(this.endDate||o.isBefore(this.startDate,"day")){if(this.timePicker){var a=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=r.find(".ampmselect").val();"PM"===l&&12>a&&(a+=12),"AM"===l&&12===a&&(a=0)}var c=parseInt(this.container.find(".left .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(a).minute(c).second(d)}this.endDate=null,this.setStartDate(o.clone())}else if(!this.endDate&&o.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var a=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&12>a&&(a+=12),"AM"===l&&12===a&&(a=0)}var c=parseInt(this.container.find(".right .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(a).minute(c).second(d)}this.setEndDate(o.clone()),this.autoApply&&this.clickApply()}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()}},clickApply:function(){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=n(t.target).closest(".calendar").hasClass("left"),i=e?"left":"right",s=this.container.find(".calendar."+i),r=parseInt(s.find(".monthselect").val(),10),o=s.find(".yearselect").val();e||(o<this.startDate.year()||o==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),o=this.maxDate.year()),e?(this.leftCalendar.month.month(r).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var e=n(t.target).closest(".calendar"),i=e.hasClass("left"),s=parseInt(e.find(".hourselect").val(),10),r=parseInt(e.find(".minuteselect").val(),10),o=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var a=e.find(".ampmselect").val();"PM"===a&&12>s&&(s+=12),"AM"===a&&12===s&&(s=0)}if(i){var l=this.startDate.clone();l.hour(s),l.minute(r),l.second(o),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(s),c.minute(r),c.second(o),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(t){var e=n(t.target).closest(".calendar").hasClass("right"),s=i(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),r=i(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);s.isValid()&&r.isValid()&&(e&&r.isBefore(s)&&(s=r.clone()),this.setStartDate(s),this.setEndDate(r),e?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var t=this.element.val().split(this.locale.separator),e=null,n=null;2===t.length&&(e=i(t[0],this.locale.format),n=i(t[1],this.locale.format)),(this.singleDatePicker||null===e||null===n)&&(e=i(this.element.val(),this.locale.format),n=e),e.isValid()&&n.isValid()&&(this.setStartDate(e),this.setEndDate(n),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},n.fn.daterangepicker=function(t,e){return this.each(function(){var i=n(this);i.data("daterangepicker")&&i.data("daterangepicker").remove(),i.data("daterangepicker",new s(i,t,e))}),this},s}),function(){var t,e,i,n,s,r,o,a,l=[].slice,c={}.hasOwnProperty,d=function(t,e){function i(){this.constructor=t}for(var n in e)c.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};o=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,n,s,r;if(n=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(s=0,r=i.length;r>s;s++)e=i[s],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,n,s,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(n=s=0,r=i.length;r>s;n=++s)if(i[n]===e){i.splice(n,1);break}return this},t}(),t=function(t){function i(t,e){var s,r,o;if(this.element=t,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,s=null!=(o=i.optionsForElement(this.element))?o:{},this.options=n({},this.defaultOptions,s,null!=e?e:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==this.options.previewsContainer&&(this.previewsContainer=this.options.previewsContainer?i.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=!0===this.options.clickable?[this.element]:i.getElements(this.options.clickable,"clickable")),this.init()}var n,s;return d(i,t),i.prototype.Emitter=e,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return o},forceFallback:!1,fallback:function(){var t,e,n,s,r,o;for(this.element.className=this.element.className+" dz-browser-not-supported",o=this.element.getElementsByTagName("div"),s=0,r=o.length;r>s;s++)t=o[s],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),n=e.getElementsByTagName("span")[0],n&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),n=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:o,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,n,s,r,o,a,l,c,d,h,u,p,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=i.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),h=t.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=h.length;l>r;r++)e=h[r],e.textContent=this._renameFilename(t.name);for(u=t.previewElement.querySelectorAll("[data-dz-size]"),o=0,c=u.length;c>o;o++)e=u[o],e.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),n=function(e){return function(n){return n.preventDefault(),n.stopPropagation(),t.status===i.UPLOADING?i.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?i.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),p=t.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,d=p.length;d>a;a++)s=p[a],f.push(s.addEventListener("click",n));return f}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,s,r;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),r=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,s=r.length;s>n;n++)i=r[n],i.alt=t.name,i.src=e;return setTimeout(function(){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}},error:function(t,e){var i,n,s,r,o;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),r=t.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push(i.textContent=e);return o}},errormultiple:o,processing:function(t){return t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink)?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:o,uploadprogress:function(t,e){var i,n,s,r,o;if(t.previewElement){for(r=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push("PROGRESS"===i.nodeName?i.value=e:i.style.width=e+"%");return o}},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(t){return t.previewElement?t.previewElement.classList.add("dz-success"):void 0},successmultiple:o,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:o,complete:function(t){return t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement?t.previewElement.classList.add("dz-complete"):void 0},completemultiple:o,maxfilesexceeded:o,maxfilesreached:o,queuecomplete:o,addedfiles:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var t,e,i,n,s,r,o;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],r=0,o=i.length;o>r;r++){e=i[r];for(t in e)s=e[t],n[t]=s}return n},i.prototype.getAcceptedFiles=function(){var t,e,i,n,s;for(n=this.files,s=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted&&s.push(t);return s},i.prototype.getRejectedFiles=function(){var t,e,i,n,s;for(n=this.files,s=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted||s.push(t);return s},i.prototype.getFilesWithStatus=function(t){var e,i,n,s,r;for(s=this.files,r=[],i=0,n=s.length;n>i;i++)e=s[i],e.status===t&&r.push(e);return r},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getAddedFiles=function(){return this.getFilesWithStatus(i.ADDED)},i.prototype.getActiveFiles=function(){var t,e,n,s,r;for(s=this.files,r=[],e=0,n=s.length;n>e;e++)t=s[e],(t.status===i.UPLOADING||t.status===i.QUEUED)&&r.push(t);return r},i.prototype.init=function(){var t,e,n,s,r,o,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(t){return function(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.querySelector(t.options.hiddenInputContainer).appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,s,r;if(i=t.hiddenFileInput.files,i.length)for(s=0,r=i.length;r>s;s++)e=i[s],t.addFile(e);return t.emit("addedfiles",i),n()})}}(this))(),this.URL=null!=(o=window.URL)?o:window.webkitURL,a=this.events,s=0,r=a.length;r>s;s++)t=a[s],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(){return 0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length?setTimeout(function(){return t.emit("queuecomplete")},0):void 0}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(i){return e(i),t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(t){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",e(i),t.emit("dragover",i)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(i){return e(i),t.drop(i)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(n){return(e!==t.element||n.target===t.element||i.elementInside(n.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var t,e,i,n,s,r,o,a;if(n=0,i=0,t=this.getActiveFiles(),t.length){for(a=this.getActiveFiles(),r=0,o=a.length;o>r;r++)e=a[r],n+=e.upload.bytesSent,i+=e.upload.total;s=100*n/i}else s=100;return this.emit("totaluploadprogress",s,i,n)},i.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},i.prototype._renameFilename=function(t){return"function"!=typeof this.options.renameFilename?t:this.options.renameFilename(t)},i.prototype.getFallbackForm=function(){var t,e,n,s;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=i.createElement(n),"FORM"!==this.element.tagName?(s=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),s.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=s?s:e)},i.prototype.getExistingFallback=function(){var t,e,i,n,s,r;for(e=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},r=["div","form"],n=0,s=r.length;s>n;n++)if(i=r[n],t=e(this.element.getElementsByTagName(i)))return t},i.prototype.setupEventListeners=function(){var t,e,i,n,s,r,o;for(r=this.listeners,o=[],n=0,s=r.length;s>n;n++)t=r[n],o.push(function(){var n,s;n=t.events,s=[];for(e in n)i=n[e],s.push(t.element.addEventListener(e,i,!1));return s}());return o},i.prototype.removeEventListeners=function(){var t,e,i,n,s,r,o;for(r=this.listeners,o=[],n=0,s=r.length;s>n;n++)t=r[n],o.push(function(){var n,s;n=t.events,s=[];for(e in n)i=n[e],s.push(t.element.removeEventListener(e,i,!1));return s}());return o},i.prototype.disable=function(){var t,e,i,n,s;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(this.cancelUpload(t));return s},i.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(t){var e,i,n,s,r,o,a,l;if(n=0,s="b",t>0){for(o=["TB","GB","MB","KB","b"],i=a=0,l=o.length;l>a;i=++a)if(r=o[i],e=Math.pow(this.options.filesizeBase,4-i)/10,t>=e){n=t/Math.pow(this.options.filesizeBase,4-i),s=r;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+s},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},i.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},i.prototype.handleFiles=function(t){var e,i,n,s;for(s=[],i=0,n=t.length;n>i;i++)e=t[i],s.push(this.addFile(e));return s},i.prototype._addFilesFromItems=function(t){var e,i,n,s,r;for(r=[],n=0,s=t.length;s>n;n++)i=t[n],r.push(null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?this.addFile(i.getAsFile()):e.isDirectory?this._addFilesFromDirectory(e,e.name):void 0:null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?this.addFile(i.getAsFile()):void 0);return r},i.prototype._addFilesFromDirectory=function(t,e){var i,n,s;return i=t.createReader(),n=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0},(s=function(t){return function(){return i.readEntries(function(i){var n,r,o;if(i.length>0){for(r=0,o=i.length;o>r;r++)n=i[r],n.isFile?n.file(function(i){return t.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=e+"/"+i.name,t.addFile(i))}):n.isDirectory&&t._addFilesFromDirectory(n,e+"/"+n.name);s()}return null},n)}}(this))()},i.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},i.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=i.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)e=t[i],this.enqueueFile(e);return null},i.prototype.enqueueFile=function(t){if(t.status!==i.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=i.QUEUED,this.options.autoProcessQueue?setTimeout(function(t){return function(){return t.processQueue()}}(this),0):void 0},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(t){return this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)):void 0},i.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this)))},i.prototype.removeFile=function(t){return t.status===i.UPLOADING&&this.cancelUpload(t),this.files=a(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(t){var e,n,s,r;for(null==t&&(t=!1),r=this.files.slice(),n=0,s=r.length;s>n;n++)e=r[n],(e.status!==i.UPLOADING||t)&&this.removeFile(e);return null},i.prototype.createThumbnail=function(t,e){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===t.type?(n.emit("thumbnail",t,i.result),void(null!=e&&e())):n.createThumbnailFromUrl(t,i.result,e)}}(this),i.readAsDataURL(t)},i.prototype.createThumbnailFromUrl=function(t,e,i,n){var s;return s=document.createElement("img"),n&&(s.crossOrigin=n),s.onload=function(e){return function(){var n,o,a,l,c,d,h,u;return t.width=s.width,t.height=s.height,a=e.options.resize.call(e,t),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),n=document.createElement("canvas"),o=n.getContext("2d"),n.width=a.trgWidth,n.height=a.trgHeight,r(o,s,null!=(c=a.srcX)?c:0,null!=(d=a.srcY)?d:0,a.srcWidth,a.srcHeight,null!=(h=a.trgX)?h:0,null!=(u=a.trgY)?u:0,a.trgWidth,a.trgHeight),l=n.toDataURL("image/png"),e.emit("thumbnail",t,l),null!=i?i():void 0}}(this),null!=i&&(s.onerror=i),s.src=e},i.prototype.processQueue=function(){var t,e,i,n;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;e>t;){if(!n.length)return;this.processFile(n.shift()),t++}}},i.prototype.processFile=function(t){return this.processFiles([t])},i.prototype.processFiles=function(t){var e,n,s;for(n=0,s=t.length;s>n;n++)e=t[n],e.processing=!0,e.status=i.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},i.prototype._getFilesWithXhr=function(t){var e;return function(){var i,n,s,r;for(s=this.files,r=[],i=0,n=s.length;n>i;i++)e=s[i],e.xhr===t&&r.push(e);return r}.call(this)},i.prototype.cancelUpload=function(t){var e,n,s,r,o,a,l;if(t.status===i.UPLOADING){for(n=this._getFilesWithXhr(t.xhr),s=0,o=n.length;o>s;s++)e=n[s],e.status=i.CANCELED;for(t.xhr.abort(),r=0,a=n.length;a>r;r++)e=n[r],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=t.status)===i.ADDED||l===i.QUEUED)&&(t.status=i.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},s=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},i.prototype.uploadFile=function(t){return this.uploadFiles([t])},i.prototype.uploadFiles=function(t){var e,r,o,a,l,c,d,h,u,p,f,g,m,v,b,y,w,_,x,C,$,k,D,S,T,I,E,j,A,M,F,P,R,N;for(x=new XMLHttpRequest,C=0,S=t.length;S>C;C++)e=t[C],e.xhr=x;g=s(this.options.method,t),w=s(this.options.url,t),x.open(g,w,!0),x.withCredentials=!!this.options.withCredentials,b=null,o=function(i){return function(){var n,s,r;for(r=[],n=0,s=t.length;s>n;n++)e=t[n],r.push(i._errorProcessing(t,b||i.options.dictResponseError.replace("{{statusCode}}",x.status),x));return r}}(this),y=function(i){return function(n){var s,r,o,a,l,c,d,h,u;if(null!=n)for(r=100*n.loaded/n.total,o=0,c=t.length;c>o;o++)e=t[o],e.upload={progress:r,total:n.total,bytesSent:n.loaded};else{for(s=!0,r=100,a=0,d=t.length;d>a;a++)e=t[a],(100!==e.upload.progress||e.upload.bytesSent!==e.upload.total)&&(s=!1),e.upload.progress=r,e.upload.bytesSent=e.upload.total;if(s)return}for(u=[],l=0,h=t.length;h>l;l++)e=t[l],u.push(i.emit("uploadprogress",e,r,e.upload.bytesSent));return u}}(this),x.onload=function(e){return function(n){var s;if(t[0].status!==i.CANCELED&&4===x.readyState){if(b=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(t){n=t,b="Invalid JSON response from server."}return y(),200<=(s=x.status)&&300>s?e._finished(t,b,n):o()}}}(this),x.onerror=function(){return function(){return t[0].status!==i.CANCELED?o():void 0}}(),v=null!=(A=x.upload)?A:x,v.onprogress=y,c={
Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(c,this.options.headers);for(a in c)(l=c[a])&&x.setRequestHeader(a,l);if(r=new FormData,this.options.params){M=this.options.params;for(f in M)_=M[f],r.append(f,_)}for($=0,T=t.length;T>$;$++)e=t[$],this.emit("sending",e,x,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,x,r),"FORM"===this.element.tagName)for(F=this.element.querySelectorAll("input, textarea, select, button"),k=0,I=F.length;I>k;k++)if(h=F[k],u=h.getAttribute("name"),p=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(P=h.options,D=0,E=P.length;E>D;D++)m=P[D],m.selected&&r.append(u,m.value);else(!p||"checkbox"!==(R=p.toLowerCase())&&"radio"!==R||h.checked)&&r.append(u,h.value);for(d=j=0,N=t.length-1;N>=0?N>=j:j>=N;d=N>=0?++j:--j)r.append(this._getParamName(d),t[d],this._renameFilename(t[d].name));return this.submitRequest(x,r,t)},i.prototype.submitRequest=function(t,e){return t.send(e)},i.prototype._finished=function(t,e,n){var s,r,o;for(r=0,o=t.length;o>r;r++)s=t[r],s.status=i.SUCCESS,this.emit("success",s,e,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(t,e,n){var s,r,o;for(r=0,o=t.length;o>r;r++)s=t[r],s.status=i.ERROR,this.emit("error",s,e,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},i}(e),t.version="4.3.0",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[i(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,s,r,o;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(t){var e,i,s,r;for(r=[],i=0,s=t.length;s>i;i++)e=t[i],r.push(/(^| )dropzone($| )/.test(e.className)?n.push(e):void 0);return r},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),o=[],s=0,r=n.length;r>s;s++)i=n[s],o.push(!1!==t.optionsForElement(i)?new t(i):void 0);return o},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,s,r;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=t.blacklistedBrowsers,n=0,s=r.length;s>n;n++)i=r[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},a=function(t,e){var i,n,s,r;for(r=[],n=0,s=t.length;s>n;n++)(i=t[n])!==e&&r.push(i);return r},i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(t,e){var i,n,s,r,o,a,l;if(t instanceof Array){n=[];try{for(s=0,o=t.length;o>s;s++)i=t[s],n.push(this.getElement(i,e))}catch(t){t,n=null}}else if("string"==typeof t)for(n=[],l=document.querySelectorAll(t),r=0,a=l.length;a>r;r++)i=l[r],n.push(i);else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},t.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},t.isValidFile=function(t,e){var i,n,s,r,o;if(!e)return!0;for(e=e.split(","),n=t.type,i=n.replace(/\/.*$/,""),r=0,o=e.length;o>r;r++)if(s=e[r],s=s.trim(),"."===s.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(s.toLowerCase(),t.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",s=function(t){var e,i,n,s,r,o,a,l,c;for(t.naturalWidth,o=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=o,n=i.getContext("2d"),n.drawImage(t,0,0),s=n.getImageData(0,0,1,o).data,c=0,r=o,a=o;a>c;)e=s[4*(a-1)+3],0===e?r=a:c=a,a=r+c>>1;return l=a/o,0===l?1:l},r=function(t,e,i,n,r,o,a,l,c,d){var h;return h=s(e),t.drawImage(e,i,n,r,o,a,l,c,d/h)},n=function(t,e){var i,n,s,r,o,a,l,c,d;if(s=!1,d=!0,n=t.document,c=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",r=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?t:n)[l](a+i.type,r,!1),!s&&(s=!0)?e.call(t,i.type||i):void 0):void 0},o=function(){try{c.doScroll("left")}catch(t){return t,void setTimeout(o,50)}return r("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{d=!t.frameElement}catch(t){}d&&o()}return n[i](a+"DOMContentLoaded",r,!1),n[i](a+"readystatechange",r,!1),t[i](a+"load",r,!1)}},t._autoDiscoverFunction=function(){return t.autoDiscover?t.discover():void 0},n(window,t._autoDiscoverFunction)}.call(this),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new w(this))}function e(t,e){var i=q.call(arguments,2);return function(){return t.apply(e,i.concat(q.call(arguments)))}}function i(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(t,e,i){t.namespaces[e]||t.namespaces.add(e,i,"#default#VML")}function s(t){if(n(t,"g_vml_","urn:schemas-microsoft-com:vml"),n(t,"g_o_","urn:schemas-microsoft-com:office:office"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function r(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function o(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function a(){return[[1,0,0],[0,1,0],[0,0,1]]}function l(t,e){for(var i=a(),n=0;3>n;n++)for(var s=0;3>s;s++){for(var r=0,o=0;3>o;o++)r+=t[n][o]*e[o][s];i[n][s]=r}return i}function c(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function d(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1),n=t.substring(e+1,i).split(",");return(4!=n.length||"a"!=t.charAt(3))&&(n[3]=1),n}function h(t){return parseFloat(t)/100}function u(t,e,i){return Math.min(i,Math.max(e,t))}function p(t){var e,i,n,s,r,o;if(s=parseFloat(t[0])/360%360,0>s&&s++,r=u(h(t[1]),0,1),o=u(h(t[2]),0,1),0==r)e=i=n=o;else{var a=.5>o?o*(1+r):o+r-o*r,l=2*o-a;e=f(l,a,s+1/3),i=f(l,a,s),n=f(l,a,s-1/3)}return"#"+z[Math.floor(255*e)]+z[Math.floor(255*i)]+z[Math.floor(255*n)]}function f(t,e,i){return 0>i&&i++,i>1&&i--,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function g(t){if(t in U)return U[t];var e,i=1;if(t=String(t),"#"==t.charAt(0))e=t;else if(/^rgb/.test(t)){for(var n,s=d(t),e="#",r=0;3>r;r++)n=-1!=s[r].indexOf("%")?Math.floor(255*h(s[r])):+s[r],e+=z[u(n,0,255)];i=+s[3]}else if(/^hsl/.test(t)){var s=d(t);e=p(s),i=s[3]}else e=G[t]||t;return U[t]={color:e,alpha:i}}function m(t){if(V[t])return V[t];var e=document.createElement("div"),i=e.style;try{i.font=t}catch(t){}return V[t]={style:i.fontStyle||Y.style,variant:i.fontVariant||Y.variant,weight:i.fontWeight||Y.weight,size:i.fontSize||Y.size,family:i.fontFamily||Y.family}}function v(t,e){var i={};for(var n in t)i[n]=t[n];var s=parseFloat(e.currentStyle.fontSize),r=parseFloat(t.size);return"number"==typeof t.size?i.size=t.size:-1!=t.size.indexOf("px")?i.size=r:-1!=t.size.indexOf("em")?i.size=s*r:-1!=t.size.indexOf("%")?i.size=s/100*r:-1!=t.size.indexOf("pt")?i.size=r/.75:i.size=s,i.size*=.981,i}function b(t){return t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.family}function y(t){return X[t]||"square"}function w(t){this.m_=a(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*O,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i);var n=i.cloneNode(!1);n.style.backgroundColor="red",n.style.filter="alpha(opacity=0)",t.appendChild(n),this.element_=i,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function _(t,e,i,n){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:n.x,y:n.y}),t.currentX_=n.x,t.currentY_=n.y}function x(t,e){var i=g(t.strokeStyle),n=i.color,s=i.alpha*t.globalAlpha,r=t.lineScale_*t.lineWidth;1>r&&(s*=r),e.push("<g_vml_:stroke",' opacity="',s,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',y(t.lineCap),'"',' weight="',r,'px"',' color="',n,'" />')}function C(t,e,i,n){var s=t.fillStyle,r=t.arcScaleX_,o=t.arcScaleY_,a=n.x-i.x,l=n.y-i.y;if(s instanceof S){var c=0,d={x:0,y:0},h=0,u=1;if("gradient"==s.type_){var p=s.x0_/r,f=s.y0_/o,m=s.x1_/r,v=s.y1_/o,b=$(t,p,f),y=$(t,m,v),w=y.x-b.x,_=y.y-b.y;c=180*Math.atan2(w,_)/Math.PI,0>c&&(c+=360),1e-6>c&&(c=0)}else{var b=$(t,s.x0_,s.y0_);d={x:(b.x-i.x)/a,y:(b.y-i.y)/l},a/=r*O,l/=o*O;var x=A.max(a,l);h=2*s.r0_/x,u=2*s.r1_/x-h}var C=s.colors_;C.sort(function(t,e){return t.offset-e.offset});for(var k=C.length,D=C[0].color,I=C[k-1].color,E=C[0].alpha*t.globalAlpha,j=C[k-1].alpha*t.globalAlpha,M=[],F=0;k>F;F++){var P=C[F];M.push(P.offset*u+h+" "+P.color)}e.push('<g_vml_:fill type="',s.type_,'"',' method="none" focus="100%"',' color="',D,'"',' color2="',I,'"',' colors="',M.join(","),'"',' opacity="',j,'"',' g_o_:opacity2="',E,'"',' angle="',c,'"',' focusposition="',d.x,",",d.y,'" />')}else if(s instanceof T){if(a&&l){var R=-i.x,N=-i.y;e.push("<g_vml_:fill",' position="',R/a*r*r,",",N/l*o*o,'"',' type="tile"',' src="',s.src_,'" />')}}else{var H=g(t.fillStyle),q=H.color,L=H.alpha*t.globalAlpha;e.push('<g_vml_:fill color="',q,'" opacity="',L,'" />')}}function $(t,e,i){var n=t.m_;return{x:O*(e*n[0][0]+i*n[1][0]+n[2][0])-H,y:O*(e*n[0][1]+i*n[1][1]+n[2][1])-H}}function k(t){return isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])}function D(t,e,i){if(k(e)&&(t.m_=e,i)){var n=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=N(R(n))}}function S(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function T(t,e){switch(E(t),e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:I("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function I(t){throw new j(t)}function E(t){t&&1==t.nodeType&&"IMG"==t.tagName||I("TYPE_MISMATCH_ERR"),"complete"!=t.readyState&&I("INVALID_STATE_ERR")}function j(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var A=Math,M=A.round,F=A.sin,P=A.cos,R=A.abs,N=A.sqrt,O=10,H=O/2,q=(navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);s(document);var L={init:function(t){var i=t||document;i.createElement("canvas"),i.attachEvent("onreadystatechange",e(this.init_,this,i))},init_:function(t){for(var e=t.getElementsByTagName("canvas"),i=0;i<e.length;i++)this.initElement(e[i])},initElement:function(e){if(!e.getContext){e.getContext=t,s(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",r),e.attachEvent("onresize",o);var i=e.attributes;i.width&&i.width.specified?e.style.width=i.width.nodeValue+"px":e.width=e.clientWidth,i.height&&i.height.specified?e.style.height=i.height.nodeValue+"px":e.height=e.clientHeight}return e}};L.init();for(var z=[],B=0;16>B;B++)for(var W=0;16>W;W++)z[16*B+W]=B.toString(16)+W.toString(16);var G={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},U={},Y={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},V={},X={butt:"flat",round:"round"},K=w.prototype;K.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},K.beginPath=function(){this.currentPath_=[]},K.moveTo=function(t,e){var i=$(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},K.lineTo=function(t,e){var i=$(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},K.bezierCurveTo=function(t,e,i,n,s,r){var o=$(this,s,r);_(this,$(this,t,e),$(this,i,n),o)},K.quadraticCurveTo=function(t,e,i,n){var s=$(this,t,e),r=$(this,i,n),o={x:this.currentX_+2/3*(s.x-this.currentX_),y:this.currentY_+2/3*(s.y-this.currentY_)};_(this,o,{x:o.x+(r.x-this.currentX_)/3,y:o.y+(r.y-this.currentY_)/3},r)},K.arc=function(t,e,i,n,s,r){i*=O;var o=r?"at":"wa",a=t+P(n)*i-H,l=e+F(n)*i-H,c=t+P(s)*i-H,d=e+F(s)*i-H;a!=c||r||(a+=.125);var h=$(this,t,e),u=$(this,a,l),p=$(this,c,d);this.currentPath_.push({type:o,x:h.x,y:h.y,radius:i,xStart:u.x,yStart:u.y,xEnd:p.x,yEnd:p.y})},K.rect=function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},K.strokeRect=function(t,e,i,n){var s=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.stroke(),this.currentPath_=s},K.fillRect=function(t,e,i,n){var s=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.fill(),this.currentPath_=s},K.createLinearGradient=function(t,e,i,n){var s=new S("gradient");return s.x0_=t,s.y0_=e,s.x1_=i,s.y1_=n,s},K.createRadialGradient=function(t,e,i,n,s,r){var o=new S("gradientradial");return o.x0_=t,o.y0_=e,o.r0_=i,o.x1_=n,o.y1_=s,o.r1_=r,o},K.drawImage=function(t){var e,i,n,s,r,o,a,l,c=t.runtimeStyle.width,d=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var h=t.width,u=t.height;if(t.runtimeStyle.width=c,t.runtimeStyle.height=d,3==arguments.length)e=arguments[1],i=arguments[2],r=o=0,a=n=h,l=s=u;else if(5==arguments.length)e=arguments[1],i=arguments[2],n=arguments[3],s=arguments[4],r=o=0,a=h,l=u;else{if(9!=arguments.length)throw Error("Invalid number of arguments");r=arguments[1],o=arguments[2],a=arguments[3],l=arguments[4],e=arguments[5],i=arguments[6],n=arguments[7],s=arguments[8]}var p=$(this,e,i),f=[],g=10,m=10;if(f.push(" <g_vml_:group",' coordsize="',O*g,",",O*m,'"',' coordorigin="0,0"',' style="width:',g,"px;height:",m,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var v=[];v.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",M(p.x/O),",","Dy=",M(p.y/O),"");var b=p,y=$(this,e+n,i),w=$(this,e,i+s),_=$(this,e+n,i+s);b.x=A.max(b.x,y.x,w.x,_.x),b.y=A.max(b.y,y.y,w.y,_.y),f.push("padding:0 ",M(b.x/O),"px ",M(b.y/O),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",v.join(""),", sizingmethod='clip');")}else f.push("top:",M(p.y/O),"px;left:",M(p.x/O),"px;");f.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',O*n,"px;"," height:",O*s,'px"',' cropleft="',r/h,'"',' croptop="',o/u,'"',' cropright="',(h-r-a)/h,'"',' cropbottom="',(u-o-l)/u,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",f.join(""))},K.stroke=function(t){var e=[],i=10,n=10;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',i,"px;height:",n,'px;"',' coordorigin="0,0"',' coordsize="',O*i,",",O*n,'"',' stroked="',!t,'"',' path="');for(var s={x:null,y:null},r={x:null,y:null},o=0;o<this.currentPath_.length;o++){var a=this.currentPath_[o];switch(a.type){case"moveTo":a,e.push(" m ",M(a.x),",",M(a.y));break;case"lineTo":e.push(" l ",M(a.x),",",M(a.y));break;case"close":e.push(" x "),a=null;break;case"bezierCurveTo":e.push(" c ",M(a.cp1x),",",M(a.cp1y),",",M(a.cp2x),",",M(a.cp2y),",",M(a.x),",",M(a.y));break;case"at":case"wa":e.push(" ",a.type," ",M(a.x-this.arcScaleX_*a.radius),",",M(a.y-this.arcScaleY_*a.radius)," ",M(a.x+this.arcScaleX_*a.radius),",",M(a.y+this.arcScaleY_*a.radius)," ",M(a.xStart),",",M(a.yStart)," ",M(a.xEnd),",",M(a.yEnd))}a&&((null==s.x||a.x<s.x)&&(s.x=a.x),(null==r.x||a.x>r.x)&&(r.x=a.x),(null==s.y||a.y<s.y)&&(s.y=a.y),(null==r.y||a.y>r.y)&&(r.y=a.y))}e.push(' ">'),t?C(this,e,s,r):x(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},K.fill=function(){this.stroke(!0)},K.closePath=function(){this.currentPath_.push({type:"close"})},K.save=function(){var t={};c(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=l(a(),this.m_)},K.restore=function(){this.aStack_.length&&(c(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},K.translate=function(t,e){D(this,l([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},K.rotate=function(t){var e=P(t),i=F(t);D(this,l([[e,i,0],[-i,e,0],[0,0,1]],this.m_),!1)},K.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,D(this,l([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},K.transform=function(t,e,i,n,s,r){D(this,l([[t,e,0],[i,n,0],[s,r,1]],this.m_),!0)},K.setTransform=function(t,e,i,n,s,r){D(this,[[t,e,0],[i,n,0],[s,r,1]],!0)},K.drawText_=function(t,e,n,s,r){var o=this.m_,a=1e3,l=0,c=a,d={x:0,y:0},h=[],u=v(m(this.font),this.element_),p=b(u),f=this.element_.currentStyle,g=this.textAlign.toLowerCase();switch(g){case"left":case"center":case"right":break;case"end":g="ltr"==f.direction?"right":"left";break;case"start":g="rtl"==f.direction?"right":"left";break;default:g="left"}switch(this.textBaseline){case"hanging":case"top":d.y=u.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":d.y=-u.size/2.25}switch(g){case"right":l=a,c=.05;break;case"center":l=c=a/2}var y=$(this,e+d.x,n+d.y);h.push('<g_vml_:line from="',-l,' 0" to="',c,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!r,'" stroked="',!!r,'" style="position:absolute;width:1px;height:1px;">'),r?x(this,h):C(this,h,{x:-l,y:0},{x:c,y:u.size});var w=o[0][0].toFixed(3)+","+o[1][0].toFixed(3)+","+o[0][1].toFixed(3)+","+o[1][1].toFixed(3)+",0,0",_=M(y.x/O)+","+M(y.y/O);h.push('<g_vml_:skew on="t" matrix="',w,'" ',' offset="',_,'" origin="',l,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(t),'" style="v-text-align:',g,";font:",i(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",h.join(""))},K.fillText=function(t,e,i,n){this.drawText_(t,e,i,n,!1)},K.strokeText=function(t,e,i,n){this.drawText_(t,e,i,n,!0)},K.measureText=function(t){if(!this.textMeasureEl_){this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild}var e=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},K.clip=function(){},K.arcTo=function(){},K.createPattern=function(t,e){return new T(t,e)},S.prototype.addColorStop=function(t,e){e=g(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})};var Q=j.prototype=new Error;Q.INDEX_SIZE_ERR=1,Q.DOMSTRING_SIZE_ERR=2,Q.HIERARCHY_REQUEST_ERR=3,Q.WRONG_DOCUMENT_ERR=4,Q.INVALID_CHARACTER_ERR=5,Q.NO_DATA_ALLOWED_ERR=6,Q.NO_MODIFICATION_ALLOWED_ERR=7,Q.NOT_FOUND_ERR=8,Q.NOT_SUPPORTED_ERR=9,Q.INUSE_ATTRIBUTE_ERR=10,Q.INVALID_STATE_ERR=11,Q.SYNTAX_ERR=12,Q.INVALID_MODIFICATION_ERR=13,Q.NAMESPACE_ERR=14,Q.INVALID_ACCESS_ERR=15,Q.VALIDATION_ERR=16,Q.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=L,CanvasRenderingContext2D=w,CanvasGradient=S,CanvasPattern=T,DOMException=j}(),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function i(t){return z(t,Bt)}function n(e){var i,n={views:e.views||{}};return t.each(e,function(e,s){"views"!=e&&(t.isPlainObject(s)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,Bt)?(i=null,t.each(s,function(t,s){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(n.views[t]||(n.views[t]={}),n.views[t][e]=s):(i||(i={}),i[t]=s)}),i&&(n[e]=i)):n[e]=s)}),n}function s(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function r(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function l(e,i,n){var s=Math.floor(i/e.length),r=Math.floor(i-s*(e.length-1)),o=[],a=[],l=[],d=0;c(e),e.each(function(i,n){var c=i===e.length-1?r:s,h=t(n).outerHeight(!0);c>h?(o.push(n),a.push(h),l.push(t(n).height())):d+=h}),n&&(i-=d,s=Math.floor(i/o.length),r=Math.floor(i-s*(o.length-1))),t(o).each(function(e,i){var n=e===o.length-1?r:s,c=a[e],d=l[e],h=n-(c-d);n>c&&t(i).height(h)})}function c(t){t.height("")}function d(e){var i=0;return e.find("> span").each(function(e,n){var s=t(n).outerWidth();s>i&&(i=s)}),i++,e.width(i),i}function h(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight||(u(t),!1)}function u(t){t.height("").removeClass("fc-scroller")}function p(e){var i=e.css("position"),n=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&n.length?n:t(e[0].ownerDocument||document)}function f(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function g(t){var e=t.offset(),i=v(t),n=e.left+w(t,"border-left-width")+i.left,s=e.top+w(t,"border-top-width")+i.top;return{left:n,right:n+t[0].clientWidth,top:s,bottom:s+t[0].clientHeight}}function m(t){var e=t.offset(),i=e.left+w(t,"border-left-width")+w(t,"padding-left"),n=e.top+w(t,"border-top-width")+w(t,"padding-top");return{left:i,right:i+t.width(),top:n,bottom:n+t.height()}}function v(t){var e=t.innerWidth()-t[0].clientWidth,i={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return b()&&"rtl"==t.css("direction")?i.left=e:i.right=e,i}function b(){return null===Wt&&(Wt=y()),Wt}function y(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),i=e.children(),n=i.offset().left>e.offset().left;return e.remove(),n}function w(t,e){return parseFloat(t.css(e))||0}function _(t){return 1==t.which&&!t.ctrlKey}function x(t,e){var i={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return i.left<i.right&&i.top<i.bottom&&i}function C(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function $(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function k(t,e){return{left:t.left-e.left,top:t.top-e.top}}function D(e){var i,n,s=[],r=[];for("string"==typeof e?r=e.split(/\s*,\s*/):"function"==typeof e?r=[e]:t.isArray(e)&&(r=e),i=0;i<r.length;i++)n=r[i],"string"==typeof n?s.push("-"==n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&s.push({func:n});return s}function S(t,e,i){var n,s;for(n=0;n<i.length;n++)if(s=T(t,e,i[n]))return s;return 0}function T(t,e,i){return i.func?i.func(t,e):I(t[i.field],e[i.field])*(i.order||1)}function I(e,i){return e||i?null==i?-1:null==e?1:"string"===t.type(e)||"string"===t.type(i)?String(e).localeCompare(String(i)):e-i:0}function E(t,e){var i,n,s,r,o=t.start,a=t.end,l=e.start,c=e.end;return a>l&&c>o?(o>=l?(i=o.clone(),s=!0):(i=l.clone(),s=!1),c>=a?(n=a.clone(),r=!0):(n=c.clone(),r=!1),{start:i,end:n,isStart:s,isEnd:r}):void 0}function j(t,i){return e.duration({days:t.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:t.time()-i.time()})}function A(t,i){return e.duration({days:t.clone().stripTime().diff(i.clone().stripTime(),"days")})}function M(t,i,n){return e.duration(Math.round(t.diff(i,n,!0)),n)}function F(t,e){var i,n,s;for(i=0;i<Ut.length&&(n=Ut[i],!((s=P(n,t,e))>=1&&et(s)));i++);return n}function P(t,i,n){return null!=n?n.diff(i,t,!0):e.isDuration(i)?i.as(t):i.end.diff(i.start,t,!0)}function R(t,e,i){var n;return H(i)?(e-t)/i:(n=i.asMonths(),Math.abs(n)>=1&&et(n)?e.diff(t,"months",!0)/n:e.diff(t,"days",!0)/i.asDays())}function N(t,e){var i,n;return H(t)||H(e)?t/e:(i=t.asMonths(),n=e.asMonths(),Math.abs(i)>=1&&et(i)&&Math.abs(n)>=1&&et(n)?i/n:t.asDays()/e.asDays())}function O(t,i){var n;return H(t)?e.duration(t*i):(n=t.asMonths(),Math.abs(n)>=1&&et(n)?e.duration({months:n*i}):e.duration({days:t.asDays()*i}))}function H(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function q(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function L(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function z(t,e){var i,n,s,r,o,a,l={};if(e)for(i=0;i<e.length;i++){for(n=e[i],s=[],r=t.length-1;r>=0;r--)if("object"==typeof(o=t[r][n]))s.unshift(o);else if(void 0!==o){l[n]=o;break}s.length&&(l[n]=z(s))}for(i=t.length-1;i>=0;i--){a=t[i];for(n in a)n in l||(l[n]=a[n])}return l}function B(t){var e=function(){};return e.prototype=t,new e}function W(t,e){for(var i in t)U(t,i)&&(e[i]=t[i])}function G(t,e){var i,n,s=["constructor","toString","valueOf"];for(i=0;i<s.length;i++)n=s[i],t[n]!==Object.prototype[n]&&(e[n]=t[n])}function U(t,e){return Kt.call(t,e)}function Y(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function V(e,i,n){if(t.isFunction(e)&&(e=[e]),e){var s,r;for(s=0;s<e.length;s++)r=e[s].apply(i,n)||r;return r}}function X(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function K(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Q(t){return t.replace(/&.*?;/g,"")}function Z(e){var i=[];return t.each(e,function(t,e){null!=e&&i.push(t+":"+e)}),i.join(";")}function J(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tt(t,e){return t-e}function et(t){return t%1==0}function it(t,e){var i=t[e];return function(){return i.apply(t,arguments)}}function nt(t,e){var i,n,s,r,o=function(){var a=+new Date-r;e>a&&a>0?i=setTimeout(o,e-a):(i=null,t.apply(s,n),i||(s=n=null))};return function(){s=this,n=arguments,r=+new Date,i||(i=setTimeout(o,e))}}function st(i,n,s){var r,o,a,l,c=i[0],d=1==i.length&&"string"==typeof c;return e.isMoment(c)?(l=e.apply(null,i),ot(c,l)):q(c)||void 0===c?l=e.apply(null,i):(r=!1,o=!1,d?Qt.test(c)?(c+="-01",i=[c],r=!0,o=!0):(a=Zt.exec(c))&&(r=!a[5],o=!0):t.isArray(c)&&(o=!0),l=n||r?e.utc.apply(e,i):e.apply(null,i),r?(l._ambigTime=!0,l._ambigZone=!0):s&&(o?l._ambigZone=!0:d&&(l.utcOffset?l.utcOffset(c):l.zone(c)))),l._fullCalendar=!0,l}function rt(t,i){var n,s,r=!1,o=!1,a=t.length,l=[];for(n=0;a>n;n++)s=t[n],e.isMoment(s)||(s=Lt.moment.parseZone(s)),r=r||s._ambigTime,o=o||s._ambigZone,l.push(s);for(n=0;a>n;n++)s=l[n],i||!r||s._ambigTime?o&&!s._ambigZone&&(l[n]=s.clone().stripZone()):l[n]=s.clone().stripTime();return l}function ot(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function at(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function lt(t,e){return te.format.call(t,e)}function ct(t,e){return dt(t,gt(e))}function dt(t,e){var i,n="";for(i=0;i<e.length;i++)n+=ht(t,e[i]);return n}function ht(t,e){var i,n;return"string"==typeof e?e:(i=e.token)?ee[i]?ee[i](t):lt(t,i):e.maybe&&(n=dt(t,e.maybe),n.match(/[1-9]/))?n:""}function ut(t,e,i,n,s){var r;return t=Lt.moment.parseZone(t),e=Lt.moment.parseZone(e),r=(t.localeData||t.lang).call(t),i=r.longDateFormat(i)||i,n=n||" - ",pt(t,e,gt(i),n,s)}function pt(t,e,i,n,s){var r,o,a,l,c=t.clone().stripZone(),d=e.clone().stripZone(),h="",u="",p="",f="",g="";for(o=0;o<i.length&&!1!==(r=ft(t,e,c,d,i[o]));o++)h+=r;for(a=i.length-1;a>o&&!1!==(r=ft(t,e,c,d,i[a]));a--)u=r+u;for(l=o;a>=l;l++)p+=ht(t,i[l]),f+=ht(e,i[l]);return(p||f)&&(g=s?f+n+p:p+n+f),h+g+u}function ft(t,e,i,n,s){var r,o;return"string"==typeof s?s:!!((r=s.token)&&(o=ie[r.charAt(0)])&&i.isSame(n,o))&&lt(t,r)}function gt(t){return t in ne?ne[t]:ne[t]=mt(t)}function mt(t){
for(var e,i=[],n=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=n.exec(t);)e[1]?i.push(e[1]):e[2]?i.push({maybe:mt(e[2])}):e[3]?i.push({token:e[3]}):e[5]&&i.push(e[5]);return i}function vt(){}function bt(t,e){var i;return U(e,"constructor")&&(i=e.constructor),"function"!=typeof i&&(i=e.constructor=function(){t.apply(this,arguments)}),i.prototype=B(t.prototype),W(e,i.prototype),G(e,i.prototype),W(t,i),i}function yt(t,e){W(e.prototype||e,t.prototype)}function wt(t,e){return!t&&!e||!(!t||!e)&&(t.component===e.component&&_t(t,e)&&_t(e,t))}function _t(t,e){for(var i in t)if(!/^(component|left|right|top|bottom)$/.test(i)&&t[i]!==e[i])return!1;return!0}function xt(t){var e=$t(t);return"background"===e||"inverse-background"===e}function Ct(t){return"inverse-background"===$t(t)}function $t(t){return X((t.source||{}).rendering,t.rendering)}function kt(t){var e,i,n={};for(e=0;e<t.length;e++)i=t[e],(n[i._id]||(n[i._id]=[])).push(i);return n}function Dt(t,e){return t.start-e.start}function St(i){var n,s,r,o,a=Lt.dataAttrPrefix;return a&&(a+="-"),n=i.data(a+"event")||null,n&&(n="object"==typeof n?t.extend({},n):{},s=n.start,null==s&&(s=n.time),r=n.duration,o=n.stick,delete n.start,delete n.time,delete n.duration,delete n.stick),null==s&&(s=i.data(a+"start")),null==s&&(s=i.data(a+"time")),null==r&&(r=i.data(a+"duration")),null==o&&(o=i.data(a+"stick")),s=null!=s?e.duration(s):null,r=null!=r?e.duration(r):null,o=Boolean(o),{eventProps:n,startTime:s,duration:r,stick:o}}function Tt(t,e){var i,n;for(i=0;i<e.length;i++)if(n=e[i],n.leftCol<=t.rightCol&&n.rightCol>=t.leftCol)return!0;return!1}function It(t,e){return t.leftCol-e.leftCol}function Et(t){var e,i,n,s=[];for(e=0;e<t.length;e++){for(i=t[e],n=0;n<s.length&&Mt(i,s[n]).length;n++);i.level=n,(s[n]||(s[n]=[])).push(i)}return s}function jt(t){var e,i,n,s,r;for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)for(s=i[n],s.forwardSegs=[],r=e+1;r<t.length;r++)Mt(s,t[r],s.forwardSegs)}function At(t){var e,i,n=t.forwardSegs,s=0;if(void 0===t.forwardPressure){for(e=0;e<n.length;e++)i=n[e],At(i),s=Math.max(s,1+i.forwardPressure);t.forwardPressure=s}}function Mt(t,e,i){i=i||[];for(var n=0;n<e.length;n++)Ft(t,e[n])&&i.push(e[n]);return i}function Ft(t,e){return t.bottom>e.top&&t.top<e.bottom}function Pt(i,n){function s(){U?a()&&(d(),l()):r()}function r(){Y=q.theme?"ui":"fc",i.addClass("fc"),q.isRTL?i.addClass("fc-rtl"):i.addClass("fc-ltr"),q.theme?i.addClass("ui-widget"):i.addClass("fc-unthemed"),U=t("<div class='fc-view-container'/>").prependTo(i),W=H.header=new Ot(H,q),G=W.render(),G&&i.prepend(G),l(q.defaultView),q.handleWindowResize&&(K=nt(u,q.windowResizeDelay),t(window).resize(K))}function o(){V&&V.removeElement(),W.removeElement(),U.remove(),i.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),K&&t(window).unbind("resize",K)}function a(){return i.is(":visible")}function l(e){it++,V&&e&&V.type!==e&&(W.deactivateButton(V.type),M(),V.removeElement(),V=H.view=null),!V&&e&&(V=H.view=et[e]||(et[e]=H.instantiateView(e)),V.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(U)),W.activateButton(e)),V&&(Q=V.massageCurrentDate(Q),V.displaying&&Q.isWithin(V.intervalStart,V.intervalEnd)||a()&&(V.display(Q),F(),w(),_(),m())),F(),it--}function c(t){return a()?(t&&h(),it++,V.updateSize(!0),it--,!0):void 0}function d(){a()&&h()}function h(){X="number"==typeof q.contentHeight?q.contentHeight:"number"==typeof q.height?q.height-(G?G.outerHeight(!0):0):Math.round(U.width()/Math.max(q.aspectRatio,.5))}function u(t){!it&&t.target===window&&V.start&&c(!0)&&V.trigger("windowResize",tt)}function p(){g(),v()}function f(){a()&&(M(),V.displayEvents(st),F())}function g(){M(),V.clearEvents(),F()}function m(){!q.lazyFetching||Z(V.start,V.end)?v():f()}function v(){J(V.start,V.end)}function b(t){st=t,f()}function y(){f()}function w(){W.updateTitle(V.title)}function _(){H.getNow().isWithin(V.intervalStart,V.intervalEnd)?W.disableButton("today"):W.enableButton("today")}function x(){V.select(H.buildSelectSpan.apply(H,arguments))}function C(){V&&V.unselect()}function $(){Q=V.computePrevDate(Q),l()}function k(){Q=V.computeNextDate(Q),l()}function D(){Q.add(-1,"years"),l()}function S(){Q.add(1,"years"),l()}function T(){Q=H.getNow(),l()}function I(t){Q=H.moment(t).stripZone(),l()}function E(t){Q.add(e.duration(t)),l()}function j(t,e){var i;e=e||"day",i=H.getViewSpec(e)||H.getUnitViewSpec(e),Q=t.clone(),l(i?i.type:null)}function A(){return H.applyTimezone(Q)}function M(){U.css({width:"100%",height:U.height(),overflow:"hidden"})}function F(){U.css({width:"",height:"",overflow:""})}function P(){return H}function R(){return V}function N(t,e){return void 0===e?q[t]:void("height"!=t&&"contentHeight"!=t&&"aspectRatio"!=t||(q[t]=e,c(!0)))}function O(t,e){var i=Array.prototype.slice.call(arguments,2);return e=e||tt,this.triggerWith(t,e,i),q[t]?q[t].apply(e,i):void 0}var H=this;H.initOptions(n||{});var q=this.options;H.render=s,H.destroy=o,H.refetchEvents=p,H.reportEvents=b,H.reportEventChange=y,H.rerenderEvents=f,H.changeView=l,H.select=x,H.unselect=C,H.prev=$,H.next=k,H.prevYear=D,H.nextYear=S,H.today=T,H.gotoDate=I,H.incrementDate=E,H.zoomTo=j,H.getDate=A,H.getCalendar=P,H.getView=R,H.option=N,H.trigger=O;var L=B(Nt(q.lang));if(q.monthNames&&(L._months=q.monthNames),q.monthNamesShort&&(L._monthsShort=q.monthNamesShort),q.dayNames&&(L._weekdays=q.dayNames),q.dayNamesShort&&(L._weekdaysShort=q.dayNamesShort),null!=q.firstDay){var z=B(L._week);z.dow=q.firstDay,L._week=z}L._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(q.weekNumberCalculation),H.defaultAllDayEventDuration=e.duration(q.defaultAllDayEventDuration),H.defaultTimedEventDuration=e.duration(q.defaultTimedEventDuration),H.moment=function(){var t;return"local"===q.timezone?(t=Lt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===q.timezone?Lt.moment.utc.apply(null,arguments):Lt.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=L:t._lang=L,t},H.getIsAmbigTimezone=function(){return"local"!==q.timezone&&"UTC"!==q.timezone},H.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,i=H.moment(t.toArray()),n=t.time()-i.time();return n&&(e=i.clone().add(n),t.time()-e.time()==0&&(i=e)),i},H.getNow=function(){var t=q.now;return"function"==typeof t&&(t=t()),H.moment(t).stripZone()},H.getEventEnd=function(t){return t.end?t.end.clone():H.getDefaultEventEnd(t.allDay,t.start)},H.getDefaultEventEnd=function(t,e){var i=e.clone();return t?i.stripTime().add(H.defaultAllDayEventDuration):i.add(H.defaultTimedEventDuration),H.getIsAmbigTimezone()&&i.stripZone(),i},H.humanizeDuration=function(t){return(t.locale||t.lang).call(t,q.lang).humanize()},Ht.call(H,q);var W,G,U,Y,V,X,K,Q,Z=H.isFetchNeeded,J=H.fetchEvents,tt=i[0],et={},it=0,st=[];Q=null!=q.defaultDate?H.moment(q.defaultDate).stripZone():H.getNow(),H.getSuggestedViewHeight=function(){return void 0===X&&d(),X},H.isHeightAuto=function(){return"auto"===q.contentHeight||"auto"===q.height},H.freezeContentHeight=M,H.unfreezeContentHeight=F,H.initialize()}function Rt(e){t.each(ye,function(t,i){null==e[t]&&(e[t]=i(e))})}function Nt(t){var i=e.localeData||e.langData;return i.call(e,t)||i.call(e,"en")}function Ot(e,i){function n(){var e=i.header;return p=i.theme?"ui":"fc",e?f=t("<div class='fc-toolbar'/>").append(r("left")).append(r("right")).append(r("center")).append('<div class="fc-clear"/>'):void 0}function s(){f.remove(),f=t()}function r(n){var s=t('<div class="fc-'+n+'"/>'),r=i.header[n];return r&&t.each(r.split(" "),function(){var n,r=t(),o=!0;t.each(this.split(","),function(n,s){var a,l,c,d,h,u,f,m,v,b;"title"==s?(r=r.add(t("<h2>&nbsp;</h2>")),o=!1):((a=(e.options.customButtons||{})[s])?(c=function(t){a.click&&a.click.call(b[0],t)},d="",h=a.text):(l=e.getViewSpec(s))?(c=function(){e.changeView(s)},g.push(s),d=l.buttonTextOverride,h=l.buttonTextDefault):e[s]&&(c=function(){e[s]()},d=(e.overrides.buttonText||{})[s],h=i.buttonText[s]),c&&(u=a?a.themeIcon:i.themeButtonIcons[s],f=a?a.icon:i.buttonIcons[s],m=d?K(d):u&&i.theme?"<span class='ui-icon ui-icon-"+u+"'></span>":f&&!i.theme?"<span class='fc-icon fc-icon-"+f+"'></span>":K(h),v=["fc-"+s+"-button",p+"-button",p+"-state-default"],b=t('<button type="button" class="'+v.join(" ")+'">'+m+"</button>").click(function(t){b.hasClass(p+"-state-disabled")||(c(t),(b.hasClass(p+"-state-active")||b.hasClass(p+"-state-disabled"))&&b.removeClass(p+"-state-hover"))}).mousedown(function(){b.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){b.removeClass(p+"-state-down")}).hover(function(){b.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){b.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),r=r.add(b)))}),o&&r.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),r.length>1?(n=t("<div/>"),o&&n.addClass("fc-button-group"),n.append(r),s.append(n)):s.append(r)}),s}function o(t){f.find("h2").text(t)}function a(t){f.find(".fc-"+t+"-button").addClass(p+"-state-active")}function l(t){f.find(".fc-"+t+"-button").removeClass(p+"-state-active")}function c(t){f.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(p+"-state-disabled")}function d(t){f.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(p+"-state-disabled")}function h(){return g}var u=this;u.render=n,u.removeElement=s,u.updateTitle=o,u.activateButton=a,u.deactivateButton=l,u.disableButton=c,u.enableButton=d,u.getViewsWithButtons=h;var p,f=t(),g=[]}function Ht(i){function n(t,e){return!N||N>t||e>O}function s(t,e){N=t,O=e,G=[];var i=++B,n=z.length;W=n;for(var s=0;n>s;s++)r(z[s],i)}function r(e,i){o(e,function(n){var s,r,o,a=t.isArray(e.events);if(i==B){if(n)for(s=0;s<n.length;s++)r=n[s],(o=a?r:b(r,e))&&G.push.apply(G,x(o));--W||H(G)}})}function o(e,n){var s,r,a=Lt.sourceFetchers;for(s=0;s<a.length;s++){if(!0===(r=a[s].call(R,e,N.clone(),O.clone(),i.timezone,n)))return;if("object"==typeof r)return void o(r,n)}var l=e.events;if(l)t.isFunction(l)?(R.pushLoading(),l.call(R,N.clone(),O.clone(),i.timezone,function(t){n(t),R.popLoading()})):t.isArray(l)?n(l):n();else{if(e.url){var c,d=e.success,h=e.error,u=e.complete;c=t.isFunction(e.data)?e.data():e.data;var p=t.extend({},c||{}),f=X(e.startParam,i.startParam),g=X(e.endParam,i.endParam),m=X(e.timezoneParam,i.timezoneParam);f&&(p[f]=N.format()),g&&(p[g]=O.format()),i.timezone&&"local"!=i.timezone&&(p[m]=i.timezone),R.pushLoading(),t.ajax(t.extend({},we,e,{data:p,success:function(e){e=e||[];var i=V(d,this,arguments);t.isArray(i)&&(e=i),n(e)},error:function(){V(h,this,arguments),n()},complete:function(){V(u,this,arguments),R.popLoading()}}))}else n()}}function a(t){var e=l(t);e&&(z.push(e),W++,r(e,B))}function l(e){var i,n,s=Lt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?i={events:e}:"string"==typeof e?i={url:e}:"object"==typeof e&&(i=t.extend({},e)),i){for(i.className?"string"==typeof i.className&&(i.className=i.className.split(/\s+/)):i.className=[],t.isArray(i.events)&&(i.origArray=i.events,i.events=t.map(i.events,function(t){return b(t,i)})),n=0;n<s.length;n++)s[n].call(R,i);return i}}function c(e){z=t.grep(z,function(t){return!d(t,e)}),G=t.grep(G,function(t){return!d(t.source,e)}),H(G)}function d(t,e){return t&&e&&h(t)==h(e)}function h(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function u(t){t.start=R.moment(t.start),t.end?t.end=R.moment(t.end):t.end=null,C(t,p(t)),H(G)}function p(e){var i={};return t.each(e,function(t,e){f(t)&&void 0!==e&&Y(e)&&(i[t]=e)}),i}function f(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function g(t,e){var i,n,s,r=b(t);if(r){for(i=x(r),n=0;n<i.length;n++)s=i[n],s.source||(e&&(q.events.push(s),s.source=q),G.push(s));return H(G),i}return[]}function m(e){var i,n;for(null==e?e=function(){return!0}:t.isFunction(e)||(i=e+"",e=function(t){return t._id==i}),G=t.grep(G,e,!0),n=0;n<z.length;n++)t.isArray(z[n].events)&&(z[n].events=t.grep(z[n].events,e,!0));H(G)}function v(e){return t.isFunction(e)?t.grep(G,e):null!=e?(e+="",t.grep(G,function(t){return t._id==e})):G}function b(n,s){var r,o,a,l={};if(i.eventDataTransform&&(n=i.eventDataTransform(n)),s&&s.eventDataTransform&&(n=s.eventDataTransform(n)),t.extend(l,n),s&&(l.source=s),l._id=n._id||(void 0===n.id?"_fc"+_e++:n.id+""),n.className?"string"==typeof n.className?l.className=n.className.split(/\s+/):l.className=n.className:l.className=[],r=n.start||n.date,o=n.end,L(r)&&(r=e.duration(r)),L(o)&&(o=e.duration(o)),n.dow||e.isDuration(r)||e.isDuration(o))l.start=r?e.duration(r):null,l.end=o?e.duration(o):null,l._recurring=!0;else{if(r&&(r=R.moment(r),!r.isValid()))return!1;o&&(o=R.moment(o),o.isValid()||(o=null)),a=n.allDay,void 0===a&&(a=X(s?s.allDayDefault:void 0,i.allDayDefault)),y(r,o,a,l)}return l}function y(t,e,i,n){n.start=t,n.end=e,n.allDay=i,w(n),qt(n)}function w(t){_(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(i.forceEventDuration?t.end=R.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function _(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=R.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=R.applyTimezone(t.end.time(0))))}function x(e,i,n){var s,r,o,a,l,c,d,h,u,p=[];if(i=i||N,n=n||O,e)if(e._recurring){if(r=e.dow)for(s={},o=0;o<r.length;o++)s[r[o]]=!0;for(a=i.clone().stripTime();a.isBefore(n);)s&&!s[a.day()]||(l=e.start,c=e.end,d=a.clone(),h=null,l&&(d=d.time(l)),c&&(h=a.clone().time(c)),u=t.extend({},e),y(d,h,!l&&!c,u),p.push(u)),a.add(1,"days")}else p.push(e);return p}function C(e,i,n){function s(t,e){return n?M(t,e,n):i.allDay?A(t,e):j(t,e)}var r,o,a,l,c,d,h={};return i=i||{},i.start||(i.start=e.start.clone()),void 0===i.end&&(i.end=e.end?e.end.clone():null),null==i.allDay&&(i.allDay=e.allDay),w(i),r={start:e._start.clone(),end:e._end?e._end.clone():R.getDefaultEventEnd(e._allDay,e._start),allDay:i.allDay},w(r),o=null!==e._end&&null===i.end,a=s(i.start,r.start),i.end?(l=s(i.end,r.end),c=l.subtract(a)):c=null,t.each(i,function(t,e){f(t)&&void 0!==e&&(h[t]=e)}),d=$(v(e._id),o,i.allDay,a,c,h),{dateDelta:a,durationDelta:c,undo:d}}function $(e,i,n,s,r,o){var a=R.getIsAmbigTimezone(),l=[];return s&&!s.valueOf()&&(s=null),r&&!r.valueOf()&&(r=null),t.each(e,function(e,c){var d,h;d={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},t.each(o,function(t){d[t]=c[t]}),h={start:c._start,end:c._end,allDay:n},w(h),i?h.end=null:r&&!h.end&&(h.end=R.getDefaultEventEnd(h.allDay,h.start)),s&&(h.start.add(s),h.end&&h.end.add(s)),r&&h.end.add(r),a&&!h.allDay&&(s||r)&&(h.start.stripZone(),h.end&&h.end.stripZone()),t.extend(c,o,h),qt(c),l.push(function(){t.extend(c,d),qt(c)})}),function(){for(var t=0;t<l.length;t++)l[t]()}}function k(e){var n,s=i.businessHours,r={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},o=R.getView();return s&&(n=t.extend({},r,"object"==typeof s?s:{})),n?(e&&(n.start=null,n.end=null),x(b(n),o.start,o.end)):[]}function D(t,e){var n=e.source||{};return I(t,X(e.constraint,n.constraint,i.eventConstraint),X(e.overlap,n.overlap,i.eventOverlap),e)}function S(e,i,n){var s,r;return n&&(s=t.extend({},n,i),r=x(b(s))[0]),r?D(e,r):T(e)}function T(t){return I(t,i.selectConstraint,i.selectOverlap)}function I(t,e,i,n){var s,r,o,a,l,c;if(null!=e){for(s=E(e),r=!1,a=0;a<s.length;a++)if(F(s[a],t)){r=!0;break}if(!r)return!1}for(o=R.getPeerEvents(t,n),a=0;a<o.length;a++)if(l=o[a],P(l,t)){if(!1===i)return!1;if("function"==typeof i&&!i(l,n))return!1;if(n){if(!1===(c=X(l.overlap,(l.source||{}).overlap)))return!1;if("function"==typeof c&&!c(n,l))return!1}}return!0}function E(t){return"businessHours"===t?k():"object"==typeof t?x(b(t)):v(t)}function F(t,e){var i=t.start.clone().stripZone(),n=R.getEventEnd(t).stripZone();return e.start>=i&&e.end<=n}function P(t,e){var i=t.start.clone().stripZone(),n=R.getEventEnd(t).stripZone();return e.start<n&&e.end>i}var R=this;R.isFetchNeeded=n,R.fetchEvents=s,R.addEventSource=a,R.removeEventSource=c,R.updateEvent=u,R.renderEvent=g,R.removeEvents=m,R.clientEvents=v,R.mutateEvent=C,R.normalizeEventDates=w,R.normalizeEventTimes=_;var N,O,H=R.reportEvents,q={events:[]},z=[q],B=0,W=0,G=[];t.each((i.events?[i.events]:[]).concat(i.eventSources||[]),function(t,e){var i=l(e);i&&z.push(i)}),R.getBusinessHoursEvents=k,R.isEventSpanAllowed=D,R.isExternalSpanAllowed=S,R.isSelectionSpanAllowed=T,R.getEventCache=function(){return G}}function qt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Lt=t.fullCalendar={version:"2.6.1",internalApiVersion:3},zt=Lt.views={};t.fn.fullCalendar=function(e){var i=Array.prototype.slice.call(arguments,1),n=this;return this.each(function(s,r){var o,a=t(r),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(o=l[e].apply(l,i),s||(n=o),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new ge(a,e),a.data("fullCalendar",l),l.render())}),n};var Bt=["header","buttonText","buttonIcons","themeButtonIcons"];Lt.intersectRanges=E,Lt.applyAll=V,Lt.debounce=nt,Lt.isInt=et,Lt.htmlEscape=K,Lt.cssToStr=Z,Lt.proxy=it,Lt.capitaliseFirstLetter=J,Lt.getOuterRect=f,Lt.getClientRect=g,Lt.getContentRect=m,Lt.getScrollbarWidths=v;var Wt=null;Lt.intersectRects=x,Lt.parseFieldSpecs=D,Lt.compareByFieldSpecs=S,Lt.compareByFieldSpec=T,Lt.flexibleCompare=I,Lt.computeIntervalUnit=F,Lt.divideRangeByDuration=R,Lt.divideDurationByDuration=N,Lt.multiplyDuration=O,Lt.durationHasTime=H;var Gt=["sun","mon","tue","wed","thu","fri","sat"],Ut=["year","month","week","day","hour","minute","second","millisecond"];Lt.log=function(){var t=window.console;return t&&t.log?t.log.apply(t,arguments):void 0},Lt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):Lt.log.apply(Lt,arguments)};var Yt,Vt,Xt,Kt={}.hasOwnProperty,Qt=/^\s*\d{4}-\d\d$/,Zt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Jt=e.fn,te=t.extend({},Jt);Lt.moment=function(){return st(arguments)},Lt.moment.utc=function(){var t=st(arguments,!0);return t.hasTime()&&t.utc(),t},Lt.moment.parseZone=function(){return st(arguments,!0,!0)},Jt.clone=function(){var t=te.clone.apply(this,arguments);return ot(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Jt.week=Jt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?te.isoWeek.apply(this,arguments):te.week.apply(this,arguments)},Jt.time=function(t){if(!this._fullCalendar)return te.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var i=0;return e.isDuration(t)&&(i=24*Math.floor(t.asDays())),this.hours(i+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Jt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),Vt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Jt.hasTime=function(){return!this._ambigTime},Jt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),Vt(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},Jt.hasZone=function(){return!this._ambigZone},Jt.local=function(){var t=this.toArray(),e=this._ambigZone;return te.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&Xt(this,t),this},Jt.utc=function(){return te.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){te[e]&&(Jt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),te[e].apply(this,arguments)})}),Jt.format=function(){return this._fullCalendar&&arguments[0]?ct(this,arguments[0]):this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.format.apply(this,arguments)},Jt.toISOString=function(){return this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.toISOString.apply(this,arguments)},Jt.isWithin=function(t,e){var i=rt([this,t,e]);return i[0]>=i[1]&&i[0]<i[2]},Jt.isSame=function(t,e){var i;return this._fullCalendar?e?(i=rt([this,t],!0),te.isSame.call(i[0],i[1],e)):(t=Lt.moment.parseZone(t),te.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):te.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Jt[e]=function(t,i){var n;return this._fullCalendar?(n=rt([this,t]),te[e].call(n[0],n[1],i)):te[e].apply(this,arguments)}}),Yt="_d"in e()&&"updateOffset"in e,Vt=Yt?function(t,i){t._d.setTime(Date.UTC.apply(Date,i)),e.updateOffset(t,!1)}:at,Xt=Yt?function(t,i){t._d.setTime(+new Date(i[0]||0,i[1]||0,i[2]||0,i[3]||0,i[4]||0,i[5]||0,i[6]||0)),e.updateOffset(t,!1)}:at;var ee={t:function(t){return lt(t,"a").charAt(0)},T:function(t){return lt(t,"A").charAt(0)}};Lt.formatRange=ut;var ie={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ne={};Lt.Class=vt,vt.extend=function(){var t,e,i=arguments.length;for(t=0;i>t;t++)e=arguments[t],i-1>t&&yt(this,e);return bt(this,e||{})},vt.mixin=function(t){yt(this,t)};var se=Lt.Emitter=vt.extend({callbackHash:null,on:function(t,e){return this.getCallbacks(t).add(e),this},off:function(t,e){return this.getCallbacks(t).remove(e),this},trigger:function(t){var e=Array.prototype.slice.call(arguments,1);return this.triggerWith(t,this,e),this},triggerWith:function(t,e,i){return this.getCallbacks(t).fireWith(e,i),this},getCallbacks:function(e){var i;return this.callbackHash||(this.callbackHash={}),i=this.callbackHash[e],i||(i=this.callbackHash[e]=t.Callbacks()),i}}),re=vt.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,i=this.options;this.el=t('<div class="fc-popover"/>').addClass(i.className||"").css({top:0,left:0}).append(i.content).appendTo(i.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),i.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=it(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,i,n,s,r,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),c=this.el.outerHeight(),d=t(window),h=p(this.el);s=o.top||0,r=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,h.is(window)||h.is(document)?(h=d,e=0,i=0):(n=h.offset(),e=n.top,i=n.left),e+=d.scrollTop(),i+=d.scrollLeft(),!1!==o.viewportConstrain&&(s=Math.min(s,e+h.outerHeight()-c-this.margin),s=Math.max(s,e+this.margin),r=Math.min(r,i+h.outerWidth()-l-this.margin),r=Math.max(r,i+this.margin)),this.el.css({top:s-a.top,left:r-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),oe=Lt.CoordCache=vt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var t=p(this.els.eq(0));return t.is(document)?void 0:g(t)},buildElHorizontals:function(){var e=[],i=[];this.els.each(function(n,s){var r=t(s),o=r.offset().left,a=r.outerWidth();e.push(o),i.push(o+a)}),this.lefts=e,this.rights=i},buildElVerticals:function(){var e=[],i=[];this.els.each(function(n,s){var r=t(s),o=r.offset().top,a=r.outerHeight();e.push(o),i.push(o+a)}),this.tops=e,this.bottoms=i},getHorizontalIndex:function(t){this.ensureBuilt();var e,i=this.boundingRect,n=this.lefts,s=this.rights,r=n.length;if(!i||t>=i.left&&t<i.right)for(e=0;r>e;e++)if(t>=n[e]&&t<s[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,i=this.boundingRect,n=this.tops,s=this.bottoms,r=n.length;if(!i||t>=i.top&&t<i.bottom)for(e=0;r>e;e++)if(t>=n[e]&&t<s[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]}}),ae=Lt.DragListener=vt.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){_(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var i;this.isListening||(e&&this.options.scroll&&(i=p(t(e.target)),i.is(window)||i.is(document)||(this.scrollEl=i,this.scrollHandlerProxy=nt(it(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=it(this,"mousemove")).on("mouseup",this.mouseupProxy=it(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,i=t.pageX-this.originX,n=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1,i*i+n*n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(i,n,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,i){this.trigger("drag",t,e,i),this.updateScroll(i)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?f(t):null},updateScroll:function(t){var e,i,n,s,r=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(e=(r-(t.pageY-o.top))/r,i=(r-(o.bottom-t.pageY))/r,n=(r-(t.pageX-o.left))/r,s=(r-(o.right-t.pageX))/r,e>=0&&1>=e?a=e*this.scrollSpeed*-1:i>=0&&1>=i&&(a=i*this.scrollSpeed),n>=0&&1>=n?l=n*this.scrollSpeed*-1:s>=0&&1>=s&&(l=s*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(it(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),le=ae.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){ae.call(this,e),this.component=t},listenStart:function(t){var e,i,n,s=this.subjectEl;ae.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(i={left:t.pageX,top:t.pageY},n=i,s&&(e=f(s),n=C(n,e)),this.origHit=this.queryHit(n.left,n.top),s&&this.options.subjectCenter&&(this.origHit&&(e=x(this.origHit,e)||e),n=$(e)),this.coordAdjust=k(n,i)):(this.origHit=null,this.coordAdjust=null)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},dragStart:function(t){var e;ae.prototype.dragStart.apply(this,arguments),(e=this.queryHit(t.pageX,t.pageY))&&this.hitOver(e)},drag:function(t,e,i){var n;ae.prototype.drag.apply(this,arguments),n=this.queryHit(i.pageX,i.pageY),wt(n,this.hit)||(this.hit&&this.hitOut(),n&&this.hitOver(n))},dragStop:function(){this.hitDone(),ae.prototype.dragStop.apply(this,arguments)},hitOver:function(t){var e=wt(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},hitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.hitDone(),this.hit=null)},hitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},listenStop:function(){ae.prototype.listenStop.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},scrollStop:function(){ae.prototype.scrollStop.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),ce=vt.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,i){this.options=i=i||{},this.sourceEl=e,this.parentEl=i.parentEl?t(i.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=it(this,"mousemove")))},stop:function(e,i){function n(){this.isAnimating=!1,s.removeElement(),this.top0=this.left0=null,i&&i()}var s=this,r=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:n})):n())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),
null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),de=Lt.Grid=vt.extend({view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,externalDragStartProxy:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.externalDragStartProxy=it(this,"externalDragStart")},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,i=this.view;this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),t=i.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=i.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(){},diffDates:function(t,e){return this.largeUnit?M(t,e,this.largeUnit):j(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(){},getHitSpan:function(){},getHitEl:function(){},setElement:function(e){var i=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||i.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,i,n=this,s=this.view,r=s.opt("selectable");new le(this,{scroll:s.opt("dragScroll"),dragStart:function(){s.unselect()},hitOver:function(t,s,a){a&&(e=s?t:null,r&&(i=n.computeSelection(n.getHitSpan(a),n.getHitSpan(t)),i?n.renderSelection(i):!1===i&&o()))},hitOut:function(){e=null,i=null,n.unrenderSelection(),a()},listenStop:function(t){e&&s.triggerDayClick(n.getHitSpan(e),n.getHitEl(e),t),i&&s.reportSelection(i,t),a()}}).mousedown(t)},renderEventLocationHelper:function(t,e){var i=this.fabricateHelperEvent(t,e);this.renderHelper(i,e)},fabricateHelperEvent:function(t,e){var i=e?B(e.event):{};return i.start=t.start.clone(),i.end=t.end?t.end.clone():null,i.allDay=null,this.view.calendar.normalizeEventDates(i),i.className=(i.className||[]).concat("fc-helper"),e||(i.editable=!1),i},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var i=this.computeSelectionSpan(t,e);return!(i&&!this.view.calendar.isSelectionSpanAllowed(i))&&i},computeSelectionSpan:function(t,e){var i=[t.start,t.end,e.start,e.end];return i.sort(tt),{start:i[0].clone(),end:i[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},renderFill:function(){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,i){var n,s=this,r=this[e+"SegEl"],o="",a=[];if(i.length){for(n=0;n<i.length;n++)o+=this.fillSegHtml(e,i[n]);t(o).each(function(e,n){var o=i[e],l=t(n);r&&(l=r.call(s,o,l)),l&&(l=t(l),l.is(s.fillSegTag)&&(o.el=l,a.push(o)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var i=this[t+"SegClasses"],n=this[t+"SegCss"],s=i?i.call(this,e):[],r=Z(n?n.call(this,e):{});return"<"+this.fillSegTag+(s.length?' class="'+s.join(" ")+'"':"")+(r?' style="'+r+'"':"")+" />"},getDayClasses:function(t){var e=this.view,i=e.calendar.getNow(),n=["fc-"+Gt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&n.push("fc-other-month"),t.isSame(i,"day")?n.push("fc-today",e.highlightStateClass):i>t?n.push("fc-past"):n.push("fc-future"),n}});de.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,i=[],n=[];for(e=0;e<t.length;e++)(xt(t[e])?i:n).push(t[e]);this.segs=[].concat(this.renderBgEvents(i),this.renderFgEvents(n))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(e,i){var n,s=this.view,r="",o=[];if(e.length){for(n=0;n<e.length;n++)r+=this.fgSegHtml(e[n],i);t(r).each(function(i,n){var r=e[i],a=s.resolveEventEl(r.event,t(n));a&&(a.data("fc-seg",r),r.el=a,o.push(r))})}return o},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,i=e.source||{};return["fc-bgevent"].concat(e.className,i.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,i=this.view;t.each({mouseenter:function(t,i){e.triggerSegMouseover(t,i)},mouseleave:function(t,i){e.triggerSegMouseout(t,i)},click:function(t,e){return i.trigger("eventClick",this,t.event,e)},mousedown:function(n,s){t(s.target).is(".fc-resizer")&&i.isEventResizable(n.event)?e.segResizeMousedown(n,s,t(s.target).is(".fc-start-resizer")):i.isEventDraggable(n.event)&&e.segDragMousedown(n,s)}},function(i,n){e.el.on(i,".fc-event-container > *",function(i){var s=t(this).data("fc-seg");return!s||e.isDraggingSeg||e.isResizingSeg?void 0:n.call(this,s,i)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var i,n=this,s=this.view,r=s.calendar,l=t.el,c=t.event,d=new ce(t.el,{parentEl:s.el,opacity:s.opt("dragOpacity"),revertDuration:s.opt("dragRevertDuration"),zIndex:2});new le(s,{distance:5,scroll:s.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(t){d.hide(),d.start(t)},dragStart:function(e){n.triggerSegMouseout(t,e),n.segDragStart(t,e),s.hideEvent(c)},hitOver:function(e,a,l){t.hit&&(l=t.hit),i=n.computeEventDrop(l.component.getHitSpan(l),e.component.getHitSpan(e),c),i&&!r.isEventSpanAllowed(n.eventToSpan(i),c)&&(o(),i=null),i&&s.renderDrag(i,t)?d.hide():d.show(),a&&(i=null)},hitOut:function(){s.unrenderDrag(),d.show(),i=null},hitDone:function(){a()},dragStop:function(e){d.stop(!i,function(){s.unrenderDrag(),s.showEvent(c),n.segDragStop(t,e),i&&s.reportEventDrop(c,i,this.largeUnit,l,e)})},listenStop:function(){d.stop()}}).mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,i){var n,s,r=this.view.calendar,o=t.start,a=e.start;return o.hasTime()===a.hasTime()?(n=this.diffDates(a,o),i.allDay&&H(n)?(s={start:i.start.clone(),end:r.getEventEnd(i),allDay:!1},r.normalizeEventTimes(s)):s={start:i.start.clone(),end:i.end?i.end.clone():null,allDay:i.allDay},s.start.add(n),s.end&&s.end.add(n)):s={start:a.clone(),end:null,allDay:!a.hasTime()},s},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,i){i.style.opacity=e})},externalDragStart:function(e,i){var n,s,r=this.view;r.opt("droppable")&&(n=t((i?i.item:null)||e.target),s=r.opt("dropAccept"),(t.isFunction(s)?s.call(n[0],n):n.is(s))&&(this.isDraggingExternal||this.listenToExternalDrag(n,e,i)))},listenToExternalDrag:function(t,e,i){var n,s=this,r=this.view.calendar,l=St(t);new le(this,{listenStart:function(){s.isDraggingExternal=!0},hitOver:function(t){n=s.computeExternalDrop(t.component.getHitSpan(t),l),n&&!r.isExternalSpanAllowed(s.eventToSpan(n),n,l.eventProps)&&(o(),n=null),n&&s.renderDrag(n)},hitOut:function(){n=null},hitDone:function(){a(),s.unrenderDrag()},dragStop:function(){n&&s.view.reportExternalDrop(l,n,t,e,i)},listenStop:function(){s.isDraggingExternal=!1}}).startDrag(e)},computeExternalDrop:function(t,e){var i=this.view.calendar,n={start:i.applyTimezone(t.start),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),n},renderDrag:function(){},unrenderDrag:function(){},segResizeMousedown:function(t,e,i){var n,s=this,r=this.view,l=r.calendar,c=t.el,d=t.event,h=l.getEventEnd(d);new le(this,{distance:5,scroll:r.opt("dragScroll"),subjectEl:c,dragStart:function(e){s.triggerSegMouseout(t,e),s.segResizeStart(t,e)},hitOver:function(e,a,c){var u=s.getHitSpan(c),p=s.getHitSpan(e);n=i?s.computeEventStartResize(u,p,d):s.computeEventEndResize(u,p,d),n&&(l.isEventSpanAllowed(s.eventToSpan(n),d)?n.start.isSame(d.start)&&n.end.isSame(h)&&(n=null):(o(),n=null)),n&&(r.hideEvent(d),s.renderEventResize(n,t))},hitOut:function(){n=null},hitDone:function(){s.unrenderEventResize(),r.showEvent(d),a()},dragStop:function(e){s.segResizeStop(t,e),n&&r.reportEventResize(d,n,this.largeUnit,c,e)}}).mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,i){return this.computeEventResize("start",t,e,i)},computeEventEndResize:function(t,e,i){return this.computeEventResize("end",t,e,i)},computeEventResize:function(t,e,i,n){var s,r,o=this.view.calendar,a=this.diffDates(i[t],e[t]);return s={start:n.start.clone(),end:o.getEventEnd(n),allDay:n.allDay},s.allDay&&H(a)&&(s.allDay=!1,o.normalizeEventTimes(s)),s[t].add(a),s.start.isBefore(s.end)||(r=this.minResizeDuration||(n.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration),"start"==t?s.start=s.end.clone().subtract(r):s.end=s.start.clone().add(r)),s},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(t,e,i){return null==e&&(e=this.eventTimeFormat),null==i&&(i=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?i&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,i){var n=t.event,s=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(n.className,n.source?n.source.className:[]);return e&&s.push("fc-draggable"),i&&s.push("fc-resizable"),s},getSegSkinCss:function(t){var e=t.event,i=this.view,n=e.source||{},s=e.color,r=n.color,o=i.opt("eventColor");return{"background-color":e.backgroundColor||s||n.backgroundColor||r||i.opt("eventBackgroundColor")||o,"border-color":e.borderColor||s||n.borderColor||r||i.opt("eventBorderColor")||o,color:e.textColor||n.textColor||i.opt("eventTextColor")}},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,i){var n=this,s=kt(e),r=[];return t.each(s,function(t,e){var s,o=[];for(s=0;s<e.length;s++)o.push(n.eventToRange(e[s]));if(Ct(e[0]))for(o=n.invertRanges(o),s=0;s<o.length;s++)r.push.apply(r,n.eventRangeToSegs(o[s],e[0],i));else for(s=0;s<o.length;s++)r.push.apply(r,n.eventRangeToSegs(o[s],e[s],i))}),r},eventToRange:function(t){return{start:t.start.clone().stripZone(),end:(t.end?t.end.clone():this.view.calendar.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone()}},eventRangeToSegs:function(t,e,i){var n,s=this.eventRangeToSpans(t,e),r=[];for(n=0;n<s.length;n++)r.push.apply(r,this.eventSpanToSegs(s[n],e,i));return r},eventRangeToSpans:function(e){return[t.extend({},e)]},eventSpanToSegs:function(t,e,i){var n,s,r=i?i(t):this.spanToSegs(t);for(n=0;n<r.length;n++)s=r[n],s.event=e,s.eventStartMS=+t.start,s.eventDurationMS=t.end-t.start;return r},invertRanges:function(t){var e,i,n=this.view,s=n.start.clone(),r=n.end.clone(),o=[],a=s;for(t.sort(Dt),e=0;e<t.length;e++)i=t[e],i.start>a&&o.push({start:a,end:i.start}),a=i.end;return r>a&&o.push({start:a,end:r}),o},sortEventSegs:function(t){t.sort(it(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||S(t.event,e.event,this.view.eventOrderSpecs)}}),Lt.isBgEvent=xt,Lt.dataAttrPrefix="";var he=Lt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,i,n=this.view,s=this.start.clone(),r=-1,o=[],a=[];s.isBefore(this.end);)n.isHiddenDay(s)?o.push(r+.5):(r++,o.push(r),a.push(s.clone())),s.add(1,"days");if(this.breakOnWeeks){for(e=a[0].day(),t=1;t<a.length&&a[t].day()!=e;t++);i=Math.ceil(a.length/t)}else i=1,t=a.length;this.dayDates=a,this.dayIndices=o,this.daysPerRow=t,this.rowCnt=i,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var i=this.getCellDate(t,e);return{start:i,end:i.clone().add(1,"days")}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,i=t.diff(this.start,"days");return 0>i?e[0]-1:i>=e.length?e[e.length-1]+1:e[i]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,i,n,s,r,o=this.daysPerRow,a=this.view.computeDayRange(t),l=this.getDateDayIndex(a.start),c=this.getDateDayIndex(a.end.clone().subtract(1,"days")),d=[];for(e=0;e<this.rowCnt;e++)i=e*o,n=i+o-1,s=Math.max(l,i),r=Math.min(c,n),s=Math.ceil(s),(r=Math.floor(r))>=s&&d.push({row:e,firstRowDayIndex:s-i,lastRowDayIndex:r-i,isStart:s===l,isEnd:r===c});return d},sliceRangeByDay:function(t){var e,i,n,s,r,o,a=this.daysPerRow,l=this.view.computeDayRange(t),c=this.getDateDayIndex(l.start),d=this.getDateDayIndex(l.end.clone().subtract(1,"days")),h=[];for(e=0;e<this.rowCnt;e++)for(i=e*a,n=i+a-1,s=i;n>=s;s++)r=Math.max(c,s),o=Math.min(d,s),r=Math.ceil(r),(o=Math.floor(o))>=r&&h.push({row:e,firstRowDayIndex:r-i,lastRowDayIndex:o-i,isStart:r===c,isEnd:o===d});return h},renderHeadHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,i=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),i.push(this.renderHeadDateCellHtml(e));return i.join("")},renderHeadDateCellHtml:function(t,e,i){return'<th class="fc-day-header '+this.view.widgetHeaderClass+" fc-"+Gt[t.day()]+'"'+(1==this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(i?" "+i:"")+">"+K(t.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},renderBgIntroHtml:function(){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,i,n=[];for(e=0;e<this.colCnt;e++)i=this.getCellDate(t,e),n.push(this.renderBgCellHtml(i));return n.join("")},renderBgCellHtml:function(t,e){var i=this.view,n=this.getDayClasses(t);return n.unshift("fc-day",i.widgetContentClass),'<td class="'+n.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},ue=Lt.DayGrid=de.extend(he,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,i,n=this.view,s=this.rowCnt,r=this.colCnt,o="";for(e=0;s>e;e++)o+=this.renderDayRowHtml(e,t);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new oe({els:this.rowEls,isVertical:!0}),this.colCoordCache=new oe({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;s>e;e++)for(i=0;r>i;i++)n.trigger("dayRender",null,this.getCellDate(e,i),this.getCellEl(e,i))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},renderDayRowHtml:function(t,e){var i=this.view,n=["fc-row","fc-week",i.widgetContentClass];return e&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,i,n=[];for(e=0;e<this.colCnt;e++)i=this.getCellDate(t,e),n.push(this.renderNumberCellHtml(i));return n.join("")},renderNumberCellHtml:function(t){var e;return this.view.dayNumbersVisible?(e=this.getDayClasses(t),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+t.format()+'">'+t.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,i,n=this.sliceRangeByRow(t);for(e=0;e<n.length;e++)i=n[e],this.isRTL?(i.leftCol=this.daysPerRow-1-i.lastRowDayIndex,i.rightCol=this.daysPerRow-1-i.firstRowDayIndex):(i.leftCol=i.firstRowDayIndex,i.rightCol=i.lastRowDayIndex);return n},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){var i=this.colCoordCache.getHorizontalIndex(t),n=this.rowCoordCache.getVerticalIndex(e);return null!=n&&null!=i?this.getCellHit(n,i):void 0},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){return this.renderHighlight(this.eventToSpan(t)),e&&!e.el.closest(this.el).length?(this.renderEventLocationHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,i){var n,s=[],r=this.eventToSegs(e);r=this.renderFgSegEls(r),n=this.renderSegRows(r),this.rowEls.each(function(e,r){var o,a=t(r),l=t('<div class="fc-helper-skeleton"><table/></div>');o=i&&i.row===e?i.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(n[e].tbodyEl),a.append(l),s.push(l[0])}),this.helperEls=t(s)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,i,n){var s,r,o,a=[];for(i=this.renderFillSegEls(e,i),s=0;s<i.length;s++)r=i[s],o=this.renderFillRow(e,r,n),this.rowEls.eq(r.row).append(o),a.push(o[0]);return this.elsByFill[e]=t(a),i},renderFillRow:function(e,i,n){var s,r,o=this.colCnt,a=i.leftCol,l=i.rightCol+1;return n=n||e.toLowerCase(),s=t('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>'),r=s.find("tr"),a>0&&r.append('<td colspan="'+a+'"/>'),r.append(i.el.attr("colspan",l-a)),o>l&&r.append('<td colspan="'+(o-l)+'"/>'),this.bookendCells(r),s}});ue.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),de.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return de.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var i=t.grep(e,function(t){return t.event.allDay});return de.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(e){var i;return e=this.renderFgSegEls(e),i=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,n){t(n).find(".fc-content-skeleton > table").append(i[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,i,n=[];for(e=this.groupSegRows(t),i=0;i<e.length;i++)n.push(this.renderSegRow(i,e[i]));return n},fgSegHtml:function(t,e){var i,n,s=this.view,r=t.event,o=s.isEventDraggable(r),a=!e&&r.allDay&&t.isStart&&s.isEventResizableFromStart(r),l=!e&&r.allDay&&t.isEnd&&s.isEventResizableFromEnd(r),c=this.getSegClasses(t,o,a||l),d=Z(this.getSegSkinCss(t)),h="";return c.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(i=this.getEventTimeText(r))&&(h='<span class="fc-time">'+K(i)+"</span>"),n='<span class="fc-title">'+(K(r.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(r.url?' href="'+K(r.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(this.isRTL?n+" "+h:h+" "+n)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,i){function n(e){for(;e>o;)d=(v[s-1]||[])[o],d?d.attr("rowspan",parseInt(d.attr("rowspan")||1,10)+1):(d=t("<td/>"),a.append(d)),m[s][o]=d,v[s][o]=d,o++}var s,r,o,a,l,c,d,h=this.colCnt,u=this.buildSegLevels(i),p=Math.max(1,u.length),f=t("<tbody/>"),g=[],m=[],v=[];for(s=0;p>s;s++){if(r=u[s],o=0,a=t("<tr/>"),g.push([]),m.push([]),v.push([]),r)for(l=0;l<r.length;l++){for(c=r[l],n(c.leftCol),d=t('<td class="fc-event-container"/>').append(c.el),c.leftCol!=c.rightCol?d.attr("colspan",c.rightCol-c.leftCol+1):v[s][o]=d;o<=c.rightCol;)m[s][o]=d,g[s][o]=c,o++;a.append(d)}n(h),this.bookendCells(a),f.append(a)}return{row:e,tbodyEl:f,cellMatrix:m,segMatrix:g,segLevels:u,segs:i}},buildSegLevels:function(t){var e,i,n,s=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(i=t[e],n=0;n<s.length&&Tt(i,s[n]);n++);i.level=n,(s[n]||(s[n]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(It);return s},groupSegRows:function(t){var e,i=[];for(e=0;e<this.rowCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].row].push(t[e]);return i}}),ue.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,i,n=this.rowStructs||[];for(e=0;e<n.length;e++)this.unlimitRow(e),!1!==(i=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,i)},computeRowLevelLimit:function(e){function i(e,i){r=Math.max(r,t(i).outerHeight())}var n,s,r,o=this.rowEls.eq(e),a=o.height(),l=this.rowStructs[e].tbodyEl.children();for(n=0;n<l.length;n++)if(s=l.eq(n).removeClass("fc-limited"),r=0,s.find("> td > :first-child").each(i),s.position().top+r>a)return n;return!1},limitRow:function(e,i){function n(n){for(;n>x;)c=y.getCellSegs(e,x,i),c.length&&(u=r[i-1][x],b=y.renderMoreLink(e,x,c),v=t("<div/>").append(b),u.append(v),_.push(v[0])),x++}var s,r,o,a,l,c,d,h,u,p,f,g,m,v,b,y=this,w=this.rowStructs[e],_=[],x=0;if(i&&i<w.segLevels.length){for(s=w.segLevels[i-1],r=w.cellMatrix,o=w.tbodyEl.children().slice(i).addClass("fc-limited").get(),a=0;a<s.length;a++){for(l=s[a],n(l.leftCol),h=[],d=0;x<=l.rightCol;)c=this.getCellSegs(e,x,i),h.push(c),d+=c.length,x++;if(d){for(u=r[i-1][l.leftCol],p=u.attr("rowspan")||1,f=[],g=0;g<h.length;g++)m=t('<td class="fc-more-cell"/>').attr("rowspan",p),c=h[g],b=this.renderMoreLink(e,l.leftCol+g,[l].concat(c)),v=t("<div/>").append(b),m.append(v),f.push(m[0]),_.push(m[0]);u.addClass("fc-limited").after(t(f)),o.push(u[0])}}n(this.colCnt),w.moreEls=t(_),w.limitedEls=t(o)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,i,n){var s=this,r=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(o){var a=r.opt("eventLimitClick"),l=s.getCellDate(e,i),c=t(this),d=s.getCellEl(e,i),h=s.getCellSegs(e,i),u=s.resliceDaySegs(h,l),p=s.resliceDaySegs(n,l);"function"==typeof a&&(a=r.trigger("eventLimitClick",null,{date:l,dayEl:d,moreEl:c,segs:u,hiddenSegs:p},o)),"popover"===a?s.showSegPopover(e,i,c,u):"string"==typeof a&&r.calendar.zoomTo(l,a)})},showSegPopover:function(t,e,i,n){var s,r,o=this,a=this.view,l=i.parent();s=1==this.rowCnt?a.el:this.rowEls.eq(t),r={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,n),parentEl:this.el,top:s.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?r.right=l.offset().left+l.outerWidth()+1:r.left=l.offset().left-1,this.segPopover=new re(r),this.segPopover.show()},renderSegPopoverContent:function(e,i,n){var s,r=this.view,o=r.opt("theme"),a=this.getCellDate(e,i).format(r.opt("dayPopoverFormat")),l=t('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+K(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),c=l.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,s=0;s<n.length;s++)this.prepareHits(),n[s].hit=this.getCellHit(e,i),this.releaseHits(),c.append(n[s].el);return l},resliceDaySegs:function(e,i){var n=t.map(e,function(t){return t.event}),s=i.clone(),r=s.clone().add(1,"days"),o={start:s,end:r};return e=this.eventsToSegs(n,function(t){var e=E(t,o);return e?[e]:[]}),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,i){for(var n,s=this.rowStructs[t].segMatrix,r=i||0,o=[];r<s.length;)n=s[r][e],n&&o.push(n),r++;return o}});var pe=Lt.TimeGrid=de.extend(he,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){de.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.colCoordCache=new oe({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new oe({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,i,n,s=this.view,r=this.isRTL,o="",a=e.duration(+this.minTime);a<this.maxTime;)t=this.start.clone().time(a),i=et(N(a,this.labelInterval)),n='<td class="fc-axis fc-time '+s.widgetContentClass+'" '+s.axisStyleAttr()+">"+(i?"<span>"+K(t.format(this.labelFormat))+"</span>":"")+"</td>",o+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(i?"":' class="fc-minor"')+">"+(r?"":n)+'<td class="'+s.widgetContentClass+'"/>'+(r?n:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var i,n=this.view,s=n.opt("slotDuration"),r=n.opt("snapDuration");s=e.duration(s),r=r?e.duration(r):s,this.slotDuration=s,this.snapDuration=r,this.snapsPerSlot=s/r,this.minResizeDuration=r,this.minTime=e.duration(n.opt("minTime")),this.maxTime=e.duration(n.opt("maxTime")),i=n.opt("slotLabelFormat"),t.isArray(i)&&(i=i[i.length-1]),this.labelFormat=i||n.opt("axisFormat")||n.opt("smallTimeFormat"),i=n.opt("slotLabelInterval"),this.labelInterval=i?e.duration(i):this.computeLabelInterval(s)},computeLabelInterval:function(t){var i,n,s;for(i=Ie.length-1;i>=0;i--)if(n=e.duration(Ie[i]),s=N(n,t),et(s)&&s>1)return n;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var i=this.snapsPerSlot,n=this.colCoordCache,s=this.slatCoordCache,r=n.getHorizontalIndex(t),o=s.getVerticalIndex(e);if(null!=r&&null!=o){var a=s.getTopOffset(o),l=s.getHeight(o),c=(e-a)/l,d=Math.floor(c*i),h=o*i+d,u=a+d/i*l,p=a+(d+1)/i*l;return{col:r,snap:h,component:this,left:n.getLeftOffset(r),right:n.getRightOffset(r),top:u,bottom:p}}},getHitSpan:function(t){var e,i=this.getCellDate(0,t.col),n=this.computeSnapTime(t.snap);return i.time(n),e=i.clone().add(this.snapDuration),{start:i,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,i=this.sliceRangeByTimes(t);for(e=0;e<i.length;e++)this.isRTL?i[e].col=this.daysPerRow-1-i[e].dayIndex:i[e].col=i[e].dayIndex;return i},sliceRangeByTimes:function(t){var e,i,n,s,r=[];for(i=0;i<this.daysPerRow;i++)n=this.dayDates[i].clone(),s={start:n.clone().time(this.minTime),end:n.clone().time(this.maxTime)},(e=E(t,s))&&(e.dayIndex=i,r.push(e));return r},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},computeDateTop:function(t,i){return this.computeTimeTop(e.duration(t-i.clone().stripTime()))},computeTimeTop:function(t){var e,i,n=this.slatEls.length,s=(t-this.minTime)/this.slotDuration;return s=Math.max(0,s),s=Math.min(n,s),e=Math.floor(s),e=Math.min(e,n-1),i=s-e,this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*i},renderDrag:function(t,e){if(e){this.renderEventLocationHelper(t,e);for(var i=0;i<this.helperSegs.length;i++)this.applyDragOpacity(this.helperSegs[i].el);return!0}this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(),e=this.eventsToSegs(t);this.renderBusinessSegs(e)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var i,n=this.spanToSegs({start:e,end:e}),s=this.computeDateTop(e,e),r=[]
;for(i=0;i<n.length;i++)r.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",s).appendTo(this.colContainerEls.eq(n[i].col))[0]);n.length>0&&r.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",s).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(r)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});pe.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,i,n="";for(e=0;e<this.colCnt;e++)n+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';i=t('<div class="fc-content-skeleton"><table><tr>'+n+"</tr></table></div>"),this.colContainerEls=i.find(".fc-content-col"),this.helperContainerEls=i.find(".fc-helper-container"),this.fgContainerEls=i.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=i.find(".fc-bgevent-container"),this.highlightContainerEls=i.find(".fc-highlight-container"),this.businessContainerEls=i.find(".fc-business-container"),this.bookendCells(i.find("tr")),this.el.append(i)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,e){var i,n,s;for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),i=0;i<t.length;i++)n=t[i],e&&e.col===n.col&&(s=e.el,n.el.css({left:s.css("left"),right:s.css("right"),"margin-left":s.css("margin-left"),"margin-right":s.css("margin-right")}));this.helperSegs=t},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,i=[];for(e=0;e<this.colCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].col].push(t[e]);return i},attachSegsByCol:function(t,e){var i,n,s;for(i=0;i<this.colCnt;i++)for(n=t[i],s=0;s<n.length;s++)e.eq(i).append(n[s].el)},unrenderNamedSegs:function(t){var e,i=this[t];if(i){for(e=0;e<i.length;e++)i[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var i,n;for(t=this.renderFgSegEls(t),i=this.groupSegsByCol(t),n=0;n<this.colCnt;n++)this.updateFgSegCoords(i[n]);return this.attachSegsByCol(i,e),t},fgSegHtml:function(t,e){var i,n,s,r=this.view,o=t.event,a=r.isEventDraggable(o),l=!e&&t.isStart&&r.isEventResizableFromStart(o),c=!e&&t.isEnd&&r.isEventResizableFromEnd(o),d=this.getSegClasses(t,a,l||c),h=Z(this.getSegSkinCss(t));return d.unshift("fc-time-grid-event","fc-v-event"),r.isMultiDayEvent(o)?(t.isStart||t.isEnd)&&(i=this.getEventTimeText(t),n=this.getEventTimeText(t,"LT"),s=this.getEventTimeText(t,null,!1)):(i=this.getEventTimeText(o),n=this.getEventTimeText(o,"LT"),s=this.getEventTimeText(o,null,!1)),'<a class="'+d.join(" ")+'"'+(o.url?' href="'+K(o.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(i?'<div class="fc-time" data-start="'+K(s)+'" data-full="'+K(n)+'"><span>'+K(i)+"</span></div>":"")+(o.title?'<div class="fc-title">'+K(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],i.top=this.computeDateTop(i.start,i.start),i.bottom=this.computeDateTop(i.end,i.start)},assignSegVerticals:function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],i.el.css(this.generateSegVerticalCss(i))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,i,n;if(this.sortEventSegs(t),e=Et(t),jt(e),i=e[0]){for(n=0;n<i.length;n++)At(i[n]);for(n=0;n<i.length;n++)this.computeFgSegForwardBack(i[n],0,0)}},computeFgSegForwardBack:function(t,e,i){var n,s=t.forwardSegs;if(void 0===t.forwardCoord)for(s.length?(this.sortForwardSegs(s),this.computeFgSegForwardBack(s[0],e+1,i),t.forwardCoord=s[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-i)/(e+1),n=0;n<s.length;n++)this.computeFgSegForwardBack(s[n],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(it(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],i.el.css(this.generateFgSegHorizontalCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,i,n=this.view.opt("slotEventOverlap"),s=t.backwardCoord,r=t.forwardCoord,o=this.generateSegVerticalCss(t);return n&&(r=Math.min(1,s+2*(r-s))),this.isRTL?(e=1-r,i=s):(e=s,i=1-r),o.zIndex=t.level+1,o.left=100*e+"%",o.right=100*i+"%",n&&t.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o}});var fe=Lt.View=vt.extend({type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,i,n,s){this.calendar=t,this.type=this.name=i,this.options=n,this.intervalDuration=s||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=D(this.opt("eventOrder")),this.documentMousedownProxy=it(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var i=this.calendar;return i.trigger.apply(i,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,i,n=F(this.intervalDuration),s=t.clone().startOf(n),r=s.clone().add(this.intervalDuration);return/year|month|week|day/.test(n)?(s.stripTime(),r.stripTime()):(s.hasTime()||(s=this.calendar.time(0)),r.hasTime()||(r=this.calendar.time(0))),e=s.clone(),e=this.skipHiddenDays(e),i=r.clone(),i=this.skipHiddenDays(i,-1,!0),{intervalUnit:n,intervalStart:s,intervalEnd:r,start:e,end:i}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,i){var n=t.end;return n.hasTime()||(n=n.clone().subtract(1)),ut(t.start,n,e,i,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var i=this,n=null;return this.displaying&&(n=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return i.displaying=t.when(i.displayView(e)).then(function(){i.forceScroll(i.computeInitialScroll(n)),i.calendar.unfreezeContentHeight(),i.triggerRender()})})},clear:function(){var e=this,i=this.displaying;return i?i.then(function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,i,n,s=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit())&&(i=it(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,n=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){s.nowIndicatorTimeoutID=null,i(),n=+e.duration(1,t),n=Math.max(100,n),s.nowIndicatorIntervalID=setInterval(i,n)},n))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t){var e,i,n=this.scrollerEl;return e=this.el.add(n),e.css({position:"relative",left:-1}),i=this.el.outerHeight()-n.height(),e.css({position:"",left:""}),t-i},computeInitialScroll:function(){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,i){var n=this.trigger("eventRender",e,e,i);return!1===n?i=null:n&&!0!==n&&(i=t(n)),i},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var i,n=this.getEventSegs();for(i=0;i<n.length;i++)e&&n[i].event._id!==e._id||n[i].el&&t.call(this,n[i])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return X(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,i,n,s){var r=this.calendar,o=r.mutateEvent(t,e,i),a=function(){o.undo(),r.reportEventChange()};this.triggerEventDrop(t,o.dateDelta,a,n,s),r.reportEventChange()},triggerEventDrop:function(t,e,i,n,s){this.trigger("eventDrop",n[0],t,e,i,s,{})},reportExternalDrop:function(e,i,n,s,r){var o,a,l=e.eventProps;l&&(o=t.extend({},l,i),a=this.calendar.renderEvent(o,e.stick)[0]),this.triggerExternalDrop(a,i,n,s,r)},triggerExternalDrop:function(t,e,i,n,s){this.trigger("drop",i[0],e.start,n,s),t&&this.trigger("eventReceive",null,t)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return X(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,i,n,s){var r=this.calendar,o=r.mutateEvent(t,e,i),a=function(){o.undo(),r.reportEventChange()};this.triggerEventResize(t,o.durationDelta,a,n,s),r.reportEventChange()},triggerEventResize:function(t,e,i,n,s){this.trigger("eventResize",n[0],t,e,i,s,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},documentMousedown:function(e){var i;this.isSelected&&this.opt("unselectAuto")&&_(e)&&((i=this.opt("unselectCancel"))&&t(e.target).closest(i).length||this.unselect(e))},triggerDayClick:function(t,e,i){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),i)},initHiddenDays:function(){var e,i=this.opt("hiddenDays")||[],n=[],s=0;for(!1===this.opt("weekends")&&i.push(0,6),e=0;7>e;e++)(n[e]=-1!==t.inArray(e,i))||s++;if(!s)throw"invalid hiddenDays";this.isHiddenDayHash=n},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,i){var n=t.clone();for(e=e||1;this.isHiddenDayHash[(n.day()+(i?e:0)+7)%7];)n.add(e,"days");return n},computeDayRange:function(t){var e,i=t.start.clone().stripTime(),n=t.end,s=null;return n&&(s=n.clone().stripTime(),(e=+n.time())&&e>=this.nextDayThreshold&&s.add(1,"days")),(!n||i>=s)&&(s=i.clone().add(1,"days")),{start:i,end:s}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),ge=Lt.Calendar=vt.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Pt,initialize:function(){},initOptions:function(t){var e,s,r,o;t=n(t),e=t.lang,s=me[e],s||(e=ge.defaults.lang,s=me[e]||{}),r=X(t.isRTL,s.isRTL,ge.defaults.isRTL),o=r?ge.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=s,this.overrides=t,this.options=i([ge.defaults,o,s,t]),Rt(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var i,n,s;if(-1!=t.inArray(e,Ut))for(i=this.header.getViewsWithButtons(),t.each(Lt.views,function(t){i.push(t)}),n=0;n<i.length;n++)if((s=this.getViewSpec(i[n]))&&s.singleUnit==e)return s},buildViewSpec:function(t){for(var n,s,r,o,a=this.overrides.views||{},l=[],c=[],d=[],h=t;h;)n=zt[h],s=a[h],h=null,"function"==typeof n&&(n={"class":n}),n&&(l.unshift(n),c.unshift(n.defaults||{}),r=r||n.duration,h=h||n.type),s&&(d.unshift(s),r=r||s.duration,h=h||s.type);return n=z(l),n.type=t,!!n["class"]&&(r&&(r=e.duration(r),r.valueOf()&&(n.duration=r,o=F(r),1===r.as(o)&&(n.singleUnit=o,d.unshift(a[o]||{})))),n.defaults=i(c),n.overrides=i(d),this.buildViewSpecOptions(n),this.buildViewSpecButtonText(n,t),n)},buildViewSpecOptions:function(t){t.options=i([ge.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides]),Rt(t.options)},buildViewSpecButtonText:function(t,e){function i(i){var n=i.buttonText||{};return n[e]||(t.singleUnit?n[t.singleUnit]:null)}t.buttonTextOverride=i(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=i(this.langDefaults)||i(this.dirDefaults)||t.defaults.buttonText||i(ge.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var i,n=this.moment(t).stripZone();return i=e?this.moment(e).stripZone():n.hasTime()?n.clone().add(this.defaultTimedEventDuration):n.clone().add(this.defaultAllDayEventDuration),{start:n,end:i}}});ge.mixin(se),ge.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},ge.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},ge.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var me=Lt.langs={};Lt.datepickerLang=function(e,i,n){var s=me[e]||(me[e]={});s.isRTL=n.isRTL,s.weekNumberTitle=n.weekHeader,t.each(ve,function(t,e){s[t]=e(n)}),t.datepicker&&(t.datepicker.regional[i]=t.datepicker.regional[e]=n,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(n))},Lt.lang=function(e,n){var s,r;s=me[e]||(me[e]={}),n&&(s=me[e]=i([s,n])),r=Nt(e),t.each(be,function(t,e){null==s[t]&&(s[t]=e(r,s))}),ge.defaults.lang=e};var ve={buttonText:function(t){return{prev:Q(t.prevText),next:Q(t.nextText),today:Q(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},be={dayOfMonthFormat:function(t,e){var i=t.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},ye={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Lt.lang("en",ge.englishDefaults),Lt.sourceNormalizers=[],Lt.sourceFetchers=[];var we={dataType:"json",cache:!1},_e=1;ge.prototype.getPeerEvents=function(t,e){var i,n,s=this.getEventCache(),r=[];for(i=0;i<s.length;i++)n=s[i],e&&e._id===n._id||r.push(n);return r};var xe=Lt.BasicView=fe.extend({dayGridClass:ue,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid()},instantiateDayGrid:function(){return new(this.dayGridClass.extend(Ce))(this)},setRange:function(t){fe.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=fe.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=d(this.el.find(".fc-week-number")))},setHeight:function(t,e){var i,n=this.opt("eventLimit");u(this.scrollerEl),r(this.headRowEl),this.dayGrid.removeSegPopover(),n&&"number"==typeof n&&this.dayGrid.limitRows(n),i=this.computeScrollerHeight(t),this.setGridHeight(i,e),n&&"number"!=typeof n&&this.dayGrid.limitRows(n),!e&&h(this.scrollerEl,i)&&(s(this.headRowEl,v(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i))},setGridHeight:function(t,e){e?c(this.dayGrid.rowEls):l(this.dayGrid.rowEls,t,!0)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Ce={renderHeadIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+K(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"><span>"+this.getCellDate(t,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},$e=Lt.MonthView=xe.extend({computeRange:function(t){var e,i=xe.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(i.end.diff(i.start,"weeks",!0)),i.end.add(6-e,"weeks")),i},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),l(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});zt.basic={"class":xe},zt.basicDay={type:"basic",duration:{days:1}},zt.basicWeek={type:"basic",duration:{weeks:1}},zt.month={"class":$e,duration:{months:1},defaults:{fixedWeekCount:!0}};var ke=Lt.AgendaView=fe.extend({timeGridClass:pe,timeGrid:null,dayGridClass:ue,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid())},instantiateTimeGrid:function(){return new(this.timeGridClass.extend(De))(this)},instantiateDayGrid:function(){return new(this.dayGridClass.extend(Se))(this)},setRange:function(t){fe.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),fe.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=d(this.el.find(".fc-axis"))},setHeight:function(t,e){var i,n;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),u(this.scrollerEl),r(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=Te),i&&this.dayGrid.limitRows(i)),e||(n=this.computeScrollerHeight(t),h(this.scrollerEl,n)?(s(this.noScrollRowEls,v(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n)):(this.scrollerEl.height(n).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),i=this.timeGrid.computeTimeTop(t);return i=Math.ceil(i),i&&i++,i},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var i=this.timeGrid.queryHit(t,e);return!i&&this.dayGrid&&(i=this.dayGrid.queryHit(t,e)),i},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,i=[],n=[];for(e=0;e<t.length;e++)t[e].allDay?i.push(t[e]):n.push(t[e]);this.timeGrid.renderEvents(n),this.dayGrid&&this.dayGrid.renderEvents(i),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),De={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"><span>"+K(t)+"</span></th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},Se={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+(t.opt("allDayHtml")||K(t.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},Te=5,Ie=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return zt.agenda={"class":ke,defaults:{
allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},zt.agendaDay={type:"agenda",duration:{days:1}},zt.agendaWeek={type:"agenda",duration:{weeks:1}},Lt}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","../grid.base"],t):t(jQuery)}(function(t){t.jgrid=t.jgrid||{},t.jgrid.hasOwnProperty("regional")||(t.jgrid.regional=[]),t.jgrid.regional.en={defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",savetext:"Saving...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"Records per Page",nomorerecs:"No more records...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(t){return 11>t||t>13?["st","nd","rd","th"][Math.min((t-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}}}),function(t){if(t.document){var e=t.document;e.querySelectorAll||(e.querySelectorAll=function(i){var n,s=e.createElement("style"),r=[];for(e.documentElement.firstChild.appendChild(s),e._qsa=[],s.styleSheet.cssText=i+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),s.parentNode.removeChild(s);e._qsa.length;)n=e._qsa.shift(),n.style.removeAttribute("x-qsa"),r.push(n);return e._qsa=null,r}),e.querySelector||(e.querySelector=function(t){var i=e.querySelectorAll(t);return i.length?i[0]:null}),e.getElementsByClassName||(e.getElementsByClassName=function(t){return t=String(t).replace(/^|\s+/g,"."),e.querySelectorAll(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),Array.prototype.forEach||(Array.prototype.forEach=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();var n,s=arguments[1];for(n=0;i>n;n++)n in e&&t.call(s,e[n],n,e)}),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.atob=t.atob||function(t){t=String(t);var i,n=0,s=[],r=0,o=0;if(t=t.replace(/\s/g,""),t.length%4==0&&(t=t.replace(/=+$/,"")),t.length%4==1)throw Error("InvalidCharacterError");if(/[^+\/0-9A-Za-z]/.test(t))throw Error("InvalidCharacterError");for(;n<t.length;)i=e.indexOf(t.charAt(n)),r=r<<6|i,o+=6,24===o&&(s.push(String.fromCharCode(r>>16&255)),s.push(String.fromCharCode(r>>8&255)),s.push(String.fromCharCode(255&r)),o=0,r=0),n+=1;return 12===o?(r>>=4,s.push(String.fromCharCode(255&r))):18===o&&(r>>=2,s.push(String.fromCharCode(r>>8&255)),s.push(String.fromCharCode(255&r))),s.join("")},t.btoa=t.btoa||function(t){t=String(t);var i,n,s,r,o,a,l,c=0,d=[];if(/[^\x00-\xFF]/.test(t))throw Error("InvalidCharacterError");for(;c<t.length;)i=t.charCodeAt(c++),n=t.charCodeAt(c++),s=t.charCodeAt(c++),r=i>>2,o=(3&i)<<4|n>>4,a=(15&n)<<2|s>>6,l=63&s,c===t.length+2?(a=64,l=64):c===t.length+1&&(l=64),d.push(e.charAt(r),e.charAt(o),e.charAt(a),e.charAt(l));return d.join("")}}(t),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),function(){if("performance"in t==0&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==0){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),t.performance.now=function(){return Date.now()-e}}}(),t.requestAnimationFrame||(t.webkitRequestAnimationFrame&&t.webkitCancelAnimationFrame?function(t){t.requestAnimationFrame=function(e){return webkitRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=t.webkitCancelAnimationFrame}(t):t.mozRequestAnimationFrame&&t.mozCancelAnimationFrame?function(t){t.requestAnimationFrame=function(e){return mozRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=t.mozCancelAnimationFrame}(t):function(t){t.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.clearTimeout}(t))}}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Holder=e():t.Holder=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){function n(t,e,i,n){var o=s(i.substr(i.lastIndexOf(t.domain)),t);o&&r({mode:null,el:n,flags:o,engineSettings:e})}function s(t,e){var i={theme:D(E.settings.themes.gray,null),stylesheets:e.stylesheets,instanceOptions:e},n=t.indexOf("?"),s=[t];-1!==n&&(s=[t.slice(0,n),t.slice(n+1)]);var r=s[0].split("/");i.holderURL=t;var o=r[1],a=o.match(/([\d]+p?)x([\d]+p?)/);if(!a)return!1;if(i.fluid=-1!==o.indexOf("p"),i.dimensions={width:a[1].replace("p","%"),height:a[2].replace("p","%")},2===s.length){var l=v.parse(s[1]);if(l.bg&&(i.theme.bg=y.parseColor(l.bg)),l.fg&&(i.theme.fg=y.parseColor(l.fg)),l.bg&&!l.fg&&(i.autoFg=!0),l.theme&&i.instanceOptions.themes.hasOwnProperty(l.theme)&&(i.theme=D(i.instanceOptions.themes[l.theme],null)),l.text&&(i.text=l.text),l.textmode&&(i.textmode=l.textmode),l.size&&(i.size=l.size),l.font&&(i.font=l.font),l.align&&(i.align=l.align),l.lineWrap&&(i.lineWrap=l.lineWrap),i.nowrap=y.truthy(l.nowrap),i.auto=y.truthy(l.auto),i.outline=y.truthy(l.outline),y.truthy(l.random)){E.vars.cache.themeKeys=E.vars.cache.themeKeys||Object.keys(i.instanceOptions.themes);var c=E.vars.cache.themeKeys[0|Math.random()*E.vars.cache.themeKeys.length];i.theme=D(i.instanceOptions.themes[c],null)}}return i}function r(t){var e=t.mode,i=t.el,n=t.flags,s=t.engineSettings,r=n.dimensions,a=n.theme,l=r.width+"x"+r.height;e=null==e?n.fluid?"fluid":"image":e;var h=/holder_([a-z]+)/g,u=!1;if(null!=n.text&&(a.text=n.text,"object"===i.nodeName.toLowerCase())){for(var p=a.text.split("\\n"),f=0;f<p.length;f++)p[f]=y.encodeHtmlEntity(p[f]);a.text=p.join("\\n")}if(a.text){var g=a.text.match(h);null!==g&&g.forEach(function(t){"holder_dimensions"===t&&(a.text=a.text.replace(t,l))})}var m=n.holderURL,v=D(s,null);if(n.font&&(a.font=n.font,!v.noFontFallback&&"img"===i.nodeName.toLowerCase()&&E.setup.supportsCanvas&&"svg"===v.renderer&&(v=D(v,{renderer:"canvas"}))),n.font&&"canvas"==v.renderer&&(v.reRender=!0),"background"==e)null==i.getAttribute("data-background-src")&&_.setAttr(i,{"data-background-src":m});else{var b={};b[E.vars.dataAttr]=m,_.setAttr(i,b)}n.theme=a,i.holderData={flags:n,engineSettings:v},"image"!=e&&"fluid"!=e||_.setAttr(i,{alt:a.text?u?a.text:a.text+" ["+l+"]":l});var w={mode:e,el:i,holderSettings:{dimensions:r,theme:a,flags:n},engineSettings:v};"image"==e?(n.auto||(i.style.width=r.width+"px",i.style.height=r.height+"px"),"html"==v.renderer?i.style.backgroundColor=a.bg:(o(w),"exact"==n.textmode&&(i.holderData.resizeUpdate=!0,E.vars.resizableImages.push(i),c(i)))):"background"==e&&"html"!=v.renderer?o(w):"fluid"==e&&(i.holderData.resizeUpdate=!0,"%"==r.height.slice(-1)?i.style.height=r.height:null!=n.auto&&n.auto||(i.style.height=r.height+"px"),"%"==r.width.slice(-1)?i.style.width=r.width:null!=n.auto&&n.auto||(i.style.width=r.width+"px"),"inline"!=i.style.display&&""!==i.style.display&&"none"!=i.style.display||(i.style.display="block"),d(i),"html"==v.renderer?i.style.backgroundColor=a.bg:(E.vars.resizableImages.push(i),c(i)))}function o(t){function i(){var e=null;switch(l.renderer){case"canvas":e=k(d,t);break;case"svg":e=$(d,t);break;default:throw"Holder: invalid renderer: "+l.renderer}return e}var n=null,s=t.mode,r=t.el,o=t.holderSettings,l=t.engineSettings;switch(l.renderer){case"svg":if(!E.setup.supportsSVG)return;break;case"canvas":if(!E.setup.supportsCanvas)return;break;default:return}var c={width:o.dimensions.width,height:o.dimensions.height,theme:o.theme,flags:o.flags},d=a(c);if(null==(n=i()))throw"Holder: couldn't render placeholder";"background"==s?(r.style.backgroundImage="url("+n+")",r.style.backgroundSize=c.width+"px "+c.height+"px"):("img"===r.nodeName.toLowerCase()?_.setAttr(r,{src:n}):"object"===r.nodeName.toLowerCase()&&_.setAttr(r,{data:n,type:"image/svg+xml"}),l.reRender&&e.setTimeout(function(){var t=i();if(null==t)throw"Holder: couldn't render placeholder";"img"===r.nodeName.toLowerCase()?_.setAttr(r,{src:t}):"object"===r.nodeName.toLowerCase()&&_.setAttr(r,{data:t,type:"image/svg+xml"})},150)),_.setAttr(r,{"data-holder-rendered":!0})}function a(t){function e(t,e,i,n){e.width=i,e.height=n,t.width=Math.max(t.width,e.width),t.height+=e.height}var i=E.defaults.size;switch(parseFloat(t.theme.size)?i=t.theme.size:parseFloat(t.flags.size)&&(i=t.flags.size),t.font={family:t.theme.font?t.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:l(t.width,t.height,i,E.defaults.scale),units:t.theme.units?t.theme.units:E.defaults.units,weight:t.theme.fontweight?t.theme.fontweight:"bold"},t.text=t.theme.text||Math.floor(t.width)+"x"+Math.floor(t.height),t.noWrap=t.theme.nowrap||t.flags.nowrap,t.align=t.theme.align||t.flags.align||"center",t.flags.textmode){case"literal":t.text=t.flags.dimensions.width+"x"+t.flags.dimensions.height;break;case"exact":if(!t.flags.exactDimensions)break;t.text=Math.floor(t.flags.exactDimensions.width)+"x"+Math.floor(t.flags.exactDimensions.height)}var n=t.flags.lineWrap||E.setup.lineWrapRatio,s=t.width*n,r=s,o=new b({width:t.width,height:t.height}),a=o.Shape,c=new a.Rect("holderBg",{fill:t.theme.bg});if(c.resize(t.width,t.height),o.root.add(c),t.flags.outline){var d=new x(c.properties.fill);d=d.lighten(d.lighterThan("7f7f7f")?-.1:.1),c.properties.outline={fill:d.toHex(!0),width:2}}var h=t.theme.fg;if(t.flags.autoFg){var u=new x(c.properties.fill),p=new x("fff"),f=new x("000",{alpha:.285714});h=u.blendAlpha(u.lighterThan("7f7f7f")?f:p).toHex(!0)}var g=new a.Group("holderTextGroup",{text:t.text,align:t.align,font:t.font,fill:h});g.moveTo(null,null,1),o.root.add(g);var m=g.textPositionData=j(o);if(!m)throw"Holder: staging fallback not supported yet.";g.properties.leading=m.boundingBox.height;var v=null,y=null;if(m.lineCount>1){var w,_=0,C=0,$=0;y=new a.Group("line"+$),"left"!==t.align&&"right"!==t.align||(r=t.width*(1-2*(1-n)));for(var k=0;k<m.words.length;k++){var D=m.words[k];v=new a.Text(D.text);var S="\\n"==D.text;!t.noWrap&&(_+D.width>=r||!0===S)&&(e(g,y,_,g.properties.leading),g.add(y),_=0,C+=g.properties.leading,$+=1,y=new a.Group("line"+$),y.y=C),!0!==S&&(v.moveTo(_,0),_+=m.spaceWidth+D.width,y.add(v))}if(e(g,y,_,g.properties.leading),g.add(y),"left"===t.align)g.moveTo(t.width-s,null,null);else if("right"===t.align){for(w in g.children)y=g.children[w],y.moveTo(t.width-y.width,null,null);g.moveTo(0-(t.width-s),null,null)}else{for(w in g.children)y=g.children[w],y.moveTo((g.width-y.width)/2,null,null);g.moveTo((t.width-g.width)/2,null,null)}g.moveTo(null,(t.height-g.height)/2,null),(t.height-g.height)/2<0&&g.moveTo(null,0,null)}else v=new a.Text(t.text),y=new a.Group("line0"),y.add(v),g.add(y),"left"===t.align?g.moveTo(t.width-s,null,null):"right"===t.align?g.moveTo(0-(t.width-s),null,null):g.moveTo((t.width-m.boundingBox.width)/2,null,null),g.moveTo(null,(t.height-m.boundingBox.height)/2,null);return o}function l(t,e,i,n){var s=parseInt(t,10),r=parseInt(e,10),o=Math.max(s,r),a=Math.min(s,r),l=.8*Math.min(a,o*n);return Math.round(Math.max(i,l))}function c(t){var e;e=null==t||null==t.nodeType?E.vars.resizableImages:[t];for(var i=0,n=e.length;n>i;i++){var s=e[i];if(s.holderData){var r=s.holderData.flags,a=S(s);if(a){if(!s.holderData.resizeUpdate)continue;if(r.fluid&&r.auto){var l=s.holderData.fluidConfig;switch(l.mode){case"width":a.height=a.width/l.ratio;break;case"height":a.width=a.height*l.ratio}}var c={mode:"image",holderSettings:{dimensions:a,theme:r.theme,flags:r},el:s,engineSettings:s.holderData.engineSettings};"exact"==r.textmode&&(r.exactDimensions=a,c.holderSettings.dimensions=r.dimensions),o(c)}else p(s)}}}function d(t){if(t.holderData){var e=S(t);if(e){var i=t.holderData.flags,n={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:e};n.fluidWidth&&!n.fluidHeight?(n.mode="width",n.ratio=n.initialDimensions.width/parseFloat(i.dimensions.height)):!n.fluidWidth&&n.fluidHeight&&(n.mode="height",n.ratio=parseFloat(i.dimensions.width)/n.initialDimensions.height),t.holderData.fluidConfig=n}else p(t)}}function h(){var t,i=[];Object.keys(E.vars.invisibleImages).forEach(function(e){t=E.vars.invisibleImages[e],S(t)&&"img"==t.nodeName.toLowerCase()&&(i.push(t),delete E.vars.invisibleImages[e])}),i.length&&I.run({images:i}),setTimeout(function(){e.requestAnimationFrame(h)},10)}function u(){E.vars.visibilityCheckStarted||(e.requestAnimationFrame(h),E.vars.visibilityCheckStarted=!0)}function p(t){t.holderData.invisibleId||(E.vars.invisibleId+=1,E.vars.invisibleImages["i"+E.vars.invisibleId]=t,t.holderData.invisibleId=E.vars.invisibleId)}function f(t){E.vars.debounceTimer||t.call(this),E.vars.debounceTimer&&e.clearTimeout(E.vars.debounceTimer),E.vars.debounceTimer=e.setTimeout(function(){E.vars.debounceTimer=null,t.call(this)},E.setup.debounce)}function g(){f(function(){c(null)})}var m=i(2),v=i(3),b=i(10),y=i(11),w=i(12),_=i(13),x=i(14),C=i(15),$=i(16),k=i(19),D=y.extend,S=y.dimensionCheck,T=C.svg_ns,I={version:C.version,addTheme:function(t,e){return null!=t&&null!=e&&(E.settings.themes[t]=e),delete E.vars.cache.themeKeys,this},addImage:function(t,e){return _.getNodeArray(e).forEach(function(e){var i=_.newEl("img"),n={};n[E.setup.dataAttr]=t,_.setAttr(i,n),e.appendChild(i)}),this},setResizeUpdate:function(t,e){t.holderData&&(t.holderData.resizeUpdate=!!e,t.holderData.resizeUpdate&&c(t))},run:function(t){t=t||{};var i={},o=D(E.settings,t);E.vars.preempted=!0,E.vars.dataAttr=o.dataAttr||E.setup.dataAttr,i.renderer=o.renderer?o.renderer:E.setup.renderer,-1===E.setup.renderers.join(",").indexOf(i.renderer)&&(i.renderer=E.setup.supportsSVG?"svg":E.setup.supportsCanvas?"canvas":"html");var a=_.getNodeArray(o.images),l=_.getNodeArray(o.bgnodes),c=_.getNodeArray(o.stylenodes),d=_.getNodeArray(o.objects);return i.stylesheets=[],i.svgXMLStylesheet=!0,i.noFontFallback=!!o.noFontFallback&&o.noFontFallback,c.forEach(function(t){if(t.attributes.rel&&t.attributes.href&&"stylesheet"==t.attributes.rel.value){var e=t.attributes.href.value,n=_.newEl("a");n.href=e;var s=n.protocol+"//"+n.host+n.pathname+n.search;i.stylesheets.push(s)}}),l.forEach(function(t){if(e.getComputedStyle){var n=e.getComputedStyle(t,null).getPropertyValue("background-image"),a=t.getAttribute("data-background-src"),l=a||n,c=null,d=o.domain+"/",h=l.indexOf(d);if(0===h)c=l;else if(1===h&&"?"===l[0])c=l.slice(1);else{var u=l.substr(h).match(/([^\"]*)"?\)/);if(null!==u)c=u[1];else if(0===l.indexOf("url("))throw"Holder: unable to parse background URL: "+l}if(null!=c){var p=s(c,o);p&&r({mode:"background",el:t,flags:p,engineSettings:i})}}}),d.forEach(function(t){var e={};try{e.data=t.getAttribute("data"),e.dataSrc=t.getAttribute(E.vars.dataAttr)}catch(t){}var s=null!=e.data&&0===e.data.indexOf(o.domain),r=null!=e.dataSrc&&0===e.dataSrc.indexOf(o.domain);s?n(o,i,e.data,t):r&&n(o,i,e.dataSrc,t)}),a.forEach(function(t){var e={};try{e.src=t.getAttribute("src"),e.dataSrc=t.getAttribute(E.vars.dataAttr),e.rendered=t.getAttribute("data-holder-rendered")}catch(t){}var s=null!=e.src,r=null!=e.dataSrc&&0===e.dataSrc.indexOf(o.domain),a=null!=e.rendered&&"true"==e.rendered;s?0===e.src.indexOf(o.domain)?n(o,i,e.src,t):r&&(a?n(o,i,e.dataSrc,t):function(t,e,i,s,r){y.imageExists(t,function(t){t||n(e,i,s,r)})}(e.src,o,i,e.dataSrc,t)):r&&n(o,i,e.dataSrc,t)}),this}},E={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{bg:"#EEEEEE",fg:"#AAAAAA"},social:{bg:"#3a5a97",fg:"#FFFFFF"},industrial:{bg:"#434A52",fg:"#C2F200"},sky:{bg:"#0D8FDB",fg:"#FFFFFF"},vine:{bg:"#39DBAC",fg:"#1E292C"},lava:{bg:"#F8591A",fg:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},j=function(){var t=null,e=null,i=null;return function(n){var s=n.root;if(E.setup.supportsSVG){var r=!1,o=function(t){return document.createTextNode(t)};null!=t&&t.parentNode===document.body||(r=!0),t=w.initSVG(t,s.properties.width,s.properties.height),t.style.display="block",r&&(e=_.newEl("text",T),i=o(null),_.setAttr(e,{x:0}),e.appendChild(i),t.appendChild(e),document.body.appendChild(t),t.style.visibility="hidden",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%");var a=s.children.holderTextGroup,l=a.properties;_.setAttr(e,{y:l.font.size,style:y.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),i.nodeValue=l.text;var c=e.getBBox(),d=Math.ceil(c.width/s.properties.width),h=l.text.split(" "),u=l.text.match(/\\n/g);d+=null==u?0:u.length,i.nodeValue=l.text.replace(/[ ]+/g,"");var p=e.getComputedTextLength(),f=c.width-p,g=Math.round(f/Math.max(1,h.length-1)),m=[];if(d>1){i.nodeValue="";for(var v=0;v<h.length;v++)if(0!==h[v].length){i.nodeValue=y.decodeHtmlEntity(h[v]);var b=e.getBBox();m.push({text:h[v],width:b.width})}}return t.style.display="none",{spaceWidth:g,lineCount:d,boundingBox:c,words:m}}return!1}}();for(var A in E.flags)E.flags.hasOwnProperty(A)&&(E.flags[A].match=function(t){return t.match(this.regex)});E.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},E.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var t=_.newEl("canvas");t.getContext&&-1!=t.toDataURL("image/png").indexOf("data:image/png")&&(E.setup.renderer="canvas",E.setup.supportsCanvas=!0),document.createElementNS&&document.createElementNS(T,"svg").createSVGRect&&(E.setup.renderer="svg",E.setup.supportsSVG=!0)}(),u(),m&&m(function(){E.vars.preempted||I.run(),e.addEventListener?(e.addEventListener("resize",g,!1),e.addEventListener("orientationchange",g,!1)):e.attachEvent("onresize",g),"object"==typeof e.Turbolinks&&e.document.addEventListener("page:change",function(){I.run()})}),t.exports=I}).call(e,function(){return this}())},function(t){function e(t){function e(t){if(!_){if(!o.body)return s(e);for(_=!0;t=x.shift();)s(t)}}function i(t){(y||t.type===l||o[u]===h)&&(n(),e())}function n(){y?(o[b](m,i,c),t[b](l,i,c)):(o[f](v,i),t[f](d,i))}function s(t,e){setTimeout(t,+e>=0?e:1)}function r(t){_?s(t):x.push(t)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),document.readyState="complete"},!1),document.readyState="loading");var o=t.document,a=o.documentElement,l="load",c=!1,d="on"+l,h="complete",u="readyState",p="attachEvent",f="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",b="removeEventListener",y=g in o,w=c,_=c,x=[];if(o[u]===h)s(e);else if(y)o[g](m,i,c),t[g](l,i,c);else{o[p](v,i),t[p](d,i);try{w=null==t.frameElement&&a}catch(t){}w&&w.doScroll&&function t(){if(!_){try{w.doScroll("left")}catch(e){return s(t,50)}n(),e()}}()}return r.version="1.4.0",r.isReady=function(){return _},r}t.exports="undefined"!=typeof window&&e(window)},function(t,e,i){var n=encodeURIComponent,s=decodeURIComponent,r=i(4),o=i(5),a=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;e.parse=function(t){if("string"!=typeof t)return{};if(""===(t=r(t)))return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e={},i=t.split("&"),n=0;n<i.length;n++){var o,c,d,h=i[n].split("="),u=s(h[0]);if(o=a.exec(u))e[o[1]]=e[o[1]]||[],e[o[1]][o[2]]=s(h[1]);else if(o=l.test(u)){for(o=u.split("."),c=e;o.length;)if(d=o.shift(),d.length){if(c[d]){if(c[d]&&"object"!=typeof c[d])break}else c[d]={};o.length||(c[d]=s(h[1])),c=c[d]}}else e[h[0]]=null==h[1]?"":s(h[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var i in t){var s=t[i];if("array"!=o(s))e.push(n(i)+"="+n(t[i]));else for(var r=0;r<s.length;++r)e.push(n(i+"["+r+"]")+"="+n(s[r]))}return e.join("&")}},function(t,e){function i(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=i,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,i){(function(e){var i=Object.prototype.toString;t.exports=function(t){switch(i.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":void 0!==e&&e.isBuffer(t)?"buffer":typeof(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t))}}).call(e,i(6).Buffer)},function(t,e,i){(function(t,n){function s(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function r(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(this.length=0,this.parent=void 0,"number"==typeof e?o(this,e):"string"==typeof e?a(this,e,arguments.length>1?arguments[1]:"utf8"):l(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function o(e,i){if(e=g(e,0>i?0:0|m(i)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;i>n;n++)e[n]=0;return e}function a(t,e,i){return"string"==typeof i&&""!==i||(i="utf8"),t=g(t,0|b(e,i)),t.write(e,i),t}function l(e,i){if(t.isBuffer(i))return c(e,i);if(K(i))return d(e,i);if(null==i)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(i.buffer instanceof ArrayBuffer)return h(e,i);if(i instanceof ArrayBuffer)return u(e,i)}return i.length?p(e,i):f(e,i)}function c(t,e){var i=0|m(e.length);return t=g(t,i),e.copy(t,0,0,i),t}function d(t,e){var i=0|m(e.length);t=g(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function h(t,e){var i=0|m(e.length);t=g(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function u(e,i){return t.TYPED_ARRAY_SUPPORT?(i.byteLength,e=t._augment(new Uint8Array(i))):e=h(e,new Uint8Array(i)),e}function p(t,e){var i=0|m(e.length);t=g(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function f(t,e){var i,n=0;"Buffer"===e.type&&K(e.data)&&(i=e.data,n=0|m(i.length)),t=g(t,n);for(var s=0;n>s;s+=1)t[s]=255&i[s];return t}function g(e,i){return t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(i)),e.__proto__=t.prototype):(e.length=i,e._isBuffer=!0),0!==i&&i<=t.poolSize>>>1&&(e.parent=Q),e}function m(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function v(e,i){if(!(this instanceof v))return new v(e,i);var n=new t(e,i);return delete n.parent,n}function b(t,e){"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return U(t).length;default:if(n)return B(t).length;e=(""+e).toLowerCase(),n=!0}}function y(t,e,i){var n=!1;if(e|=0,i=void 0===i||i===1/0?this.length:0|i,t||(t="utf8"),0>e&&(e=0),i>this.length&&(i=this.length),e>=i)return"";for(;;)switch(t){case"hex":return j(this,e,i);case"utf8":case"utf-8":return S(this,e,i);case"ascii":return I(this,e,i);case"binary":return E(this,e,i);case"base64":return D(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function w(t,e,i,n){i=Number(i)||0;var s=t.length-i;n?(n=Number(n))>s&&(n=s):n=s;var r=e.length;if(r%2!=0)throw new Error("Invalid hex string");n>r/2&&(n=r/2);for(var o=0;n>o;o++){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[i+o]=a}return o}function _(t,e,i,n){return Y(B(e,t.length-i),t,i,n)}function x(t,e,i,n){return Y(W(e),t,i,n)}function C(t,e,i,n){return x(t,e,i,n)}function $(t,e,i,n){return Y(U(e),t,i,n)}function k(t,e,i,n){return Y(G(e,t.length-i),t,i,n)}function D(t,e,i){return 0===e&&i===t.length?V.fromByteArray(t):V.fromByteArray(t.slice(e,i))}function S(t,e,i){i=Math.min(t.length,i);for(var n=[],s=e;i>s;){var r=t[s],o=null,a=r>239?4:r>223?3:r>191?2:1;if(i>=s+a){var l,c,d,h;switch(a){case 1:128>r&&(o=r);break;case 2:128==(192&(l=t[s+1]))&&(h=(31&r)<<6|63&l)>127&&(o=h);break;case 3:l=t[s+1],c=t[s+2],128==(192&l)&&128==(192&c)&&(h=(15&r)<<12|(63&l)<<6|63&c)>2047&&(55296>h||h>57343)&&(o=h);break;case 4:l=t[s+1],c=t[s+2],d=t[s+3],128==(192&l)&&128==(192&c)&&128==(192&d)&&(h=(15&r)<<18|(63&l)<<12|(63&c)<<6|63&d)>65535&&1114112>h&&(o=h)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),s+=a}return T(n)}function T(t){var e=t.length;if(Z>=e)return String.fromCharCode.apply(String,t);for(var i="",n=0;e>n;)i+=String.fromCharCode.apply(String,t.slice(n,n+=Z));return i}function I(t,e,i){var n="";i=Math.min(t.length,i);for(var s=e;i>s;s++)n+=String.fromCharCode(127&t[s]);return n}function E(t,e,i){var n="";i=Math.min(t.length,i);for(var s=e;i>s;s++)n+=String.fromCharCode(t[s]);return n}function j(t,e,i){var n=t.length;(!e||0>e)&&(e=0),(!i||0>i||i>n)&&(i=n);for(var s="",r=e;i>r;r++)s+=z(t[r]);return s}function A(t,e,i){for(var n=t.slice(e,i),s="",r=0;r<n.length;r+=2)s+=String.fromCharCode(n[r]+256*n[r+1]);return s}function M(t,e,i){if(t%1!=0||0>t)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function F(e,i,n,s,r,o){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(i>r||o>i)throw new RangeError("value is out of bounds");if(n+s>e.length)throw new RangeError("index out of range")}function P(t,e,i,n){0>e&&(e=65535+e+1);for(var s=0,r=Math.min(t.length-i,2);r>s;s++)t[i+s]=(e&255<<8*(n?s:1-s))>>>8*(n?s:1-s)}function R(t,e,i,n){0>e&&(e=4294967295+e+1);for(var s=0,r=Math.min(t.length-i,4);r>s;s++)t[i+s]=e>>>8*(n?s:3-s)&255}function N(t,e,i,n,s,r){if(e>s||r>e)throw new RangeError("value is out of bounds");if(i+n>t.length)throw new RangeError("index out of range");if(0>i)throw new RangeError("index out of range")}function O(t,e,i,n,s){return s||N(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,i,n,23,4),i+4}function H(t,e,i,n,s){return s||N(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,i,n,52,8),i+8}function q(t){if(t=L(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function L(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return 16>t?"0"+t.toString(16):t.toString(16)}function B(t,e){e=e||1/0;for(var i,n=t.length,s=null,r=[],o=0;n>o;o++){if((i=t.charCodeAt(o))>55295&&57344>i){if(!s){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&r.push(239,191,189);continue}s=i;continue}if(56320>i){(e-=3)>-1&&r.push(239,191,189),s=i;continue}i=s-55296<<10|i-56320|65536}else s&&(e-=3)>-1&&r.push(239,191,189);if(s=null,128>i){if((e-=1)<0)break;r.push(i)}else if(2048>i){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(65536>i){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(1114112>i))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function W(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e}function G(t,e){for(var i,n,s,r=[],o=0;o<t.length&&!((e-=2)<0);o++)i=t.charCodeAt(o),n=i>>8,s=i%256,r.push(s),r.push(n);return r}function U(t){return V.toByteArray(q(t))}function Y(t,e,i,n){for(var s=0;n>s&&!(s+i>=e.length||s>=t.length);s++)e[s+i]=t[s];return s}var V=i(7),X=i(8),K=i(9);e.Buffer=t,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var Q={};t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:s(),t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,i){if(!t.isBuffer(e)||!t.isBuffer(i))throw new TypeError("Arguments must be Buffers");if(e===i)return 0;for(var n=e.length,s=i.length,r=0,o=Math.min(n,s);o>r&&e[r]===i[r];)++r;return r!==o&&(n=e[r],s=i[r]),s>n?-1:n>s?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,i){if(!K(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var n;if(void 0===i)for(i=0,n=0;n<e.length;n++)i+=e[n].length;var s=new t(i),r=0;for(n=0;n<e.length;n++){var o=e[n];o.copy(s,r),r+=o.length}return s},t.byteLength=b,t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):y.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES
;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,i){function n(t,e,i){for(var n=-1,s=0;i+s<t.length;s++)if(t[i+s]===e[-1===n?0:s-n]){if(-1===n&&(n=s),s-n+1===e.length)return i+n}else n=-1;return-1}if(i>2147483647?i=2147483647:-2147483648>i&&(i=-2147483648),i>>=0,0===this.length)return-1;if(i>=this.length)return-1;if(0>i&&(i=Math.max(this.length+i,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,i);if(t.isBuffer(e))return n(this,e,i);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,i):n(this,[e],i);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else if(isFinite(e))e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0);else{var s=n;n=e,e=0|i,i=s}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(0>i||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,t,e,i);case"utf8":case"utf-8":return _(this,t,e,i);case"ascii":return x(this,t,e,i);case"binary":return C(this,t,e,i);case"base64":return $(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;t.prototype.slice=function(e,i){var n=this.length;e=~~e,i=void 0===i?n:~~i,0>e?0>(e+=n)&&(e=0):e>n&&(e=n),0>i?0>(i+=n)&&(i=0):i>n&&(i=n),e>i&&(i=e);var s;if(t.TYPED_ARRAY_SUPPORT)s=t._augment(this.subarray(e,i));else{var r=i-e;s=new t(r,void 0);for(var o=0;r>o;o++)s[o]=this[o+e]}return s.length&&(s.parent=this.parent||this),s},t.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var n=this[t],s=1,r=0;++r<e&&(s*=256);)n+=this[t+r]*s;return n},t.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var n=this[t+--e],s=1;e>0&&(s*=256);)n+=this[t+--e]*s;return n},t.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var n=this[t],s=1,r=0;++r<e&&(s*=256);)n+=this[t+r]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*e)),n},t.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var n=e,s=1,r=this[t+--n];n>0&&(s*=256);)r+=this[t+--n]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*e)),r},t.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),X.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),X.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),X.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),X.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,i,n){t=+t,e|=0,i|=0,n||F(this,t,e,i,Math.pow(2,8*i),0);var s=1,r=0;for(this[e]=255&t;++r<i&&(s*=256);)this[e+r]=t/s&255;return e+i},t.prototype.writeUIntBE=function(t,e,i,n){t=+t,e|=0,i|=0,n||F(this,t,e,i,Math.pow(2,8*i),0);var s=i-1,r=1;for(this[e+s]=255&t;--s>=0&&(r*=256);)this[e+s]=t/r&255;return e+i},t.prototype.writeUInt8=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[i]=255&e,i+1},t.prototype.writeUInt16LE=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=255&e,this[i+1]=e>>>8):P(this,e,i,!0),i+2},t.prototype.writeUInt16BE=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>8,this[i+1]=255&e):P(this,e,i,!1),i+2},t.prototype.writeUInt32LE=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i+3]=e>>>24,this[i+2]=e>>>16,this[i+1]=e>>>8,this[i]=255&e):R(this,e,i,!0),i+4},t.prototype.writeUInt32BE=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=255&e):R(this,e,i,!1),i+4},t.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var s=Math.pow(2,8*i-1);F(this,t,e,i,s-1,-s)}var r=0,o=1,a=0>t?1:0;for(this[e]=255&t;++r<i&&(o*=256);)this[e+r]=(t/o>>0)-a&255;return e+i},t.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var s=Math.pow(2,8*i-1);F(this,t,e,i,s-1,-s)}var r=i-1,o=1,a=0>t?1:0;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=(t/o>>0)-a&255;return e+i},t.prototype.writeInt8=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[i]=255&e,i+1},t.prototype.writeInt16LE=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=255&e,this[i+1]=e>>>8):P(this,e,i,!0),i+2},t.prototype.writeInt16BE=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>8,this[i+1]=255&e):P(this,e,i,!1),i+2},t.prototype.writeInt32LE=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[i]=255&e,this[i+1]=e>>>8,this[i+2]=e>>>16,this[i+3]=e>>>24):R(this,e,i,!0),i+4},t.prototype.writeInt32BE=function(e,i,n){return e=+e,i|=0,n||F(this,e,i,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=255&e):R(this,e,i,!1),i+4},t.prototype.writeFloatLE=function(t,e,i){return O(this,t,e,!0,i)},t.prototype.writeFloatBE=function(t,e,i){return O(this,t,e,!1,i)},t.prototype.writeDoubleLE=function(t,e,i){return H(this,t,e,!0,i)},t.prototype.writeDoubleBE=function(t,e,i){return H(this,t,e,!1,i)},t.prototype.copy=function(e,i,n,s){if(n||(n=0),s||0===s||(s=this.length),i>=e.length&&(i=e.length),i||(i=0),s>0&&n>s&&(s=n),s===n)return 0;if(0===e.length||0===this.length)return 0;if(0>i)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>s)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-i<s-n&&(s=e.length-i+n);var r,o=s-n;if(this===e&&i>n&&s>i)for(r=o-1;r>=0;r--)e[r+i]=this[r+n];else if(1e3>o||!t.TYPED_ARRAY_SUPPORT)for(r=0;o>r;r++)e[r+i]=this[r+n];else e._set(this.subarray(n,n+o),i);return o},t.prototype.fill=function(t,e,i){if(t||(t=0),e||(e=0),i||(i=this.length),e>i)throw new RangeError("end < start");if(i!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>i||i>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;i>n;n++)this[n]=t;else{var s=B(t.toString()),r=s.length;for(n=e;i>n;n++)this[n]=s[n%r]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),i=0,n=e.length;n>i;i+=1)e[i]=this[i];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var J=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=J.get,e.set=J.set,e.write=J.write,e.toString=J.toString,e.toLocaleString=J.toString,e.toJSON=J.toJSON,e.equals=J.equals,e.compare=J.compare,e.indexOf=J.indexOf,e.copy=J.copy,e.slice=J.slice,e.readUIntLE=J.readUIntLE,e.readUIntBE=J.readUIntBE,e.readUInt8=J.readUInt8,e.readUInt16LE=J.readUInt16LE,e.readUInt16BE=J.readUInt16BE,e.readUInt32LE=J.readUInt32LE,e.readUInt32BE=J.readUInt32BE,e.readIntLE=J.readIntLE,e.readIntBE=J.readIntBE,e.readInt8=J.readInt8,e.readInt16LE=J.readInt16LE,e.readInt16BE=J.readInt16BE,e.readInt32LE=J.readInt32LE,e.readInt32BE=J.readInt32BE,e.readFloatLE=J.readFloatLE,e.readFloatBE=J.readFloatBE,e.readDoubleLE=J.readDoubleLE,e.readDoubleBE=J.readDoubleBE,e.writeUInt8=J.writeUInt8,e.writeUIntLE=J.writeUIntLE,e.writeUIntBE=J.writeUIntBE,e.writeUInt16LE=J.writeUInt16LE,e.writeUInt16BE=J.writeUInt16BE,e.writeUInt32LE=J.writeUInt32LE,e.writeUInt32BE=J.writeUInt32BE,e.writeIntLE=J.writeIntLE,e.writeIntBE=J.writeIntBE,e.writeInt8=J.writeInt8,e.writeInt16LE=J.writeInt16LE,e.writeInt16BE=J.writeInt16BE,e.writeInt32LE=J.writeInt32LE,e.writeInt32BE=J.writeInt32BE,e.writeFloatLE=J.writeFloatLE,e.writeFloatBE=J.writeFloatBE,e.writeDoubleLE=J.writeDoubleLE,e.writeDoubleBE=J.writeDoubleBE,e.fill=J.fill,e.inspect=J.inspect,e.toArrayBuffer=J.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,i(6).Buffer,function(){return this}())},function(t,e){!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===r||e===d?62:e===o||e===h?63:a>e?-1:a+10>e?e-a+26+26:c+26>e?e-c:l+26>e?e-l+26:void 0}function i(t){function i(t){c[h++]=t}var n,r,o,a,l,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=t.length;l="="===t.charAt(d-2)?2:"="===t.charAt(d-1)?1:0,c=new s(3*t.length/4-l),o=l>0?t.length-4:t.length;var h=0;for(n=0,r=0;o>n;n+=4,r+=3)a=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),i((16711680&a)>>16),i((65280&a)>>8),i(255&a);return 2===l?(a=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,i(255&a)):1===l&&(a=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,i(a>>8&255),i(255&a)),c}function n(t){function e(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)}function i(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var n,s,r,o=t.length%3,a="";for(n=0,r=t.length-o;r>n;n+=3)s=(t[n]<<16)+(t[n+1]<<8)+t[n+2],a+=i(s);switch(o){case 1:s=t[t.length-1],a+=e(s>>2),a+=e(s<<4&63),a+="==";break;case 2:s=(t[t.length-2]<<8)+t[t.length-1],a+=e(s>>10),a+=e(s>>4&63),a+=e(s<<2&63),a+="="}return a}var s="undefined"!=typeof Uint8Array?Uint8Array:Array,r="+".charCodeAt(0),o="/".charCodeAt(0),a="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),d="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=i,t.fromByteArray=n}(e)},function(t,e){e.read=function(t,e,i,n,s){var r,o,a=8*s-n-1,l=(1<<a)-1,c=l>>1,d=-7,h=i?s-1:0,u=i?-1:1,p=t[e+h];for(h+=u,r=p&(1<<-d)-1,p>>=-d,d+=a;d>0;r=256*r+t[e+h],h+=u,d-=8);for(o=r&(1<<-d)-1,r>>=-d,d+=n;d>0;o=256*o+t[e+h],h+=u,d-=8);if(0===r)r=1-c;else{if(r===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),r-=c}return(p?-1:1)*o*Math.pow(2,r-n)},e.write=function(t,e,i,n,s,r){var o,a,l,c=8*r-s-1,d=(1<<c)-1,h=d>>1,u=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,f=n?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+h>=1?u/l:u*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=d?(a=0,o=d):o+h>=1?(a=(e*l-1)*Math.pow(2,s),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;t[i+p]=255&a,p+=f,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;t[i+p]=255&o,p+=f,o/=256,c-=8);t[i+p-f]|=128*g}},function(t){var e=Array.isArray,i=Object.prototype.toString;t.exports=e||function(t){return!!t&&"[object Array]"==i.call(t)}},function(t){var e=function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}var i=1,n=function(t){i++,this.parent=null,this.children={},this.id=i,this.name="n"+i,void 0!==t&&(this.name=t),this.x=this.y=this.z=0,this.width=this.height=0};n.prototype.resize=function(t,e){null!=t&&(this.width=t),null!=e&&(this.height=e)},n.prototype.moveTo=function(t,e,i){this.x=null!=t?t:this.x,this.y=null!=e?e:this.y,this.z=null!=i?i:this.z},n.prototype.add=function(t){var e=t.name;if("undefined"!=typeof this.children[e])throw"SceneGraph: child already exists: "+e;this.children[e]=t,t.parent=this};var s=function(){n.call(this,"root"),this.properties=t};s.prototype=new n;var r=function(t,i){if(n.call(this,t),this.properties={fill:"#000000"},void 0!==i)e(this.properties,i);else if(void 0!==t&&"string"!=typeof t)throw"SceneGraph: invalid node name"};r.prototype=new n;var o=function(){r.apply(this,arguments),this.type="group"};o.prototype=new r;var a=function(){r.apply(this,arguments),this.type="rect"};a.prototype=new r;var l=function(t){r.call(this),this.type="text",this.properties.text=t};l.prototype=new r;var c=new s;return this.Shape={Rect:a,Text:l,Group:o},this.root=c,this};t.exports=e},function(t,e){(function(t){e.extend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);if(null!=e)for(var s in e)e.hasOwnProperty(s)&&(i[s]=e[s]);return i},e.cssProps=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+":"+t[i]);return e.join(";")},e.encodeHtmlEntity=function(t){for(var e=[],i=0,n=t.length-1;n>=0;n--)i=t.charCodeAt(n),i>128?e.unshift(["&#",i,";"].join("")):e.unshift(t[n]);return e.join("")},e.imageExists=function(t,e){var i=new Image;i.onerror=function(){e.call(this,!1)},i.onload=function(){e.call(this,!0)},i.src=t},e.decodeHtmlEntity=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},e.dimensionCheck=function(t){var e={height:t.clientHeight,width:t.clientWidth};return!(!e.height||!e.width)&&e},e.truthy=function(t){return"string"==typeof t?"true"===t||"yes"===t||"1"===t||"on"===t||"\u2713"===t:!!t},e.parseColor=function(t){var e,i=/(^(?:#?)[0-9a-f]{6}$)|(^(?:#?)[0-9a-f]{3}$)/i,n=/^rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,s=/^rgba\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0\.\d{1,}|1)\)$/,r=t.match(i);return null!==r?(e=r[1]||r[2],"#"!==e[0]?"#"+e:e):(r=t.match(n),null!==r?e="rgb("+r.slice(1).join(",")+")":(r=t.match(s),null!==r?e="rgba("+r.slice(1).join(",")+")":null))},e.canvasRatio=function(){var e=1,i=1;if(t.document){var n=t.document.createElement("canvas");if(n.getContext){var s=n.getContext("2d");e=t.devicePixelRatio||1,i=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1}}return e/i}}).call(e,function(){return this}())},function(t,e,i){(function(t){var n=i(13),s="http://www.w3.org/2000/svg";e.initSVG=function(t,e,i){var r,o,a=!1;t&&t.querySelector?null===(o=t.querySelector("style"))&&(a=!0):(t=n.newEl("svg",s),a=!0),a&&(r=n.newEl("defs",s),o=n.newEl("style",s),n.setAttr(o,{type:"text/css"}),r.appendChild(o),t.appendChild(r)),t.webkitMatchesSelector&&t.setAttribute("xmlns",s);for(var l=0;l<t.childNodes.length;l++)8===t.childNodes[l].nodeType&&t.removeChild(t.childNodes[l]);for(;o.childNodes.length;)o.removeChild(o.childNodes[0]);return n.setAttr(t,{width:e,height:i,viewBox:"0 0 "+e+" "+i,preserveAspectRatio:"none"}),t},e.svgStringToDataURI=function(){return function(e,i){return i?"data:image/svg+xml;charset=UTF-8;base64,"+btoa(t.unescape(encodeURIComponent(e))):"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e)}}(),e.serializeSVG=function(e,i){if(t.XMLSerializer){var s=new XMLSerializer,r="",o=i.stylesheets;if(i.svgXMLStylesheet){for(var a=n.createXML(),l=o.length-1;l>=0;l--){var c=a.createProcessingInstruction("xml-stylesheet",'href="'+o[l]+'" rel="stylesheet"');a.insertBefore(c,a.firstChild)}a.removeChild(a.documentElement),r=s.serializeToString(a)}var d=s.serializeToString(e);return d=d.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),r+d}}}).call(e,function(){return this}())},function(t,e){(function(t){e.newEl=function(e,i){return t.document?null==i?t.document.createElement(e):t.document.createElementNS(i,e):void 0},e.setAttr=function(t,e){for(var i in e)t.setAttribute(i,e[i])},e.createXML=function(){return t.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},e.getNodeArray=function(e){var i=null;return"string"==typeof e?i=document.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?i=e:t.Node&&e instanceof t.Node?i=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?i=e:e instanceof Array?i=e:null===e&&(i=[]),i=Array.prototype.slice.call(i)}}).call(e,function(){return this}())},function(t){var e=function(t,e){"string"==typeof t&&(this.original=t,"#"===t.charAt(0)&&(t=t.slice(1)),/[^a-f0-9]+/i.test(t)||(3===t.length&&(t=t.replace(/./g,"$&$&")),6===t.length&&(this.alpha=1,e&&e.alpha&&(this.alpha=e.alpha),this.set(parseInt(t,16)))))};e.rgb2hex=function(t,e,i){function n(t){var e=(0|t).toString(16);return 16>t&&(e="0"+e),e}return[t,e,i].map(n).join("")},e.hsl2rgb=function(t,e,i){var n=t/60,s=(1-Math.abs(2*i-1))*e,r=s*(1-Math.abs(parseInt(n)%2-1)),o=i-s/2,a=0,l=0,c=0;return n>=0&&1>n?(a=s,l=r):n>=1&&2>n?(a=r,l=s):n>=2&&3>n?(l=s,c=r):n>=3&&4>n?(l=r,c=s):n>=4&&5>n?(a=r,c=s):n>=5&&6>n&&(a=s,c=r),a+=o,l+=o,c+=o,a=parseInt(255*a),l=parseInt(255*l),c=parseInt(255*c),[a,l,c]},e.prototype.set=function(t){this.raw=t;var e=(16711680&this.raw)>>16,i=(65280&this.raw)>>8,n=255&this.raw,s=.2126*e+.7152*i+.0722*n,r=-.09991*e-.33609*i+.436*n,o=.615*e-.55861*i-.05639*n;return this.rgb={r:e,g:i,b:n},this.yuv={y:s,u:r,v:o},this},e.prototype.lighten=function(t){var i=Math.min(1,Math.max(0,Math.abs(t)))*(0>t?-1:1),n=255*i|0,s=Math.min(255,Math.max(0,this.rgb.r+n)),r=Math.min(255,Math.max(0,this.rgb.g+n)),o=Math.min(255,Math.max(0,this.rgb.b+n)),a=e.rgb2hex(s,r,o);return new e(a)},e.prototype.toHex=function(t){return(t?"#":"")+this.raw.toString(16)},e.prototype.lighterThan=function(t){return t instanceof e||(t=new e(t)),this.yuv.y>t.yuv.y},e.prototype.blendAlpha=function(t){t instanceof e||(t=new e(t));var i=t,n=this,s=i.alpha*i.rgb.r+(1-i.alpha)*n.rgb.r,r=i.alpha*i.rgb.g+(1-i.alpha)*n.rgb.g,o=i.alpha*i.rgb.b+(1-i.alpha)*n.rgb.b;return new e(e.rgb2hex(s,r,o))},t.exports=e},function(t){t.exports={version:"2.9.2",svg_ns:"http://www.w3.org/2000/svg"}},function(t,e,i){function n(t,e){return h.element({tag:e,width:t.width,height:t.height,fill:t.properties.fill})}function s(t){return c.cssProps({fill:t.fill,"font-weight":t.font.weight,"font-family":t.font.family+", monospace","font-size":t.font.size+t.font.units})}function r(t,e,i){var n=i/2;return["M",n,n,"H",t-n,"V",e-n,"H",n,"V",0,"M",0,n,"L",t,e-n,"M",0,e-n,"L",t,n].join(" ")}var o=i(17),a=i(12),l=i(15),c=i(11),d=l.svg_ns,h={element:function(t){var e=t.tag,i=t.content||"";return delete t.tag,delete t.content,[e,i,t]}};t.exports=function(t,e){var i=e.engineSettings,l=i.stylesheets,c=l.map(function(t){return'<?xml-stylesheet rel="stylesheet" href="'+t+'"?>'}).join("\n"),u="holder_"+Number(new Date).toString(16),p=t.root,f=p.children.holderTextGroup,g="#"+u+" text { "+s(f.properties)+" } ";f.y+=.8*f.textPositionData.boundingBox.height;var m=[];Object.keys(f.children).forEach(function(t){var e=f.children[t];Object.keys(e.children).forEach(function(t){var i=e.children[t],n=f.x+e.x+i.x,s=f.y+e.y+i.y,r=h.element({tag:"text",content:i.properties.text,x:n,y:s});m.push(r)})});var v=h.element({tag:"g",content:m}),b=null;if(p.children.holderBg.properties.outline){var y=p.children.holderBg.properties.outline;b=h.element({tag:"path",d:r(p.children.holderBg.width,p.children.holderBg.height,y.width),"stroke-width":y.width,stroke:y.fill,fill:"none"})}var w=n(p.children.holderBg,"rect"),_=[];_.push(w),y&&_.push(b),_.push(v);var x=h.element({tag:"g",id:u,content:_}),C=h.element({tag:"style",content:g,type:"text/css"}),$=h.element({tag:"defs",content:C}),k=h.element({tag:"svg",content:[$,x],width:p.properties.width,height:p.properties.height,xmlns:d,viewBox:[0,0,p.properties.width,p.properties.height].join(" "),preserveAspectRatio:"none"}),D=o(k);return D=c+D[0],a.svgStringToDataURI(D,"background"===e.mode)}},function(t,e,i){i(18),t.exports=function t(e,i,n){"use strict";function s(t){var e=t.match(/^[\w-]+/),i={tag:e?e[0]:"div",attr:{},children:[]},s=t.match(/#([\w-]+)/),r=t.match(/\$([\w-]+)/),o=t.match(/\.[\w-]+/g);return s&&(i.attr.id=s[1],n[s[1]]=i),r&&(n[r[1]]=i),o&&(i.attr["class"]=o.join(" ").replace(/\./g,"")),t.match(/&$/g)&&(p=!1),i}function r(t,e){return null!==e&&!1!==e&&void 0!==e?"string"!=typeof e&&"object"!=typeof e?String(e):e:void 0}function o(t){return t||0===t?String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;"):""}function a(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var l,c,d,h,u=1,p=!0;if(n=n||{},"string"==typeof e[0])e[0]=s(e[0]);else{if(!Array.isArray(e[0]))throw new Error("First element of array must be a string, or an array and not "+JSON.stringify(e[0]));u=0}for(;u<e.length;u++){if(!1===e[u]||null===e[u]){e[0]=!1;break}if(void 0!==e[u]&&!0!==e[u])if("string"==typeof e[u])p&&(e[u]=a(e[u])),e[0].children.push(e[u]);else if("number"==typeof e[u])e[0].children.push(e[u]);else if(Array.isArray(e[u])){if(Array.isArray(e[u][0])){if(e[u].reverse().forEach(function(t){e.splice(u+1,0,t)}),0!==u)continue;u++}t(e[u],i,n),e[u][0]&&e[0].children.push(e[u][0])}else if("function"==typeof e[u])d=e[u];else{if("object"!=typeof e[u])throw new TypeError('"'+e[u]+'" is not allowed as a value.');for(c in e[u])e[u].hasOwnProperty(c)&&null!==e[u][c]&&!1!==e[u][c]&&("style"===c&&"object"==typeof e[u][c]?e[0].attr[c]=JSON.stringify(e[u][c],r).slice(2,-2).replace(/","/g,";").replace(/":"/g,":").replace(/\\"/g,"'"):e[0].attr[c]=e[u][c])}}if(!1!==e[0]){l="<"+e[0].tag;for(h in e[0].attr)e[0].attr.hasOwnProperty(h)&&(l+=" "+h+'="'+o(e[0].attr[h])+'"');l+=">",e[0].children.forEach(function(t){l+=t}),l+="</"+e[0].tag+">",e[0]=l}return n[0]=e[0],d&&d(e[0]),n}},function(t){"use strict";function e(t){var e=""+t,n=i.exec(e);if(!n)return e;var s,r="",o=0,a=0;for(o=n.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}a!==o&&(r+=e.substring(a,o)),a=o+1,r+=s}return a!==o?r+e.substring(a,o):r}var i=/["'&<>]/;t.exports=e},function(t,e,i){var n=i(13),s=i(11);t.exports=function(){var t=n.newEl("canvas"),e=null;return function(i){null==e&&(e=t.getContext("2d"));var n=s.canvasRatio(),r=i.root;t.width=n*r.properties.width,t.height=n*r.properties.height,e.textBaseline="middle";var o=r.children.holderBg,a=n*o.width,l=n*o.height,c=2,d=c/2;e.fillStyle=o.properties.fill,e.fillRect(0,0,a,l),o.properties.outline&&(e.strokeStyle=o.properties.outline.fill,e.lineWidth=o.properties.outline.width,e.moveTo(d,d),e.lineTo(a-d,d),e.lineTo(a-d,l-d),e.lineTo(d,l-d),e.lineTo(d,d),e.moveTo(0,d),e.lineTo(a,l-d),e.moveTo(0,l-d),e.lineTo(a,d),e.stroke());var h=r.children.holderTextGroup;e.font=h.properties.font.weight+" "+n*h.properties.font.size+h.properties.font.units+" "+h.properties.font.family+", monospace",e.fillStyle=h.properties.fill;for(var u in h.children){var p=h.children[u];for(var f in p.children){var g=p.children[f],m=n*(h.x+p.x+g.x),v=n*(h.y+p.y+g.y+h.properties.leading/2);e.fillText(g.properties.text,m,v)}}return t.toDataURL("image/png")}}()}])}),function(t,e){e&&(Holder=t.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package),function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function s(t,e){var i=y.elements;"string"!=typeof i&&(i=i.join(" ")),"string"!=typeof t&&(t=t.join(" ")),y.elements=i+" "+t,c(e)}function r(t){var e=b[t[m]];return e||(e={},v++,t[m]=v,b[v]=e),e}function o(t,i,n){if(i||(i=e),h)return i.createElement(t);n||(n=r(i));var s;return s=n.cache[t]?n.cache[t].cloneNode():g.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),!s.canHaveChildren||f.test(t)||s.tagUrn?s:n.frag.appendChild(s)}function a(t,i){if(t||(t=e),h)return t.createDocumentFragment();i=i||r(t);for(var s=i.frag.cloneNode(),o=0,a=n(),l=a.length;l>o;o++)s.createElement(a[o]);return s}function l(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return y.shivMethods?o(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-:]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function c(t){t||(t=e);var n=r(t);return!y.shivCSS||d||n.hasCSS||(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||l(t,n),t}var d,h,u="3.7.3",p=t.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",v=0,b={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",d="hidden"in t,h=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(t){d=!0,h=!0}}();var y={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:u,shivCSS:!1!==p.shivCSS,supportsUnknownElements:h,shivMethods:!1!==p.shivMethods,type:"default",shivDocument:c,createElement:o,createDocumentFragment:a,addElements:s};t.html5=y,c(e),"object"==typeof module&&module.exports&&(module.exports=y)}("undefined"!=typeof window?window:this,document),function(t){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){!function(){function e(t){return t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-\u201c\u201d\u2019]*/g,"")}t.validator.addMethod("maxWords",function(t,i,n){return this.optional(i)||e(t).match(/\b\w+\b/g).length<=n},t.validator.format("Please enter {0} words or less.")),t.validator.addMethod("minWords",function(t,i,n){return this.optional(i)||e(t).match(/\b\w+\b/g).length>=n},t.validator.format("Please enter at least {0} words.")),t.validator.addMethod("rangeWords",function(t,i,n){var s=e(t),r=/\b\w+\b/g;return this.optional(i)||s.match(r).length>=n[0]&&s.match(r).length<=n[1]},t.validator.format("Please enter between {0} and {1} words."))}(),t.validator.addMethod("accept",function(e,i,n){var s,r,o,a="string"==typeof n?n.replace(/\s/g,""):"image/*",l=this.optional(i);if(l)return l;if("file"===t(i).attr("type")&&(a=a.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace("/*","/.*"),i.files&&i.files.length))for(o=new RegExp(".?("+a+")$","i"),s=0;s<i.files.length;s++)if(r=i.files[s],!r.type.match(o))return!1;return!0},t.validator.format("Please enter a value with a valid mimetype.")),t.validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},"Letters, numbers, and underscores only please"),t.validator.addMethod("bankaccountNL",function(t,e){if(this.optional(e))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t))return!1;var i,n,s,r=t.replace(/ /g,""),o=0,a=r.length;for(i=0;a>i;i++)n=a-i,s=r.substring(i,i+1),o+=n*s;return o%11==0},"Please specify a valid bank account number"),t.validator.addMethod("bankorgiroaccountNL",function(e,i){return this.optional(i)||t.validator.methods.bankaccountNL.call(this,e,i)||t.validator.methods.giroaccountNL.call(this,e,i)},"Please specify a valid bank or giro account number"),t.validator.addMethod("bic",function(t,e){return this.optional(e)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase())},"Please specify a valid BIC code"),t.validator.addMethod("cifES",function(t){"use strict";var e,i,n,s,r,o,a=[];if(t=t.toUpperCase(),!t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(n=0;9>n;n++)a[n]=parseInt(t.charAt(n),10);for(i=a[2]+a[4]+a[6],s=1;8>s;s+=2)r=(2*a[s]).toString(),o=r.charAt(1),i+=parseInt(r.charAt(0),10)+(""===o?0:parseInt(o,10));return!!/^[ABCDEFGHJNPQRSUVW]{1}/.test(t)&&(i+="",e=10-parseInt(i.charAt(i.length-1),10),t+=e,a[8].toString()===String.fromCharCode(64+e)||a[8].toString()===t.charAt(t.length-1))},"Please specify a valid CIF number."),t.validator.addMethod("cpfBR",function(t){if(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==t.length)return!1;var e,i,n,s,r=0;if(e=parseInt(t.substring(9,10),10),i=parseInt(t.substring(10,11),10),n=function(t,e){var i=10*t%11;return 10!==i&&11!==i||(i=0),i===e},""===t||"00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return!1;for(s=1;9>=s;s++)r+=parseInt(t.substring(s-1,s),10)*(11-s);if(n(r,e)){for(r=0,s=1;10>=s;s++)r+=parseInt(t.substring(s-1,s),10)*(12-s);return n(r,i)}return!1},"Please specify a valid CPF number"),t.validator.addMethod("creditcard",function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,s=0,r=0,o=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),r=parseInt(n,10),o&&(r*=2)>9&&(r-=9),s+=r,o=!o;return s%10==0},"Please enter a valid credit card number."),t.validator.addMethod("creditcardtypes",function(t,e,i){if(/[^0-9\-]+/.test(t))return!1;t=t.replace(/\D/g,"");var n=0;return i.mastercard&&(n|=1),i.visa&&(n|=2),i.amex&&(n|=4),i.dinersclub&&(n|=8),i.enroute&&(n|=16),i.discover&&(n|=32),i.jcb&&(n|=64),i.unknown&&(n|=128),i.all&&(n=255),1&n&&/^(5[12345])/.test(t)?16===t.length:2&n&&/^(4)/.test(t)?16===t.length:4&n&&/^(3[47])/.test(t)?15===t.length:8&n&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&n&&/^(2(014|149))/.test(t)?15===t.length:32&n&&/^(6011)/.test(t)?16===t.length:64&n&&/^(3)/.test(t)?16===t.length:64&n&&/^(2131|1800)/.test(t)?15===t.length:!!(128&n)},"Please enter a valid credit card number."),t.validator.addMethod("currency",function(t,e,i){var n,s="string"==typeof i,r=s?i:i[0],o=!!s||i[1];return r=r.replace(/,/g,""),r=o?r+"]":r+"]?",n="^["+r+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",n=new RegExp(n),this.optional(e)||n.test(t)},"Please specify a valid currency"),t.validator.addMethod("dateFA",function(t,e){return this.optional(e)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t)},t.validator.messages.date),t.validator.addMethod("dateITA",function(t,e){var i,n,s,r,o,a=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t)?(i=t.split("/"),n=parseInt(i[0],10),s=parseInt(i[1],10),r=parseInt(i[2],10),o=new Date(Date.UTC(r,s-1,n,12,0,0,0)),a=o.getUTCFullYear()===r&&o.getUTCMonth()===s-1&&o.getUTCDate()===n):a=!1,this.optional(e)||a},t.validator.messages.date),t.validator.addMethod("dateNL",function(t,e){return this.optional(e)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t)},t.validator.messages.date),t.validator.addMethod("extension",function(t,e,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp("\\.("+i+")$","i"))},t.validator.format("Please enter a value with a valid extension.")),t.validator.addMethod("giroaccountNL",function(t,e){return this.optional(e)||/^[0-9]{1,7}$/.test(t)},"Please specify a valid giro account number"),
t.validator.addMethod("iban",function(t,e){if(this.optional(e))return!0;var i,n,s,r,o,a,l,c,d,h=t.replace(/ /g,"").toUpperCase(),u="",p=!0,f="",g="";if(i=h.substring(0,2),a={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},void 0!==(o=a[i])&&(l=new RegExp("^[A-Z]{2}\\d{2}"+o+"$",""),!l.test(h)))return!1;for(n=h.substring(4,h.length)+h.substring(0,4),c=0;c<n.length;c++)s=n.charAt(c),"0"!==s&&(p=!1),p||(u+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(s));for(d=0;d<u.length;d++)r=u.charAt(d),g=""+f+r,f=g%97;return 1===f},"Please specify a valid IBAN"),t.validator.addMethod("integer",function(t,e){return this.optional(e)||/^-?\d+$/.test(t)},"A positive or negative non-decimal number please"),t.validator.addMethod("ipv4",function(t,e){return this.optional(e)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t)},"Please enter a valid IP v4 address."),t.validator.addMethod("ipv6",function(t,e){return this.optional(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t)},"Please enter a valid IP v6 address."),t.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),t.validator.addMethod("letterswithbasicpunc",function(t,e){return this.optional(e)||/^[a-z\-.,()'"\s]+$/i.test(t)},"Letters or punctuation only please"),t.validator.addMethod("mobileNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid mobile number"),t.validator.addMethod("mobileUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),t.validator.addMethod("nieES",function(t){"use strict";return t=t.toUpperCase(),!!t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[T]{1}/.test(t)?t[8]===/^[T]{1}[A-Z0-9]{8}$/.test(t):!!/^[XYZ]{1}/.test(t)&&t[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23))},"Please specify a valid NIE number."),t.validator.addMethod("nifES",function(t){"use strict";return t=t.toUpperCase(),!!t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):!!/^[KLM]{1}/.test(t)&&t[8]===String.fromCharCode(64))},"Please specify a valid NIF number."),jQuery.validator.addMethod("notEqualTo",function(e,i,n){return this.optional(i)||!t.validator.methods.equalTo.call(this,e,i,n)},"Please enter a different value, values must not be the same."),t.validator.addMethod("nowhitespace",function(t,e){return this.optional(e)||/^\S+$/i.test(t)},"No white space please"),t.validator.addMethod("pattern",function(t,e,i){return!!this.optional(e)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(t))},"Invalid format."),t.validator.addMethod("phoneNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid phone number."),t.validator.addMethod("phoneUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),t.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||t.length>9&&t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),t.validator.addMethod("phonesUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),t.validator.addMethod("postalCodeCA",function(t,e){return this.optional(e)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeBR",function(t,e){return this.optional(e)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t)},"Informe um CEP v\xe1lido."),t.validator.addMethod("postalcodeIT",function(t,e){return this.optional(e)||/^\d{5}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeNL",function(t,e){return this.optional(e)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postcodeUK",function(t,e){return this.optional(e)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t)},"Please specify a valid UK postcode"),t.validator.addMethod("require_from_group",function(e,i,n){var s=t(n[1],i.form),r=s.eq(0),o=r.data("valid_req_grp")?r.data("valid_req_grp"):t.extend({},this),a=s.filter(function(){return o.elementValue(this)}).length>=n[0];return r.data("valid_req_grp",o),t(i).data("being_validated")||(s.data("being_validated",!0),s.each(function(){o.element(this)}),s.data("being_validated",!1)),a},t.validator.format("Please fill at least {0} of these fields.")),t.validator.addMethod("skip_or_fill_minimum",function(e,i,n){var s=t(n[1],i.form),r=s.eq(0),o=r.data("valid_skip")?r.data("valid_skip"):t.extend({},this),a=s.filter(function(){return o.elementValue(this)}).length,l=0===a||a>=n[0];return r.data("valid_skip",o),t(i).data("being_validated")||(s.data("being_validated",!0),s.each(function(){o.element(this)}),s.data("being_validated",!1)),l},t.validator.format("Please either skip these fields or fill at least {0} of them.")),t.validator.addMethod("stateUS",function(t,e,i){var n,s=void 0===i,r=!s&&"undefined"!=typeof i.caseSensitive&&i.caseSensitive,o=!s&&"undefined"!=typeof i.includeTerritories&&i.includeTerritories,a=!s&&"undefined"!=typeof i.includeMilitary&&i.includeMilitary;return n=o||a?o&&a?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":o?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",n=r?new RegExp(n):new RegExp(n,"i"),this.optional(e)||n.test(t)},"Please specify a valid state"),t.validator.addMethod("strippedminlength",function(e,i,n){return t(e).text().length>=n},t.validator.format("Please enter at least {0} characters")),t.validator.addMethod("time",function(t,e){return this.optional(e)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t)},"Please enter a valid time, between 00:00 and 23:59"),t.validator.addMethod("time12h",function(t,e){return this.optional(e)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t)},"Please enter a valid time in 12-hour am/pm format"),t.validator.addMethod("url2",function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},t.validator.messages.url),t.validator.addMethod("vinUS",function(t){if(17!==t.length)return!1;var e,i,n,s,r,o,a=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],c=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],d=0;for(e=0;17>e;e++){if(s=c[e],n=t.slice(e,e+1),8===e&&(o=n),isNaN(n)){for(i=0;i<a.length;i++)if(n.toUpperCase()===a[i]){n=l[i],n*=s,isNaN(o)&&8===i&&(o=a[i]);break}}else n*=s;d+=n}return r=d%11,10===r&&(r="X"),r===o},"The specified vehicle identification number (VIN) is invalid."),t.validator.addMethod("zipcodeUS",function(t,e){return this.optional(e)||/^\d{5}(-\d{4})?$/.test(t)},"The specified US ZIP Code is invalid"),t.validator.addMethod("ziprange",function(t,e){return this.optional(e)||/^90[2-5]\d\{2\}-\d{4}$/.test(t)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx")}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,s){return!!(n=i.call(null,s,t,e))&&void 0}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,s){return!(n=i.call(null,s,t,e))&&void 0}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,s;return function(){var r,o,a=this,l=arguments;return r=function(){n=null,i||(s=t.apply(a,l))},o=i&&!n,clearTimeout(n),n=setTimeout(r,e),o&&(s=t.apply(a,l)),s}},throttle:function(t,e){var i,n,s,r,o,a;return o=0,a=function(){o=new Date,s=null,r=t.apply(i,n)},function(){var l=new Date,c=e-(l-o);return i=this,n=arguments,0>=c?(clearTimeout(s),s=null,o=l,r=t.apply(i,n)):s||(s=setTimeout(a,c)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";function t(t){var o,a;return a=e.mixin({},r,t),o={css:s(),classes:a,html:i(a),selectors:n(a)},{css:o.css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(t){e.mixin(t,o)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,function(t,e){i[e]="."+t}),i}function s(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n,s;return n="typeahead:",s={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var s;return s=t.Event(n+e),(i=i||[]).unshift(s),this.$el.trigger.apply(this.$el,i),s},before:function(t){var e,i;return e=[].slice.call(arguments,1),i=this._trigger("before"+t,e),i.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=s[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),s=function(){"use strict";function t(t,e,i,n){var s;if(!i)return this;for(e=e.split(l),i=n?a(i,n):i,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function s(t){var e,i,n,s,o;if(!this._callbacks)return this;for(t=t.split(l),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)s=r(i.sync,this,[e].concat(n)),o=r(i.async,this,[e].concat(n)),s()&&c(o);return this}function r(t,e,i){function n(){for(var n,s=0,r=t.length;!n&&r>s;s+=1)n=!1===t[s].apply(e,i);return!n}return n}function o(){return window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=o();return{onSync:i,onAsync:e,off:n,trigger:s}}(),r=function(t){"use strict";function i(t,i,n){for(var s,r=[],o=0,a=t.length;a>o;o++)r.push(e.escapeRegExChars(t[o]));return s=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",i?new RegExp(s):new RegExp(s,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function r(e){var i,n,r;return(i=a.exec(e.data))&&(r=t.createElement(s.tagName),s.className&&(r.className=s.className),n=e.splitText(i.index),n.splitText(i[0].length),r.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(r,n)),!!i}function o(t,e){for(var i,n=3,s=0;s<t.childNodes.length;s++)i=t.childNodes[s],i.nodeType===n?s+=e(i)?1:0:o(i,e)}var a;s=e.mixin({},n,s),s.node&&s.pattern&&(s.pattern=e.isArray(s.pattern)?s.pattern:[s.pattern],a=i(s.pattern,s.caseSensitive,s.wordsOnly),o(s.node,r))}}(window.document),o=function(){"use strict";function i(i,s){i=i||{},i.input||t.error("input is missing"),s.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,s,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!o(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!o(e);break;default:i=!0}return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;i=r(t,this.query),n=!!i&&this.query.length!==t.length,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,n,s,r=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),s=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",s):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(r._onInput,r,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i;t=this.getInputValue(),e=this.getHint(),i=t!==e&&0===e.indexOf(t),!(""!==t&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:!document.selection||(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),a=function(){"use strict";function i(i,s){i=i||{},i.templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!a(i.name)&&t.error("invalid dataset name: "+i.name),s.mixin(this),this.highlight=!!i.highlight,this.name=i.name||c(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=o(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function i(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:i}function o(i,n){function s(e){return t("<div>").text(n(e))}return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||s}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(l.obj)?{val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},e.mixin(i.prototype,s,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;i=this._getSuggestionsFragment(t,e),n=i.children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var s,o=this;return s=document.createDocumentFragment(),e.each(n,function(e){var n,r;r=o._injectQuery(i,e),n=t(o.templates.suggestion(r)).data(l.obj,e).data(l.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),s.appendChild(n[0])}),this.highlight&&r({className:this.classes.highlight,node:s,pattern:i}),t(s)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){o||(o=!0,t=(t||[]).slice(0,s.limit),a=t.length,s._overwrite(e,t),a<s.limit&&s.async&&s.trigger("asyncRequested",e))}function n(i){i=i||[],!r&&a<s.limit&&(s.cancel=t.noop,a+=i.length,s._append(e,i.slice(0,s.limit-a)),s.async&&s.trigger("asyncReceived",e))}var s=this,r=!1,o=!1,a=0;this.cancel(),this.cancel=function(){r=!0,s.cancel=t.noop,s.async&&s.trigger("asyncCanceled",e)},this.source(e,i,n),!o&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),l=function(){"use strict";function i(i,n){function s(e){var i=r.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(r.$node),new a(e,n)}var r=this;i=i||{},i.node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,s)}return e.mixin(i.prototype,s,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,s;e=t.position().top,i=e+t.outerHeight(!0),n=this.$node.scrollTop(),s=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(n+e):i>s&&this.$node.scrollTop(n+(i-s))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n,s;return i=this.getActiveSelectable(),e=this._getSelectables(),n=i?e.index(i):-1,s=n+t,s=(s+1)%(e.length+1)-1,s=-1>s?e.length-1:s,-1===s?null:e.eq(s)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function i(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,i)),n},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),i}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var i=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),d=function(){"use strict";function i(i,s){var r,o,a,l,c,d,h,u,p,f,g;i=i||{},i.input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),s.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=n(this,"activate","open","_onFocused"),o=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),d=n(this,"isActive","open","_onUpKeyed"),h=n(this,"isActive","open","_onDownKeyed"),u=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),f=n(this,"_openIfActive","_onQueryChanged"),g=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",o,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",d,this).onSync("downKeyed",h,this).onSync("leftKeyed",u,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,function(e){return t[e].apply(t,n)})}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",function(t){var s,r,o;s=document.activeElement,r=n.is(s),o=n.has(s).length>0,e.isMsie()&&(r||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,i,n,s,r,a,l;t=this.menu.getTopSelectable(),
i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(s=o.normalizeQuery(n),r=e.escapeRegExChars(s),a=new RegExp("^(?:"+r+")(.+$)","i"),(l=a.exec(i.val))&&this.input.setHint(n+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,i;return e=this.input.getQuery(),i=this.menu.getSelectableData(t),!(!(i&&e!==i.val)||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(t){var e,i,n,s;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),n=this.menu.getSelectableData(i),s=n?n.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",s)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",s),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function s(e,i){e.each(function(){var e,n=t(this);(e=n.data(g.typeahead))&&i(e,n)})}function r(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function u(t){var i,n;i=t.data(g.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(g.attrs),function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function p(i){var n,s;return n=e.isJQuery(i)||e.isElement(i),s=n?t(i).first():[],s.length?s:null}var f,g,m;f=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(s,h){function u(){var i,u,m,v,b,y,w,_,x,C,$;e.each(h,function(t){t.highlight=!!s.highlight}),i=t(this),u=t(f.html.wrapper),m=p(s.hint),v=p(s.menu),b=!1!==s.hint&&!m,y=!1!==s.menu&&!v,b&&(m=r(i,f)),y&&(v=t(f.html.menu).css(f.css.menu)),m&&m.val(""),i=a(i,f),(b||y)&&(u.css(f.css.wrapper),i.css(b?f.css.input:f.css.inputWithNoHint),i.wrap(u).parent().prepend(b?m:null).append(y?v:null)),$=y?c:l,w=new n({el:i}),_=new o({hint:m,input:i},f),x=new $({node:v,datasets:h},f),C=new d({input:_,menu:x,eventBus:w,minLength:s.minLength},f),i.data(g.www,f),i.data(g.typeahead,C)}var f;return h=e.isArray(h)?h:[].slice.call(arguments,1),s=s||{},f=i(s.classNames),this.each(u)},isEnabled:function(){var t;return s(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return s(this,function(t){t.enable()}),this},disable:function(){return s(this,function(t){t.disable()}),this},isActive:function(){var t;return s(this.first(),function(e){t=e.isActive()}),t},activate:function(){return s(this,function(t){t.activate()}),this},deactivate:function(){return s(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return s(this.first(),function(e){t=e.isOpen()}),t},open:function(){return s(this,function(t){t.open()}),this},close:function(){return s(this,function(t){t.close()}),this},select:function(e){var i=!1,n=t(e);return s(this.first(),function(t){i=t.select(n)}),i},autocomplete:function(e){var i=!1,n=t(e);return s(this.first(),function(t){i=t.autocomplete(n)}),i},moveCursor:function(t){var e=!1;return s(this.first(),function(i){e=i.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(s(this,function(e){e.setVal(t)}),this):(s(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return s(this,function(t,e){u(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=f,this}}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var s,r,o,a=e.nodeName.toLowerCase();return"area"===a?(s=e.parentNode,r=s.name,!(!e.href||!r||"map"!==s.nodeName.toLowerCase())&&(!!(o=t("img[usemap='#"+r+"']")[0])&&i(o))):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),s=isNaN(n);return(s||n>=0)&&e(i,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,r){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each(function(){t(this).css(r,n(this,e)+"px")})},t.fn["outer"+i]=function(e,s){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(r,n(this,e,!0,s)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,s=t(this[0]);s.length&&s[0]!==document;){if(("absolute"===(i=s.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(s.css("zIndex"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var s,r=t.ui[e].prototype;for(s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(t,e,i,n){var s,r=t.plugins[e];if(r&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;s<r.length;s++)t.options[r[s][0]]&&r[s][1].apply(t.element,i)}};var n=0,s=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,r;for(r=0;null!=(s=i[r]);r++)try{(n=t._data(s,"events"))&&n.remove&&t(s).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,r,o,a,l={},c=e.split(".")[0];return e=e.split(".")[1],s=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[c]=t[c]||{},r=t[c][e],o=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=r,e}}()):void(l[e]=n)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||e:e},l,{constructor:o,namespace:c,widgetName:e,widgetFullName:s}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,r=s.call(arguments,1),o=0,a=r.length;a>o;o++)for(i in r[o])n=r[o][i],r[o].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=s.call(arguments,1),l=this;return o?this.each(function(){var i,s=t.data(this,n);return"instance"===r?(l=s,!1):s?t.isFunction(s[r])&&"_"!==r.charAt(0)?(i=s[r].apply(s,a),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,r,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},n=e.split("."),e=n.shift(),n.length){for(s=o[e]=t.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)s[n[r]]=s[n[r]]||{},s=s[n[r]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,o){function a(){return e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,d=l[2];d?s.delegate(d,c,a):i.bind(c,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,r,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,r){"string"==typeof s&&(s={effect:s});var o,a=s?!0===s||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),o=!t.isEmptyObject(s),s.complete=r,s.delay&&n.delay(s.delay),o&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}});var r=(t.widget,!1);t(document).mouseup(function(){r=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,s=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!s&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),r=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),r=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var s,r,o=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,d=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==s)return s;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return t("body").append(n),e=r.offsetWidth,n.css("overflow","scroll"),i=r.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),s=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||s?i.width():i.outerWidth(),height:n||s?i.height():i.outerHeight()}}},t.fn.position=function(s){if(!s||!s.of)return f.apply(this,arguments);s=t.extend({},s);var p,g,m,v,b,y,w=t(s.of),_=t.position.getWithinInfo(s.within),x=t.position.getScrollInfo(_),C=(s.collision||"flip").split(" "),$={};return y=n(w),w[0].preventDefault&&(s.at="left top"),g=y.width,m=y.height,v=y.offset,b=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(s[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):d.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=d.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),$[this]=[t?t[0]:0,e?e[0]:0],s[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===s.at[0]?b.left+=g:"center"===s.at[0]&&(b.left+=g/2),"bottom"===s.at[1]?b.top+=m:"center"===s.at[1]&&(b.top+=m/2),p=e($.at,g,m),b.left+=p[0],b.top+=p[1],this.each(function(){var n,c,d=t(this),h=d.outerWidth(),u=d.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),k=h+f+i(this,"marginRight")+x.width,D=u+y+i(this,"marginBottom")+x.height,S=t.extend({},b),T=e($.my,d.outerWidth(),d.outerHeight());"right"===s.my[0]?S.left-=h:"center"===s.my[0]&&(S.left-=h/2),"bottom"===s.my[1]?S.top-=u:"center"===s.my[1]&&(S.top-=u/2),S.left+=T[0],S.top+=T[1],r||(S.left=l(S.left),S.top=l(S.top)),n={marginLeft:f,marginTop:y},t.each(["left","top"],function(e,i){t.ui.position[C[e]]&&t.ui.position[C[e]][i](S,{targetWidth:g,targetHeight:m,elemWidth:h,elemHeight:u,collisionPosition:n,collisionWidth:k,collisionHeight:D,offset:[p[0]+T[0],p[1]+T[1]],my:s.my,at:s.at,within:_,elem:d})}),s.using&&(c=function(t){var e=v.left-S.left,i=e+g-h,n=v.top-S.top,r=n+m-u,l={target:{element:w,left:v.left,top:v.top,width:g,height:m},element:{element:d,left:S.left,top:S.top,width:h,height:u},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":n>0?"bottom":"middle"};h>g&&a(e+i)<g&&(l.horizontal="center"),u>m&&a(n+r)<m&&(l.vertical="middle"),o(a(e),a(i))>o(a(n),a(r))?l.important="horizontal":l.important="vertical",s.using.call(this,t,l)}),d.offset(t.extend(S,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=t.left-e.collisionPosition.marginLeft,l=s-a,c=a+e.collisionWidth-r-s;e.collisionWidth>r?l>0&&0>=c?(i=t.left+l+e.collisionWidth-r-s,t.left+=l-i):t.left=c>0&&0>=l?s:l>c?s+r-e.collisionWidth:s:l>0?t.left+=l:c>0?t.left-=c:t.left=o(t.left-a,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,l=s-a,c=a+e.collisionHeight-r-s;e.collisionHeight>r?l>0&&0>=c?(i=t.top+l+e.collisionHeight-r-s,t.top+=l-i):t.top=c>0&&0>=l?s:l>c?s+r-e.collisionHeight:s:l>0?t.top+=l:c>0?t.top-=c:t.top=o(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,r=s.offset.left+s.scrollLeft,o=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=t.left-e.collisionPosition.marginLeft,d=c-l,h=c+e.collisionWidth-o-l,u="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>d?(0>(i=t.left+u+p+f+e.collisionWidth-o-r)||i<a(d))&&(t.left+=u+p+f):h>0&&((n=t.left-e.collisionPosition.marginLeft+u+p+f-l)>0||a(n)<h)&&(t.left+=u+p+f)},top:function(t,e){var i,n,s=e.within,r=s.offset.top+s.scrollTop,o=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=t.top-e.collisionPosition.marginTop,d=c-l,h=c+e.collisionHeight-o-l,u="top"===e.my[1],p=u?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>d?(0>(n=t.top+p+f+g+e.collisionHeight-o-r)||n<a(d))&&(t.top+=p+f+g):h>0&&((i=t.top-e.collisionPosition.marginTop+p+f+g-l)>0||a(i)<h)&&(t.top+=p+f+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,o,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(l),i=a||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",s=t(l).offset().left,r=s>10&&11>s,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(t){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),s=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options,r=this.document[0];return this.relativeContainer=null,
s.containment?"window"===s.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=t(s.containment),void((n=i[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,s,r,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(s=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-o.grid[1]:s+o.grid[1]:s,r=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-o.grid[0]:r+o.grid[0]:r),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var s=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i,n){var s=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(e,i,n){t.each(n.sortables,function(){var s=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(s=!1),s})),s?(r.isOver||(r.isOver=1,n._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",e),n.dropped=r.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(e),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var s=t("body"),r=n.options;s.css("cursor")&&(r._cursor=s.css("cursor")),s.css("cursor",r.cursor)},stop:function(e,i,n){var s=n.options;s._cursor&&t("body").css("cursor",s._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var s=t(i.helper),r=n.options;s.css("opacity")&&(r._opacity=s.css("opacity")),s.css("opacity",r.opacity)},stop:function(e,i,n){var s=n.options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var s=n.options,r=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<s.scrollSensitivity?o.scrollTop=r=o.scrollTop+s.scrollSpeed:e.pageY-n.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<s.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+s.scrollSpeed:e.pageX-n.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(a).scrollTop()<s.scrollSensitivity?r=t(a).scrollTop(t(a).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<s.scrollSensitivity&&(r=t(a).scrollTop(t(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(a).scrollLeft()<s.scrollSensitivity?r=t(a).scrollLeft(t(a).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<s.scrollSensitivity&&(r=t(a).scrollLeft(t(a).scrollLeft()+s.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var s=n.options;n.snapElements=[],t(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var s,r,o,a,l,c,d,h,u,p,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,b=i.offset.top,y=b+n.helperProportions.height;for(u=n.snapElements.length-1;u>=0;u--)l=n.snapElements[u].left-n.margins.left,c=l+n.snapElements[u].width,d=n.snapElements[u].top-n.margins.top,h=d+n.snapElements[u].height,l-g>v||m>c+g||d-g>y||b>h+g||!t.contains(n.snapElements[u].item.ownerDocument,n.snapElements[u].item)?(n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(d-y)<=g,r=Math.abs(h-b)<=g,o=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,s&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=s||r||o||a,"outer"!==f.snapMode&&(s=Math.abs(d-b)<=g,r=Math.abs(h-y)<=g,o=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,s&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[u].snapping&&(s||r||o||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=s||r||o||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var s,r=n.options,o=t.makeArray(t(r.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});o.length&&(s=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",s+e)}),this.css("zIndex",s+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var s=t(i.helper),r=n.options;s.css("zIndex")&&(r._zIndex=s.css("zIndex")),s.css("zIndex",r.zIndex)},stop:function(e,i,n){var s=n.options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,s=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(s=!0,!1):void 0}),!s&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,s){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,l=o+e.helperProportions.height,c=i.offset.left,d=i.offset.top,h=c+i.proportions().width,u=d+i.proportions().height;switch(n){case"fit":return r>=c&&h>=a&&o>=d&&u>=l;case"intersect":return c<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&d<o+e.helperProportions.height/2&&l-e.helperProportions.height/2<u;case"pointer":return t(s.pageY,d,i.proportions().height)&&t(s.pageX,c,i.proportions().width);case"touch":return(o>=d&&u>=o||l>=d&&u>=l||d>o&&l>u)&&(r>=c&&h>=r||a>=c&&h>=a||c>r&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,s,r=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(s=0;s<a.length;s++)if(a[s]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,r,o=t.ui.intersect(e,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(s=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===s}),r.length&&(n=t(r[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0||(e[n]=1,s=e[n]>0,e[n]=0,s)},_create:function(){var e,i,n,s,r,o=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),r="ui-resizable-"+n,s=t("<div class='ui-resizable-handle "+r+"'></div>"),s.css({zIndex:a.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);this._renderAxis=function(e){var i,n,s,r;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(s,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=s&&s[1]?s[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){a.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,s=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(e){var i,n,s,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(i+=t(r.containment).scrollLeft()||0,n+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===s?this.axis+"-resize":s),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,s=this.originalMousePosition,r=this.axis,o=e.pageX-s.left||0,a=e.pageY-s.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,s,r,o,a,l,c=this.options,d=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&this._hasScroll(i[0],"left")?0:d.sizeDiff.height,r=n?0:d.sizeDiff.width,o={width:d.helper.width()-r,height:d.helper.height()-s},a=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(t.extend(o,{top:l,left:a})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,s,r,o=this.options;r={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,s=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),s<r.maxHeight&&(r.maxHeight=s)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),o&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),r&&c&&(t.left=a-e.minWidth),n&&c&&(t.left=a-e.maxWidth),o&&d&&(t.top=l-e.minHeight),s&&d&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],s=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(s[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,s=i._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,s,r,o,a,l=t(this).resizable("instance"),c=l.options,d=l.element,h=c.containment,u=h instanceof t?h.get(0):/parent/.test(h)?d.parent().get(0):h;u&&(l.containerElement=t(u),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(u),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,s=l.containerSize.height,r=l.containerSize.width,o=l._hasScroll(u,"left")?u.scrollWidth:r,a=l._hasScroll(u)?u.scrollHeight:s,l.parentData={element:u,left:n.left,top:n.top,width:o,height:a}))},resize:function(e){var i,n,s,r,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,c=o.position,d=o._aspectRatio||e.shiftKey,h={top:0,left:0},u=o.containerElement,p=!0;u[0]!==document&&/static/.test(u.css("position"))&&(h=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-h.left),d&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=a.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),d&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),s=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),s&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-h.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-h.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,d&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,d&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,s=e.containerPosition,r=e.containerElement,o=t(e.helper),a=o.offset(),l=o.outerWidth()-e.sizeDiff.width,c=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({
left:a.left-s.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var n=t(this).resizable("instance"),s=n.options,r=n.originalSize,o=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};t(s.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),s={},r=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,s=i.size,r=i.originalSize,o=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,d=l[1]||1,h=Math.round((s.width-r.width)/c)*c,u=Math.round((s.height-r.height)/d)*d,p=r.width+h,f=r.height+u,g=n.maxWidth&&n.maxWidth<p,m=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,b=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),b&&(f+=d),g&&(p-=c),m&&(f-=d),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=o.top-u):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=o.left-h):((0>=f-d||0>=p-c)&&(e=i._getPaddingPlusBorderDimensions(this)),f-d>0?(i.size.height=f,i.position.top=o.top-u):(f=d-e.height,i.size.height=f,i.position.top=o.top+r.height-f),p-c>0?(i.size.width=p,i.position.left=o.left-h):(p=c-e.width,i.size.width=p,i.position.left=o.left+r.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,s=t.data(this,"selectable-item");return s?(n=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",e,{selecting:s.element}):i._trigger("unselecting",e,{unselecting:s.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,r=this.opos[0],o=this.opos[1],a=e.pageX,l=e.pageY;return r>a&&(i=a,a=r,r=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:r,top:o,width:a-r,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===s.tolerance?c=!(i.left>a||i.right<r||i.top>l||i.bottom<o):"fit"===s.tolerance&&(c=i.left>r&&i.right<a&&i.top>o&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,s=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(n=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(n=t(e.target)),!(!n||this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0)))},_mouseStart:function(e,i,n){var s,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,r,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],s))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=t.left,o=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,d=this.offset.click.left,h="x"===this.options.axis||n+c>a&&l>n+c,u="y"===this.options.axis||e+d>r&&o>e+d,p=h&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!n&&(this.floating?r&&"right"===r||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,s,r,o,a=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(r=t(c[n],this.document[0]),s=r.length-1;s>=0;s--)(o=t.data(r[s],this.widgetFullName))&&o!==this&&!o.options.disabled&&l.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,r,o,a,l,c,d=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(s=t(u[i],this.document[0]),n=s.length-1;n>=0;n--)(r=t.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(h.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=h.length-1;i>=0;i--)for(o=h[i][1],a=h[i][0],n=0,c=a.length;c>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",o),d.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,r;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),r=s.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(s)):"tr"===n?e._createTrPlaceholder(e.currentItem,s):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,s,r,o,a,l,c,d,h,u=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&t.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,r=null,d=u.floating||this._isFloating(this.currentItem),o=d?"left":"top",a=d?"width":"height",h=d?"clientX":"clientY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],c=!1,e[h]-l>this.items[n][a]/2&&(c=!0),Math.abs(e[h]-l)<s&&(s=Math.abs(e[h]-l),r=this.items[n],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,r=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<s.length;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),e=s.length;i>e;e++)r.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=s.add(t(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),
this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,r,o,a,l,c=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(s>i||s===i&&(e===c._lastChangedValue||c.values(e)===d.min))&&(s=i,r=t(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,r.addClass("ui-state-active").focus(),a=r.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-r.width()/2,top:e.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,r;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),r=this._valueMin()+n*s,this._trimAlignValue(r)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,r;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,r=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),!1!==r&&this.values(e,i))):i!==this.value()&&!1!==(r=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,s,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(s[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;t=Math.floor(+(t-e).toFixed(this._precision())/i)*i+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,n,s,r,o=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](d,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),s=this._valueMin(),r=this._valueMax(),i=r!==s?(n-s)/(r-s)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](d,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var i,n,s,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,r)))return}switch(s=this.options.step,i=n=this.options.values&&this.options.values.length?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-s)}this._slide(e,r,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var s,r,o,a=e.nodeName.toLowerCase();return"area"===a?(s=e.parentNode,r=s.name,!(!e.href||!r||"map"!==s.nodeName.toLowerCase())&&(!!(o=t("img[usemap='#"+r+"']")[0])&&i(o))):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function n(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){t.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}function l(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),s=isNaN(n);return(s||n>=0)&&e(i,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,r){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each(function(){t(this).css(r,n(this,e)+"px")})},t.fn["outer"+i]=function(e,s){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(r,n(this,e,!0,s)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,s=t(this[0]);s.length&&s[0]!==document;){if(("absolute"===(i=s.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(s.css("zIndex"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var s,r=t.ui[e].prototype;for(s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(t,e,i,n){var s,r=t.plugins[e];if(r&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;s<r.length;s++)t.options[r[s][0]]&&r[s][1].apply(t.element,i)}};var c=0,d=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,r;for(r=0;null!=(s=i[r]);r++)try{(n=t._data(s,"events"))&&n.remove&&t(s).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,r,o,a,l={},c=e.split(".")[0];return e=e.split(".")[1],s=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[c]=t[c]||{},r=t[c][e],o=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=r,e}}()):void(l[e]=n)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||e:e},l,{constructor:o,namespace:c,widgetName:e,widgetFullName:s}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,s=d.call(arguments,1),r=0,o=s.length;o>r;r++)for(i in s[r])n=s[r][i],s[r].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(s){var r="string"==typeof s,o=d.call(arguments,1),a=this;return r?this.each(function(){var i,r=t.data(this,n);return"instance"===s?(a=r,!1):r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,o),i!==r&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+s+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+s+"'")}):(o.length&&(s=t.widget.extend.apply(null,[s].concat(o))),this.each(function(){var e=t.data(this,n);e?(e.option(s||{}),e._init&&e._init()):t.data(this,n,new i(s,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,r,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},n=e.split("."),e=n.shift(),n.length){for(s=o[e]=t.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)s[n[r]]=s[n[r]]||{},s=s[n[r]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,o){function a(){return e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,d=l[2];d?s.delegate(d,c,a):i.bind(c,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,r,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,r){"string"==typeof s&&(s={effect:s});var o,a=s?!0===s||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),o=!t.isEmptyObject(s),s.complete=r,s.delay&&n.delay(s.delay),o&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}});var h=(t.widget,!1);t(document).mouseup(function(){h=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,s=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!s&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),h=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),h=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var s,r,o=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,d=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==s)return s;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return t("body").append(n),e=r.offsetWidth,n.css("overflow","scroll"),i=r.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),s=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||s?i.width():i.outerWidth(),height:n||s?i.height():i.outerHeight()}}},t.fn.position=function(s){if(!s||!s.of)return f.apply(this,arguments);s=t.extend({},s);var p,g,m,v,b,y,w=t(s.of),_=t.position.getWithinInfo(s.within),x=t.position.getScrollInfo(_),C=(s.collision||"flip").split(" "),$={};return y=n(w),w[0].preventDefault&&(s.at="left top"),g=y.width,m=y.height,v=y.offset,b=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(s[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):d.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=d.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),$[this]=[t?t[0]:0,e?e[0]:0],s[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===s.at[0]?b.left+=g:"center"===s.at[0]&&(b.left+=g/2),"bottom"===s.at[1]?b.top+=m:"center"===s.at[1]&&(b.top+=m/2),p=e($.at,g,m),b.left+=p[0],b.top+=p[1],this.each(function(){var n,c,d=t(this),h=d.outerWidth(),u=d.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),k=h+f+i(this,"marginRight")+x.width,D=u+y+i(this,"marginBottom")+x.height,S=t.extend({},b),T=e($.my,d.outerWidth(),d.outerHeight());"right"===s.my[0]?S.left-=h:"center"===s.my[0]&&(S.left-=h/2),"bottom"===s.my[1]?S.top-=u:"center"===s.my[1]&&(S.top-=u/2),S.left+=T[0],S.top+=T[1],r||(S.left=l(S.left),S.top=l(S.top)),n={marginLeft:f,marginTop:y},t.each(["left","top"],function(e,i){t.ui.position[C[e]]&&t.ui.position[C[e]][i](S,{targetWidth:g,targetHeight:m,elemWidth:h,elemHeight:u,collisionPosition:n,collisionWidth:k,collisionHeight:D,offset:[p[0]+T[0],p[1]+T[1]],my:s.my,at:s.at,within:_,elem:d})}),s.using&&(c=function(t){var e=v.left-S.left,i=e+g-h,n=v.top-S.top,r=n+m-u,l={target:{element:w,left:v.left,top:v.top,width:g,height:m},element:{element:d,left:S.left,top:S.top,width:h,height:u},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":n>0?"bottom":"middle"};h>g&&a(e+i)<g&&(l.horizontal="center"),u>m&&a(n+r)<m&&(l.vertical="middle"),o(a(e),a(i))>o(a(n),a(r))?l.important="horizontal":l.important="vertical",s.using.call(this,t,l)}),d.offset(t.extend(S,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=t.left-e.collisionPosition.marginLeft,l=s-a,c=a+e.collisionWidth-r-s;e.collisionWidth>r?l>0&&0>=c?(i=t.left+l+e.collisionWidth-r-s,t.left+=l-i):t.left=c>0&&0>=l?s:l>c?s+r-e.collisionWidth:s:l>0?t.left+=l:c>0?t.left-=c:t.left=o(t.left-a,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,l=s-a,c=a+e.collisionHeight-r-s;e.collisionHeight>r?l>0&&0>=c?(i=t.top+l+e.collisionHeight-r-s,t.top+=l-i):t.top=c>0&&0>=l?s:l>c?s+r-e.collisionHeight:s:l>0?t.top+=l:c>0?t.top-=c:t.top=o(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,r=s.offset.left+s.scrollLeft,o=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=t.left-e.collisionPosition.marginLeft,d=c-l,h=c+e.collisionWidth-o-l,u="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>d?(0>(i=t.left+u+p+f+e.collisionWidth-o-r)||i<a(d))&&(t.left+=u+p+f):h>0&&((n=t.left-e.collisionPosition.marginLeft+u+p+f-l)>0||a(n)<h)&&(t.left+=u+p+f)},top:function(t,e){var i,n,s=e.within,r=s.offset.top+s.scrollTop,o=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=t.top-e.collisionPosition.marginTop,d=c-l,h=c+e.collisionHeight-o-l,u="top"===e.my[1],p=u?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>d?(0>(n=t.top+p+f+g+e.collisionHeight-o-r)||n<a(d))&&(t.top+=p+f+g):h>0&&((i=t.top-e.collisionPosition.marginTop+p+f+g-l)>0||a(i)<h)&&(t.top+=p+f+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,o,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(l),i=a||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",s=t(l).offset().left,r=s>10&&11>s,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position,t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},
_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),r=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),r.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,s=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),s=n.uniqueId().attr("id");e.attr("aria-controls",s),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=s.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),r=s[0]===n[0],o=r&&i.collapsible,a=o?t():s.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:o?t():s,newPanel:a};e.preventDefault(),r&&!i.collapsible||!1===this._trigger("beforeActivate",e,c)||(i.active=!o&&this.headers.index(s),this.active=r?t():s,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),r||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,s,r,o=this,a=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),d=this.options.animate||{},h=c&&d.down||d,u=function(){o._toggleComplete(i)};return"number"==typeof h&&(r=h),"string"==typeof h&&(s=h),s=s||h.easing||d.easing,r=r||h.duration||d.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:r,easing:s,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:s,complete:u,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,r,s,u):t.animate(this.showProps,r,s,u)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,n,s,r,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",s=String.fromCharCode(e.keyCode),r=!1,clearTimeout(this.filterTimer),s===n?r=!0:s=n+s,i=this._filterMenuItems(s),i=r&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(s=String.fromCharCode(e.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(e,i),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,n=this,s=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),n=t("<span>").addClass("ui-menu-icon ui-icon "+s).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),e=r.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,s,r,o,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),0>s?this.activeMenu.scrollTop(r+s):s+a>o&&this.activeMenu.scrollTop(r+s-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,s;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-s<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,s;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+s>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).text()))})}}),t.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,s=this.element[0].nodeName.toLowerCase(),r="textarea"===s,o="input"===s;this.isMultiLine=!!r||!o&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var r=t.ui.keyCode;switch(s.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",s);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",s);break;case r.UP:e=!0,this._keyEvent("previous",s);break;case r.DOWN:e=!0,this._keyEvent("next",s);break;case r.ENTER:this.menu.active&&(e=!0,s.preventDefault(),this.menu.select(s));break;case r.TAB:this.menu.active&&this.menu.select(s);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){var n,s;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(s=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:s})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value),void((n=i.item.attr("aria-label")||s.value)&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||n)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),--this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});var u,p=(t.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",g=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},m=function(e){var i=e.name,n=e.form,s=t([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?t(n).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),s};t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,g),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,s=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===u&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(s)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!i.disabled&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];m(n).not(n).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!i.disabled&&(t(this).addClass("ui-state-active"),u=this,void e.document.one("mouseup",function(){u=null}))}).bind("mouseup"+this.eventNamespace,function(){return!i.disabled&&void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return!i.disabled&&void(e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?m(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(f),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):r.push("ui-button-text-only"),e.addClass(r.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.11.4"}});var v;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,s,r;n=e.nodeName.toLowerCase(),s="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),r=this._newInst(t(e),s),r.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,r):s&&this._inlineDatepicker(e,r)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,s,r,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),"focus"!==n&&"both"!==n||e.focus(this._showDatepicker),"button"!==n&&"both"!==n||(s=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,
alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:s,title:s}):s)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,s,r=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,n=0,s=0;s<t.length;s++)t[s].length>i&&(i=t[s].length,n=s);return n},r.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,s,r){var o,l,c,d,h,u=this._dialogInst;return u||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),u=this._dialogInst=this._newInst(this._dialogInput,!1),u.settings={},t.data(this._dialogInput[0],"datepicker",u)),a(u.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(u,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+d,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var i,n=t(e),s=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),v===s&&(v=null))},_enableDatepicker:function(e){var i,n,s=t(e),r=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,s=t(e),r=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var s,r,o,l,c=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null:(s=i||{},"string"==typeof i&&(s={},s[i]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),a(c.settings,s),null!==o&&void 0!==s.dateFormat&&void 0===s.minDate&&(c.settings.minDate=this._formatDate(c,o)),null!==l&&void 0!==s.dateFormat&&void 0===s.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,r),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,r=t.datepicker._getInst(e.target),o=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv),s[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,s[0]),i=t.datepicker._get(r,"onSelect"),i?(n=t.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,s=t.datepicker._getInst(e.target);return t.datepicker._get(s,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,s,r,o,l,c,d;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(i,"beforeShow"),!1!==(r=s?s.apply(e,[e,i]):{})&&(a(i.settings,r),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return!(o|="fixed"===t(this).css("position"))}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=t.datepicker._get(i,"showAnim"),d=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[c]?i.dpDiv.show(c,t.datepicker._get(i,"showOptions"),d):i.dpDiv[c||"show"](c?d:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,v=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),s=n[1],r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?s-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+r>c&&c>r?Math.abs(r+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),s=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,s,r,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),s=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),n,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,r=this._get(o,"onClose"),r&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),r=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),r=this._getInst(s[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(s)},_selectDay:function(e,i,n,s){var r,o=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(r=this._getInst(o[0]),r.selectedDay=r.currentDay=t("a",s).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),r=this._getInst(s[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),n=this._get(r,"onSelect"),n?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,s,r=this._get(e,"altField");r&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e)),t(r).each(function(){t(this).val(s)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var s,r,o,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,u=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,w=function(t){var i=s+1<e.length&&e.charAt(s+1)===t;return i&&s++,i},_=function(t){var e=w(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s="y"===t?n:1,r=new RegExp("^\\d{"+s+","+n+"}"),o=i.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},x=function(e,n,s){var r=-1,o=t.map(w(e)?s:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(r=e[0],l+=n.length,!1):void 0}),-1!==r)return r+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==e.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<e.length;s++)if(y)"'"!==e.charAt(s)||w("'")?C():y=!1;else switch(e.charAt(s)){case"d":v=_("d");break;case"D":x("D",h,u);break;case"o":b=_("o");break;case"m":m=_("m");break;case"M":m=x("M",p,f);break;case"y":g=_("y");break;case"@":a=new Date(_("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((_("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?C():y=!0;break;default:C()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=g?0:-100)),b>-1)for(m=1,v=b;!((r=this._getDaysInMonth(g,m-1))>=v);)m++,v-=r;if(a=this._daylightSavingAdjust(new Date(g,m-1,v)),a.getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},d=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",u=!1;if(e)for(n=0;n<t.length;n++)if(u)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):u=!1;else switch(t.charAt(n)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=d("D",e.getDay(),s,r);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=d("M",e.getMonth(),o,a);break;case"y":h+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":u=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,s=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||s("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),r=s,o=this._getFormatConfig(t);try{r=this.parseDate(i,n,o)||s}catch(t){n=e?"":n}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=n?r.getDate():0,t.currentMonth=n?r.getMonth():0,t.currentYear=n?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var s=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=n.getFullYear(),r=n.getMonth(),o=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(s,r))}l=a.exec(i)}return new Date(s,r,o)},o=null==i||""===i?n:"string"==typeof i?r(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return o=o&&"Invalid Date"===o.toString()?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,r=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),s===t.selectedMonth&&r===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,r,o,a,l,c,d,h,u,p,f,g,m,v,b,y,w,_,x,C,$,k,D,S,T,I,E,j,A,M,F,P,R,N,O,H,q=new Date,L=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),z=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),W=this._get(t,"hideIfNoPrevNext"),G=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),V=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-Y,tt=t.drawYear;if(0>J&&(J+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-U[0]*U[1]+1,Z.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)0>--J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=G?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-V,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>",s=this._get(t,"nextText"),s=G?this.formatDate(s,this._daylightSavingAdjust(new Date(tt,J+V,1)),this._getFormatConfig(t)):s,r=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+s+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+s+"</span></a>",o=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:L,o=G?this.formatDate(o,a,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(z?"":l)+"</div>":"",d=parseInt(this._get(t,"firstDay"),10),d=isNaN(d)?0:d,h=this._get(t,"showWeek"),u=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),w="",x=0;x<U[0];x++){for(C="",this.maxRows=4,$=0;$<U[1];$++){if(k=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),D=" ui-corner-all",S="",X){if(S+="<div class='ui-datepicker-group",U[1]>1)switch($){case 0:S+=" ui-datepicker-group-first",D=" ui-corner-"+(z?"right":"left");break;case U[1]-1:S+=" ui-datepicker-group-last",D=" ui-corner-"+(z?"left":"right");break;default:S+=" ui-datepicker-group-middle",D=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===x?z?r:n:"")+(/all|right/.test(D)&&0===x?z?n:r:"")+this._generateMonthYearHeader(t,J,tt,Q,Z,x>0||$>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;7>_;_++)I=(_+d)%7,T+="<th scope='col'"+((_+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+u[I]+"'>"+p[I]+"</span></th>";for(S+=T+"</tr></thead><tbody>",E=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,E)),j=(this._getFirstDayOfMonth(tt,J)-d+7)%7,A=Math.ceil((j+E)/7),M=X&&this.maxRows>A?this.maxRows:A,this.maxRows=M,F=this._daylightSavingAdjust(new Date(tt,J,1-j)),P=0;M>P;P++){for(S+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(F)+"</td>":"",_=0;7>_;_++)N=m?m.apply(t.input?t.input[0]:null,[F]):[!0,""],O=F.getMonth()!==J,H=O&&!b||!N[0]||Q&&Q>F||Z&&F>Z,R+="<td class='"+((_+d+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(F.getTime()===k.getTime()&&J===t.selectedMonth&&t._keyEvent||y.getTime()===F.getTime()&&y.getTime()===k.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!v?"":" "+N[1]+(F.getTime()===K.getTime()?" "+this._currentClass:"")+(F.getTime()===L.getTime()?" ui-datepicker-today":""))+"'"+(O&&!v||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(O&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===L.getTime()?" ui-state-highlight":"")+(F.getTime()===K.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);S+=R+"</tr>"}J++,J>11&&(J=0,tt++),S+="</tbody></table>"+(X?"</div>"+(U[0]>0&&$===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=S}w+=C}return w+=c,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,n,s,r,o,a){var l,c,d,h,u,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(r||!m)w+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;12>d;d++)(!l||d>=n.getMonth())&&(!c||d<=s.getMonth())&&(w+="<option value='"+d+"'"+(d===e?" selected='selected'":"")+">"+a[d]+"</option>");w+="</select>"}if(b||(y+=w+(!r&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(e)?u:e},f=p(h[0]),g=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=s?Math.min(g,s.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!r&&m&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),s=t.drawMonth+("M"===i?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,r)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&i>e?i:e;return n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(0>e?e:s[0]*s[1]),1));return 0>e&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i,n,s=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),o=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!s||e.getTime()>=s.getTime())&&(!r||e.getTime()<=r.getTime())&&(!o||e.getFullYear()>=o)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4",t.datepicker,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){
var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(t){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),s=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options,r=this.document[0];return this.relativeContainer=null,s.containment?"window"===s.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=t(s.containment),void((n=i[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,s,r,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(s=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-o.grid[1]:s+o.grid[1]:s,r=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-o.grid[0]:r+o.grid[0]:r),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var s=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i,n){var s=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(e,i,n){t.each(n.sortables,function(){var s=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(s=!1),s})),s?(r.isOver||(r.isOver=1,n._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",e),n.dropped=r.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(e),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var s=t("body"),r=n.options;s.css("cursor")&&(r._cursor=s.css("cursor")),s.css("cursor",r.cursor)},stop:function(e,i,n){var s=n.options;s._cursor&&t("body").css("cursor",s._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var s=t(i.helper),r=n.options;s.css("opacity")&&(r._opacity=s.css("opacity")),s.css("opacity",r.opacity)},stop:function(e,i,n){var s=n.options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var s=n.options,r=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<s.scrollSensitivity?o.scrollTop=r=o.scrollTop+s.scrollSpeed:e.pageY-n.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<s.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+s.scrollSpeed:e.pageX-n.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(a).scrollTop()<s.scrollSensitivity?r=t(a).scrollTop(t(a).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<s.scrollSensitivity&&(r=t(a).scrollTop(t(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(a).scrollLeft()<s.scrollSensitivity?r=t(a).scrollLeft(t(a).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<s.scrollSensitivity&&(r=t(a).scrollLeft(t(a).scrollLeft()+s.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var s=n.options;n.snapElements=[],t(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var s,r,o,a,l,c,d,h,u,p,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,b=i.offset.top,y=b+n.helperProportions.height;for(u=n.snapElements.length-1;u>=0;u--)l=n.snapElements[u].left-n.margins.left,c=l+n.snapElements[u].width,d=n.snapElements[u].top-n.margins.top,h=d+n.snapElements[u].height,l-g>v||m>c+g||d-g>y||b>h+g||!t.contains(n.snapElements[u].item.ownerDocument,n.snapElements[u].item)?(n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(d-y)<=g,r=Math.abs(h-b)<=g,o=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,s&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=s||r||o||a,"outer"!==f.snapMode&&(s=Math.abs(d-b)<=g,r=Math.abs(h-y)<=g,o=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,s&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[u].snapping&&(s||r||o||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=s||r||o||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var s,r=n.options,o=t.makeArray(t(r.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});o.length&&(s=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",s+e)}),this.css("zIndex",s+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var s=t(i.helper),r=n.options;s.css("zIndex")&&(r._zIndex=s.css("zIndex")),s.css("zIndex",r.zIndex)},stop:function(e,i,n){var s=n.options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0||(e[n]=1,s=e[n]>0,e[n]=0,s)},_create:function(){var e,i,n,s,r,o=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),r="ui-resizable-"+n,s=t("<div class='ui-resizable-handle "+r+"'></div>"),s.css({zIndex:a.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);this._renderAxis=function(e){var i,n,s,r;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(s,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=s&&s[1]?s[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){a.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,s=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(e){var i,n,s,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(i+=t(r.containment).scrollLeft()||0,n+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===s?this.axis+"-resize":s),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,s=this.originalMousePosition,r=this.axis,o=e.pageX-s.left||0,a=e.pageY-s.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,s,r,o,a,l,c=this.options,d=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&this._hasScroll(i[0],"left")?0:d.sizeDiff.height,r=n?0:d.sizeDiff.width,o={width:d.helper.width()-r,height:d.helper.height()-s},a=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(t.extend(o,{top:l,left:a})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,s,r,o=this.options;r={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,s=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),s<r.maxHeight&&(r.maxHeight=s)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),o&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),r&&c&&(t.left=a-e.minWidth),n&&c&&(t.left=a-e.maxWidth),o&&d&&(t.top=l-e.minHeight),s&&d&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],s=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(s[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,s=i._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,s,r,o,a,l=t(this).resizable("instance"),c=l.options,d=l.element,h=c.containment,u=h instanceof t?h.get(0):/parent/.test(h)?d.parent().get(0):h;u&&(l.containerElement=t(u),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(u),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,s=l.containerSize.height,r=l.containerSize.width,o=l._hasScroll(u,"left")?u.scrollWidth:r,a=l._hasScroll(u)?u.scrollHeight:s,l.parentData={element:u,left:n.left,top:n.top,width:o,height:a}))},resize:function(e){var i,n,s,r,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,c=o.position,d=o._aspectRatio||e.shiftKey,h={top:0,left:0},u=o.containerElement,p=!0;u[0]!==document&&/static/.test(u.css("position"))&&(h=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-h.left),d&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=a.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),d&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),s=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),s&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-h.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-h.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,d&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,d&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,s=e.containerPosition,r=e.containerElement,o=t(e.helper),a=o.offset(),l=o.outerWidth()-e.sizeDiff.width,c=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){
var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var n=t(this).resizable("instance"),s=n.options,r=n.originalSize,o=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};t(s.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),s={},r=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,s=i.size,r=i.originalSize,o=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,d=l[1]||1,h=Math.round((s.width-r.width)/c)*c,u=Math.round((s.height-r.height)/d)*d,p=r.width+h,f=r.height+u,g=n.maxWidth&&n.maxWidth<p,m=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,b=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),b&&(f+=d),g&&(p-=c),m&&(f-=d),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=o.top-u):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=o.left-h):((0>=f-d||0>=p-c)&&(e=i._getPaddingPlusBorderDimensions(this)),f-d>0?(i.size.height=f,i.position.top=o.top-u):(f=d-e.height,i.size.height=f,i.position.top=o.top+r.height-f),p-c>0?(i.size.width=p,i.position.left=o.left-h):(p=c-e.width,i.size.width=p,i.position.left=o.left+r.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(i=this.document[0].activeElement)&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),r=Math.max.apply(null,s);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");e.target!==s[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){s.focus()}),e.preventDefault()):(this._delay(function(){n.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var s,r;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),s=n.click,n.click=function(){s.apply(e.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(r).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(s))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(s,r){var o=r.offset.left-i.document.scrollLeft(),a=r.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,e(r))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,s=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,s){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(s))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(s,r){var o=i.uiDialog.offset(),a=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,e(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,s={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(s[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,e){var i,n,s=this.uiDialog;"dialogClass"===t&&s.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=s.is(":data(ui-draggable)"),i&&!e&&s.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=s.is(":data(ui-resizable)"),n&&!e&&s.resizable("destroy"),n&&"string"==typeof e&&s.resizable("option","handles",e),n||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,s=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(s=!0,!1):void 0}),!s&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,s){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,l=o+e.helperProportions.height,c=i.offset.left,d=i.offset.top,h=c+i.proportions().width,u=d+i.proportions().height;switch(n){case"fit":return r>=c&&h>=a&&o>=d&&u>=l;case"intersect":return c<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&d<o+e.helperProportions.height/2&&l-e.helperProportions.height/2<u;case"pointer":return t(s.pageY,d,i.proportions().height)&&t(s.pageX,c,i.proportions().width);case"touch":return(o>=d&&u>=o||l>=d&&u>=l||d>o&&l>u)&&(r>=c&&h>=r||a>=c&&h>=a||c>r&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,s,r=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(s=0;s<a.length;s++)if(a[s]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,r,o=t.ui.intersect(e,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(s=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===s}),r.length&&(n=t(r[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}};var b=(t.ui.droppable,"ui-effects-"),y=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var n=d[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=l(),n=i._rgba=[];return e=e.toLowerCase(),p(a,function(t,s){var r,o=s.re.exec(e),a=o&&s.parse(o),l=s.space||"rgba";return a?(r=i[l](a),i[c[l].cache]=r[c[l].cache],n=i._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,r.transparent),i):r[e]}function s(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var r,o=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=l.support={},u=t("<p>")[0],p=t.each;u.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=u.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(s,o,a,d){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(o),o=e);var h=this,u=t.type(s),f=this._rgba=[];return o!==e&&(s=[s,o,a,d],u="array"),"string"===u?this.parse(n(s)||r._default):"array"===u?(p(c.rgba.props,function(t,e){f[e.idx]=i(s[e.idx],e)}),this):"object"===u?(s instanceof l?p(c,function(t,e){s[e.cache]&&(h[e.cache]=s[e.cache].slice())}):p(c,function(e,n){var r=n.cache;p(n.props,function(t,e){if(!h[r]&&n.to){if("alpha"===t||null==s[t])return;h[r]=n.to(h._rgba)}h[r][e.idx]=i(s[t],e,!0)}),h[r]&&t.inArray(null,h[r].slice(0,3))<0&&(h[r][3]=1,n.from&&(h._rgba=n.from(h[r])))}),this):void 0},is:function(t){var e=l(t),i=!0,n=this;return p(c,function(t,s){var r,o=e[s.cache];return o&&(r=n[s.cache]||s.to&&s.to(n._rgba)||[],p(s.props,function(t,e){return null!=o[e.idx]?i=o[e.idx]===r[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return p(c,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=l(t),s=n._space(),r=c[s],o=0===this.alpha()?l("transparent"):this,a=o[r.cache]||r.to(o._rgba),h=a.slice();return n=n[r.cache],p(r.props,function(t,s){var r=s.idx,o=a[r],l=n[r],c=d[s.type]||{};null!==l&&(null===o?h[r]=l:(c.mod&&(l-o>c.mod/2?o+=c.mod:o-l>c.mod/2&&(o-=c.mod)),h[r]=i((l-o)*e+o,s)))}),this[s](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=l(e)._rgba;return l(t.map(i,function(t,e){return(1-n)*s[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,s=t[1]/255,r=t[2]/255,o=t[3],a=Math.max(n,s,r),l=Math.min(n,s,r),c=a-l,d=a+l,h=.5*d;return e=l===a?0:n===a?60*(s-r)/c+360:s===a?60*(r-n)/c+120:60*(n-s)/c+240,i=0===c?0:.5>=h?c/d:c/(2-d),[Math.round(e)%360,i,h,null==o?1:o]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],r=t[3],o=.5>=n?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*s(a,o,e+1/3)),Math.round(255*s(a,o,e)),Math.round(255*s(a,o,e-1/3)),r]},p(c,function(n,s){var r=s.props,a=s.cache,c=s.to,d=s.from;l.fn[n]=function(n){if(c&&!this[a]&&(this[a]=c(this._rgba)),n===e)return this[a].slice();var s,o=t.type(n),h="array"===o||"object"===o?n:arguments,u=this[a].slice();return p(r,function(t,e){var n=h["object"===o?t:e.idx];null==n&&(n=u[e.idx]),u[e.idx]=i(n,e)}),d?(s=l(d(u)),s[a]=u,s):l(u)},p(r,function(e,i){l.fn[e]||(l.fn[e]=function(s){var r,a=t.type(s),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),d=c[i.idx];return"undefined"===a?d:("function"===a&&(s=s.call(this,d),a=t.type(s)),null==s&&i.empty?this:("string"===a&&(r=o.exec(s))&&(s=d+parseFloat(r[2])*("+"===r[1]?1:-1)),c[i.idx]=s,this[l](c)))})})}),l.hook=function(e){var i=e.split(" ");p(i,function(e,i){t.cssHooks[i]={set:function(e,s){var r,o,a="";if("transparent"!==s&&("string"!==t.type(s)||(r=n(s)))){if(s=l(r||s),!h.rgba&&1!==s._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&o&&o.style;)try{a=t.css(o,"backgroundColor"),o=o.parentNode}catch(t){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(y),function(){function e(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(r[t.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(r[i]=s[i]);return r}function i(e,i){var n,r,o={};for(n in i)r=i[n],e[n]!==r&&(s[n]||!t.fx.step[n]&&isNaN(parseFloat(r))||(o[n]=r));return o}var n=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(y.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(s,r,o,a){var l=t.speed(r,o,a);return this.queue(function(){var r,o=t(this),a=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){return{el:t(this),start:e(this)}}),r=function(){t.each(n,function(t,e){s[e]&&o[e+"Class"](s[e])})},r(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",a),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,n,s,r){return n?t.effects.animateClass.call(this,{add:i},n,s,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,s,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,s,r,o){return"boolean"==typeof n||void 0===n?s?t.effects.animateClass.call(this,n?{add:i}:{remove:i},s,r,o):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,s,r)}}(t.fn.toggleClass),switchClass:function(e,i,n,s,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,r)}})}(),function(){function e(e,i,n,s){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=s||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(b+e[i],t[0].style[e[i]])},restore:function(t,e){var i,n;for(n=0;n<e.length;n++)null!==e[n]&&(i=t.data(b+e[n]),void 0===i&&(i=""),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return e.wrap(n),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(s),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(s[i]=r[0]*n+r[1])}),s}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(r)&&r.call(s[0]),t.isFunction(e)&&e()}var s=t(this),r=n.complete,a=n.mode;(s.is(":hidden")?"hide"===a:"show"===a)?(s[a](),i()):o.call(s[0],n,i)}var n=e.apply(this,arguments),s=n.mode,r=n.queue,o=t.effects.effect[n.effect];return t.fx.off||!o?s?this[s](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):!1===r?this.each(i):this.queue(r||"fx",i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var s=e.apply(this,arguments);return s.mode="show",this.effect.call(this,s)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var s=e.apply(this,arguments);return s.mode="hide",this.effect.call(this,s)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var s=e.apply(this,arguments);return s.mode="toggle",this.effect.call(this,s)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,
t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}(),t.effects,t.effects.effect.blind=function(e,i){var n,s,r,o=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],d=t.effects.setMode(o,e.mode||"hide"),h=e.direction||"up",u=a.test(h),p=u?"height":"width",f=u?"top":"left",g=l.test(h),m={},v="show"===d;o.parent().is(".ui-effects-wrapper")?t.effects.save(o.parent(),c):t.effects.save(o,c),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),s=n[p](),r=parseFloat(n.css(f))||0,m[p]=v?s:0,g||(o.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),m[f]=v?r:s+r),v&&(n.css(p,0),g||n.css(f,r+s)),n.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===d&&o.hide(),t.effects.restore(o,c),t.effects.removeWrapper(o),i()}})},t.effects.effect.bounce=function(e,i){var n,s,r,o=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"effect"),c="hide"===l,d="show"===l,h=e.direction||"up",u=e.distance,p=e.times||5,f=2*p+(d||c?1:0),g=e.duration/f,m=e.easing,v="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,y=o.queue(),w=y.length;for((d||c)&&a.push("opacity"),t.effects.save(o,a),o.show(),t.effects.createWrapper(o),u||(u=o["top"===v?"outerHeight":"outerWidth"]()/3),d&&(r={opacity:1},r[v]=0,o.css("opacity",0).css(v,b?2*-u:2*u).animate(r,g,m)),c&&(u/=Math.pow(2,p-1)),r={},r[v]=0,n=0;p>n;n++)s={},s[v]=(b?"-=":"+=")+u,o.animate(s,g,m).animate(r,g,m),u=c?2*u:u/2;c&&(s={opacity:0},s[v]=(b?"-=":"+=")+u,o.animate(s,g,m)),o.queue(function(){c&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,f+1))),o.dequeue()},t.effects.effect.clip=function(e,i){var n,s,r,o=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"hide"),c="show"===l,d=e.direction||"vertical",h="vertical"===d,u=h?"height":"width",p=h?"top":"left",f={};t.effects.save(o,a),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),s="IMG"===o[0].tagName?n:o,r=s[u](),c&&(s.css(u,0),s.css(p,r/2)),f[u]=c?r:0,f[p]=c?0:r/2,s.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()}})},t.effects.effect.drop=function(e,i){var n,s=t(this),r=["position","top","bottom","left","right","opacity","height","width"],o=t.effects.setMode(s,e.mode||"hide"),a="show"===o,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};t.effects.save(s,r),s.show(),t.effects.createWrapper(s),n=e.distance||s["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&s.css("opacity",0).css(c,"pos"===d?-n:n),h[c]=(a?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+n,s.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,r),t.effects.removeWrapper(s),i()}})},t.effects.effect.explode=function(e,i){function n(){y.push(this),y.length===h*u&&s()}function s(){p.css({visibility:"visible"}),t(y).remove(),g||p.hide(),i()}var r,o,a,l,c,d,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=h,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/u),b=Math.ceil(p.outerHeight()/h),y=[];for(r=0;h>r;r++)for(l=m.top+r*b,d=r-(h-1)/2,o=0;u>o;o++)a=m.left+o*v,c=o-(u-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-r*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(g?c*v:0),top:l+(g?d*b:0),opacity:g?0:1}).animate({left:a+(g?0:c*v),top:l+(g?0:d*b),opacity:g?1:0},e.duration||500,e.easing,n)},t.effects.effect.fade=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var n,s,r=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(r,e.mode||"hide"),l="show"===a,c="hide"===a,d=e.size||15,h=/([0-9]+)%/.exec(d),u=!!e.horizFirst,p=l!==u,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(r,o),r.show(),n=t.effects.createWrapper(r).css({overflow:"hidden"}),s=p?[n.width(),n.height()]:[n.height(),n.width()],h&&(d=parseInt(h[1],10)/100*s[c?0:1]),l&&n.css(u?{height:0,width:d}:{height:d,width:0}),m[f[0]]=l?s[0]:d,v[f[1]]=l?s[1]:0,n.animate(m,g,e.easing).animate(v,g,e.easing,function(){c&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()})},t.effects.effect.highlight=function(e,i){var n=t(this),s=["backgroundImage","backgroundColor","opacity"],r=t.effects.setMode(n,e.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===r&&(o.opacity=0),t.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&n.hide(),t.effects.restore(n,s),i()}})},t.effects.effect.size=function(e,i){var n,s,r,o=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],d=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(o,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=o.css("position"),b=f?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===e.mode&&"show"===p?(o.from=e.to||y,o.to=e.from||n):(o.from=e.from||("show"===p?y:n),o.to=e.to||("hide"===p?y:n)),r={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},"box"!==g&&"both"!==g||(r.from.y!==r.to.y&&(b=b.concat(h),o.from=t.effects.setTransition(o,h,r.from.y,o.from),o.to=t.effects.setTransition(o,h,r.to.y,o.to)),r.from.x!==r.to.x&&(b=b.concat(u),o.from=t.effects.setTransition(o,u,r.from.x,o.from),o.to=t.effects.setTransition(o,u,r.to.x,o.to))),"content"!==g&&"both"!==g||r.from.y!==r.to.y&&(b=b.concat(d).concat(c),o.from=t.effects.setTransition(o,d,r.from.y,o.from),o.to=t.effects.setTransition(o,d,r.to.y,o.to)),t.effects.save(o,b),o.show(),t.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(s=t.effects.getBaseline(m,n),o.from.top=(n.outerHeight-o.outerHeight())*s.y,o.from.left=(n.outerWidth-o.outerWidth())*s.x,o.to.top=(n.outerHeight-o.to.outerHeight)*s.y,o.to.left=(n.outerWidth-o.to.outerWidth)*s.x),o.css(o.from),"content"!==g&&"both"!==g||(h=h.concat(["marginTop","marginBottom"]).concat(d),u=u.concat(["marginLeft","marginRight"]),c=a.concat(h).concat(u),o.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,c),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=t.effects.setTransition(i,h,r.from.y,i.from),i.to=t.effects.setTransition(i,h,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=t.effects.setTransition(i,u,r.from.x,i.from),i.to=t.effects.setTransition(i,u,r.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,c)})})),o.animate(o.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),t.effects.restore(o,b),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):t.each(["top","left"],function(t,e){o.css(e,function(e,i){var n=parseInt(i,10),s=t?o.to.left:o.to.top;return"auto"===i?s+"px":n+s+"px"})})),t.effects.removeWrapper(o),i()}})},t.effects.effect.scale=function(e,i){var n=t(this),s=t.extend(!0,{},e),r=t.effects.setMode(n,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===r?0:100),a=e.direction||"both",l=e.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},d={y:"horizontal"!==a?o/100:1,x:"vertical"!==a?o/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==r&&(s.origin=l||["middle","center"],s.restore=!0),s.from=e.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),s.to={height:c.height*d.y,width:c.width*d.x,outerHeight:c.outerHeight*d.y,outerWidth:c.outerWidth*d.x},s.fade&&("show"===r&&(s.from.opacity=0,s.to.opacity=1),"hide"===r&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)},t.effects.effect.puff=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"hide"),r="hide"===s,o=parseInt(e.percent,10)||150,a=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:r?o:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)},t.effects.effect.pulsate=function(e,i){var n,s=t(this),r=t.effects.setMode(s,e.mode||"show"),o="show"===r,a="hide"===r,l=o||"hide"===r,c=2*(e.times||5)+(l?1:0),d=e.duration/c,h=0,u=s.queue(),p=u.length;for(!o&&s.is(":visible")||(s.css("opacity",0).show(),h=1),n=1;c>n;n++)s.animate({opacity:h},d,e.easing),h=1-h;s.animate({opacity:h},d,e.easing),s.queue(function(){a&&s.hide(),i()}),p>1&&u.splice.apply(u,[1,0].concat(u.splice(p,c+1))),s.dequeue()},t.effects.effect.shake=function(e,i){var n,s=t(this),r=["position","top","bottom","left","right","height","width"],o=t.effects.setMode(s,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,c=e.times||3,d=2*c+1,h=Math.round(e.duration/d),u="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},g={},m={},v=s.queue(),b=v.length;for(t.effects.save(s,r),s.show(),t.effects.createWrapper(s),f[u]=(p?"-=":"+=")+l,g[u]=(p?"+=":"-=")+2*l,m[u]=(p?"-=":"+=")+2*l,s.animate(f,h,e.easing),n=1;c>n;n++)s.animate(g,h,e.easing).animate(m,h,e.easing);s.animate(g,h,e.easing).animate(f,h/2,e.easing).queue(function(){"hide"===o&&s.hide(),t.effects.restore(s,r),t.effects.removeWrapper(s),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,d+1))),s.dequeue()},t.effects.effect.slide=function(e,i){var n,s=t(this),r=["position","top","bottom","left","right","width","height"],o=t.effects.setMode(s,e.mode||"show"),a="show"===o,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,h={};t.effects.save(s,r),s.show(),n=e.distance||s["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(s).css({overflow:"hidden"}),a&&s.css(c,d?isNaN(n)?"-"+n:-n:n),h[c]=(a?d?"+=":"-=":d?"-=":"+=")+n,s.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,r),t.effects.removeWrapper(s),i()}})},t.effects.effect.transfer=function(e,i){var n=t(this),s=t(e.to),r="fixed"===s.css("position"),o=t("body"),a=r?o.scrollTop():0,l=r?o.scrollLeft():0,c=s.offset(),d={top:c.top-a,left:c.left-l,height:s.innerHeight(),width:s.innerWidth()},h=n.offset(),u=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(d,e.duration,e.easing,function(){u.remove(),i()})},t.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,s=t.data(this,"selectable-item");return s?(n=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",e,{selecting:s.element}):i._trigger("unselecting",e,{unselecting:s.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,r=this.opos[0],o=this.opos[1],a=e.pageX,l=e.pageY;return r>a&&(i=a,a=r,r=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:r,top:o,width:a-r,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===s.tolerance?c=!(i.left>a||i.right<r||i.top>l||i.bottom<o):"fit"===s.tolerance&&(c=i.left>r&&i.right<a&&i.top>o&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var n=this,s="";t.each(i,function(i,r){r.optgroup!==s&&(t("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:r.optgroup}).appendTo(e),s=r.optgroup),n._renderItemData(e,r)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,s=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),s+=":not(.ui-state-disabled)"),n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](s).eq(-1):i[t+"All"](s).eq(0),n.length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,n){var s=t(n),r=s.parent("optgroup");i.push({element:s,index:e,value:s.val(),label:s.text(),optgroup:r.attr("label")||"",disabled:r.prop("disabled")||s.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),e=s.length;i>e;e++)r.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=s.add(t(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,r,o,a,l,c=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(s>i||s===i&&(e===c._lastChangedValue||c.values(e)===d.min))&&(s=i,r=t(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,r.addClass("ui-state-active").focus(),a=r.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-r.width()/2,top:e.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,r;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),r=this._valueMin()+n*s,this._trimAlignValue(r)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,r;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,r=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),!1!==r&&this.values(e,i))):i!==this.value()&&!1!==(r=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,s,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(s[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e)
;if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;t=Math.floor(+(t-e).toFixed(this._precision())/i)*i+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,n,s,r,o=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](d,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),s=this._valueMin(),r=this._valueMax(),i=r!==s?(n-s)/(r-s)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](d,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var i,n,s,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,r)))return}switch(s=this.options.step,i=n=this.options.values&&this.options.values.length?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-s)}this._slide(e,r,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,s=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(n=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(n=t(e.target)),!(!n||this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0)))},_mouseStart:function(e,i,n){var s,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,r,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],s))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=t.left,o=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,d=this.offset.click.left,h="x"===this.options.axis||n+c>a&&l>n+c,u="y"===this.options.axis||e+d>r&&o>e+d,p=h&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!n&&(this.floating?r&&"right"===r||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,s,r,o,a=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(r=t(c[n],this.document[0]),s=r.length-1;s>=0;s--)(o=t.data(r[s],this.widgetFullName))&&o!==this&&!o.options.disabled&&l.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,r,o,a,l,c,d=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(s=t(u[i],this.document[0]),n=s.length-1;n>=0;n--)(r=t.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(h.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=h.length-1;i>=0;i--)for(o=h[i][1],a=h[i][0],n=0,c=a.length;c>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",o),d.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,r;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),r=s.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(s)):"tr"===n?e._createTrPlaceholder(e.currentItem,s):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,s,r,o,a,l,c,d,h,u=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&t.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,r=null,d=u.floating||this._isFloating(this.currentItem),o=d?"left":"top",a=d?"width":"height",h=d?"clientX":"clientY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],c=!1,e[h]-l>this.items[n][a]/2&&(c=!0),Math.abs(e[h]-l)<s&&(s=Math.abs(e[h]-l),r=this.items[n],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,r=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<s.length;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var s=i.attr(n);void 0!==s&&s.length&&(e[n]=s)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,
void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:l(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:l(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:l(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:l(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void l(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;e=e.cloneNode(!1),i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,s){return t(s).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>s&&(e=0),0>e&&(e=s),e}for(var s=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,s=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var s,r,o,a=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");e._isLocal(n)?(s=n.hash,o=s.substring(1),r=e.element.find(e._sanitizeSelector(s))):(o=l.attr("aria-controls")||t({}).uniqueId()[0].id,s="#"+o,r=e.element.find(s),r.length||(r=e._createPanel(o),r.insertAfter(e.panels[i-1]||e.tablist)),r.attr("aria-live","polite")),r.length&&(e.panels=e.panels.add(r)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o,"aria-labelledby":a}),r.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)!0===e||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),r=s.closest("li"),o=r[0]===n[0],a=o&&i.collapsible,l=a?t():this._getPanelForTab(r),c=n.length?this._getPanelForTab(n):t(),d={oldTab:n,oldPanel:c,newTab:a?t():r,newPanel:l};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",e,d)||(i.active=!a&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(r),e),this._toggle(e,d))},_toggle:function(e,i){function n(){r.running=!1,r._trigger("activate",e,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&r.options.show?r._show(o,r.options.show,n):(o.show(),n())}var r=this,o=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),s()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,s=this.tabs.eq(e),r=s.find(".ui-tabs-anchor"),o=this._getPanelForTab(s),a={tab:s,panel:o},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(r[0])||(this.xhr=t.ajax(this._ajaxSettings(r,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(t,e,s){setTimeout(function(){o.html(t),n._trigger("load",i,a),l(s,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href"),beforeSend:function(e,r){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:r},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(i,n);-1!==s&&n.splice(s,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n.element[0],e.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,s=this,r=e?e.type:null;return"string"==typeof n?this._open(e,t,n):void((i=n.call(t[0],function(i){s._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=r),this._open(e,t,i))})}))&&this._open(e,t,i))},_open:function(e,i,n){function s(t){c.of=t,o.is(":hidden")||o.position(c)}var r,o,a,l,c=t.extend({},this.options.position);if(n){if(r=this._find(i))return void r.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),o=r.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,t("<div>").html(l).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:s}),s(e)):o.position(t.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(s(c.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:o})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,s=t(e?e.currentTarget:this.element),r=this._find(s);return r?(i=r.tooltip,void(r.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),r.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:i}),r.hiding||(r.closing=!1)))):void s.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur"),r=n.element;s.target=s.currentTarget=r[0],e.close(s,!0),t("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(t,e,i,n){function s(e,i){this.element=t(e),this.settings=t.extend({},_,i),this._defaults=_,this._name=w,this.init()}function r(t){t.element.trigger("change")}function o(e){e.element.find("option").each(function(i,n){var s=t(n);void 0===s.data("original-index")&&s.data("original-index",e.elementCount++),void 0===s.data("_selected")&&s.data("_selected",!1)})}function a(e,i,n){e.element.find("option").each(function(e,s){var r=t(s);r.data("original-index")===i&&r.prop("selected",n)})}function l(t,e){return t.replace(/\{(\d+)\}/g,function(t,i){return"undefined"!=typeof e[i]?e[i]:t})}function c(t){if(t.settings.infoText){var e=t.elements.select1.find("option").length,i=t.elements.select2.find("option").length,n=t.element.find("option").length-t.selectedElements,s=t.selectedElements,r="";r=0===n?t.settings.infoTextEmpty:e===n?l(t.settings.infoText,[e,n]):l(t.settings.infoTextFiltered,[e,n]),t.elements.info1.html(r),t.elements.box1.toggleClass("filtered",!(e===n||0===n)),r=0===s?t.settings.infoTextEmpty:i===s?l(t.settings.infoText,[i,s]):l(t.settings.infoTextFiltered,[i,s]),t.elements.info2.html(r),t.elements.box2.toggleClass("filtered",!(i===s||0===s))}}function d(e){e.selectedElements=0,e.elements.select1.empty(),e.elements.select2.empty(),e.element.find("option").each(function(i,n){var s=t(n);s.prop("selected")?(e.selectedElements++,e.elements.select2.append(s.clone(!0).prop("selected",s.data("_selected")))):e.elements.select1.append(s.clone(!0).prop("selected",s.data("_selected")))}),e.settings.showFilterInputs&&(h(e,1),h(e,2)),c(e)}function h(e,i){if(e.settings.showFilterInputs){u(e,i),e.elements["select"+i].empty().scrollTop(0);var n=new RegExp(t.trim(e.elements["filterInput"+i].val()),"gi"),s=e.element.find("option"),r=e.element;r=1===i?s.not(":selected"):r.find("option:selected"),r.each(function(r,o){var a=t(o),l=!0;(o.text.match(n)||e.settings.filterOnValues&&a.attr("value").match(n))&&(l=!1,e.elements["select"+i].append(a.clone(!0).prop("selected",a.data("_selected")))),s.eq(a.data("original-index")).data("filtered"+i,l)}),c(e)}}function u(e,i){var n=e.element.find("option");e.elements["select"+i].find("option").each(function(e,i){var s=t(i);n.eq(s.data("original-index")).data("_selected",s.prop("selected"))})}function p(e){e.find("option").sort(function(e,i){return t(e).data("original-index")>t(i).data("original-index")?1:-1}).appendTo(e)}function f(t){t.elements.select1.find("option").each(function(){t.element.find("option").data("_selected",!1)})}function g(e){"all"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect?"moved"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect||u(e,1):(u(e,1),u(e,2)),e.elements.select1.find("option:selected").each(function(i,n){var s=t(n);s.data("filtered1")||a(e,s.data("original-index"),!0)}),d(e),r(e),p(e.elements.select2)}function m(e){"all"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect?"moved"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect||u(e,2):(u(e,1),u(e,2)),e.elements.select2.find("option:selected").each(function(i,n){var s=t(n);s.data("filtered2")||a(e,s.data("original-index"),!1)}),d(e),r(e),p(e.elements.select1)}function v(e){"all"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect?"moved"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect||u(e,1):(u(e,1),u(e,2)),e.element.find("option").each(function(e,i){var n=t(i);n.data("filtered1")||n.prop("selected",!0)}),d(e),r(e)}function b(e){"all"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect?"moved"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect||u(e,2):(u(e,1),u(e,2)),e.element.find("option").each(function(e,i){var n=t(i);n.data("filtered2")||n.prop("selected",!1)}),d(e),r(e)}function y(t){t.elements.form.submit(function(e){t.elements.filterInput1.is(":focus")?(e.preventDefault(),t.elements.filterInput1.focusout()):t.elements.filterInput2.is(":focus")&&(e.preventDefault(),t.elements.filterInput2.focusout())}),t.element.on("bootstrapDualListbox.refresh",function(e,i){t.refresh(i)}),t.elements.filterClear1.on("click",function(){t.setNonSelectedFilter("",!0)}),t.elements.filterClear2.on("click",function(){t.setSelectedFilter("",!0)}),t.elements.moveButton.on("click",function(){g(t)}),t.elements.moveAllButton.on("click",function(){v(t)}),t.elements.removeButton.on("click",function(){m(t)}),t.elements.removeAllButton.on("click",function(){b(t)}),t.elements.filterInput1.on("change keyup",function(){h(t,1)}),t.elements.filterInput2.on("change keyup",function(){h(t,2)})}var w="bootstrapDualListbox",_={bootstrap2Compatible:!1,filterTextClear:"show all",filterPlaceHolder:"Filter",moveSelectedLabel:"Move selected",moveAllLabel:"Move all",removeSelectedLabel:"Remove selected",removeAllLabel:"Remove all",moveOnSelect:!0,preserveSelectionOnMove:!1,selectedListLabel:!1,nonSelectedListLabel:!1,helperSelectNamePostfix:"_helper",selectorMinimalHeight:100,showFilterInputs:!0,nonSelectedFilter:"",selectedFilter:"",infoText:"Showing all {0}",infoTextFiltered:'<span class="label label-warning">Filtered</span> {0} from {1}',infoTextEmpty:"Empty list",filterOnValues:!1,buttonClass:"btn-white btn-bold"},x=/android/i.test(navigator.userAgent.toLowerCase());s.prototype={init:function(){this.container=t('<div class="bootstrap-duallistbox-container"> <div class="box1">   <label></label>   <span class="info-container">     <span class="info"></span>     <button type="button" class="btn clear1 pull-right"></button>   </span>   <input class="filter" type="text">   <div class="btn-group buttons">     <button type="button" class="btn moveall">       <i></i>       <i></i>     </button>     <button type="button" class="btn move">       <i></i>     </button>   </div>   <select multiple="multiple"></select> </div> <div class="box2">   <label></label>   <span class="info-container">     <span class="info"></span>     <button type="button" class="btn clear2 pull-right"></button>   </span>   <input class="filter" type="text">   <div class="btn-group buttons">     <button type="button" class="btn remove">       <i></i>     </button>     <button type="button" class="btn removeall">       <i></i>       <i></i>     </button>   </div>   <select multiple="multiple"></select> </div></div>').insertBefore(this.element),this.elements={originalSelect:this.element,box1:t(".box1",this.container),box2:t(".box2",this.container),filterInput1:t(".box1 .filter",this.container),filterInput2:t(".box2 .filter",this.container),filterClear1:t(".box1 .clear1",this.container),filterClear2:t(".box2 .clear2",this.container),label1:t(".box1 > label",this.container),label2:t(".box2 > label",this.container),info1:t(".box1 .info",this.container),info2:t(".box2 .info",this.container),select1:t(".box1 select",this.container),select2:t(".box2 select",this.container),moveButton:t(".box1 .move",this.container),removeButton:t(".box2 .remove",this.container),moveAllButton:t(".box1 .moveall",this.container),removeAllButton:t(".box2 .removeall",this.container),form:t(t(".box1 .filter",this.container)[0].form)},this.originalSelectName=this.element.attr("name")||"";var e="bootstrap-duallistbox-nonselected-list_"+this.originalSelectName,i="bootstrap-duallistbox-selected-list_"+this.originalSelectName;return this.elements.select1.attr("id",e),this.elements.select2.attr("id",i),this.elements.label1.attr("for",e),this.elements.label2.attr("for",i),this.selectedElements=0,this.elementCount=0,this.setBootstrap2Compatible(this.settings.bootstrap2Compatible),this.setFilterTextClear(this.settings.filterTextClear),this.setFilterPlaceHolder(this.settings.filterPlaceHolder),this.setMoveSelectedLabel(this.settings.moveSelectedLabel),this.setMoveAllLabel(this.settings.moveAllLabel),this.setRemoveSelectedLabel(this.settings.removeSelectedLabel),this.setRemoveAllLabel(this.settings.removeAllLabel),this.setMoveOnSelect(this.settings.moveOnSelect),this.setPreserveSelectionOnMove(this.settings.preserveSelectionOnMove),this.setSelectedListLabel(this.settings.selectedListLabel),this.setNonSelectedListLabel(this.settings.nonSelectedListLabel),this.setHelperSelectNamePostfix(this.settings.helperSelectNamePostfix),this.setSelectOrMinimalHeight(this.settings.selectorMinimalHeight),o(this),this.setShowFilterInputs(this.settings.showFilterInputs),this.setNonSelectedFilter(this.settings.nonSelectedFilter),this.setSelectedFilter(this.settings.selectedFilter),this.setInfoText(this.settings.infoText),this.setInfoTextFiltered(this.settings.infoTextFiltered),this.setInfoTextEmpty(this.settings.infoTextEmpty),this.setFilterOnValues(this.settings.filterOnValues),this.element.hide(),y(this),d(this),this.element},setBootstrap2Compatible:function(t,e){return this.settings.bootstrap2Compatible=t,t?(this.container.removeClass("row").addClass("row-fluid bs2compatible"),this.container.find(".box1, .box2").removeClass("col-md-6").addClass("span6"),this.container.find(".clear1, .clear2").removeClass("btn-default btn-xs").addClass("btn-mini"),this.container.find("input, select").removeClass("form-control"),this.container.find(".btn").removeClass("btn-default"),this.container.find(".moveall > i, .move > i").removeClass("fa fa-arrow-right").addClass("icon-arrow-right"),this.container.find(".removeall > i, .remove > i").removeClass("fa fa-arrow-left").addClass("icon-arrow-left")):(this.container.removeClass("row-fluid bs2compatible").addClass("row"),this.container.find(".box1, .box2").removeClass("span6").addClass("col-md-6"),this.container.find(".clear1, .clear2").removeClass("btn-mini").addClass("btn-default btn-xs"),this.container.find("input, select").addClass("form-control"),this.container.find(".btn").addClass(this.settings.buttonClass),this.container.find(".moveall > i, .move > i").removeClass("icon-arrow-right").addClass("fa fa-arrow-right"),this.container.find(".removeall > i, .remove > i").removeClass("icon-arrow-left").addClass("fa fa-arrow-left")),e&&d(this),this.element},setFilterTextClear:function(t,e){return this.settings.filterTextClear=t,this.elements.filterClear1.html(t),this.elements.filterClear2.html(t),e&&d(this),this.element},setFilterPlaceHolder:function(t,e){return this.settings.filterPlaceHolder=t,this.elements.filterInput1.attr("placeholder",t),this.elements.filterInput2.attr("placeholder",t),e&&d(this),this.element},setMoveSelectedLabel:function(t,e){return this.settings.moveSelectedLabel=t,this.elements.moveButton.attr("title",t),e&&d(this),this.element},setMoveAllLabel:function(t,e){return this.settings.moveAllLabel=t,this.elements.moveAllButton.attr("title",t),e&&d(this),this.element},setRemoveSelectedLabel:function(t,e){return this.settings.removeSelectedLabel=t,this.elements.removeButton.attr("title",t),e&&d(this),this.element},setRemoveAllLabel:function(t,e){return this.settings.removeAllLabel=t,this.elements.removeAllButton.attr("title",t),e&&d(this),this.element},setMoveOnSelect:function(t,e){if(x&&(t=!0),this.settings.moveOnSelect=t,this.settings.moveOnSelect){this.container.addClass("moveonselect");var i=this;this.elements.select1.on("change",function(){g(i)}),this.elements.select2.on("change",function(){m(i)})}else this.container.removeClass("moveonselect"),this.elements.select1.off("change"),this.elements.select2.off("change");return e&&d(this),this.element},setPreserveSelectionOnMove:function(t,e){return x&&(t=!1),this.settings.preserveSelectionOnMove=t,e&&d(this),this.element},setSelectedListLabel:function(t,e){return this.settings.selectedListLabel=t,t?this.elements.label2.show().html(t):this.elements.label2.hide().html(t),e&&d(this),this.element},setNonSelectedListLabel:function(t,e){return this.settings.nonSelectedListLabel=t,t?this.elements.label1.show().html(t):this.elements.label1.hide().html(t),e&&d(this),this.element},setHelperSelectNamePostfix:function(t,e){return this.settings.helperSelectNamePostfix=t,t?(this.elements.select1.attr("name",this.originalSelectName+t+"1"),this.elements.select2.attr("name",this.originalSelectName+t+"2")):(this.elements.select1.removeAttr("name"),this.elements.select2.removeAttr("name")),e&&d(this),this.element},setSelectOrMinimalHeight:function(t,e){this.settings.selectorMinimalHeight=t;var i=this.element.height();return this.element.height()<t&&(i=t),this.elements.select1.height(i),this.elements.select2.height(i),e&&d(this),this.element},setShowFilterInputs:function(t,e){return t?(this.elements.filterInput1.show(),this.elements.filterInput2.show()):(this.setNonSelectedFilter(""),this.setSelectedFilter(""),d(this),this.elements.filterInput1.hide(),this.elements.filterInput2.hide()),this.settings.showFilterInputs=t,e&&d(this),this.element},setNonSelectedFilter:function(t,e){return this.settings.showFilterInputs?(this.settings.nonSelectedFilter=t,this.elements.filterInput1.val(t),e&&d(this),this.element):void 0},setSelectedFilter:function(t,e){return this.settings.showFilterInputs?(this.settings.selectedFilter=t,this.elements.filterInput2.val(t),e&&d(this),this.element):void 0},setInfoText:function(t,e){return this.settings.infoText=t,e&&d(this),this.element},setInfoTextFiltered:function(t,e){return this.settings.infoTextFiltered=t,e&&d(this),this.element},setInfoTextEmpty:function(t,e){return this.settings.infoTextEmpty=t,e&&d(this),this.element},setFilterOnValues:function(t,e){return this.settings.filterOnValues=t,e&&d(this),this.element},getContainer:function(){return this.container},refresh:function(t){o(this),t?f(this):(u(this,1),u(this,2)),d(this)},destroy:function(){return this.container.remove(),this.element.show(),t.data(this,"plugin_"+w,null),this.element}},t.fn[w]=function(e){var i=arguments
;if(e===n||"object"==typeof e)return this.each(function(){t(this).is("select")?t.data(this,"plugin_"+w)||t.data(this,"plugin_"+w,new s(this,e)):t(this).find("select").each(function(i,n){t(n).bootstrapDualListbox(e)})});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var r;return this.each(function(){var n=t.data(this,"plugin_"+w);n instanceof s&&"function"==typeof n[e]&&(r=n[e].apply(n,Array.prototype.slice.call(i,1)))}),r!==n?r:this}}}(jQuery,window,document),function(t,e,i){function n(i,n,s){var r=e.createElement(i);return n&&(r.id=J+n),s&&(r.style.cssText=s),t(r)}function s(){return i.innerHeight?i.innerHeight:t(i).height()}function r(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var n;return void 0===this.cache[e]&&(n=t(this.el).attr("data-cbox-"+e),void 0!==n?this.cache[e]=n:void 0!==i[e]?this.cache[e]=i[e]:void 0!==Q[e]&&(this.cache[e]=Q[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function o(t){var e=D.length,i=(B+t)%e;return 0>i?e+i:i}function a(t,e){return Math.round((/%/.test(t)?("x"===e?S.width():s())/100:1)*parseInt(t,10))}function l(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function c(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function d(t){"contains"in y[0]&&!y[0].contains(t.target)&&t.target!==b[0]&&(t.stopPropagation(),y.focus())}function h(t){h.str!==t&&(y.add(b).removeClass(h.str).addClass(t),h.str=t)}function u(e){B=0,e&&!1!==e&&"nofollow"!==e?(D=t("."+tt).filter(function(){return new r(this,t.data(this,Z)).get("rel")===e}),-1===(B=D.index(O.el))&&(D=D.add(O.el),B=D.length-1)):D=t(O.el)}function p(i){t(e).trigger(i),at.triggerHandler(i)}function f(i){var s;if(!Y){if(s=t(i).data(Z),O=new r(i,s),u(O.get("rel")),!G){G=U=!0,h(O.get("className")),y.css({visibility:"hidden",display:"block",opacity:""}),T=n(lt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),_.css({width:"",height:""}).append(T),H=x.height()+k.height()+_.outerHeight(!0)-_.height(),q=C.width()+$.width()+_.outerWidth(!0)-_.width(),L=T.outerHeight(!0),z=T.outerWidth(!0);var o=a(O.get("initialWidth"),"x"),l=a(O.get("initialHeight"),"y"),c=O.get("maxWidth"),f=O.get("maxHeight");O.w=Math.max((!1!==c?Math.min(o,a(c,"x")):o)-z-q,0),O.h=Math.max((!1!==f?Math.min(l,a(f,"y")):l)-L-H,0),T.css({width:"",height:O.h}),X.position(),p(et),O.get("onOpen"),N.add(j).hide(),y.focus(),O.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",d,!0),at.one(rt,function(){e.removeEventListener("focus",d,!0)})),O.get("returnFocus")&&at.one(rt,function(){t(O.el).focus()})}var g=parseFloat(O.get("opacity"));b.css({opacity:g===g?g:"",cursor:O.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),O.get("closeButton")?R.html(O.get("close")).appendTo(_):R.appendTo("<div/>"),v()}}function g(){y||(K=!1,S=t(i),y=n(lt).attr({id:Z,"class":!1===t.support.opacity?J+"IE":"",role:"dialog",tabindex:"-1"}).hide(),b=n(lt,"Overlay").hide(),E=t([n(lt,"LoadingOverlay")[0],n(lt,"LoadingGraphic")[0]]),w=n(lt,"Wrapper"),_=n(lt,"Content").append(j=n(lt,"Title"),A=n(lt,"Current"),P=t('<button type="button"/>').attr({id:J+"Previous"}),F=t('<button type="button"/>').attr({id:J+"Next"}),M=n("button","Slideshow"),E),R=t('<button type="button"/>').attr({id:J+"Close"}),w.append(n(lt).append(n(lt,"TopLeft"),x=n(lt,"TopCenter"),n(lt,"TopRight")),n(lt,!1,"clear:left").append(C=n(lt,"MiddleLeft"),_,$=n(lt,"MiddleRight")),n(lt,!1,"clear:left").append(n(lt,"BottomLeft"),k=n(lt,"BottomCenter"),n(lt,"BottomRight"))).find("div div").css({"float":"left"}),I=n(lt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),N=F.add(P).add(A).add(M)),e.body&&!y.parent().length&&t(e.body).append(b,y.append(w,I))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return!!y&&(K||(K=!0,F.click(function(){X.next()}),P.click(function(){X.prev()}),R.click(function(){X.close()}),b.click(function(){O.get("overlayClose")&&X.close()}),t(e).bind("keydown."+J,function(t){var e=t.keyCode;G&&O.get("escKey")&&27===e&&(t.preventDefault(),X.close()),G&&O.get("arrowKey")&&D[1]&&!t.altKey&&(37===e?(t.preventDefault(),P.click()):39===e&&(t.preventDefault(),F.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+J,"."+tt,i):t("."+tt).live("click."+J,i)),!0)}function v(){var e,s,r,o=X.prep,d=++ct;if(U=!0,W=!1,p(ot),p(it),O.get("onLoad"),O.h=O.get("height")?a(O.get("height"),"y")-L-H:O.get("innerHeight")&&a(O.get("innerHeight"),"y"),O.w=O.get("width")?a(O.get("width"),"x")-z-q:O.get("innerWidth")&&a(O.get("innerWidth"),"x"),O.mw=O.w,O.mh=O.h,O.get("maxWidth")&&(O.mw=a(O.get("maxWidth"),"x")-z-q,O.mw=O.w&&O.w<O.mw?O.w:O.mw),O.get("maxHeight")&&(O.mh=a(O.get("maxHeight"),"y")-L-H,O.mh=O.h&&O.h<O.mh?O.h:O.mh),e=O.get("href"),V=setTimeout(function(){E.show()},100),O.get("inline")){var h=t(e);r=t("<div>").hide().insertBefore(h),at.one(ot,function(){r.replaceWith(h)}),o(h)}else O.get("iframe")?o(" "):O.get("html")?o(O.get("html")):l(O,e)?(e=c(O,e),W=O.get("createImg"),t(W).addClass(J+"Photo").bind("error."+J,function(){o(n(lt,"Error").html(O.get("imgError")))}).one("load",function(){d===ct&&setTimeout(function(){var e;O.get("retinaImage")&&i.devicePixelRatio>1&&(W.height=W.height/i.devicePixelRatio,W.width=W.width/i.devicePixelRatio),O.get("scalePhotos")&&(s=function(){W.height-=W.height*e,W.width-=W.width*e},O.mw&&W.width>O.mw&&(e=(W.width-O.mw)/W.width,s()),O.mh&&W.height>O.mh&&(e=(W.height-O.mh)/W.height,s())),O.h&&(W.style.marginTop=Math.max(O.mh-W.height,0)/2+"px"),D[1]&&(O.get("loop")||D[B+1])&&(W.style.cursor="pointer",t(W).bind("click."+J,function(){X.next()})),W.style.width=W.width+"px",W.style.height=W.height+"px",o(W)},1)}),W.src=e):e&&I.load(e,O.get("data"),function(e,i){d===ct&&o("error"===i?n(lt,"Error").html(O.get("xhrError")):t(this).contents())})}var b,y,w,_,x,C,$,k,D,S,T,I,E,j,A,M,F,P,R,N,O,H,q,L,z,B,W,G,U,Y,V,X,K,Q={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,i=t(this).data("cbox-img-attrs");return"object"==typeof i&&t.each(i,function(t,i){e[t]=i}),e},createIframe:function(){var i=e.createElement("iframe"),n=t(this).data("cbox-iframe-attrs");return"object"==typeof n&&t.each(n,function(t,e){i[t]=e}),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},Z="colorbox",J="cbox",tt=J+"Element",et=J+"_open",it=J+"_load",nt=J+"_complete",st=J+"_cleanup",rt=J+"_closed",ot=J+"_purge",at=t("<a/>"),lt="div",ct=0,dt={},ht=function(){function t(){clearTimeout(o)}function e(){(O.get("loop")||D[B+1])&&(t(),o=setTimeout(X.next,O.get("slideshowSpeed")))}function i(){M.html(O.get("slideshowStop")).unbind(l).one(l,n),at.bind(nt,e).bind(it,t),y.removeClass(a+"off").addClass(a+"on")}function n(){t(),at.unbind(nt,e).unbind(it,t),M.html(O.get("slideshowStart")).unbind(l).one(l,function(){X.next(),i()}),y.removeClass(a+"on").addClass(a+"off")}function s(){r=!1,M.hide(),t(),at.unbind(nt,e).unbind(it,t),y.removeClass(a+"off "+a+"on")}var r,o,a=J+"Slideshow_",l="click."+J;return function(){r?O.get("slideshow")||(at.unbind(st,s),s()):O.get("slideshow")&&D[1]&&(r=!0,at.one(st,s),O.get("slideshowAuto")?i():n(),M.show())}}();t[Z]||(t(g),X=t.fn[Z]=t[Z]=function(e,i){var n,s=this;return e=e||{},t.isFunction(s)&&(s=t("<a/>"),e.open=!0),s[0]?(g(),m()&&(i&&(e.onComplete=i),s.each(function(){var i=t.data(this,Z)||{};t.data(this,Z,t.extend(i,e))}).addClass(tt),n=new r(s[0],e),n.get("open")&&f(s[0])),s):s},X.position=function(e,i){function n(){x[0].style.width=k[0].style.width=_[0].style.width=parseInt(y[0].style.width,10)-q+"px",_[0].style.height=C[0].style.height=$[0].style.height=parseInt(y[0].style.height,10)-H+"px"}var r,o,l,c=0,d=0,h=y.offset();if(S.unbind("resize."+J),y.css({top:-9e4,left:-9e4}),o=S.scrollTop(),l=S.scrollLeft(),O.get("fixed")?(h.top-=o,h.left-=l,y.css({position:"fixed"})):(c=o,d=l,y.css({position:"absolute"})),d+=!1!==O.get("right")?Math.max(S.width()-O.w-z-q-a(O.get("right"),"x"),0):!1!==O.get("left")?a(O.get("left"),"x"):Math.round(Math.max(S.width()-O.w-z-q,0)/2),c+=!1!==O.get("bottom")?Math.max(s()-O.h-L-H-a(O.get("bottom"),"y"),0):!1!==O.get("top")?a(O.get("top"),"y"):Math.round(Math.max(s()-O.h-L-H,0)/2),y.css({top:h.top,left:h.left,visibility:"visible"}),w[0].style.width=w[0].style.height="9999px",r={width:O.w+z+q,height:O.h+L+H,top:c,left:d},e){var u=0;t.each(r,function(t){return r[t]!==dt[t]?void(u=e):void 0}),e=u}dt=r,e||y.css(r),y.dequeue().animate(r,{duration:e||0,complete:function(){n(),U=!1,w[0].style.width=O.w+z+q+"px",w[0].style.height=O.h+L+H+"px",O.get("reposition")&&setTimeout(function(){S.bind("resize."+J,X.position)},1),t.isFunction(i)&&i()},step:n})},X.resize=function(t){var e;G&&(t=t||{},t.width&&(O.w=a(t.width,"x")-z-q),t.innerWidth&&(O.w=a(t.innerWidth,"x")),T.css({width:O.w}),t.height&&(O.h=a(t.height,"y")-L-H),t.innerHeight&&(O.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=T.scrollTop(),T.css({height:"auto"}),O.h=T.height()),T.css({height:O.h}),e&&T.scrollTop(e),X.position("none"===O.get("transition")?0:O.get("speed")))},X.prep=function(i){function s(){return O.w=O.w||T.width(),O.w=O.mw&&O.mw<O.w?O.mw:O.w,O.w}function a(){return O.h=O.h||T.height(),O.h=O.mh&&O.mh<O.h?O.mh:O.h,O.h}if(G){var d,u="none"===O.get("transition")?0:O.get("speed");T.remove(),T=n(lt,"LoadedContent").append(i),T.hide().appendTo(I.show()).css({width:s(),overflow:O.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(_),I.hide(),t(W).css({"float":"none"}),h(O.get("className")),d=function(){function i(){!1===t.support.opacity&&y[0].style.removeAttribute("filter")}var n,s,a=D.length;G&&(s=function(){clearTimeout(V),E.hide(),p(nt),O.get("onComplete")},j.html(O.get("title")).show(),T.show(),a>1?("string"==typeof O.get("current")&&A.html(O.get("current").replace("{current}",B+1).replace("{total}",a)).show(),F[O.get("loop")||a-1>B?"show":"hide"]().html(O.get("next")),P[O.get("loop")||B?"show":"hide"]().html(O.get("previous")),ht(),O.get("preloading")&&t.each([o(-1),o(1)],function(){var i,n=D[this],s=new r(n,t.data(n,Z)),o=s.get("href");o&&l(s,o)&&(o=c(s,o),i=e.createElement("img"),i.src=o)})):N.hide(),O.get("iframe")?(n=O.get("createIframe"),O.get("scrolling")||(n.scrolling="no"),t(n).attr({src:O.get("href"),"class":J+"Iframe"}).one("load",s).appendTo(T),at.one(ot,function(){n.src="//about:blank"}),O.get("fastIframe")&&t(n).trigger("load")):s(),"fade"===O.get("transition")?y.fadeTo(u,1,i):i())},"fade"===O.get("transition")?y.fadeTo(u,0,function(){X.position(0,d)}):X.position(u,d)}},X.next=function(){!U&&D[1]&&(O.get("loop")||D[B+1])&&(B=o(1),f(D[B]))},X.prev=function(){!U&&D[1]&&(O.get("loop")||B)&&(B=o(-1),f(D[B]))},X.close=function(){G&&!Y&&(Y=!0,G=!1,p(st),O.get("onCleanup"),S.unbind("."+J),b.fadeTo(O.get("fadeOut")||0,0),y.stop().fadeTo(O.get("fadeOut")||0,0,function(){y.hide(),b.hide(),p(ot),T.remove(),setTimeout(function(){Y=!1,p(rt),O.get("onClosed")},1)}))},X.remove=function(){y&&(y.stop(),t[Z].close(),y.stop(!1,!0).remove(),b.remove(),Y=!1,y=null,t("."+tt).removeData(Z).removeClass(tt),t(e).unbind("click."+J).unbind("keydown."+J))},X.element=function(){return t(O.el)},X.settings=Q)}(jQuery,document,window),$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-xs-6'l><'col-xs-6'f>r>t<'row'<'col-xs-6'i><'col-xs-6'p>>",oLanguage:{sLengthMenu:"Display _MENU_ records"}}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),$.fn.dataTable.Api?($.fn.dataTable.defaults.renderer="bootstrap",$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(t,e,i,n,s,r){var o,a,l=new $.fn.dataTable.Api(t),c=t.oClasses,d=t.oLanguage.oPaginate,h=function(e,n){var u,p,f,g,m=function(t){return t.preventDefault(),!$(t.target).parent().hasClass("disabled")&&void("ellipsis"!==t.data.action&&l.page(t.data.action).draw(!1))};for(u=0,p=n.length;p>u;u++)if(g=n[u],$.isArray(g))h(e,g);else{switch(o="",a="",g){case"ellipsis":o="&hellip;",a="disabled";break;case"first":o=d.sFirst,a=g+(s>0?"":" disabled");break;case"previous":o=d.sPrevious,a=g+(s>0?"":" disabled");break;case"next":o=d.sNext,a=g+(r-1>s?"":" disabled");break;case"last":o=d.sLast,a=g+(r-1>s?"":" disabled");break;default:o=g+1,a=s===g?"active":""}o&&(f=$("<li>",{"class":c.sPageButton+" "+a,"aria-controls":t.sTableId,tabindex:t.iTabIndex,id:0===i&&"string"==typeof g?t.sTableId+"_"+g:null}).append($("<a>",{href:"#"}).html(o)).appendTo(e),t.oApi._fnBindAction(f,{action:g},m))}};h($(e).empty().html('<ul class="pagination"/>').children("ul"),n)}):($.fn.dataTable.defaults.sPaginationType="bootstrap",$.fn.dataTableExt.oApi.fnPagingInfo=function(t){return{iStart:t._iDisplayStart,iEnd:t.fnDisplayEnd(),iLength:t._iDisplayLength,iTotal:t.fnRecordsTotal(),iFilteredTotal:t.fnRecordsDisplay(),iPage:-1===t._iDisplayLength?0:Math.ceil(t._iDisplayStart/t._iDisplayLength),iTotalPages:-1===t._iDisplayLength?0:Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(t,e,i){var n=(t.oLanguage.oPaginate,function(e){alert(1),e.preventDefault(),t.oApi._fnPageChange(t,e.data.action)&&i(t)});$(e).append('<ul class="pagination"><li class="prev disabled"><a href="#"><i class="fa fa-angle-double-left"></i></a></li><li class="prev disabled"><a href="#"><i class="fa fa-angle-left"></i></a></li><li class="next disabled"><a href="#"><i class="fa fa-angle-right"></i></a></li><li class="next disabled"><a href="#"><i class="fa fa-angle-double-right"></i></a></li></ul>');var s=$("a",e);$(s[0]).bind("click.DT",{action:"first"},n),$(s[1]).bind("click.DT",{action:"previous"},n),$(s[2]).bind("click.DT",{action:"next"},n),$(s[3]).bind("click.DT",{action:"last"},n)},fnUpdate:function(t,e){var i,n,s,r,o,a,l=5,c=t.oInstance.fnPagingInfo(),d=t.aanFeatures.p,h=Math.floor(l/2);for(c.iTotalPages<l?(o=1,a=c.iTotalPages):c.iPage<=h?(o=1,a=l):c.iPage>=c.iTotalPages-h?(o=c.iTotalPages-l+1,a=c.iTotalPages):(o=c.iPage-h+1,a=o+l-1),i=0,n=d.length;n>i;i++){for($("li:gt(0)",d[i]).filter(":not(.next,.prev)").remove(),s=o;a>=s;s++)r=s==c.iPage+1?'class="active"':"",$("<li "+r+'><a href="#">'+s+"</a></li>").insertBefore($("li.next:eq(0)",d[i])[0]).bind("click",function(i){i.preventDefault(),t._iDisplayStart=(parseInt($("a",this).text(),10)-1)*c.iLength,e(t)});0===c.iPage?$("li.prev",d[i]).addClass("disabled"):$("li.prev",d[i]).removeClass("disabled"),c.iPage===c.iTotalPages-1||0===c.iTotalPages?$("li.next",d[i]).addClass("disabled"):$("li.next",d[i]).removeClass("disabled")}}}})),$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){"use strict";function s(e){var i,n,r={};t.each(e,function(t){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(n=t.replace(i[0],i[2].toLowerCase()),r[n]=t,"o"===i[1]&&s(e[t]))}),e._hungarianMap=r}function r(e,i,o){e._hungarianMap||s(e);var a;t.each(i,function(s){(a=e._hungarianMap[s])===n||!o&&i[a]!==n||("o"===a.charAt(0)?(i[a]||(i[a]={}),t.extend(!0,i[a],i[s]),r(e[a],i[a],o)):i[a]=i[s])})}function o(t){var e=Ut.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Pt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Pt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var n=t.sDecimal;n&&Wt(n)}function a(t){me(t,"ordering","bSort"),me(t,"orderMulti","bSortMulti"),me(t,"orderClasses","bSortClasses"),me(t,"orderCellsTop","bSortCellsTop"),me(t,"order","aaSorting"),me(t,"orderFixed","aaSortingFixed"),me(t,"paging","bPaginate"),me(t,"pagingType","sPaginationType"),me(t,"pageLength","iDisplayLength"),me(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var i=0,n=e.length;n>i;i++)e[i]&&r(Ut.models.oSearch,e[i])}function l(e){me(e,"orderable","bSortable"),me(e,"orderData","aDataSort"),me(e,"orderSequence","asSorting"),me(e,"orderDataType","sortDataType");var i=e.aDataSort;i&&!t.isArray(i)&&(e.aDataSort=[i])}function c(e){if(!Ut.__browser){var i={};Ut.__browser=i;var n=t("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),s=n.children(),r=s.children();i.barWidth=s[0].offsetWidth-s[0].clientWidth,i.bScrollOversize=100===r[0].offsetWidth&&100!==s[0].clientWidth,i.bScrollbarLeft=1!==Math.round(r.offset().left),i.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}t.extend(e.oBrowser,Ut.__browser),e.oScroll.iBarWidth=Ut.__browser.barWidth}function d(t,e,i,s,r,o){var a,l=s,c=!1;for(i!==n&&(a=i,c=!0);l!==r;)t.hasOwnProperty(l)&&(a=c?e(a,t[l],l,t):t[l],c=!0,l+=o);return a}function h(e,n){var s=Ut.defaults.column,r=e.aoColumns.length,o=t.extend({},Ut.models.oColumn,s,{nTh:n||i.createElement("th"),sTitle:s.sTitle?s.sTitle:n?n.innerHTML:"",aDataSort:s.aDataSort?s.aDataSort:[r],mData:s.mData?s.mData:r,idx:r});e.aoColumns.push(o);var a=e.aoPreSearchCols;a[r]=t.extend({},Ut.models.oSearch,a[r]),u(e,r,t(n).data())}function u(e,i,s){var o=e.aoColumns[i],a=e.oClasses,c=t(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=c.attr("width")||null;var d=(c.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);d&&(o.sWidthOrig=d[1])}s!==n&&null!==s&&(l(s),r(Ut.defaults.column,s),s.mDataProp===n||s.mData||(s.mData=s.mDataProp),s.sType&&(o._sManualType=s.sType),s.className&&!s.sClass&&(s.sClass=s.className),t.extend(o,s),Pt(o,s,"sWidth","sWidthOrig"),s.iDataSort!==n&&(o.aDataSort=[s.iDataSort]),Pt(o,s,"aDataSort"));var h=o.mData,u=S(h),p=o.mRender?S(o.mRender):null,f=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};o._bAttrSrc=t.isPlainObject(h)&&(f(h.sort)||f(h.type)||f(h.filter)),o._setter=null,o.fnGetData=function(t,e,i){var s=u(t,e,n,i);return p&&e?p(s,e,t,i):s},o.fnSetData=function(t,e,i){return T(h)(t,e,i)},"number"!=typeof h&&(e._rowReadObject=!0),e.oFeatures.bSort||(o.bSortable=!1,c.addClass(a.sSortableNone));var g=-1!==t.inArray("asc",o.asSorting),m=-1!==t.inArray("desc",o.asSorting);o.bSortable&&(g||m)?g&&!m?(o.sSortingClass=a.sSortableAsc,o.sSortingClassJUI=a.sSortJUIAscAllowed):!g&&m?(o.sSortingClass=a.sSortableDesc,o.sSortingClassJUI=a.sSortJUIDescAllowed):(o.sSortingClass=a.sSortable,o.sSortingClassJUI=a.sSortJUI):(o.sSortingClass=a.sSortableNone,o.sSortingClassJUI="")}function p(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;bt(t);for(var i=0,n=e.length;n>i;i++)e[i].nTh.style.width=e[i].sWidth}var s=t.oScroll;""===s.sY&&""===s.sX||mt(t),Ht(t,null,"column-sizing",[t])}function f(t,e){var i=v(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function g(e,i){var n=v(e,"bVisible"),s=t.inArray(i,n);return-1!==s?s:null}function m(e){return t(de(e.aoColumns,"nTh")).filter(":visible").length}function v(e,i){var n=[];return t.map(e.aoColumns,function(t,e){t[i]&&n.push(e)}),n}function b(t){var e,i,s,r,o,a,l,c,d,h=t.aoColumns,u=t.aoData,p=Ut.ext.type.detect;for(e=0,i=h.length;i>e;e++)if(l=h[e],d=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(s=0,r=p.length;r>s;s++){for(o=0,a=u.length;a>o&&(d[o]===n&&(d[o]=$(t,o,e,"type")),(c=p[s](d[o],t))||s===p.length-1)&&"html"!==c;o++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function y(e,i,s,r){var o,a,l,c,d,u,p,f=e.aoColumns;if(i)for(o=i.length-1;o>=0;o--){p=i[o];var g=p.targets!==n?p.targets:p.aTargets;for(t.isArray(g)||(g=[g]),l=0,c=g.length;c>l;l++)if("number"==typeof g[l]&&g[l]>=0){for(;f.length<=g[l];)h(e);r(g[l],p)}else if("number"==typeof g[l]&&g[l]<0)r(f.length+g[l],p);else if("string"==typeof g[l])for(d=0,u=f.length;u>d;d++)("_all"==g[l]||t(f[d].nTh).hasClass(g[l]))&&r(d,p)}if(s)for(o=0,a=s.length;a>o;o++)r(o,s[o])}function w(e,i,s,r){var o=e.aoData.length,a=t.extend(!0,{},Ut.models.oRow,{src:s?"dom":"data",idx:o});a._aData=i,e.aoData.push(a);for(var l=e.aoColumns,c=0,d=l.length;d>c;c++)l[c].sType=null;e.aiDisplayMaster.push(o);var h=e.rowIdFn(i);return h!==n&&(e.aIds[h]=a),!s&&e.oFeatures.bDeferRender||F(e,o,s,r),o}function _(e,i){var n;return i instanceof t||(i=t(i)),i.map(function(t,i){return n=M(e,i),w(e,n.data,i,n.cells)})}function x(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null}function C(e,i,n){return t.inArray(n,e.aoData[i].anCells)}function $(t,e,i,s){var r=t.iDraw,o=t.aoColumns[i],a=t.aoData[e]._aData,l=o.sDefaultContent,c=o.fnGetData(a,s,{settings:t,row:e,col:i});if(c===n)return t.iDrawError!=r&&null===l&&(Ft(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=r),l;if(c!==a&&null!==c||null===l||s===n){if("function"==typeof c)return c.call(a)}else c=l;return null===c&&"display"==s?"":c}function k(t,e,i,n){var s=t.aoColumns[i],r=t.aoData[e]._aData;s.fnSetData(r,n,{settings:t,row:e,col:i})}function D(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function S(e){if(t.isPlainObject(e)){var i={};return t.each(e,function(t,e){e&&(i[t]=S(e))}),function(t,e,s,r){var o=i[e]||i._;return o!==n?o(t,e,s,r):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,i,n,s){return e(t,i,n,s)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t){return t[e]};var s=function(e,i,r){var o,a,l,c;if(""!==r)for(var d=D(r),h=0,u=d.length;u>h;h++){if(o=d[h].match(ve),a=d[h].match(be),o){if(d[h]=d[h].replace(ve,""),""!==d[h]&&(e=e[d[h]]),l=[],d.splice(0,h+1),c=d.join("."),t.isArray(e))for(var p=0,f=e.length;f>p;p++)l.push(s(e[p],i,c));var g=o[0].substring(1,o[0].length-1);e=""===g?l:l.join(g);break}if(a)d[h]=d[h].replace(be,""),e=e[d[h]]();else{if(null===e||e[d[h]]===n)return n;e=e[d[h]]}}return e};return function(t,i){return s(t,i,e)}}function T(e){if(t.isPlainObject(e))return T(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){t[e]=i};var i=function(e,s,r){for(var o,a,l,c,d,h=D(r),u=h[h.length-1],p=0,f=h.length-1;f>p;p++){if(a=h[p].match(ve),l=h[p].match(be),a){if(h[p]=h[p].replace(ve,""),e[h[p]]=[],o=h.slice(),o.splice(0,p+1),d=o.join("."),t.isArray(s))for(var g=0,m=s.length;m>g;g++)c={},i(c,s[g],d),e[h[p]].push(c);else e[h[p]]=s;return}l&&(h[p]=h[p].replace(be,""),e=e[h[p]](s)),null!==e[h[p]]&&e[h[p]]!==n||(e[h[p]]={}),e=e[h[p]]}u.match(be)?e=e[u.replace(be,"")](s):e[u.replace(ve,"")]=s};return function(t,n){return i(t,n,e)}}function I(t){return de(t.aoData,"_aData")}function E(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function j(t,e,i){for(var s=-1,r=0,o=t.length;o>r;r++)t[r]==e?s=r:t[r]>e&&t[r]--;-1!=s&&i===n&&t.splice(s,1)}function A(t,e,i,s){var r,o,a=t.aoData[e],l=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=$(t,e,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==a.src)){var c=a.anCells;if(c)if(s!==n)l(c[s],s);else for(r=0,o=c.length;o>r;r++)l(c[r],r)}else a._aData=M(t,a,s,s===n?n:a._aData).data;a._aSortData=null,a._aFilterData=null;var d=t.aoColumns;if(s!==n)d[s].sType=null;else{for(r=0,o=d.length;o>r;r++)d[r].sType=null;P(t,a)}}function M(e,i,s,r){var o,a,l,c=[],d=i.firstChild,h=0,u=e.aoColumns,p=e._rowReadObject;r=r!==n?r:p?{}:[];var f=function(t,e){if("string"==typeof t){var i=t.indexOf("@");if(-1!==i){var n=t.substring(i+1);T(t)(r,e.getAttribute(n))}}},g=function(e){if(s===n||s===h)if(a=u[h],l=t.trim(e.innerHTML),a&&a._bAttrSrc){var i=T(a.mData._);i(r,l),f(a.mData.sort,e),f(a.mData.type,e),f(a.mData.filter,e)}else p?(a._setter||(a._setter=T(a.mData)),a._setter(r,l)):r[h]=l;h++};if(d)for(;d;)o=d.nodeName.toUpperCase(),"TD"!=o&&"TH"!=o||(g(d),c.push(d)),d=d.nextSibling;else{c=i.anCells;for(var m=0,v=c.length;v>m;m++)g(c[m])}var b=i.firstChild?i:i.nTr;if(b){var y=b.getAttribute("id");y&&T(e.rowId)(r,y)}return{data:r,cells:c}}function F(e,n,s,r){var o,a,l,c,d,h=e.aoData[n],u=h._aData,p=[];if(null===h.nTr){for(o=s||i.createElement("tr"),h.nTr=o,h.anCells=p,o._DT_RowIndex=n,P(e,h),c=0,d=e.aoColumns.length;d>c;c++)l=e.aoColumns[c],a=s?r[c]:i.createElement(l.sCellType),a._DT_CellIndex={row:n,column:c},p.push(a),s&&!l.mRender&&l.mData===c||t.isPlainObject(l.mData)&&l.mData._===c+".display"||(a.innerHTML=$(e,n,c,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!s?o.appendChild(a):!l.bVisible&&s&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,a,$(e,n,c),u,n,c);Ht(e,"aoRowCreatedCallback",null,[o,u,n])}h.nTr.setAttribute("role","row")}function P(e,i){var n=i.nTr,s=i._aData;if(n){var r=e.rowIdFn(s);if(r&&(n.id=r),s.DT_RowClass){var o=s.DT_RowClass.split(" ");i.__rowc=i.__rowc?ge(i.__rowc.concat(o)):o,t(n).removeClass(i.__rowc.join(" ")).addClass(s.DT_RowClass)}s.DT_RowAttr&&t(n).attr(s.DT_RowAttr),s.DT_RowData&&t(n).data(s.DT_RowData)}}function R(e){var i,n,s,r,o,a=e.nTHead,l=e.nTFoot,c=0===t("th, td",a).length,d=e.oClasses,h=e.aoColumns;for(c&&(r=t("<tr/>").appendTo(a)),i=0,n=h.length;n>i;i++)o=h[i],s=t(o.nTh).addClass(o.sClass),c&&s.appendTo(r),e.oFeatures.bSort&&(s.addClass(o.sSortingClass),!1!==o.bSortable&&(s.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Tt(e,o.nTh,i))),o.sTitle!=s[0].innerHTML&&s.html(o.sTitle),Lt(e,"header")(e,s,o,d);if(c&&L(e.aoHeader,a),t(a).find(">tr").attr("role","row"),t(a).find(">tr>th, >tr>td").addClass(d.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l){var u=e.aoFooter[0];for(i=0,n=u.length;n>i;i++)o=h[i],o.nTf=u[i].cell,o.sClass&&t(o.nTf).addClass(o.sClass)}}function N(e,i,s){var r,o,a,l,c,d,h,u,p,f=[],g=[],m=e.aoColumns.length;if(i){for(s===n&&(s=!1),r=0,o=i.length;o>r;r++){for(f[r]=i[r].slice(),f[r].nTr=i[r].nTr,a=m-1;a>=0;a--)e.aoColumns[a].bVisible||s||f[r].splice(a,1);g.push([])}for(r=0,o=f.length;o>r;r++){if(h=f[r].nTr)for(;d=h.firstChild;)h.removeChild(d);for(a=0,l=f[r].length;l>a;a++)if(u=1,p=1,g[r][a]===n){for(h.appendChild(f[r][a].cell),g[r][a]=1;f[r+u]!==n&&f[r][a].cell==f[r+u][a].cell;)g[r+u][a]=1,u++;for(;f[r][a+p]!==n&&f[r][a].cell==f[r][a+p].cell;){for(c=0;u>c;c++)g[r+c][a+p]=1;p++}t(f[r][a].cell).attr("rowspan",u).attr("colspan",p)}}}}function O(e){var i=Ht(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==t.inArray(!1,i))return void ft(e,!1);var s=[],r=0,o=e.asStripeClasses,a=o.length,l=(e.aoOpenRows.length,e.oLanguage),c=e.iInitDisplayStart,d="ssp"==zt(e),h=e.aiDisplay;e.bDrawing=!0,c!==n&&-1!==c&&(e._iDisplayStart=d?c:c>=e.fnRecordsDisplay()?0:c,e.iInitDisplayStart=-1);var u=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ft(e,!1);else if(d){if(!e.bDestroying&&!W(e))return}else e.iDraw++;if(0!==h.length)for(var f=d?0:u,g=d?e.aoData.length:p,v=f;g>v;v++){var b=h[v],y=e.aoData[b];null===y.nTr&&F(e,b);var w=y.nTr;if(0!==a){var _=o[r%a];y._sRowStripe!=_&&(t(w).removeClass(y._sRowStripe).addClass(_),y._sRowStripe=_)}Ht(e,"aoRowCallback",null,[w,y._aData,r,v]),s.push(w),r++}else{var x=l.sZeroRecords;1==e.iDraw&&"ajax"==zt(e)?x=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(x=l.sEmptyTable),s[0]=t("<tr/>",{"class":a?o[0]:""}).append(t("<td />",{valign:"top",colSpan:m(e),"class":e.oClasses.sRowEmpty}).html(x))[0]}Ht(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],I(e),u,p,h]),Ht(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],I(e),u,p,h]);var C=t(e.nTBody);C.children().detach(),C.append(t(s)),Ht(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function H(t,e){var i=t.oFeatures,n=i.bSort,s=i.bFilter;n&&kt(t),s?X(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,O(t),t._drawHold=!1}function q(e){var i=e.oClasses,n=t(e.nTable),s=t("<div/>").insertBefore(n),r=e.oFeatures,o=t("<div/>",{id:e.sTableId+"_wrapper","class":i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=s[0],e.nTableWrapper=o[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,l,c,d,h,u,p=e.sDom.split(""),f=0;f<p.length;f++){if(a=null,"<"==(l=p[f])){if(c=t("<div/>")[0],"'"==(d=p[f+1])||'"'==d){for(h="",u=2;p[f+u]!=d;)h+=p[f+u],u++;if("H"==h?h=i.sJUIHeader:"F"==h&&(h=i.sJUIFooter),-1!=h.indexOf(".")){var g=h.split(".");c.id=g[0].substr(1,g[0].length-1),c.className=g[1]}else"#"==h.charAt(0)?c.id=h.substr(1,h.length-1):c.className=h;f+=u}o.append(c),o=t(c)}else if(">"==l)o=o.parent();else if("l"==l&&r.bPaginate&&r.bLengthChange)a=dt(e);else if("f"==l&&r.bFilter)a=V(e);else if("r"==l&&r.bProcessing)a=pt(e);else if("t"==l)a=gt(e);else if("i"==l&&r.bInfo)a=st(e);else if("p"==l&&r.bPaginate)a=ht(e);else if(0!==Ut.ext.feature.length)for(var m=Ut.ext.feature,v=0,b=m.length;b>v;v++)if(l==m[v].cFeature){a=m[v].fnInit(e);break}if(a){var y=e.aanFeatures;y[l]||(y[l]=[]),y[l].push(a),o.append(a)}}s.replaceWith(o),e.nHolding=null}function L(e,i){var n,s,r,o,a,l,c,d,h,u,p,f=t(i).children("tr"),g=function(t,e,i){for(var n=t[e];n[i];)i++;return i};for(e.splice(0,e.length),r=0,l=f.length;l>r;r++)e.push([]);for(r=0,l=f.length;l>r;r++)for(n=f[r],d=0,s=n.firstChild;s;){if("TD"==s.nodeName.toUpperCase()||"TH"==s.nodeName.toUpperCase())for(h=1*s.getAttribute("colspan"),u=1*s.getAttribute("rowspan"),h=h&&0!==h&&1!==h?h:1,u=u&&0!==u&&1!==u?u:1,c=g(e,r,d),p=1===h,a=0;h>a;a++)for(o=0;u>o;o++)e[r+o][c+a]={cell:s,unique:p},e[r+o].nTr=n;s=s.nextSibling}}function z(t,e,i){var n=[];i||(i=t.aoHeader,e&&(i=[],L(i,e)));for(var s=0,r=i.length;r>s;s++)for(var o=0,a=i[s].length;a>o;o++)!i[s][o].unique||n[o]&&t.bSortCellsTop||(n[o]=i[s][o].cell);return n}function B(e,i,n){if(Ht(e,"aoServerParams","serverParams",[i]),i&&t.isArray(i)){var s={},r=/(.*?)\[\]$/;t.each(i,function(t,e){var i=e.name.match(r);if(i){var n=i[0];s[n]||(s[n]=[]),s[n].push(e.value)}else s[e.name]=e.value}),i=s}var o,a=e.ajax,l=e.oInstance,c=function(t){Ht(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(t.isPlainObject(a)&&a.data){o=a.data;var d=t.isFunction(o)?o(i,e):o;i=t.isFunction(o)&&d?d:t.extend(!0,i,d),delete a.data}var h={data:i,success:function(t){var i=t.error||t.sError;i&&Ft(e,0,i),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(i,n){var s=Ht(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,s)&&("parsererror"==n?Ft(e,0,"Invalid JSON response",1):4===i.readyState&&Ft(e,0,"Ajax error",7)),ft(e,!1)}};e.oAjaxData=i,Ht(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(i,function(t,e){return{name:e,value:t}}),c,e):e.sAjaxSource||"string"==typeof a?e.jqXHR=t.ajax(t.extend(h,{url:a||e.sAjaxSource})):t.isFunction(a)?e.jqXHR=a.call(l,i,c,e):(e.jqXHR=t.ajax(t.extend(h,a)),a.data=o)}function W(t){return!t.bAjaxDataGet||(t.iDraw++,ft(t,!0),B(t,G(t),function(e){U(t,e)}),!1)}function G(e){
var i,n,s,r,o=e.aoColumns,a=o.length,l=e.oFeatures,c=e.oPreviousSearch,d=e.aoPreSearchCols,h=[],u=$t(e),p=e._iDisplayStart,f=!1!==l.bPaginate?e._iDisplayLength:-1,g=function(t,e){h.push({name:t,value:e})};g("sEcho",e.iDraw),g("iColumns",a),g("sColumns",de(o,"sName").join(",")),g("iDisplayStart",p),g("iDisplayLength",f);var m={draw:e.iDraw,columns:[],order:[],start:p,length:f,search:{value:c.sSearch,regex:c.bRegex}};for(i=0;a>i;i++)s=o[i],r=d[i],n="function"==typeof s.mData?"function":s.mData,m.columns.push({data:n,name:s.sName,searchable:s.bSearchable,orderable:s.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),g("mDataProp_"+i,n),l.bFilter&&(g("sSearch_"+i,r.sSearch),g("bRegex_"+i,r.bRegex),g("bSearchable_"+i,s.bSearchable)),l.bSort&&g("bSortable_"+i,s.bSortable);l.bFilter&&(g("sSearch",c.sSearch),g("bRegex",c.bRegex)),l.bSort&&(t.each(u,function(t,e){m.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)}),g("iSortingCols",u.length));var v=Ut.ext.legacy.ajax;return null===v?e.sAjaxSource?h:m:v?h:m}function U(t,e){var i=function(t,i){return e[t]!==n?e[t]:e[i]},s=Y(t,e),r=i("sEcho","draw"),o=i("iTotalRecords","recordsTotal"),a=i("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<t.iDraw)return;t.iDraw=1*r}E(t),t._iRecordsTotal=parseInt(o,10),t._iRecordsDisplay=parseInt(a,10);for(var l=0,c=s.length;c>l;l++)w(t,s[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,O(t),t._bInitComplete||lt(t,e),t.bAjaxDataGet=!0,ft(t,!1)}function Y(e,i){var s=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===s?i.aaData||i[s]:""!==s?S(s)(i):i}function V(e){var n=e.oClasses,s=e.sTableId,r=e.oLanguage,o=e.oPreviousSearch,a=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=r.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var d=t("<div/>",{id:a.f?null:s+"_filter","class":n.sFilter}).append(t("<label/>").append(c)),h=function(){var t=(a.f,this.value?this.value:"");t!=o.sSearch&&(X(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,O(e))},u=null!==e.searchDelay?e.searchDelay:"ssp"===zt(e)?400:0,p=t("input",d).val(o.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",u?yt(h,u):h).bind("keypress.DT",function(t){return 13!=t.keyCode&&void 0}).attr("aria-controls",s);return t(e.nTable).on("search.dt.DT",function(t,n){if(e===n)try{p[0]!==i.activeElement&&p.val(o.sSearch)}catch(t){}}),d[0]}function X(t,e,i){var s=t.oPreviousSearch,r=t.aoPreSearchCols,o=function(t){s.sSearch=t.sSearch,s.bRegex=t.bRegex,s.bSmart=t.bSmart,s.bCaseInsensitive=t.bCaseInsensitive},a=function(t){return t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex};if(b(t),"ssp"!=zt(t)){Z(t,e.sSearch,i,a(e),e.bSmart,e.bCaseInsensitive),o(e);for(var l=0;l<r.length;l++)Q(t,r[l].sSearch,l,a(r[l]),r[l].bSmart,r[l].bCaseInsensitive);K(t)}else o(e);t.bFiltered=!0,Ht(t,null,"search",[t])}function K(e){for(var i,n,s=Ut.ext.search,r=e.aiDisplay,o=0,a=s.length;a>o;o++){for(var l=[],c=0,d=r.length;d>c;c++)n=r[c],i=e.aoData[n],s[o](e,i._aFilterData,n,i._aData,c)&&l.push(n);r.length=0,t.merge(r,l)}}function Q(t,e,i,n,s,r){if(""!==e)for(var o,a=t.aiDisplay,l=J(e,n,s,r),c=a.length-1;c>=0;c--)o=t.aoData[a[c]]._aFilterData[i],l.test(o)||a.splice(c,1)}function Z(t,e,i,n,s,r){var o,a,l,c=J(e,n,s,r),d=t.oPreviousSearch.sSearch,h=t.aiDisplayMaster;if(0!==Ut.ext.search.length&&(i=!0),a=et(t),e.length<=0)t.aiDisplay=h.slice();else for((a||i||d.length>e.length||0!==e.indexOf(d)||t.bSorted)&&(t.aiDisplay=h.slice()),o=t.aiDisplay,l=o.length-1;l>=0;l--)c.test(t.aoData[o[l]]._sFilterRow)||o.splice(l,1)}function J(e,i,n,s){if(e=i?e:tt(e),n){e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"}return new RegExp(e,s?"i":"")}function tt(t){return t.replace(ie,"\\$1")}function et(t){var e,i,n,s,r,o,a,l,c=t.aoColumns,d=Ut.ext.type.search,h=!1;for(i=0,s=t.aoData.length;s>i;i++)if(l=t.aoData[i],!l._aFilterData){for(o=[],n=0,r=c.length;r>n;n++)e=c[n],e.bSearchable?(a=$(t,i,n,"filter"),d[e.sType]&&(a=d[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(ye.innerHTML=a,a=we?ye.textContent:ye.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),o.push(a);l._aFilterData=o,l._sFilterRow=o.join("  "),h=!0}return h}function it(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function nt(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function st(e){var i=e.sTableId,n=e.aanFeatures.i,s=t("<div/>",{"class":e.oClasses.sInfo,id:n?null:i+"_info"});return n||(e.aoDrawCallback.push({fn:rt,sName:"information"}),s.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",i+"_info")),s[0]}function rt(e){var i=e.aanFeatures.i;if(0!==i.length){var n=e.oLanguage,s=e._iDisplayStart+1,r=e.fnDisplayEnd(),o=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==o&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=ot(e,l);var c=n.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,s,r,o,a,l)),t(i).html(l)}}function ot(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,s=t._iDisplayLength,r=t.fnRecordsDisplay(),o=-1===s;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,r)).replace(/_PAGE_/g,i.call(t,o?1:Math.ceil(n/s))).replace(/_PAGES_/g,i.call(t,o?1:Math.ceil(r/s)))}function at(t){var e,i,n,s=t.iInitDisplayStart,r=t.aoColumns,o=t.oFeatures,a=t.bDeferLoading;if(!t.bInitialised)return void setTimeout(function(){at(t)},200);for(q(t),R(t),N(t,t.aoHeader),N(t,t.aoFooter),ft(t,!0),o.bAutoWidth&&bt(t),e=0,i=r.length;i>e;e++)n=r[e],n.sWidth&&(n.nTh.style.width=Ct(n.sWidth));Ht(t,null,"preInit",[t]),H(t);var l=zt(t);("ssp"!=l||a)&&("ajax"==l?B(t,[],function(i){var n=Y(t,i);for(e=0;e<n.length;e++)w(t,n[e]);t.iInitDisplayStart=s,H(t),ft(t,!1),lt(t,i)},t):(ft(t,!1),lt(t)))}function lt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&p(t),Ht(t,null,"plugin-init",[t,e]),Ht(t,"aoInitComplete","init",[t,e])}function ct(t,e){var i=parseInt(e,10);t._iDisplayLength=i,qt(t),Ht(t,null,"length",[t,i])}function dt(e){for(var i=e.oClasses,n=e.sTableId,s=e.aLengthMenu,r=t.isArray(s[0]),o=r?s[0]:s,a=r?s[1]:s,l=t("<select/>",{name:n+"_length","aria-controls":n,"class":i.sLengthSelect}),c=0,d=o.length;d>c;c++)l[0][c]=new Option(a[c],o[c]);var h=t("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(h[0].id=n+"_length"),h.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",h).val(e._iDisplayLength).bind("change.DT",function(){ct(e,t(this).val()),O(e)}),t(e.nTable).bind("length.dt.DT",function(i,n,s){e===n&&t("select",h).val(s)}),h[0]}function ht(e){var i=e.sPaginationType,n=Ut.ext.pager[i],s="function"==typeof n,r=function(t){O(t)},o=t("<div/>").addClass(e.oClasses.sPaging+i)[0],a=e.aanFeatures;return s||n.fnInit(e,o,r),a.p||(o.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(s){var e,i,o=t._iDisplayStart,l=t._iDisplayLength,c=t.fnRecordsDisplay(),d=-1===l,h=d?0:Math.ceil(o/l),u=d?1:Math.ceil(c/l),p=n(h,u);for(e=0,i=a.p.length;i>e;e++)Lt(t,"pageButton")(t,a.p[e],e,p,h,u)}else n.fnUpdate(t,r)},sName:"pagination"})),o}function ut(t,e,i){var n=t._iDisplayStart,s=t._iDisplayLength,r=t.fnRecordsDisplay();0===r||-1===s?n=0:"number"==typeof e?(n=e*s)>r&&(n=0):"first"==e?n=0:"previous"==e?0>(n=s>=0?n-s:0)&&(n=0):"next"==e?r>n+s&&(n+=s):"last"==e?n=Math.floor((r-1)/s)*s:Ft(t,0,"Unknown paging action: "+e,5);var o=t._iDisplayStart!==n;return t._iDisplayStart=n,o&&(Ht(t,null,"page",[t]),i&&O(t)),o}function pt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ft(e,i){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",i?"block":"none"),Ht(e,null,"processing",[e,i])}function gt(e){var i=t(e.nTable);i.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var s=n.sX,r=n.sY,o=e.oClasses,a=i.children("caption"),l=a.length?a[0]._captionSide:null,c=t(i[0].cloneNode(!1)),d=t(i[0].cloneNode(!1)),h=i.children("tfoot"),u="<div/>",p=function(t){return t?Ct(t):null};h.length||(h=null);var f=t(u,{"class":o.sScrollWrapper}).append(t(u,{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:s?p(s):"100%"}).append(t(u,{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(i.children("thead"))))).append(t(u,{"class":o.sScrollBody}).css({position:"relative",overflow:"auto",width:p(s)}).append(i));h&&f.append(t(u,{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:s?p(s):"100%"}).append(t(u,{"class":o.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(i.children("tfoot")))));var g=f.children(),m=g[0],v=g[1],b=h?g[2]:null;return s&&t(v).on("scroll.DT",function(){var t=this.scrollLeft;m.scrollLeft=t,h&&(b.scrollLeft=t)}),t(v).css(r&&n.bCollapse?"max-height":"height",r),e.nScrollHead=m,e.nScrollBody=v,e.nScrollFoot=b,e.aoDrawCallback.push({fn:mt,sName:"scrolling"}),f[0]}function mt(e){var i,s,r,o,a,l,c,d,h,u=e.oScroll,g=u.sX,m=u.sXInner,v=u.sY,b=u.iBarWidth,y=t(e.nScrollHead),w=y[0].style,_=y.children("div"),x=_[0].style,C=_.children("table"),$=e.nScrollBody,k=t($),D=$.style,S=t(e.nScrollFoot),T=S.children("div"),I=T.children("table"),E=t(e.nTHead),j=t(e.nTable),A=j[0],M=A.style,F=e.nTFoot?t(e.nTFoot):null,P=e.oBrowser,R=P.bScrollOversize,N=de(e.aoColumns,"nTh"),O=[],H=[],q=[],L=[],B=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},W=$.scrollHeight>$.clientHeight;if(e.scrollBarVis!==W&&e.scrollBarVis!==n)return e.scrollBarVis=W,void p(e);e.scrollBarVis=W,j.children("thead, tfoot").remove(),F&&(l=F.clone().prependTo(j),s=F.find("tr"),o=l.find("tr")),a=E.clone().prependTo(j),i=E.find("tr"),r=a.find("tr"),a.find("th, td").removeAttr("tabindex"),g||(D.width="100%",y[0].style.width="100%"),t.each(z(e,a),function(t,i){c=f(e,t),i.style.width=e.aoColumns[c].sWidth}),F&&vt(function(t){t.style.width=""},o),h=j.outerWidth(),""===g?(M.width="100%",R&&(j.find("tbody").height()>$.offsetHeight||"scroll"==k.css("overflow-y"))&&(M.width=Ct(j.outerWidth()-b)),h=j.outerWidth()):""!==m&&(M.width=Ct(m),h=j.outerWidth()),vt(B,r),vt(function(e){q.push(e.innerHTML),O.push(Ct(t(e).css("width")))},r),vt(function(e,i){-1!==t.inArray(e,N)&&(e.style.width=O[i])},i),t(r).height(0),F&&(vt(B,o),vt(function(e){L.push(e.innerHTML),H.push(Ct(t(e).css("width")))},o),vt(function(t,e){t.style.width=H[e]},s),t(o).height(0)),vt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+q[e]+"</div>",t.style.width=O[e]},r),F&&vt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[e]+"</div>",t.style.width=H[e]},o),j.outerWidth()<h?(d=$.scrollHeight>$.offsetHeight||"scroll"==k.css("overflow-y")?h+b:h,R&&($.scrollHeight>$.offsetHeight||"scroll"==k.css("overflow-y"))&&(M.width=Ct(d-b)),""!==g&&""===m||Ft(e,1,"Possible column misalignment",6)):d="100%",D.width=Ct(d),w.width=Ct(d),F&&(e.nScrollFoot.style.width=Ct(d)),v||R&&(D.height=Ct(A.offsetHeight+b));var G=j.outerWidth();C[0].style.width=Ct(G),x.width=Ct(G);var U=j.height()>$.clientHeight||"scroll"==k.css("overflow-y"),Y="padding"+(P.bScrollbarLeft?"Left":"Right");x[Y]=U?b+"px":"0px",F&&(I[0].style.width=Ct(G),T[0].style.width=Ct(G),T[0].style[Y]=U?b+"px":"0px"),j.children("colgroup").insertBefore(j.children("thead")),k.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||($.scrollTop=0)}function vt(t,e,i){for(var n,s,r=0,o=0,a=e.length;a>o;){for(n=e[o].firstChild,s=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?t(n,s,r):t(n,r),r++),n=n.nextSibling,s=i?s.nextSibling:null;o++}}function bt(i){var n,s,r,o=i.nTable,a=i.aoColumns,l=i.oScroll,c=l.sY,d=l.sX,h=l.sXInner,u=a.length,g=v(i,"bVisible"),b=t("th",i.nTHead),y=o.getAttribute("width"),w=o.parentNode,_=!1,x=i.oBrowser,C=x.bScrollOversize,$=o.style.width;for($&&-1!==$.indexOf("%")&&(y=$),n=0;n<g.length;n++)s=a[g[n]],null!==s.sWidth&&(s.sWidth=wt(s.sWidthOrig,w),_=!0);if(C||!_&&!d&&!c&&u==m(i)&&u==b.length)for(n=0;u>n;n++){var k=f(i,n);null!==k&&(a[k].sWidth=Ct(b.eq(n).width()))}else{var D=t(o).clone().css("visibility","hidden").removeAttr("id");D.find("tbody tr").remove();var S=t("<tr/>").appendTo(D.find("tbody"));for(D.find("thead, tfoot").remove(),D.append(t(i.nTHead).clone()).append(t(i.nTFoot).clone()),D.find("tfoot th, tfoot td").css("width",""),b=z(i,D.find("thead")[0]),n=0;n<g.length;n++)s=a[g[n]],b[n].style.width=null!==s.sWidthOrig&&""!==s.sWidthOrig?Ct(s.sWidthOrig):"",s.sWidthOrig&&d&&t(b[n]).append(t("<div/>").css({width:s.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<g.length;n++)r=g[n],s=a[r],t(_t(i,r)).clone(!1).append(s.sContentPadding).appendTo(S);t("[name]",D).removeAttr("name");var T=t("<div/>").css(d||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(D).appendTo(w);d&&h?D.width(h):d?(D.css("width","auto"),D.removeAttr("width"),D.width()<w.clientWidth&&y&&D.width(w.clientWidth)):c?D.width(w.clientWidth):y&&D.width(y);var I=0;for(n=0;n<g.length;n++){var E=t(b[n]),j=E.outerWidth()-E.width(),A=x.bBounding?Math.ceil(b[n].getBoundingClientRect().width):E.outerWidth();I+=A,a[g[n]].sWidth=Ct(A-j)}o.style.width=Ct(I),T.remove()}if(y&&(o.style.width=Ct(y)),(y||d)&&!i._reszEvt){var M=function(){t(e).bind("resize.DT-"+i.sInstance,yt(function(){p(i)}))};C?setTimeout(M,1e3):M(),i._reszEvt=!0}}function yt(t,e){var i,s,r=e!==n?e:200;return function(){var e=this,o=+new Date,a=arguments;i&&i+r>o?(clearTimeout(s),s=setTimeout(function(){i=n,t.apply(e,a)},r)):(i=o,t.apply(e,a))}}function wt(e,n){if(!e)return 0;var s=t("<div/>").css("width",Ct(e)).appendTo(n||i.body),r=s[0].offsetWidth;return s.remove(),r}function _t(e,i){var n=xt(e,i);if(0>n)return null;var s=e.aoData[n];return s.nTr?s.anCells[i]:t("<td/>").html($(e,n,i,"display"))[0]}function xt(t,e){for(var i,n=-1,s=-1,r=0,o=t.aoData.length;o>r;r++)i=$(t,r,e,"display")+"",i=i.replace(_e,""),i=i.replace(/&nbsp;/g," "),i.length>n&&(n=i.length,s=r);return s}function Ct(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function $t(e){var i,s,r,o,a,l,c,d=[],h=e.aoColumns,u=e.aaSortingFixed,p=t.isPlainObject(u),f=[],g=function(e){e.length&&!t.isArray(e[0])?f.push(e):t.merge(f,e)};for(t.isArray(u)&&g(u),p&&u.pre&&g(u.pre),g(e.aaSorting),p&&u.post&&g(u.post),i=0;i<f.length;i++)for(c=f[i][0],o=h[c].aDataSort,s=0,r=o.length;r>s;s++)a=o[s],l=h[a].sType||"string",f[i]._idx===n&&(f[i]._idx=t.inArray(f[i][1],h[a].asSorting)),d.push({src:c,col:a,dir:f[i][1],index:f[i]._idx,type:l,formatter:Ut.ext.type.order[l+"-pre"]});return d}function kt(t){var e,i,n,s,r,o=[],a=Ut.ext.type.order,l=t.aoData,c=(t.aoColumns,0),d=t.aiDisplayMaster;for(b(t),r=$t(t),e=0,i=r.length;i>e;e++)s=r[e],s.formatter&&c++,Et(t,s.col);if("ssp"!=zt(t)&&0!==r.length){for(e=0,n=d.length;n>e;e++)o[d[e]]=e;c===r.length?d.sort(function(t,e){var i,n,s,a,c,d=r.length,h=l[t]._aSortData,u=l[e]._aSortData;for(s=0;d>s;s++)if(c=r[s],i=h[c.col],n=u[c.col],0!==(a=n>i?-1:i>n?1:0))return"asc"===c.dir?a:-a;return i=o[t],n=o[e],n>i?-1:i>n?1:0}):d.sort(function(t,e){var i,n,s,c,d,h,u=r.length,p=l[t]._aSortData,f=l[e]._aSortData;for(s=0;u>s;s++)if(d=r[s],i=p[d.col],n=f[d.col],h=a[d.type+"-"+d.dir]||a["string-"+d.dir],0!==(c=h(i,n)))return c;return i=o[t],n=o[e],n>i?-1:i>n?1:0})}t.bSorted=!0}function Dt(t){for(var e,i,n=t.aoColumns,s=$t(t),r=t.oLanguage.oAria,o=0,a=n.length;a>o;o++){var l=n[o],c=l.asSorting,d=l.sTitle.replace(/<.*?>/g,""),h=l.nTh;h.removeAttribute("aria-sort"),l.bSortable?(s.length>0&&s[0].col==o?(h.setAttribute("aria-sort","asc"==s[0].dir?"ascending":"descending"),i=c[s[0].index+1]||c[0]):i=c[0],e=d+("asc"===i?r.sSortAscending:r.sSortDescending)):e=d,h.setAttribute("aria-label",e)}}function St(e,i,s,r){var o,a=e.aoColumns[i],l=e.aaSorting,c=a.asSorting,d=function(e,i){var s=e._idx;return s===n&&(s=t.inArray(e[1],c)),s+1<c.length?s+1:i?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),s&&e.oFeatures.bSortMulti){var h=t.inArray(i,de(l,"0"));-1!==h?(o=d(l[h],!0),null===o&&1===l.length&&(o=0),null===o?l.splice(h,1):(l[h][1]=c[o],l[h]._idx=o)):(l.push([i,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(o=d(l[0]),l.length=1,l[0][1]=c[o],l[0]._idx=o):(l.length=0,l.push([i,c[0]]),l[0]._idx=0);H(e),"function"==typeof r&&r(e)}function Tt(t,e,i,n){var s=t.aoColumns[i];Nt(e,{},function(e){!1!==s.bSortable&&(t.oFeatures.bProcessing?(ft(t,!0),setTimeout(function(){St(t,i,e.shiftKey,n),"ssp"!==zt(t)&&ft(t,!1)},0)):St(t,i,e.shiftKey,n))})}function It(e){var i,n,s,r=e.aLastSort,o=e.oClasses.sSortColumn,a=$t(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(i=0,n=r.length;n>i;i++)s=r[i].src,t(de(e.aoData,"anCells",s)).removeClass(o+(2>i?i+1:3));for(i=0,n=a.length;n>i;i++)s=a[i].src,t(de(e.aoData,"anCells",s)).addClass(o+(2>i?i+1:3))}e.aLastSort=a}function Et(t,e){var i,n=t.aoColumns[e],s=Ut.ext.order[n.sSortDataType];s&&(i=s.call(t.oInstance,t,e,g(t,e)));for(var r,o,a=Ut.ext.type.order[n.sType+"-pre"],l=0,c=t.aoData.length;c>l;l++)r=t.aoData[l],r._aSortData||(r._aSortData=[]),r._aSortData[e]&&!s||(o=s?i[l]:$(t,l,e,"sort"),r._aSortData[e]=a?a(o):o)}function jt(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:it(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,i){return{visible:t.bVisible,search:it(e.aoPreSearchCols[i])}})};Ht(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oSavedState=i,e.fnStateSaveCallback.call(e.oInstance,e,i)}}function At(e){var i,s,r=e.aoColumns;if(e.oFeatures.bStateSave){var o=e.fnStateLoadCallback.call(e.oInstance,e);if(o&&o.time){var a=Ht(e,"aoStateLoadParams","stateLoadParams",[e,o]);if(-1===t.inArray(!1,a)){var l=e.iStateDuration;if(!(l>0&&o.time<+new Date-1e3*l)&&r.length===o.columns.length){for(e.oLoadedState=t.extend(!0,{},o),o.start!==n&&(e._iDisplayStart=o.start,e.iInitDisplayStart=o.start),o.length!==n&&(e._iDisplayLength=o.length),o.order!==n&&(e.aaSorting=[],t.each(o.order,function(t,i){e.aaSorting.push(i[0]>=r.length?[0,i[1]]:i)})),o.search!==n&&t.extend(e.oPreviousSearch,nt(o.search)),i=0,s=o.columns.length;s>i;i++){var c=o.columns[i];c.visible!==n&&(r[i].bVisible=c.visible),c.search!==n&&t.extend(e.aoPreSearchCols[i],nt(c.search))}Ht(e,"aoStateLoaded","stateLoaded",[e,o])}}}}}function Mt(e){var i=Ut.settings,n=t.inArray(e,de(i,"nTable"));return-1!==n?i[n]:null}function Ft(t,i,n,s){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,s&&(n+=". For more information about this error, please see http://datatables.net/tn/"+s),i)e.console&&console.log&&console.log(n);else{var r=Ut.ext,o=r.sErrMode||r.errMode;if(t&&Ht(t,null,"error",[t,s,n]),"alert"==o)alert(n);else{if("throw"==o)throw new Error(n);"function"==typeof o&&o(t,s,n)}}}function Pt(e,i,s,r){return t.isArray(s)?void t.each(s,function(n,s){t.isArray(s)?Pt(e,i,s[0],s[1]):Pt(e,i,s)}):(r===n&&(r=s),void(i[s]!==n&&(e[r]=i[s])))}function Rt(e,i,n){var s;for(var r in i)i.hasOwnProperty(r)&&(s=i[r],t.isPlainObject(s)?(t.isPlainObject(e[r])||(e[r]={}),t.extend(!0,e[r],s)):n&&"data"!==r&&"aaData"!==r&&t.isArray(s)?e[r]=s.slice():e[r]=s);return e}function Nt(e,i,n){t(e).bind("click.DT",i,function(t){e.blur(),n(t)}).bind("keypress.DT",i,function(t){13===t.which&&(t.preventDefault(),n(t))}).bind("selectstart.DT",function(){return!1})}function Ot(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function Ht(e,i,n,s){var r=[];if(i&&(r=t.map(e[i].slice().reverse(),function(t){return t.fn.apply(e.oInstance,s)})),null!==n){var o=t.Event(n+".dt");t(e.nTable).trigger(o,s),r.push(o.result)}return r}function qt(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(-1===n||0>e)&&(e=0),t._iDisplayStart=e}function Lt(e,i){var n=e.renderer,s=Ut.ext.renderer[i];return t.isPlainObject(n)&&n[i]?s[n[i]]||s._:"string"==typeof n?s[n]||s._:s._}function zt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Bt(t,e){var i=[],n=We.numbers_length,s=Math.floor(n/2);return n>=e?i=ue(0,e):s>=t?(i=ue(0,n-2),i.push("ellipsis"),i.push(e-1)):t>=e-1-s?(i=ue(e-(n-2),e),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=ue(t-s+2,t+s-1),i.push("ellipsis"),i.push(e-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Wt(e){t.each({num:function(t){return Ge(t,e)},"num-fmt":function(t){return Ge(t,e,ne)},"html-num":function(t){return Ge(t,e,Jt)},"html-num-fmt":function(t){return Ge(t,e,Jt,ne)}},function(t,i){Yt.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(Yt.type.search[t+e]=Yt.type.search.html)})}function Gt(t){return function(){var e=[Mt(this[Ut.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ut.ext.internal[t].apply(this,e)}}var Ut,Yt,Vt,Xt,Kt,Qt={},Zt=/[\r\n]/g,Jt=/<.*?>/g,te=/^[\w\+\-]/,ee=/[\w\+\-]$/,ie=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ne=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,se=function(t){return!t||!0===t||"-"===t},re=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},oe=function(t,e){return Qt[e]||(Qt[e]=new RegExp(tt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Qt[e],"."):t},ae=function(t,e,i){var n="string"==typeof t;return!!se(t)||(e&&n&&(t=oe(t,e)),i&&n&&(t=t.replace(ne,"")),!isNaN(parseFloat(t))&&isFinite(t))},le=function(t){return se(t)||"string"==typeof t},ce=function(t,e,i){return!!se(t)||(!(!le(t)||!ae(fe(t),e,i))||null)},de=function(t,e,i){var s=[],r=0,o=t.length;if(i!==n)for(;o>r;r++)t[r]&&t[r][e]&&s.push(t[r][e][i]);else for(;o>r;r++)t[r]&&s.push(t[r][e]);return s},he=function(t,e,i,s){var r=[],o=0,a=e.length;if(s!==n)for(;a>o;o++)t[e[o]][i]&&r.push(t[e[o]][i][s]);else for(;a>o;o++)r.push(t[e[o]][i]);return r},ue=function(t,e){var i,s=[];e===n?(e=0,i=t):(i=e,e=t);for(var r=e;i>r;r++)s.push(r);return s},pe=function(t){for(var e=[],i=0,n=t.length;n>i;i++)t[i]&&e.push(t[i]);return e},fe=function(t){return t.replace(Jt,"")},ge=function(t){var e,i,n,s=[],r=t.length,o=0;t:for(i=0;r>i;i++){for(e=t[i],n=0;o>n;n++)if(s[n]===e)continue t;s.push(e),o++}return s},me=function(t,e,i){t[e]!==n&&(t[i]=t[e])},ve=/\[.*?\]$/,be=/\(\)$/,ye=t("<div>")[0],we=ye.textContent!==n,_e=/<.*?>/g;Ut=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Vt(t?Mt(this[Yt.iApiIndex]):this)},this.fnAddData=function(e,i){var s=this.api(!0),r=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?s.rows.add(e):s.row.add(e);return(i===n||i)&&s.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],s=i.oScroll;t===n||t?e.draw(!1):""===s.sX&&""===s.sY||mt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var s=this.api(!0),r=s.rows(t),o=r.settings()[0],a=o.aoData[r[0][0]];return r.remove(),e&&e.call(this,o,a),(i===n||i)&&s.draw(),a},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,s,r,o){var a=this.api(!0);null===e||e===n?a.search(t,i,s,o):a.column(e).search(t,i,s,o),a.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var s=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==s||"th"==s?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();if("TR"==i)return e.row(t).index();if("TD"==i||"TH"==i){var n=e.cell(t).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){var s=this.api(!0).column(t).visible(e);(i===n||i)&&s.columns.adjust().draw()},this.fnSettings=function(){return Mt(this[Yt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,s,r){var o=this.api(!0);return i===n||null===i?o.row(e).data(t):o.cell(e,i).data(t),(r===n||r)&&o.columns.adjust(),(s===n||s)&&o.draw(),0},this.fnVersionCheck=Yt.fnVersionCheck;var i=this,s=e===n,d=this.length;s&&(e={}),this.oApi=this.internal=Yt.internal;for(var p in Ut.ext.internal)p&&(this[p]=Gt(p));return this.each(function(){var p,f={},g=d>1?Rt(f,e,!0):e,m=0,v=this.getAttribute("id"),b=!1,x=Ut.defaults,C=t(this);if("table"!=this.nodeName.toLowerCase())return void Ft(null,0,"Non-table node initialisation ("+this.nodeName+")",2);a(x),l(x.column),r(x,x,!0),r(x.column,x.column,!0),r(x,t.extend(g,C.data()));var $=Ut.settings;for(m=0,p=$.length;p>m;m++){var k=$[m];if(k.nTable==this||k.nTHead.parentNode==this||k.nTFoot&&k.nTFoot.parentNode==this){var D=g.bRetrieve!==n?g.bRetrieve:x.bRetrieve,T=g.bDestroy!==n?g.bDestroy:x.bDestroy;if(s||D)return k.oInstance;if(T){k.oInstance.fnDestroy();break}return void Ft(k,0,"Cannot reinitialise DataTable",3)}if(k.sTableId==this.id){$.splice(m,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+Ut.ext._unique++,this.id=v);var I=t.extend(!0,{},Ut.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:v,sTableId:v});I.nTable=this,I.oApi=i.internal,I.oInit=g,$.push(I),I.oInstance=1===i.length?i:C.dataTable(),a(g),g.oLanguage&&o(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=t.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Rt(t.extend(!0,{},x),g),Pt(I.oFeatures,g,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Pt(I,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Pt(I.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Pt(I.oLanguage,g,"fnInfoCallback"),Ot(I,"aoDrawCallback",g.fnDrawCallback,"user"),Ot(I,"aoServerParams",g.fnServerParams,"user"),Ot(I,"aoStateSaveParams",g.fnStateSaveParams,"user"),Ot(I,"aoStateLoadParams",g.fnStateLoadParams,"user"),Ot(I,"aoStateLoaded",g.fnStateLoaded,"user"),Ot(I,"aoRowCallback",g.fnRowCallback,"user"),Ot(I,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Ot(I,"aoHeaderCallback",g.fnHeaderCallback,"user"),Ot(I,"aoFooterCallback",g.fnFooterCallback,"user"),Ot(I,"aoInitComplete",g.fnInitComplete,"user"),Ot(I,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),I.rowIdFn=S(g.rowId),c(I);var E=I.oClasses;if(g.bJQueryUI?(t.extend(E,Ut.ext.oJUIClasses,g.oClasses),g.sDom===x.sDom&&"lfrtip"===x.sDom&&(I.sDom='<"H"lfr>t<"F"ip>'),I.renderer?t.isPlainObject(I.renderer)&&!I.renderer.header&&(I.renderer.header="jqueryui"):I.renderer="jqueryui"):t.extend(E,Ut.ext.classes,g.oClasses),C.addClass(E.sTable),I.iInitDisplayStart===n&&(I.iInitDisplayStart=g.iDisplayStart,I._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading){I.bDeferLoading=!0;var j=t.isArray(g.iDeferLoading);I._iRecordsDisplay=j?g.iDeferLoading[0]:g.iDeferLoading,I._iRecordsTotal=j?g.iDeferLoading[1]:g.iDeferLoading}var A=I.oLanguage;t.extend(!0,A,g.oLanguage),""!==A.sUrl&&(t.ajax({dataType:"json",url:A.sUrl,success:function(e){o(e),r(x.oLanguage,e),t.extend(!0,A,e),at(I)},error:function(){at(I)}}),b=!0),null===g.asStripeClasses&&(I.asStripeClasses=[E.sStripeOdd,E.sStripeEven]);var M=I.asStripeClasses,F=C.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(M,function(t){return F.hasClass(t)}))&&(t("tbody tr",this).removeClass(M.join(" ")),I.asDestroyStripes=M.slice());var P,R=[],N=this.getElementsByTagName("thead");if(0!==N.length&&(L(I.aoHeader,N[0]),R=z(I)),null===g.aoColumns)for(P=[],m=0,p=R.length;p>m;m++)P.push(null);else P=g.aoColumns;for(m=0,p=P.length;p>m;m++)h(I,R?R[m]:null);if(y(I,g.aoColumnDefs,P,function(t,e){u(I,t,e)}),F.length){var O=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(F[0]).children("th, td").each(function(t,e){var i=I.aoColumns[t];if(i.mData===t){var s=O(e,"sort")||O(e,"order"),r=O(e,"filter")||O(e,"search");null===s&&null===r||(i.mData={_:t+".display",sort:null!==s?t+".@data-"+s:n,type:null!==s?t+".@data-"+s:n,filter:null!==r?t+".@data-"+r:n},u(I,t))}})}var H=I.oFeatures;if(g.bStateSave&&(H.bStateSave=!0,At(I,g),Ot(I,"aoDrawCallback",jt,"state_save")),g.aaSorting===n){var q=I.aaSorting;for(m=0,p=q.length;p>m;m++)q[m][1]=I.aoColumns[m].asSorting[0]}It(I),H.bSort&&Ot(I,"aoDrawCallback",function(){if(I.bSorted){var e=$t(I),i={};t.each(e,function(t,e){i[e.src]=e.dir}),Ht(I,null,"order",[I,e,i]),Dt(I)}}),Ot(I,"aoDrawCallback",function(){(I.bSorted||"ssp"===zt(I)||H.bDeferRender)&&It(I)},"sc");var B=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),W=C.children("thead");0===W.length&&(W=t("<thead/>").appendTo(this)),I.nTHead=W[0];var G=C.children("tbody");0===G.length&&(G=t("<tbody/>").appendTo(this)),I.nTBody=G[0];var U=C.children("tfoot");if(0===U.length&&B.length>0&&(""!==I.oScroll.sX||""!==I.oScroll.sY)&&(U=t("<tfoot/>").appendTo(this)),0===U.length||0===U.children().length?C.addClass(E.sNoFooter):U.length>0&&(I.nTFoot=U[0],L(I.aoFooter,I.nTFoot)),g.aaData)for(m=0;m<g.aaData.length;m++)w(I,g.aaData[m]);else(I.bDeferLoading||"dom"==zt(I))&&_(I,t(I.nTBody).children("tr"));I.aiDisplay=I.aiDisplayMaster.slice(),I.bInitialised=!0,!1===b&&at(I)}),i=null,this};var xe=[],Ce=Array.prototype,$e=function(e){var i,n,s=Ut.settings,r=t.map(s,function(t){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(i=t.inArray(e,r),-1!==i?[s[i]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=t(e):e instanceof t&&(n=e),n?n.map(function(){return i=t.inArray(this,r),-1!==i?s[i]:null}).toArray():void 0):[]};Vt=function(e,i){if(!(this instanceof Vt))return new Vt(e,i);var n=[],s=function(t){var e=$e(t);e&&(n=n.concat(e))};if(t.isArray(e))for(var r=0,o=e.length;o>r;r++)s(e[r]);else s(e);this.context=ge(n),i&&t.merge(this,i),this.selector={rows:null,cols:null,opts:null},Vt.extend(this,this,xe)},Ut.Api=Vt,t.extend(Vt.prototype,{any:function(){return 0!==this.count()},concat:Ce.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;i>e;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Vt(e[t],this[t]):null},filter:function(t){var e=[];if(Ce.filter)e=Ce.filter.call(this,t,this);else for(var i=0,n=this.length;n>i;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new Vt(this.context,e)},flatten:function(){var t=[];return new Vt(this.context,t.concat.apply(t,this.toArray()))},join:Ce.join,indexOf:Ce.indexOf||function(t,e){for(var i=e||0,n=this.length;n>i;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,s){var r,o,a,l,c,d,h,u,p=[],f=this.context,g=this.selector;for("string"==typeof t&&(s=i,i=e,e=t,t=!1),o=0,a=f.length;a>o;o++){var m=new Vt(f[o]);if("table"===e)(r=i.call(m,f[o],o))!==n&&p.push(r);else if("columns"===e||"rows"===e)(r=i.call(m,f[o],this[o],o))!==n&&p.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(h=this[o],"column-rows"===e&&(d=Ee(f[o],g.opts)),l=0,c=h.length;c>l;l++)u=h[l],(r="cell"===e?i.call(m,f[o],u.row,u.column,o,l):i.call(m,f[o],u,o,l,d))!==n&&p.push(r)}if(p.length||s){var v=new Vt(f,t?p.concat.apply([],p):p),b=v.selector;return b.rows=g.rows,b.cols=g.cols,b.opts=g.opts,v}return this},lastIndexOf:Ce.lastIndexOf||function(){
return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Ce.map)e=Ce.map.call(this,t,this);else for(var i=0,n=this.length;n>i;i++)e.push(t.call(this,this[i],i));return new Vt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Ce.pop,push:Ce.push,reduce:Ce.reduce||function(t,e){return d(this,t,e,0,this.length,1)},reduceRight:Ce.reduceRight||function(t,e){return d(this,t,e,this.length-1,-1,-1)},reverse:Ce.reverse,selector:null,shift:Ce.shift,sort:Ce.sort,splice:Ce.splice,toArray:function(){return Ce.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new Vt(this.context,ge(this))},unshift:Ce.unshift}),Vt.extend=function(e,i,n){if(n.length&&i&&(i instanceof Vt||i.__dt_wrapper)){var s,r,o,a=function(t,e,i){return function(){var n=e.apply(t,arguments);return Vt.extend(n,n,i.methodExt),n}};for(s=0,r=n.length;r>s;s++)o=n[s],i[o.name]="function"==typeof o.val?a(e,o.val,o):t.isPlainObject(o.val)?{}:o.val,i[o.name].__dt_wrapper=!0,Vt.extend(e,i[o.name],o.propExt)}},Vt.register=Xt=function(e,i){if(t.isArray(e))for(var n=0,s=e.length;s>n;n++)Vt.register(e[n],i);else{var r,o,a,l,c=e.split("."),d=xe,h=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i].name===e)return t[i];return null};for(r=0,o=c.length;o>r;r++){l=-1!==c[r].indexOf("()"),a=l?c[r].replace("()",""):c[r];var u=h(d,a);u||(u={name:a,val:{},methodExt:[],propExt:[]},d.push(u)),r===o-1?u.val=i:d=l?u.methodExt:u.propExt}}},Vt.registerPlural=Kt=function(e,i,s){Vt.register(e,s),Vt.register(i,function(){var e=s.apply(this,arguments);return e===this?this:e instanceof Vt?e.length?t.isArray(e[0])?new Vt(e.context,e[0]):e[0]:n:e})};var ke=function(e,i){if("number"==typeof e)return[i[e]];var n=t.map(i,function(t){return t.nTable});return t(n).filter(e).map(function(){var e=t.inArray(this,n);return i[e]}).toArray()};Xt("tables()",function(t){return t?new Vt(ke(t,this.context)):this}),Xt("table()",function(t){var e=this.tables(t),i=e.context;return i.length?new Vt(i[0]):e}),Kt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Kt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Kt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Kt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Kt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Xt("draw()",function(t){return this.iterator("table",function(e){"page"===t?O(e):("string"==typeof t&&(t="full-hold"!==t),H(e,!1===t))})}),Xt("page()",function(t){return t===n?this.page.info().page:this.iterator("table",function(e){ut(e,t)})}),Xt("page.info()",function(){if(0===this.context.length)return n;var t=this.context[0],e=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,s=t.fnRecordsDisplay(),r=-1===i;return{page:r?0:Math.floor(e/i),pages:r?1:Math.ceil(s/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:s,serverSide:"ssp"===zt(t)}}),Xt("page.len()",function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(e){ct(e,t)})});var De=function(t,e,i){if(i){var n=new Vt(t);n.one("draw",function(){i(n.ajax.json())})}if("ssp"==zt(t))H(t,e);else{ft(t,!0);var s=t.jqXHR;s&&4!==s.readyState&&s.abort(),B(t,[],function(i){E(t);for(var n=Y(t,i),s=0,r=n.length;r>s;s++)w(t,n[s]);H(t,e),ft(t,!1)})}};Xt("ajax.json()",function(){var t=this.context;return t.length>0?t[0].json:void 0}),Xt("ajax.params()",function(){var t=this.context;return t.length>0?t[0].oAjaxData:void 0}),Xt("ajax.reload()",function(t,e){return this.iterator("table",function(i){De(i,!1===e,t)})}),Xt("ajax.url()",function(e){var i=this.context;return e===n?0===i.length?n:(i=i[0],i.ajax?t.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){t.isPlainObject(i.ajax)?i.ajax.url=e:i.ajax=e})}),Xt("ajax.url().load()",function(t,e){return this.iterator("table",function(i){De(i,!1===e,t)})});var Se=function(e,i,s,r,o){var a,l,c,d,h,u,p=[],f=typeof i;for(i&&"string"!==f&&"function"!==f&&i.length!==n||(i=[i]),c=0,d=i.length;d>c;c++)for(l=i[c]&&i[c].split?i[c].split(","):[i[c]],h=0,u=l.length;u>h;h++)(a=s("string"==typeof l[h]?t.trim(l[h]):l[h]))&&a.length&&(p=p.concat(a));var g=Yt.selector[e];if(g.length)for(c=0,d=g.length;d>c;c++)p=g[c](r,o,p);return ge(p)},Te=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Ie=function(t){for(var e=0,i=t.length;i>e;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Ee=function(e,i){var n,s,r,o=[],a=e.aiDisplay,l=e.aiDisplayMaster,c=i.search,d=i.order,h=i.page;if("ssp"==zt(e))return"removed"===c?[]:ue(0,l.length);if("current"==h)for(n=e._iDisplayStart,s=e.fnDisplayEnd();s>n;n++)o.push(a[n]);else if("current"==d||"applied"==d)o="none"==c?l.slice():"applied"==c?a.slice():t.map(l,function(e){return-1===t.inArray(e,a)?e:null});else if("index"==d||"original"==d)for(n=0,s=e.aoData.length;s>n;n++)"none"==c?o.push(n):(-1===(r=t.inArray(n,a))&&"removed"==c||r>=0&&"applied"==c)&&o.push(n);return o},je=function(e,i,s){return Se("row",i,function(i){var r=re(i);if(null!==r&&!s)return[r];var o=Ee(e,s);if(null!==r&&-1!==t.inArray(r,o))return[r];if(!i)return o;if("function"==typeof i)return t.map(o,function(t){var n=e.aoData[t];return i(t,n._aData,n.nTr)?t:null});var a=pe(he(e.aoData,o,"nTr"));if(i.nodeName){if(i._DT_RowIndex!==n)return[i._DT_RowIndex];if(i._DT_CellIndex)return[i._DT_CellIndex.row];var l=t(i).closest("*[data-dt-row]");return l.length?[l.data("dt-row")]:[]}if("string"==typeof i&&"#"===i.charAt(0)){var c=e.aIds[i.replace(/^#/,"")];if(c!==n)return[c.idx]}return t(a).filter(i).map(function(){return this._DT_RowIndex}).toArray()},e,s)};Xt("rows()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=Te(i);var s=this.iterator("table",function(t){return je(t,e,i)},1);return s.selector.rows=e,s.selector.opts=i,s}),Xt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||n},1)}),Xt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return he(t.aoData,e,"_aData")},1)}),Kt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData},1)}),Kt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,i){A(e,i,t)})}),Kt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Kt("rows().ids()","row().id()",function(t){for(var e=[],i=this.context,n=0,s=i.length;s>n;n++)for(var r=0,o=this[n].length;o>r;r++){var a=i[n].rowIdFn(i[n].aoData[this[n][r]]._aData);e.push((!0===t?"#":"")+a)}return new Vt(i,e)}),Kt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,s){var r,o,a,l,c,d,h=e.aoData,u=h[i];for(h.splice(i,1),r=0,o=h.length;o>r;r++)if(c=h[r],d=c.anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=r),null!==d)for(a=0,l=d.length;l>a;a++)d[a]._DT_CellIndex.row=r;j(e.aiDisplayMaster,i),j(e.aiDisplay,i),j(t[s],i,!1),qt(e);var p=e.rowIdFn(u._aData);p!==n&&delete e.aIds[p]}),this.iterator("table",function(t){for(var e=0,i=t.aoData.length;i>e;e++)t.aoData[e].idx=e}),this}),Xt("rows.add()",function(e){var i=this.iterator("table",function(t){var i,n,s,r=[];for(n=0,s=e.length;s>n;n++)i=e[n],i.nodeName&&"TR"===i.nodeName.toUpperCase()?r.push(_(t,i)[0]):r.push(w(t,i));return r},1),n=this.rows(-1);return n.pop(),t.merge(n,i),n}),Xt("row()",function(t,e){return Ie(this.rows(t,e))}),Xt("row().data()",function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,A(e[0],this[0],"data"),this)}),Xt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Xt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var i=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?_(t,e)[0]:w(t,e)});return this.row(i[0])});var Ae=function(e,i,n,s){var r=[],o=function(i,n){if(t.isArray(i)||i instanceof t)for(var s=0,a=i.length;a>s;s++)o(i[s],n);else if(i.nodeName&&"tr"===i.nodeName.toLowerCase())r.push(i);else{var l=t("<tr><td/></tr>").addClass(n);t("td",l).addClass(n).html(i)[0].colSpan=m(e),r.push(l[0])}};o(n,s),i._details&&i._details.remove(),i._details=t(r),i._detailsShow&&i._details.insertAfter(i.nTr)},Me=function(t,e){var i=t.context;if(i.length){var s=i[0].aoData[e!==n?e:t[0]];s&&s._details&&(s._details.remove(),s._detailsShow=n,s._details=n)}},Fe=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];n._details&&(n._detailsShow=e,e?n._details.insertAfter(n.nTr):n._details.detach(),Pe(i[0]))}},Pe=function(t){var e=new Vt(t),i=".dt.DT_details",n="draw"+i,s="column-visibility"+i,r="destroy"+i,o=t.aoData;e.off(n+" "+s+" "+r),de(o,"_details").length>0&&(e.on(n,function(i,n){t===n&&e.rows({page:"current"}).eq(0).each(function(t){var e=o[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on(s,function(e,i){if(t===i)for(var n,s=m(i),r=0,a=o.length;a>r;r++)n=o[r],n._details&&n._details.children("td[colspan]").attr("colspan",s)}),e.on(r,function(i,n){if(t===n)for(var s=0,r=o.length;r>s;s++)o[s]._details&&Me(e,s)}))},Re="",Ne=Re+"row().child",Oe=Ne+"()";Xt(Oe,function(t,e){var i=this.context;return t===n?i.length&&this.length?i[0].aoData[this[0]]._details:n:(!0===t?this.child.show():!1===t?Me(this):i.length&&this.length&&Ae(i[0],i[0].aoData[this[0]],t,e),this)}),Xt([Ne+".show()",Oe+".show()"],function(){return Fe(this,!0),this}),Xt([Ne+".hide()",Oe+".hide()"],function(){return Fe(this,!1),this}),Xt([Ne+".remove()",Oe+".remove()"],function(){return Me(this),this}),Xt(Ne+".isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var He=/^(.+):(name|visIdx|visible)$/,qe=function(t,e,i,n,s){for(var r=[],o=0,a=s.length;a>o;o++)r.push($(t,s[o],e));return r},Le=function(e,i,n){var s=e.aoColumns,r=de(s,"sName"),o=de(s,"nTh");return Se("column",i,function(i){var a=re(i);if(""===i)return ue(s.length);if(null!==a)return[a>=0?a:s.length+a];if("function"==typeof i){var l=Ee(e,n);return t.map(s,function(t,n){return i(n,qe(e,n,0,0,l),o[n])?n:null})}var c="string"==typeof i?i.match(He):"";if(c)switch(c[2]){case"visIdx":case"visible":var d=parseInt(c[1],10);if(0>d){var h=t.map(s,function(t,e){return t.bVisible?e:null});return[h[h.length+d]]}return[f(e,d)];case"name":return t.map(r,function(t,e){return t===c[1]?e:null});default:return[]}if(i.nodeName&&i._DT_CellIndex)return[i._DT_CellIndex.column];var u=t(o).filter(i).map(function(){return t.inArray(this,o)}).toArray();if(u.length||!i.nodeName)return u;var p=t(i).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]},e,n)},ze=function(e,i,s,r){var o,a,l,c,d=e.aoColumns,h=d[i],u=e.aoData;if(s===n)return h.bVisible;if(h.bVisible!==s){if(s){var f=t.inArray(!0,de(d,"bVisible"),i+1);for(a=0,l=u.length;l>a;a++)c=u[a].nTr,o=u[a].anCells,c&&c.insertBefore(o[i],o[f]||null)}else t(de(e.aoData,"anCells",i)).detach();h.bVisible=s,N(e,e.aoHeader),N(e,e.aoFooter),(r===n||r)&&p(e),Ht(e,null,"column-visibility",[e,i,s,r]),jt(e)}};Xt("columns()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=Te(i);var s=this.iterator("table",function(t){return Le(t,e,i)},1);return s.selector.cols=e,s.selector.opts=i,s}),Kt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Kt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Kt("columns().data()","column().data()",function(){return this.iterator("column-rows",qe,1)}),Kt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Kt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,i,n,s,r){return he(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",i)},1)}),Kt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,n,s){return he(t.aoData,s,"anCells",e)},1)}),Kt("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(i,s){return t===n?i.aoColumns[s].bVisible:void ze(i,s,t,e)})}),Kt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,i){return"visible"===t?g(e,i):i},1)}),Xt("columns.adjust()",function(){return this.iterator("table",function(t){p(t)},1)}),Xt("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return f(i,e);if("fromData"===t||"toVisible"===t)return g(i,e)}}),Xt("column()",function(t,e){return Ie(this.columns(t,e))});var Be=function(e,i,s){var r,o,a,l,c,d,h,u=e.aoData,p=Ee(e,s),f=pe(he(u,p,"anCells")),g=t([].concat.apply([],f)),m=e.aoColumns.length;return Se("cell",i,function(i){var s="function"==typeof i;if(null===i||i===n||s){for(o=[],a=0,l=p.length;l>a;a++)for(r=p[a],c=0;m>c;c++)d={row:r,column:c},s?(h=u[r],i(d,$(e,r,c),h.anCells?h.anCells[c]:null)&&o.push(d)):o.push(d);return o}if(t.isPlainObject(i))return[i];var f=g.filter(i).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray();return f.length||!i.nodeName?f:(h=t(i).closest("*[data-dt-row]"),h.length?[{row:h.data("dt-row"),column:h.data("dt-column")}]:[])},e,s)};Xt("cells()",function(e,i,s){if(t.isPlainObject(e)&&(e.row===n?(s=e,e=null):(s=i,i=null)),t.isPlainObject(i)&&(s=i,i=null),null===i||i===n)return this.iterator("table",function(t){return Be(t,e,Te(s))});var r,o,a,l,c,d=this.columns(i,s),h=this.rows(e,s),u=this.iterator("table",function(t,e){for(r=[],o=0,a=h[e].length;a>o;o++)for(l=0,c=d[e].length;c>l;l++)r.push({row:h[e][o],column:d[e][l]});return r},1);return t.extend(u.selector,{cols:i,rows:e,opts:s}),u}),Kt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){var s=t.aoData[e];return s&&s.anCells?s.anCells[i]:n},1)}),Xt("cells().data()",function(){return this.iterator("cell",function(t,e,i){return $(t,e,i)},1)}),Kt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,i,n){return e.aoData[i][t][n]},1)}),Kt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,i,n){return $(e,i,n,t)},1)}),Kt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:g(t,i)}},1)}),Kt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,i,n){A(e,i,t,n)})}),Xt("cell()",function(t,e,i){return Ie(this.cells(t,e,i))}),Xt("cell().data()",function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?$(e[0],i[0].row,i[0].column):n:(k(e[0],i[0].row,i[0].column,t),A(e[0],i[0].row,"data",i[0].column),this)}),Xt("order()",function(e,i){var s=this.context;return e===n?0!==s.length?s[0].aaSorting:n:("number"==typeof e?e=[[e,i]]:t.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Xt("order.listener()",function(t,e,i){return this.iterator("table",function(n){Tt(n,t,e,i)})}),Xt("order.fixed()",function(e){if(!e){var i=this.context,s=i.length?i[0].aaSortingFixed:n;return t.isArray(s)?{pre:s}:s}return this.iterator("table",function(i){i.aaSortingFixed=t.extend(!0,{},e)})}),Xt(["columns().order()","column().order()"],function(e){var i=this;return this.iterator("table",function(n,s){var r=[];t.each(i[s],function(t,i){r.push([i,e])}),n.aaSorting=r})}),Xt("search()",function(e,i,s,r){var o=this.context;return e===n?0!==o.length?o[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&X(n,t.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===s||s,bCaseInsensitive:null===r||r}),1)})}),Kt("columns().search()","column().search()",function(e,i,s,r){return this.iterator("column",function(o,a){var l=o.aoPreSearchCols;return e===n?l[a].sSearch:void(o.oFeatures.bFilter&&(t.extend(l[a],{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===s||s,bCaseInsensitive:null===r||r}),X(o,o.oPreviousSearch,1)))})}),Xt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Xt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Xt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Xt("state.save()",function(){return this.iterator("table",function(t){jt(t)})}),Ut.versionCheck=Ut.fnVersionCheck=function(t){for(var e,i,n=Ut.version.split("."),s=t.split("."),r=0,o=s.length;o>r;r++)if(e=parseInt(n[r],10)||0,i=parseInt(s[r],10)||0,e!==i)return e>i;return!0},Ut.isDataTable=Ut.fnIsDataTable=function(e){var i=t(e).get(0),n=!1;return t.each(Ut.settings,function(e,s){var r=s.nScrollHead?t("table",s.nScrollHead)[0]:null,o=s.nScrollFoot?t("table",s.nScrollFoot)[0]:null;s.nTable!==i&&r!==i&&o!==i||(n=!0)}),n},Ut.tables=Ut.fnTables=function(e){var i=!1;t.isPlainObject(e)&&(i=e.api,e=e.visible);var n=t.map(Ut.settings,function(i){return!e||e&&t(i.nTable).is(":visible")?i.nTable:void 0});return i?new Vt(n):n},Ut.util={throttle:yt,escapeRegex:tt},Ut.camelToHungarian=r,Xt("$()",function(e,i){var n=this.rows(i).nodes(),s=t(n);return t([].concat(s.filter(e).toArray(),s.find(e).toArray()))}),t.each(["on","one","off"],function(e,i){Xt(i+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var n=t(this.tables().nodes());return n[i].apply(n,e),this})}),Xt("clear()",function(){return this.iterator("table",function(t){E(t)})}),Xt("settings()",function(){return new Vt(this.context,this.context)}),Xt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Xt("data()",function(){return this.iterator("table",function(t){return de(t.aoData,"_aData")}).flatten()}),Xt("destroy()",function(i){return i=i||!1,this.iterator("table",function(n){var s,r=n.nTableWrapper.parentNode,o=n.oClasses,a=n.nTable,l=n.nTBody,c=n.nTHead,d=n.nTFoot,h=t(a),u=t(l),p=t(n.nTableWrapper),f=t.map(n.aoData,function(t){return t.nTr});n.bDestroying=!0,Ht(n,"aoDestroyCallback","destroy",[n]),i||new Vt(n).columns().visible(!0),p.unbind(".DT").find(":not(tbody *)").unbind(".DT"),t(e).unbind(".DT-"+n.sInstance),a!=c.parentNode&&(h.children("thead").detach(),h.append(c)),d&&a!=d.parentNode&&(h.children("tfoot").detach(),h.append(d)),n.aaSorting=[],n.aaSortingFixed=[],It(n),t(f).removeClass(n.asStripeClasses.join(" ")),t("th, td",c).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),n.bJUI&&(t("th span."+o.sSortIcon+", td span."+o.sSortIcon,c).detach(),t("th, td",c).each(function(){var e=t("div."+o.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()})),u.children().detach(),u.append(f);var g=i?"remove":"detach";h[g](),p[g](),!i&&r&&(r.insertBefore(a,n.nTableReinsertBefore),h.css("width",n.sDestroyWidth).removeClass(o.sTable),(s=n.asDestroyStripes.length)&&u.children().each(function(e){t(this).addClass(n.asDestroyStripes[e%s])}));var m=t.inArray(n,Ut.settings);-1!==m&&Ut.settings.splice(m,1)})}),t.each(["column","row","cell"],function(t,e){Xt(e+"s().every()",function(t){var i=this.selector.opts,s=this;return this.iterator(e,function(r,o,a,l,c){t.call(s[e](o,"cell"===e?a:i,"cell"===e?i:n),o,a,l,c)})})}),Xt("i18n()",function(e,i,s){var r=this.context[0],o=S(e)(r.oLanguage);return o===n&&(o=i),s!==n&&t.isPlainObject(o)&&(o=o[s]!==n?o[s]:o._),o.replace("%d",s)}),Ut.version="1.10.11",Ut.settings=[],Ut.models={},Ut.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ut.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ut.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ut.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Ut.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},s(Ut.defaults),Ut.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},s(Ut.defaults.column),Ut.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==zt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==zt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,s=this.oFeatures,r=s.bPaginate;return s.bServerSide?!1===r||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!r||i>n||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ut.ext=Yt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ut.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ut.version},t.extend(Yt,{afnFiltering:Yt.search,aTypes:Yt.type.detect,ofnSearch:Yt.type.search,oSort:Yt.type.order,afnSortData:Yt.order,aoFeatures:Yt.feature,oApi:Yt.internal,oStdClasses:Yt.classes,oPagination:Yt.pager}),t.extend(Ut.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var i=e+"ui-state-default",n=e+"css_right ui-icon ui-icon-",s=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(Ut.ext.oJUIClasses,Ut.ext.classes,{sPageButton:"fg-button ui-button "+i,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:i+" sorting_asc",sSortDesc:i+" sorting_desc",sSortable:i+" sorting",sSortableAsc:i+" sorting_asc_disabled",sSortableDesc:i+" sorting_desc_disabled",sSortableNone:i+" sorting_disabled",sSortJUIAsc:n+"triangle-1-n",sSortJUIDesc:n+"triangle-1-s",sSortJUI:n+"carat-2-n-s",sSortJUIAscAllowed:n+"carat-1-n",sSortJUIDescAllowed:n+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+i,sScrollFoot:"dataTables_scrollFoot "+i,sHeaderTH:i,sFooterTH:i,sJUIHeader:s+" ui-corner-tl ui-corner-tr",sJUIFooter:s+" ui-corner-bl ui-corner-br"})}();var We=Ut.ext.pager;t.extend(We,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Bt(t,e)]},simple_numbers:function(t,e){return["previous",Bt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Bt(t,e),"next","last"]},_numbers:Bt,numbers_length:7}),t.extend(!0,Ut.ext.renderer,{pageButton:{_:function(e,n,s,r,o,a){var l,c,d,h=e.oClasses,u=e.oLanguage.oPaginate,p=e.oLanguage.oAria.paginate||{},f=0,g=function(i,n){var r,d,m,v,b=function(t){ut(e,t.data.action,!0)};for(r=0,d=n.length;d>r;r++)if(v=n[r],t.isArray(v)){var y=t("<"+(v.DT_el||"div")+"/>").appendTo(i);g(y,v)}else{switch(l=null,c="",v){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=u.sFirst,c=v+(o>0?"":" "+h.sPageButtonDisabled);break;case"previous":l=u.sPrevious,c=v+(o>0?"":" "+h.sPageButtonDisabled);break;case"next":l=u.sNext,c=v+(a-1>o?"":" "+h.sPageButtonDisabled);break;case"last":l=u.sLast,c=v+(a-1>o?"":" "+h.sPageButtonDisabled);break;default:l=v+1,c=o===v?h.sPageButtonActive:""}null!==l&&(m=t("<a>",{"class":h.sPageButton+" "+c,"aria-controls":e.sTableId,"aria-label":p[v],"data-dt-idx":f,tabindex:e.iTabIndex,id:0===s&&"string"==typeof v?e.sTableId+"_"+v:null}).html(l).appendTo(i),Nt(m,{action:v},b),f++)}};try{d=t(n).find(i.activeElement).data("dt-idx")}catch(t){}g(t(n).empty(),r),d&&t(n).find("[data-dt-idx="+d+"]").focus()}}}),t.extend(Ut.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return ae(t,i)?"num"+i:null},function(t){if(t&&!(t instanceof Date)&&(!te.test(t)||!ee.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||se(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return ae(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return ce(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return ce(t,i,!0)?"html-num-fmt"+i:null},function(t){return se(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Ut.ext.type.search,{html:function(t){return se(t)?t:"string"==typeof t?t.replace(Zt," ").replace(Jt,""):""},string:function(t){return se(t)?t:"string"==typeof t?t.replace(Zt," "):t}});var Ge=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=oe(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-1/0};t.extend(Yt.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return se(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return se(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return e>t?-1:t>e?1:0},"string-desc":function(t,e){return e>t?1:t>e?-1:0}}),Wt(""),t.extend(!0,Ut.ext.renderer,{header:{_:function(e,i,n,s){t(e.nTable).on("order.dt.DT",function(t,r,o,a){if(e===r){var l=n.idx;i.removeClass(n.sSortingClass+" "+s.sSortAsc+" "+s.sSortDesc).addClass("asc"==a[l]?s.sSortAsc:"desc"==a[l]?s.sSortDesc:n.sSortingClass)}})},jqueryui:function(e,i,n,s){t("<div/>").addClass(s.sSortJUIWrapper).append(i.contents()).append(t("<span/>").addClass(s.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),t(e.nTable).on("order.dt.DT",function(t,r,o,a){if(e===r){var l=n.idx;i.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==a[l]?s.sSortAsc:"desc"==a[l]?s.sSortDesc:n.sSortingClass),i.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==a[l]?s.sSortJUIAsc:"desc"==a[l]?s.sSortJUIDesc:n.sSortingClassJUI)}})}}});var Ue=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Ut.render={number:function(t,e,i,n,s){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var o=0>r?"-":"",a=parseFloat(r);if(isNaN(a))return Ue(r);r=Math.abs(a);var l=parseInt(r,10),c=i?e+(r-l).toFixed(i).substring(2):"";return o+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+c+(s||"")}}},text:function(){return{display:Ue}}},t.extend(Ut.ext.internal,{_fnExternApiFunc:Gt,_fnBuildAjax:B,_fnAjaxUpdate:W,_fnAjaxParameters:G,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:Y,_fnAddColumn:h,_fnColumnOptions:u,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:s,_fnCamelToHungarian:r,_fnLanguageCompat:o,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:_,_fnNodeToDataIndex:x,_fnNodeToColumnIndex:C,_fnGetCellData:$,_fnSetCellData:k,_fnSplitObjNotation:D,_fnGetObjectDataFn:S,_fnSetObjectDataFn:T,_fnGetDataMaster:I,_fnClearTable:E,_fnDeleteIndex:j,_fnInvalidate:A,_fnGetRowElements:M,_fnCreateTr:F,_fnBuildHead:R,_fnDrawHead:N,_fnDraw:O,_fnReDraw:H,_fnAddOptionsHtml:q,_fnDetectHeader:L,_fnGetUniqueThs:z,_fnFeatureHtmlFilter:V,_fnFilterComplete:X,_fnFilterCustom:K,_fnFilterColumn:Q,_fnFilter:Z,_fnFilterCreateSearch:J,_fnEscapeRegex:tt,_fnFilterData:et,_fnFeatureHtmlInfo:st,
_fnUpdateInfo:rt,_fnInfoMacros:ot,_fnInitialise:at,_fnInitComplete:lt,_fnLengthChange:ct,_fnFeatureHtmlLength:dt,_fnFeatureHtmlPaginate:ht,_fnPageChange:ut,_fnFeatureHtmlProcessing:pt,_fnProcessingDisplay:ft,_fnFeatureHtmlTable:gt,_fnScrollDraw:mt,_fnApplyToChildren:vt,_fnCalculateColumnWidths:bt,_fnThrottle:yt,_fnConvertToWidth:wt,_fnGetWidestNode:_t,_fnGetMaxLenString:xt,_fnStringToCss:Ct,_fnSortFlatten:$t,_fnSort:kt,_fnSortAria:Dt,_fnSortListener:St,_fnSortAttachListener:Tt,_fnSortingClasses:It,_fnSortData:Et,_fnSaveState:jt,_fnLoadState:At,_fnSettingsFromNode:Mt,_fnLog:Ft,_fnMap:Pt,_fnBindAction:Nt,_fnCallbackReg:Ot,_fnCallbackFire:Ht,_fnLengthOverflow:qt,_fnRenderer:Lt,_fnDataSource:zt,_fnRowAttributes:P,_fnCalculateEnd:function(){}}),t.fn.dataTable=Ut,Ut.$=t,t.fn.dataTableSettings=Ut.settings,t.fn.dataTableExt=Ut.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Ut,function(e,i){t.fn.DataTable[e]=i}),t.fn.dataTable}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(t,e){var i,n=document.createElement("canvas");t.appendChild(n),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(n);var s=n.getContext("2d");n.width=n.height=e.size;var r=1;window.devicePixelRatio>1&&(r=window.devicePixelRatio,n.style.width=n.style.height=[e.size,"px"].join(""),n.width=n.height=e.size*r,s.scale(r,r)),s.translate(e.size/2,e.size/2),s.rotate((e.rotate/180-.5)*Math.PI);var o=(e.size-e.lineWidth)/2;e.scaleColor&&e.scaleLength&&(o-=e.scaleLength+2),Date.now=Date.now||function(){return+new Date};var a=function(t,e,i){i=Math.min(Math.max(-1,i||0),1);var n=0>=i;s.beginPath(),s.arc(0,0,o,0,2*Math.PI*i,n),s.strokeStyle=t,s.lineWidth=e,s.stroke()},l=function(){var t,i;s.lineWidth=1,s.fillStyle=e.scaleColor,s.save();for(var n=24;n>0;--n)n%6==0?(i=e.scaleLength,t=0):(i=.6*e.scaleLength,t=e.scaleLength-i),s.fillRect(-e.size/2+t,0,i,1),s.rotate(Math.PI/12);s.restore()},c=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),d=function(){e.scaleColor&&l(),e.trackColor&&a(e.trackColor,e.trackWidth||e.lineWidth,1)};this.getCanvas=function(){return n},this.getCtx=function(){return s},this.clear=function(){s.clearRect(e.size/-2,e.size/-2,e.size,e.size)},this.draw=function(t){e.scaleColor||e.trackColor?s.getImageData&&s.putImageData?i?s.putImageData(i,0,0):(d(),i=s.getImageData(0,0,e.size*r,e.size*r)):(this.clear(),d()):this.clear(),s.lineCap=e.lineCap;var n;n="function"==typeof e.barColor?e.barColor(t):e.barColor,a(n,e.lineWidth,t/100)}.bind(this),this.animate=function(t,i){var n=Date.now();e.onStart(t,i);var s=function(){var r=Math.min(Date.now()-n,e.animate.duration),o=e.easing(this,r,t,i-t,e.animate.duration);this.draw(o),e.onStep(t,i,o),r>=e.animate.duration?e.onStop(t,i):c(s)}.bind(this);c(s)}.bind(this)},i=function(t,i){var n={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,i,n,s){return e/=s/2,1>e?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},onStart:function(){},onStep:function(){},onStop:function(){}};if(void 0!==e)n.renderer=e;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");n.renderer=SVGRenderer}var s={},r=0,o=function(){this.el=t,this.options=s;for(var e in n)n.hasOwnProperty(e)&&(s[e]=i&&"undefined"!=typeof i[e]?i[e]:n[e],"function"==typeof s[e]&&(s[e]=s[e].bind(this)));"string"==typeof s.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[s.easing])?s.easing=jQuery.easing[s.easing]:s.easing=n.easing,"number"==typeof s.animate&&(s.animate={duration:s.animate,enabled:!0}),"boolean"!=typeof s.animate||s.animate||(s.animate={duration:1e3,enabled:s.animate}),this.renderer=new s.renderer(t,s),this.renderer.draw(r),t.dataset&&t.dataset.percent?this.update(parseFloat(t.dataset.percent)):t.getAttribute&&t.getAttribute("data-percent")&&this.update(parseFloat(t.getAttribute("data-percent"))),t.style.width=t.style.height=s.size+"px",t.style.lineHeight=s.size-1+"px"}.bind(this);this.update=function(t){return t=parseFloat(t),s.animate.enabled?this.renderer.animate(r,t):this.renderer.draw(t),r=t,this}.bind(this),this.disableAnimation=function(){return s.animate.enabled=!1,this},this.enableAnimation=function(){return s.animate.enabled=!0,this},o()};t.fn.easyPieChart=function(e){return this.each(function(){var n;t.data(this,"easyPieChart")||(n=t.extend({},e,t(this).data()),t.data(this,"easyPieChart",new i(this,n)))})}}),function(t){t.color={},t.color.make=function(e,i,n,s){var r={};return r.r=e||0,r.g=i||0,r.b=n||0,r.a=null!=s?s:1,r.add=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]+=e;return r.normalize()},r.scale=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]*=e;return r.normalize()},r.toString=function(){return r.a>=1?"rgb("+[r.r,r.g,r.b].join(",")+")":"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"},r.normalize=function(){function t(t,e,i){return t>e?t:e>i?i:e}return r.r=t(0,parseInt(r.r),255),r.g=t(0,parseInt(r.g),255),r.b=t(0,parseInt(r.b),255),r.a=t(0,r.a,1),r},r.clone=function(){return t.color.make(r.r,r.b,r.g,r.a)},r.normalize()},t.color.extract=function(e,i){var n;do{if(""!=(n=e.css(i).toLowerCase())&&"transparent"!=n)break;e=e.parent()}while(e.length&&!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),t.color.parse(n)},t.color.parse=function(i){var n,s=t.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return s(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return s(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return s(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return s(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return s(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return s(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var r=t.trim(i).toLowerCase();return"transparent"==r?s(255,255,255,0):(n=e[r]||[0,0,0],s(n[0],n[1],n[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,i){var n=i.children("."+e)[0];if(null==n&&(n=document.createElement("canvas"),n.className=e,t(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var s=this.context=n.getContext("2d"),r=window.devicePixelRatio||1,o=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1;this.pixelRatio=r/o,this.resize(i.width(),i.height()),this.textContainer=null,this.text={},this._textCache={}}function i(i,s,r,o){function a(t,e){e=[mt].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function l(){for(var i={Canvas:e},n=0;n<o.length;++n){var s=o[n];s.init(mt,i),s.options&&t.extend(!0,st,s.options)}}function c(e){t.extend(!0,st,e),e&&e.colors&&(st.colors=e.colors),null==st.xaxis.color&&(st.xaxis.color=t.color.parse(st.grid.color).scale("a",.22).toString()),null==st.yaxis.color&&(st.yaxis.color=t.color.parse(st.grid.color).scale("a",.22).toString()),null==st.xaxis.tickColor&&(st.xaxis.tickColor=st.grid.tickColor||st.xaxis.color),null==st.yaxis.tickColor&&(st.yaxis.tickColor=st.grid.tickColor||st.yaxis.color),null==st.grid.borderColor&&(st.grid.borderColor=st.grid.color),null==st.grid.tickColor&&(st.grid.tickColor=t.color.parse(st.grid.color).scale("a",.22).toString());var n,s,r,o=i.css("font-size"),l=o?+o.replace("px",""):13,c={style:i.css("font-style"),size:Math.round(.8*l),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")};for(r=st.xaxes.length||1,n=0;r>n;++n)s=st.xaxes[n],s&&!s.tickColor&&(s.tickColor=s.color),s=t.extend(!0,{},st.xaxis,s),st.xaxes[n]=s,s.font&&(s.font=t.extend({},c,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(r=st.yaxes.length||1,n=0;r>n;++n)s=st.yaxes[n],s&&!s.tickColor&&(s.tickColor=s.color),s=t.extend(!0,{},st.yaxis,s),st.yaxes[n]=s,s.font&&(s.font=t.extend({},c,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(st.xaxis.noTicks&&null==st.xaxis.ticks&&(st.xaxis.ticks=st.xaxis.noTicks),st.yaxis.noTicks&&null==st.yaxis.ticks&&(st.yaxis.ticks=st.yaxis.noTicks),st.x2axis&&(st.xaxes[1]=t.extend(!0,{},st.xaxis,st.x2axis),st.xaxes[1].position="top",null==st.x2axis.min&&(st.xaxes[1].min=null),null==st.x2axis.max&&(st.xaxes[1].max=null)),st.y2axis&&(st.yaxes[1]=t.extend(!0,{},st.yaxis,st.y2axis),st.yaxes[1].position="right",null==st.y2axis.min&&(st.yaxes[1].min=null),null==st.y2axis.max&&(st.yaxes[1].max=null)),st.grid.coloredAreas&&(st.grid.markings=st.grid.coloredAreas),st.grid.coloredAreasColor&&(st.grid.markingsColor=st.grid.coloredAreasColor),st.lines&&t.extend(!0,st.series.lines,st.lines),st.points&&t.extend(!0,st.series.points,st.points),st.bars&&t.extend(!0,st.series.bars,st.bars),null!=st.shadowSize&&(st.series.shadowSize=st.shadowSize),null!=st.highlightColor&&(st.series.highlightColor=st.highlightColor),n=0;n<st.xaxes.length;++n)m(dt,n+1).options=st.xaxes[n];for(n=0;n<st.yaxes.length;++n)m(ht,n+1).options=st.yaxes[n];for(var d in gt)st.hooks[d]&&st.hooks[d].length&&(gt[d]=gt[d].concat(st.hooks[d]));a(gt.processOptions,[st])}function d(t){nt=h(t),v(),b()}function h(e){for(var i=[],n=0;n<e.length;++n){var s=t.extend(!0,{},st.series);null!=e[n].data?(s.data=e[n].data,delete e[n].data,t.extend(!0,s,e[n]),e[n].data=s.data):s.data=e[n],i.push(s)}return i}function u(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function p(){return t.grep(dt.concat(ht),function(t){return t})}function f(t){var e,i,n={};for(e=0;e<dt.length;++e)(i=dt[e])&&i.used&&(n["x"+i.n]=i.c2p(t.left));for(e=0;e<ht.length;++e)(i=ht[e])&&i.used&&(n["y"+i.n]=i.c2p(t.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function g(t){var e,i,n,s={};for(e=0;e<dt.length;++e)if((i=dt[e])&&i.used&&(n="x"+i.n,null==t[n]&&1==i.n&&(n="x"),null!=t[n])){s.left=i.p2c(t[n]);break}for(e=0;e<ht.length;++e)if((i=ht[e])&&i.used&&(n="y"+i.n,null==t[n]&&1==i.n&&(n="y"),null!=t[n])){s.top=i.p2c(t[n]);break}return s}function m(e,i){return e[i-1]||(e[i-1]={n:i,direction:e==dt?"x":"y",options:t.extend(!0,{},e==dt?st.xaxis:st.yaxis)}),e[i-1]}function v(){var e,i=nt.length,n=-1;for(e=0;e<nt.length;++e){var s=nt[e].color;null!=s&&(i--,"number"==typeof s&&s>n&&(n=s))}n>=i&&(i=n+1);var r,o=[],a=st.colors,l=a.length,c=0;for(e=0;i>e;e++)r=t.color.parse(a[e%l]||"#666"),e%l==0&&e&&(c=c>=0?.5>c?-c-.2:0:-c),o[e]=r.scale("rgb",1+c);var d,h=0;for(e=0;e<nt.length;++e){if(d=nt[e],null==d.color?(d.color=o[h].toString(),++h):"number"==typeof d.color&&(d.color=o[d.color].toString()),null==d.lines.show){var p,f=!0;for(p in d)if(d[p]&&d[p].show){f=!1;break}f&&(d.lines.show=!0)}null==d.lines.zero&&(d.lines.zero=!!d.lines.fill),d.xaxis=m(dt,u(d,"x")),d.yaxis=m(ht,u(d,"y"))}}function b(){function e(t,e,i){e<t.datamin&&e!=-b&&(t.datamin=e),i>t.datamax&&i!=b&&(t.datamax=i)}var i,n,s,r,o,l,c,d,h,u,f,g,m=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,b=Number.MAX_VALUE;for(t.each(p(),function(t,e){e.datamin=m,e.datamax=v,e.used=!1}),i=0;i<nt.length;++i)o=nt[i],o.datapoints={points:[]},a(gt.processRawData,[o,o.data,o.datapoints]);for(i=0;i<nt.length;++i){if(o=nt[i],f=o.data,!(g=o.datapoints.format)){if(g=[],g.push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),o.bars.show||o.lines.show&&o.lines.fill){var y=!!(o.bars.show&&o.bars.zero||o.lines.show&&o.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:y}),o.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}o.datapoints.format=g}if(null==o.datapoints.pointsize){o.datapoints.pointsize=g.length,c=o.datapoints.pointsize,l=o.datapoints.points;var w=o.lines.show&&o.lines.steps;for(o.xaxis.used=o.yaxis.used=!0,n=s=0;n<f.length;++n,s+=c){u=f[n];var _=null==u;if(!_)for(r=0;c>r;++r)d=u[r],h=g[r],h&&(h.number&&null!=d&&(d=+d,isNaN(d)?d=null:d==1/0?d=b:d==-1/0&&(d=-b)),null==d&&(h.required&&(_=!0),null!=h.defaultValue&&(d=h.defaultValue))),l[s+r]=d;if(_)for(r=0;c>r;++r)d=l[s+r],null!=d&&(h=g[r],!1!==h.autoscale&&(h.x&&e(o.xaxis,d,d),h.y&&e(o.yaxis,d,d))),l[s+r]=null;else if(w&&s>0&&null!=l[s-c]&&l[s-c]!=l[s]&&l[s-c+1]!=l[s+1]){for(r=0;c>r;++r)l[s+c+r]=l[s+r];l[s+1]=l[s-c+1],s+=c}}}}for(i=0;i<nt.length;++i)o=nt[i],a(gt.processDatapoints,[o,o.datapoints]);for(i=0;i<nt.length;++i){o=nt[i],l=o.datapoints.points,c=o.datapoints.pointsize,g=o.datapoints.format;var x=m,C=m,$=v,k=v;for(n=0;n<l.length;n+=c)if(null!=l[n])for(r=0;c>r;++r)d=l[n+r],(h=g[r])&&!1!==h.autoscale&&d!=b&&d!=-b&&(h.x&&(x>d&&(x=d),d>$&&($=d)),h.y&&(C>d&&(C=d),d>k&&(k=d)));if(o.bars.show){var D;switch(o.bars.align){case"left":D=0;break;case"right":D=-o.bars.barWidth;break;default:D=-o.bars.barWidth/2}o.bars.horizontal?(C+=D,k+=D+o.bars.barWidth):(x+=D,$+=D+o.bars.barWidth)}e(o.xaxis,x,$),e(o.yaxis,C,k)}t.each(p(),function(t,e){e.datamin==m&&(e.datamin=null),e.datamax==v&&(e.datamax=null)})}function y(){i.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),"static"==i.css("position")&&i.css("position","relative"),rt=new e("flot-base",i),ot=new e("flot-overlay",i),lt=rt.context,ct=ot.context,at=t(ot.element).unbind();var n=i.data("plot");n&&(n.shutdown(),ot.clear()),i.data("plot",mt)}function w(){st.grid.hoverable&&(at.mousemove(G),at.bind("mouseleave",U)),st.grid.clickable&&at.click(Y),a(gt.bindEvents,[at])}function _(){bt&&clearTimeout(bt),at.unbind("mousemove",G),at.unbind("mouseleave",U),at.unbind("click",Y),a(gt.shutdown,[at])}function x(t){function e(t){return t}var i,n,s=t.options.transform||e,r=t.options.inverseTransform;"x"==t.direction?(i=t.scale=pt/Math.abs(s(t.max)-s(t.min)),n=Math.min(s(t.max),s(t.min))):(i=t.scale=ft/Math.abs(s(t.max)-s(t.min)),i=-i,n=Math.max(s(t.max),s(t.min))),t.p2c=s==e?function(t){return(t-n)*i}:function(t){return(s(t)-n)*i},t.c2p=r?function(t){return r(n+t/i)}:function(t){return n+t/i}}function C(t){for(var e=t.options,i=t.ticks||[],n=e.labelWidth||0,s=e.labelHeight||0,r=n||("x"==t.direction?Math.floor(rt.width/(i.length||1)):null),o=t.direction+"Axis "+t.direction+t.n+"Axis",a="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+o,l=e.font||"flot-tick-label tickLabel",c=0;c<i.length;++c){var d=i[c];if(d.label){var h=rt.getTextInfo(a,d.label,l,null,r);n=Math.max(n,h.width),s=Math.max(s,h.height)}}t.labelWidth=e.labelWidth||n,t.labelHeight=e.labelHeight||s}function $(e){var i=e.labelWidth,n=e.labelHeight,s=e.options.position,r="x"===e.direction,o=e.options.tickLength,a=st.grid.axisMargin,l=st.grid.labelMargin,c=!0,d=!0,h=!0,u=!1;t.each(r?dt:ht,function(t,i){i&&(i.show||i.reserveSpace)&&(i===e?u=!0:i.options.position===s&&(u?d=!1:c=!1),u||(h=!1))}),d&&(a=0),null==o&&(o=h?"full":5),isNaN(+o)||(l+=+o),r?(n+=l,"bottom"==s?(ut.bottom+=n+a,e.box={top:rt.height-ut.bottom,height:n}):(e.box={top:ut.top+a,height:n},ut.top+=n+a)):(i+=l,"left"==s?(e.box={left:ut.left+a,width:i},ut.left+=i+a):(ut.right+=i+a,e.box={left:rt.width-ut.right,width:i})),e.position=s,e.tickLength=o,e.box.padding=l,e.innermost=c}function k(t){"x"==t.direction?(t.box.left=ut.left-t.labelWidth/2,t.box.width=rt.width-ut.left-ut.right+t.labelWidth):(t.box.top=ut.top-t.labelHeight/2,t.box.height=rt.height-ut.bottom-ut.top+t.labelHeight)}function D(){var e,i=st.grid.minBorderMargin;if(null==i)for(i=0,e=0;e<nt.length;++e)i=Math.max(i,2*(nt[e].points.radius+nt[e].points.lineWidth/2));var n={left:i,right:i,top:i,bottom:i};t.each(p(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(n.left=Math.max(n.left,e.labelWidth/2),n.right=Math.max(n.right,e.labelWidth/2)):(n.bottom=Math.max(n.bottom,e.labelHeight/2),n.top=Math.max(n.top,e.labelHeight/2)))}),ut.left=Math.ceil(Math.max(n.left,ut.left)),ut.right=Math.ceil(Math.max(n.right,ut.right)),ut.top=Math.ceil(Math.max(n.top,ut.top)),ut.bottom=Math.ceil(Math.max(n.bottom,ut.bottom))}function S(){var e,i=p(),n=st.grid.show;for(var s in ut){var r=st.grid.margin||0;ut[s]="number"==typeof r?r:r[s]||0}a(gt.processOffset,[ut]);for(var s in ut)"object"==typeof st.grid.borderWidth?ut[s]+=n?st.grid.borderWidth[s]:0:ut[s]+=n?st.grid.borderWidth:0;if(t.each(i,function(t,e){var i=e.options;e.show=null==i.show?e.used:i.show,e.reserveSpace=null==i.reserveSpace?e.show:i.reserveSpace,T(e)}),n){var o=t.grep(i,function(t){return t.show||t.reserveSpace});for(t.each(o,function(t,e){I(e),E(e),j(e,e.ticks),C(e)}),e=o.length-1;e>=0;--e)$(o[e]);D(),t.each(o,function(t,e){k(e)})}pt=rt.width-ut.left-ut.right,ft=rt.height-ut.bottom-ut.top,t.each(i,function(t,e){x(e)}),n&&R(),B()}function T(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),n=+(null!=e.max?e.max:t.datamax),s=n-i;if(0==s){var r=0==n?1:.01;null==e.min&&(i-=r),null!=e.max&&null==e.min||(n+=r)}else{var o=e.autoscaleMargin;null!=o&&(null==e.min&&0>(i-=s*o)&&null!=t.datamin&&t.datamin>=0&&(i=0),null==e.max&&(n+=s*o)>0&&null!=t.datamax&&t.datamax<=0&&(n=0))}t.min=i,t.max=n}function I(e){var i,s=e.options;i="number"==typeof s.ticks&&s.ticks>0?s.ticks:.3*Math.sqrt("x"==e.direction?rt.width:rt.height);var r=(e.max-e.min)/i,o=-Math.floor(Math.log(r)/Math.LN10),a=s.tickDecimals;null!=a&&o>a&&(o=a);var l,c=Math.pow(10,-o),d=r/c;if(1.5>d?l=1:3>d?(l=2,d>2.25&&(null==a||a>=o+1)&&(l=2.5,++o)):l=7.5>d?5:10,l*=c,null!=s.minTickSize&&l<s.minTickSize&&(l=s.minTickSize),e.delta=r,e.tickDecimals=Math.max(0,null!=a?a:o),e.tickSize=s.tickSize||l,"time"==s.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(e.tickGenerator||(e.tickGenerator=function(t){var e,i=[],s=n(t.min,t.tickSize),r=0,o=Number.NaN;do{e=o,o=s+r*t.tickSize,i.push(o),++r}while(o<t.max&&o!=e);return i},e.tickFormatter=function(t,e){var i=e.tickDecimals?Math.pow(10,e.tickDecimals):1,n=""+Math.round(t*i)/i;if(null!=e.tickDecimals){var s=n.indexOf("."),r=-1==s?0:n.length-s-1;if(r<e.tickDecimals)return(r?n:n+".")+(""+i).substr(1,e.tickDecimals-r)}return n}),t.isFunction(s.tickFormatter)&&(e.tickFormatter=function(t,e){return""+s.tickFormatter(t,e)}),null!=s.alignTicksWithAxis){var h=("x"==e.direction?dt:ht)[s.alignTicksWithAxis-1];if(h&&h.used&&h!=e){var u=e.tickGenerator(e);if(u.length>0&&(null==s.min&&(e.min=Math.min(e.min,u[0])),null==s.max&&u.length>1&&(e.max=Math.max(e.max,u[u.length-1]))),e.tickGenerator=function(t){var e,i,n=[];for(i=0;i<h.ticks.length;++i)e=(h.ticks[i].v-h.min)/(h.max-h.min),e=t.min+e*(t.max-t.min),n.push(e);return n},!e.mode&&null==s.tickDecimals){var p=Math.max(0,1-Math.floor(Math.log(e.delta)/Math.LN10)),f=e.tickGenerator(e);f.length>1&&/\..*0$/.test((f[1]-f[0]).toFixed(p))||(e.tickDecimals=p)}}}}function E(e){var i=e.options.ticks,n=[];null==i||"number"==typeof i&&i>0?n=e.tickGenerator(e):i&&(n=t.isFunction(i)?i(e):i);var s,r;for(e.ticks=[],s=0;s<n.length;++s){var o=null,a=n[s];"object"==typeof a?(r=+a[0],a.length>1&&(o=a[1])):r=+a,null==o&&(o=e.tickFormatter(r,e)),isNaN(r)||e.ticks.push({v:r,label:o})}}function j(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function A(){rt.clear(),a(gt.drawBackground,[lt]);var t=st.grid;t.show&&t.backgroundColor&&F(),t.show&&!t.aboveData&&P();for(var e=0;e<nt.length;++e)a(gt.drawSeries,[lt,nt[e]]),N(nt[e]);a(gt.draw,[lt]),t.show&&t.aboveData&&P(),rt.render(),X()}function M(t,e){for(var i,n,s,r,o=p(),a=0;a<o.length;++a)if(i=o[a],i.direction==e&&(r=e+i.n+"axis",t[r]||1!=i.n||(r=e+"axis"),t[r])){n=t[r].from,s=t[r].to;break}if(t[r]||(i="x"==e?dt[0]:ht[0],n=t[e+"1"],s=t[e+"2"]),null!=n&&null!=s&&n>s){var l=n;n=s,s=l}return{from:n,to:s,axis:i}}function F(){lt.save(),lt.translate(ut.left,ut.top),lt.fillStyle=it(st.grid.backgroundColor,ft,0,"rgba(255, 255, 255, 0)"),lt.fillRect(0,0,pt,ft),lt.restore()}function P(){var e,i,n,s;lt.save(),lt.translate(ut.left,ut.top);var r=st.grid.markings;if(r)for(t.isFunction(r)&&(i=mt.getAxes(),i.xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,r=r(i)),e=0;e<r.length;++e){var o=r[e],a=M(o,"x"),l=M(o,"y");if(null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),!(a.to<a.axis.min||a.from>a.axis.max||l.to<l.axis.min||l.from>l.axis.max)){a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max);var c=a.from===a.to,d=l.from===l.to;if(!c||!d)if(a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),c||d){var h=o.lineWidth||st.grid.markingsLineWidth,u=h%2?.5:0;lt.beginPath(),lt.strokeStyle=o.color||st.grid.markingsColor,lt.lineWidth=h,c?(lt.moveTo(a.to+u,l.from),lt.lineTo(a.to+u,l.to)):(lt.moveTo(a.from,l.to+u),lt.lineTo(a.to,l.to+u)),lt.stroke()}else lt.fillStyle=o.color||st.grid.markingsColor,lt.fillRect(a.from,l.to,a.to-a.from,l.from-l.to)}}i=p(),n=st.grid.borderWidth;for(var f=0;f<i.length;++f){var g,m,v,b,y=i[f],w=y.box,_=y.tickLength;if(y.show&&0!=y.ticks.length){for(lt.lineWidth=1,"x"==y.direction?(g=0,m="full"==_?"top"==y.position?0:ft:w.top-ut.top+("top"==y.position?w.height:0)):(m=0,g="full"==_?"left"==y.position?0:pt:w.left-ut.left+("left"==y.position?w.width:0)),y.innermost||(lt.strokeStyle=y.options.color,lt.beginPath(),v=b=0,"x"==y.direction?v=pt+1:b=ft+1,1==lt.lineWidth&&("x"==y.direction?m=Math.floor(m)+.5:g=Math.floor(g)+.5),lt.moveTo(g,m),lt.lineTo(g+v,m+b),lt.stroke()),lt.strokeStyle=y.options.tickColor,lt.beginPath(),e=0;e<y.ticks.length;++e){var x=y.ticks[e].v;v=b=0,isNaN(x)||x<y.min||x>y.max||"full"==_&&("object"==typeof n&&n[y.position]>0||n>0)&&(x==y.min||x==y.max)||("x"==y.direction?(g=y.p2c(x),b="full"==_?-ft:_,"top"==y.position&&(b=-b)):(m=y.p2c(x),v="full"==_?-pt:_,"left"==y.position&&(v=-v)),1==lt.lineWidth&&("x"==y.direction?g=Math.floor(g)+.5:m=Math.floor(m)+.5),lt.moveTo(g,m),lt.lineTo(g+v,m+b))}lt.stroke()}}n&&(s=st.grid.borderColor,"object"==typeof n||"object"==typeof s?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof s&&(s={top:s,right:s,bottom:s,left:s}),n.top>0&&(lt.strokeStyle=s.top,lt.lineWidth=n.top,lt.beginPath(),lt.moveTo(0-n.left,0-n.top/2),lt.lineTo(pt,0-n.top/2),lt.stroke()),n.right>0&&(lt.strokeStyle=s.right,lt.lineWidth=n.right,lt.beginPath(),lt.moveTo(pt+n.right/2,0-n.top),lt.lineTo(pt+n.right/2,ft),lt.stroke()),n.bottom>0&&(lt.strokeStyle=s.bottom,lt.lineWidth=n.bottom,lt.beginPath(),lt.moveTo(pt+n.right,ft+n.bottom/2),lt.lineTo(0,ft+n.bottom/2),lt.stroke()),n.left>0&&(lt.strokeStyle=s.left,lt.lineWidth=n.left,lt.beginPath(),lt.moveTo(0-n.left/2,ft+n.bottom),lt.lineTo(0-n.left/2,0),lt.stroke())):(lt.lineWidth=n,lt.strokeStyle=st.grid.borderColor,lt.strokeRect(-n/2,-n/2,pt+n,ft+n))),lt.restore()}function R(){t.each(p(),function(t,e){var i,n,s,r,o,a=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",c="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,d=e.options.font||"flot-tick-label tickLabel";if(rt.removeText(c),e.show&&0!=e.ticks.length)for(var h=0;h<e.ticks.length;++h)i=e.ticks[h],!i.label||i.v<e.min||i.v>e.max||("x"==e.direction?(r="center",n=ut.left+e.p2c(i.v),"bottom"==e.position?s=a.top+a.padding:(s=a.top+a.height-a.padding,o="bottom")):(o="middle",s=ut.top+e.p2c(i.v),"left"==e.position?(n=a.left+a.width-a.padding,r="right"):n=a.left+a.padding),rt.addText(c,n,s,i.label,d,null,null,r,o))})}function N(t){t.lines.show&&O(t),t.bars.show&&L(t),t.points.show&&H(t)}function O(t){function e(t,e,i,n,s){var r=t.points,o=t.pointsize,a=null,l=null;lt.beginPath();for(var c=o;c<r.length;c+=o){var d=r[c-o],h=r[c-o+1],u=r[c],p=r[c+1];if(null!=d&&null!=u){if(p>=h&&h<s.min){if(p<s.min)continue;d=(s.min-h)/(p-h)*(u-d)+d,h=s.min}else if(h>=p&&p<s.min){if(h<s.min)continue;u=(s.min-h)/(p-h)*(u-d)+d,p=s.min}if(h>=p&&h>s.max){if(p>s.max)continue;d=(s.max-h)/(p-h)*(u-d)+d,h=s.max}else if(p>=h&&p>s.max){if(h>s.max)continue;u=(s.max-h)/(p-h)*(u-d)+d,p=s.max}if(u>=d&&d<n.min){if(u<n.min)continue;h=(n.min-d)/(u-d)*(p-h)+h,d=n.min}else if(d>=u&&u<n.min){if(d<n.min)continue;p=(n.min-d)/(u-d)*(p-h)+h,u=n.min}if(d>=u&&d>n.max){if(u>n.max)continue;h=(n.max-d)/(u-d)*(p-h)+h,d=n.max}else if(u>=d&&u>n.max){if(d>n.max)continue;p=(n.max-d)/(u-d)*(p-h)+h,u=n.max}d==a&&h==l||lt.moveTo(n.p2c(d)+e,s.p2c(h)+i),a=u,l=p,lt.lineTo(n.p2c(u)+e,s.p2c(p)+i)}}lt.stroke()}function i(t,e,i){for(var n=t.points,s=t.pointsize,r=Math.min(Math.max(0,i.min),i.max),o=0,a=!1,l=1,c=0,d=0;!(s>0&&o>n.length+s);){o+=s;var h=n[o-s],u=n[o-s+l],p=n[o],f=n[o+l];if(a){if(s>0&&null!=h&&null==p){d=o,s=-s,l=2;continue}if(0>s&&o==c+s){lt.fill(),a=!1,s=-s,l=1,o=c=d+s;continue}}if(null!=h&&null!=p){if(p>=h&&h<e.min){if(p<e.min)continue;u=(e.min-h)/(p-h)*(f-u)+u,h=e.min}else if(h>=p&&p<e.min){if(h<e.min)continue;f=(e.min-h)/(p-h)*(f-u)+u,p=e.min}if(h>=p&&h>e.max){if(p>e.max)continue;u=(e.max-h)/(p-h)*(f-u)+u,h=e.max}else if(p>=h&&p>e.max){if(h>e.max)continue;f=(e.max-h)/(p-h)*(f-u)+u,p=e.max}if(a||(lt.beginPath(),lt.moveTo(e.p2c(h),i.p2c(r)),a=!0),u>=i.max&&f>=i.max)lt.lineTo(e.p2c(h),i.p2c(i.max)),lt.lineTo(e.p2c(p),i.p2c(i.max));else if(u<=i.min&&f<=i.min)lt.lineTo(e.p2c(h),i.p2c(i.min)),lt.lineTo(e.p2c(p),i.p2c(i.min));else{var g=h,m=p;f>=u&&u<i.min&&f>=i.min?(h=(i.min-u)/(f-u)*(p-h)+h,u=i.min):u>=f&&f<i.min&&u>=i.min&&(p=(i.min-u)/(f-u)*(p-h)+h,f=i.min),u>=f&&u>i.max&&f<=i.max?(h=(i.max-u)/(f-u)*(p-h)+h,u=i.max):f>=u&&f>i.max&&u<=i.max&&(p=(i.max-u)/(f-u)*(p-h)+h,f=i.max),h!=g&&lt.lineTo(e.p2c(g),i.p2c(u)),lt.lineTo(e.p2c(h),i.p2c(u)),lt.lineTo(e.p2c(p),i.p2c(f)),p!=m&&(lt.lineTo(e.p2c(p),i.p2c(f)),lt.lineTo(e.p2c(m),i.p2c(f)))}}}}lt.save(),lt.translate(ut.left,ut.top),lt.lineJoin="round";var n=t.lines.lineWidth,s=t.shadowSize;if(n>0&&s>0){lt.lineWidth=s,lt.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;e(t.datapoints,Math.sin(r)*(n/2+s/2),Math.cos(r)*(n/2+s/2),t.xaxis,t.yaxis),lt.lineWidth=s/2,e(t.datapoints,Math.sin(r)*(n/2+s/4),Math.cos(r)*(n/2+s/4),t.xaxis,t.yaxis)}lt.lineWidth=n,lt.strokeStyle=t.color;var o=z(t.lines,t.color,0,ft);o&&(lt.fillStyle=o,i(t.datapoints,t.xaxis,t.yaxis)),n>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),lt.restore()}function H(t){function e(t,e,i,n,s,r,o,a){for(var l=t.points,c=t.pointsize,d=0;d<l.length;d+=c){var h=l[d],u=l[d+1];null==h||h<r.min||h>r.max||u<o.min||u>o.max||(lt.beginPath(),h=r.p2c(h),u=o.p2c(u)+n,"circle"==a?lt.arc(h,u,e,0,s?Math.PI:2*Math.PI,!1):a(lt,h,u,e,s),lt.closePath(),i&&(lt.fillStyle=i,lt.fill()),lt.stroke())}}lt.save(),lt.translate(ut.left,ut.top);var i=t.points.lineWidth,n=t.shadowSize,s=t.points.radius,r=t.points.symbol;if(0==i&&(i=1e-4),i>0&&n>0){var o=n/2;lt.lineWidth=o,lt.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,s,null,o+o/2,!0,t.xaxis,t.yaxis,r),lt.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,s,null,o/2,!0,t.xaxis,t.yaxis,r)}lt.lineWidth=i,lt.strokeStyle=t.color,e(t.datapoints,s,z(t.points,t.color),0,!1,t.xaxis,t.yaxis,r),lt.restore()}function q(t,e,i,n,s,r,o,a,l,c,d){var h,u,p,f,g,m,v,b,y;c?(b=m=v=!0,g=!1,h=i,u=t,f=e+n,p=e+s,h>u&&(y=u,u=h,h=y,g=!0,m=!1)):(g=m=v=!0,b=!1,h=t+n,u=t+s,p=i,f=e,p>f&&(y=f,f=p,p=y,b=!0,v=!1)),u<o.min||h>o.max||f<a.min||p>a.max||(h<o.min&&(h=o.min,g=!1),u>o.max&&(u=o.max,m=!1),p<a.min&&(p=a.min,b=!1),f>a.max&&(f=a.max,v=!1),h=o.p2c(h),p=a.p2c(p),u=o.p2c(u),f=a.p2c(f),r&&(l.fillStyle=r(p,f),l.fillRect(h,f,u-h,p-f)),d>0&&(g||m||v||b)&&(l.beginPath(),l.moveTo(h,p),g?l.lineTo(h,f):l.moveTo(h,f),v?l.lineTo(u,f):l.moveTo(u,f),m?l.lineTo(u,p):l.moveTo(u,p),b?l.lineTo(h,p):l.moveTo(h,p),l.stroke()))}function L(t){function e(e,i,n,s,r,o){for(var a=e.points,l=e.pointsize,c=0;c<a.length;c+=l)null!=a[c]&&q(a[c],a[c+1],a[c+2],i,n,s,r,o,lt,t.bars.horizontal,t.bars.lineWidth)}lt.save(),lt.translate(ut.left,ut.top),lt.lineWidth=t.bars.lineWidth,lt.strokeStyle=t.color;var i;switch(t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;default:i=-t.bars.barWidth/2}var n=t.bars.fill?function(e,i){return z(t.bars,t.color,e,i)}:null;e(t.datapoints,i,i+t.bars.barWidth,n,t.xaxis,t.yaxis),lt.restore()}function z(e,i,n,s){var r=e.fill;if(!r)return null;if(e.fillColor)return it(e.fillColor,n,s,i);var o=t.color.parse(i);return o.a="number"==typeof r?r:.4,o.normalize(),o.toString()}function B(){if(null!=st.legend.container?t(st.legend.container).html(""):i.find(".legend").remove(),st.legend.show){for(var e,n,s=[],r=[],o=!1,a=st.legend.labelFormatter,l=0;l<nt.length;++l)e=nt[l],e.label&&(n=a?a(e.label,e):e.label)&&r.push({label:n,color:e.color});if(st.legend.sorted)if(t.isFunction(st.legend.sorted))r.sort(st.legend.sorted);else if("reverse"==st.legend.sorted)r.reverse();else{var c="descending"!=st.legend.sorted;r.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=c?1:-1})}for(var l=0;l<r.length;++l){var d=r[l];l%st.legend.noColumns==0&&(o&&s.push("</tr>"),s.push("<tr>"),o=!0),s.push('<td class="legendColorBox"><div style="border:1px solid '+st.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+d.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+d.label+"</td>")}if(o&&s.push("</tr>"),0!=s.length){var h='<table style="font-size:smaller;color:'+st.grid.color+'">'+s.join("")+"</table>";if(null!=st.legend.container)t(st.legend.container).html(h);else{var u="",p=st.legend.position,f=st.legend.margin;null==f[0]&&(f=[f,f]),"n"==p.charAt(0)?u+="top:"+(f[1]+ut.top)+"px;":"s"==p.charAt(0)&&(u+="bottom:"+(f[1]+ut.bottom)+"px;"),"e"==p.charAt(1)?u+="right:"+(f[0]+ut.right)+"px;":"w"==p.charAt(1)&&(u+="left:"+(f[0]+ut.left)+"px;");var g=t('<div class="legend">'+h.replace('style="','style="position:absolute;'+u+";")+"</div>").appendTo(i);if(0!=st.legend.backgroundOpacity){var m=st.legend.backgroundColor;null==m&&(m=st.grid.backgroundColor,m=m&&"string"==typeof m?t.color.parse(m):t.color.extract(g,"background-color"),m.a=1,m=m.toString());var v=g.children();t('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+u+"background-color:"+m+';"> </div>').prependTo(g).css("opacity",st.legend.backgroundOpacity)}}}}}function W(t,e,i){var n,s,r,o=st.grid.mouseActiveRadius,a=o*o+1,l=null;for(n=nt.length-1;n>=0;--n)if(i(nt[n])){var c=nt[n],d=c.xaxis,h=c.yaxis,u=c.datapoints.points,p=d.c2p(t),f=h.c2p(e),g=o/d.scale,m=o/h.scale;if(r=c.datapoints.pointsize,d.options.inverseTransform&&(g=Number.MAX_VALUE),h.options.inverseTransform&&(m=Number.MAX_VALUE),c.lines.show||c.points.show)for(s=0;s<u.length;s+=r){var v=u[s],b=u[s+1];if(null!=v&&!(v-p>g||-g>v-p||b-f>m||-m>b-f)){var y=Math.abs(d.p2c(v)-t),w=Math.abs(h.p2c(b)-e),_=y*y+w*w;a>_&&(a=_,l=[n,s/r])}}if(c.bars.show&&!l){var x,C;switch(c.bars.align){case"left":x=0;break;case"right":x=-c.bars.barWidth;break;default:x=-c.bars.barWidth/2}
for(C=x+c.bars.barWidth,s=0;s<u.length;s+=r){var v=u[s],b=u[s+1],$=u[s+2];null!=v&&(nt[n].bars.horizontal?p<=Math.max($,v)&&p>=Math.min($,v)&&f>=b+x&&b+C>=f:p>=v+x&&v+C>=p&&f>=Math.min($,b)&&f<=Math.max($,b))&&(l=[n,s/r])}}}return l?(n=l[0],s=l[1],r=nt[n].datapoints.pointsize,{datapoint:nt[n].datapoints.points.slice(s*r,(s+1)*r),dataIndex:s,series:nt[n],seriesIndex:n}):null}function G(t){st.grid.hoverable&&V("plothover",t,function(t){return 0!=t.hoverable})}function U(t){st.grid.hoverable&&V("plothover",t,function(){return!1})}function Y(t){V("plotclick",t,function(t){return 0!=t.clickable})}function V(t,e,n){var s=at.offset(),r=e.pageX-s.left-ut.left,o=e.pageY-s.top-ut.top,a=f({left:r,top:o});a.pageX=e.pageX,a.pageY=e.pageY;var l=W(r,o,n);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+s.left+ut.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+s.top+ut.top,10)),st.grid.autoHighlight){for(var c=0;c<vt.length;++c){var d=vt[c];d.auto!=t||l&&d.series==l.series&&d.point[0]==l.datapoint[0]&&d.point[1]==l.datapoint[1]||Z(d.series,d.point)}l&&Q(l.series,l.datapoint,t)}i.trigger(t,[a,l])}function X(){var t=st.interaction.redrawOverlayInterval;return-1==t?void K():void(bt||(bt=setTimeout(K,t)))}function K(){bt=null,ct.save(),ot.clear(),ct.translate(ut.left,ut.top);var t,e;for(t=0;t<vt.length;++t)e=vt[t],e.series.bars.show?et(e.series,e.point):tt(e.series,e.point);ct.restore(),a(gt.drawOverlay,[ct])}function Q(t,e,i){if("number"==typeof t&&(t=nt[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var s=J(t,e);-1==s?(vt.push({series:t,point:e,auto:i}),X()):i||(vt[s].auto=!1)}function Z(t,e){if(null==t&&null==e)return vt=[],void X();if("number"==typeof t&&(t=nt[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var n=J(t,e);-1!=n&&(vt.splice(n,1),X())}function J(t,e){for(var i=0;i<vt.length;++i){var n=vt[i];if(n.series==t&&n.point[0]==e[0]&&n.point[1]==e[1])return i}return-1}function tt(e,i){var n=i[0],s=i[1],r=e.xaxis,o=e.yaxis,a="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString();if(!(n<r.min||n>r.max||s<o.min||s>o.max)){var l=e.points.radius+e.points.lineWidth/2;ct.lineWidth=l,ct.strokeStyle=a;var c=1.5*l;n=r.p2c(n),s=o.p2c(s),ct.beginPath(),"circle"==e.points.symbol?ct.arc(n,s,c,0,2*Math.PI,!1):e.points.symbol(ct,n,s,c,!1),ct.closePath(),ct.stroke()}}function et(e,i){var n,s="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString(),r=s;switch(e.bars.align){case"left":n=0;break;case"right":n=-e.bars.barWidth;break;default:n=-e.bars.barWidth/2}ct.lineWidth=e.bars.lineWidth,ct.strokeStyle=s,q(i[0],i[1],i[2]||0,n,n+e.bars.barWidth,function(){return r},e.xaxis,e.yaxis,ct,e.bars.horizontal,e.bars.lineWidth)}function it(e,i,n,s){if("string"==typeof e)return e;for(var r=lt.createLinearGradient(0,n,0,i),o=0,a=e.colors.length;a>o;++o){var l=e.colors[o];if("string"!=typeof l){var c=t.color.parse(s);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}r.addColorStop(o/(a-1),l)}return r}var nt=[],st={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},rt=null,ot=null,at=null,lt=null,ct=null,dt=[],ht=[],ut={left:0,right:0,top:0,bottom:0},pt=0,ft=0,gt={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},mt=this;mt.setData=d,mt.setupGrid=S,mt.draw=A,mt.getPlaceholder=function(){return i},mt.getCanvas=function(){return rt.element},mt.getPlotOffset=function(){return ut},mt.width=function(){return pt},mt.height=function(){return ft},mt.offset=function(){var t=at.offset();return t.left+=ut.left,t.top+=ut.top,t},mt.getData=function(){return nt},mt.getAxes=function(){var e={};return t.each(dt.concat(ht),function(t,i){i&&(e[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),e},mt.getXAxes=function(){return dt},mt.getYAxes=function(){return ht},mt.c2p=f,mt.p2c=g,mt.getOptions=function(){return st},mt.highlight=Q,mt.unhighlight=Z,mt.triggerRedrawOverlay=X,mt.pointOffset=function(t){return{left:parseInt(dt[u(t,"x")-1].p2c(+t.x)+ut.left,10),top:parseInt(ht[u(t,"y")-1].p2c(+t.y)+ut.top,10)}},mt.shutdown=_,mt.destroy=function(){_(),i.removeData("plot").empty(),nt=[],st=null,rt=null,ot=null,at=null,lt=null,ct=null,dt=[],ht=[],gt=null,vt=[],mt=null},mt.resize=function(){var t=i.width(),e=i.height();rt.resize(t,e),ot.resize(t,e)},mt.hooks=gt,l(mt),c(r),y(),d(s),S(),A(),w();var vt=[],bt=null}function n(t,e){return e*Math.floor(t/e)}var s=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(t,e){if(0>=t||0>=e)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var i=this.element,n=this.context,s=this.pixelRatio;this.width!=t&&(i.width=t*s,i.style.width=t+"px",this.width=t),this.height!=e&&(i.height=e*s,i.style.height=e+"px",this.height=e),n.restore(),n.save(),n.scale(s,s)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var t=this._textCache;for(var e in t)if(s.call(t,e)){var i=this.getTextLayer(e),n=t[e];i.hide();for(var r in n)if(s.call(n,r)){var o=n[r];for(var a in o)if(s.call(o,a)){for(var l,c=o[a].positions,d=0;l=c[d];d++)l.active?l.rendered||(i.append(l.element),l.rendered=!0):(c.splice(d--,1),l.rendered&&l.element.detach());0==c.length&&delete o[a]}}i.show()}},e.prototype.getTextLayer=function(e){var i=this.text[e];return null==i&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[e]=t("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i},e.prototype.getTextInfo=function(e,i,n,s,r){var o,a,l,c;if(i=""+i,o="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,a=this._textCache[e],null==a&&(a=this._textCache[e]={}),l=a[o],null==l&&(l=a[o]={}),null==(c=l[i])){var d=t("<div></div>").html(i).css({position:"absolute","max-width":r,top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof n?d.css({font:o,color:n.color}):"string"==typeof n&&d.addClass(n),c=l[i]={width:d.outerWidth(!0),height:d.outerHeight(!0),element:d,positions:[]},d.detach()}return c},e.prototype.addText=function(t,e,i,n,s,r,o,a,l){var c=this.getTextInfo(t,n,s,r,o),d=c.positions;"center"==a?e-=c.width/2:"right"==a&&(e-=c.width),"middle"==l?i-=c.height/2:"bottom"==l&&(i-=c.height);for(var h,u=0;h=d[u];u++)if(h.x==e&&h.y==i)return void(h.active=!0);h={active:!0,rendered:!1,element:d.length?c.element.clone():c.element,x:e,y:i},d.push(h),h.element.css({top:Math.round(i),left:Math.round(e),"text-align":a})},e.prototype.removeText=function(t,e,i,n,r,o){if(null==n){var a=this._textCache[t];if(null!=a)for(var l in a)if(s.call(a,l)){var c=a[l];for(var d in c)if(s.call(c,d))for(var h,u=c[d].positions,p=0;h=u[p];p++)h.active=!1}}else for(var h,u=this.getTextInfo(t,n,r,o).positions,p=0;h=u[p];p++)h.x==e&&h.y==i&&(h.active=!1)},t.plot=function(e,n,s){return new i(t(e),n,s,t.plot.plugins)},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(e,i){return this.each(function(){t.plot(this,e,i)})}}(jQuery),function(t){function e(e){function s(e){C||(C=!0,v=e.getCanvas(),b=t(v).parent(),y=e.getOptions(),e.setData(r(e.getData())))}function r(e){for(var i=0,n=0,s=0,r=y.series.pie.combine.color,o=[],a=0;a<e.length;++a){var l=e[a].data;t.isArray(l)&&1==l.length&&(l=l[0]),t.isArray(l)?!isNaN(parseFloat(l[1]))&&isFinite(l[1])?l[1]=+l[1]:l[1]=0:l=!isNaN(parseFloat(l))&&isFinite(l)?[1,+l]:[1,0],e[a].data=[l]}for(var a=0;a<e.length;++a)i+=e[a].data[0][1];for(var a=0;a<e.length;++a){var l=e[a].data[0][1];l/i<=y.series.pie.combine.threshold&&(n+=l,s++,r||(r=e[a].color))}for(var a=0;a<e.length;++a){var l=e[a].data[0][1];(2>s||l/i>y.series.pie.combine.threshold)&&o.push(t.extend(e[a],{data:[[1,l]],color:e[a].color,label:e[a].label,angle:l*Math.PI*2/i,percent:l/(i/100)}))}return s>1&&o.push({data:[[1,n]],color:r,label:y.series.pie.combine.label,angle:n*Math.PI*2/i,percent:n/(i/100)}),o}function o(e,s){function r(){$.clearRect(0,0,c,d),b.children().filter(".pieLabel, .pieLabelBackground").remove()}function o(){var t=y.series.pie.shadow.left,e=y.series.pie.shadow.top,i=10,n=y.series.pie.shadow.alpha,s=y.series.pie.radius>1?y.series.pie.radius:w*y.series.pie.radius;if(!(s>=c/2-t||s*y.series.pie.tilt>=d/2-e||i>=s)){$.save(),$.translate(t,e),$.globalAlpha=n,$.fillStyle="#000",$.translate(_,x),$.scale(1,y.series.pie.tilt);for(var r=1;i>=r;r++)$.beginPath(),$.arc(0,0,s,0,2*Math.PI,!1),$.fill(),s-=r;$.restore()}}function l(){function e(t,e,i){0>=t||isNaN(t)||(i?$.fillStyle=e:($.strokeStyle=e,$.lineJoin="round"),$.beginPath(),Math.abs(t-2*Math.PI)>1e-9&&$.moveTo(0,0),$.arc(0,0,s,r,r+t/2,!1),$.arc(0,0,s,r+t/2,r+t,!1),$.closePath(),r+=t,i?$.fill():$.stroke())}function i(){function e(e,i,n){if(0==e.data[0][1])return!0;var r,o=y.legend.labelFormatter,a=y.series.pie.label.formatter;r=o?o(e.label,e):e.label,a&&(r=a(r,e));var l=(i+e.angle+i)/2,h=_+Math.round(Math.cos(l)*s),u=x+Math.round(Math.sin(l)*s)*y.series.pie.tilt,p="<span class='pieLabel' id='pieLabel"+n+"' style='position:absolute;top:"+u+"px;left:"+h+"px;'>"+r+"</span>";b.append(p);var f=b.children("#pieLabel"+n),g=u-f.height()/2,m=h-f.width()/2;if(f.css("top",g),f.css("left",m),0-g>0||0-m>0||d-(g+f.height())<0||c-(m+f.width())<0)return!1;if(0!=y.series.pie.label.background.opacity){var v=y.series.pie.label.background.color;null==v&&(v=e.color);var w="top:"+g+"px;left:"+m+"px;";t("<div class='pieLabelBackground' style='position:absolute;width:"+f.width()+"px;height:"+f.height()+"px;"+w+"background-color:"+v+";'></div>").css("opacity",y.series.pie.label.background.opacity).insertBefore(f)}return!0}for(var i=n,s=y.series.pie.label.radius>1?y.series.pie.label.radius:w*y.series.pie.label.radius,r=0;r<u.length;++r){if(u[r].percent>=100*y.series.pie.label.threshold&&!e(u[r],i,r))return!1;i+=u[r].angle}return!0}var n=Math.PI*y.series.pie.startAngle,s=y.series.pie.radius>1?y.series.pie.radius:w*y.series.pie.radius;$.save(),$.translate(_,x),$.scale(1,y.series.pie.tilt),$.save();for(var r=n,o=0;o<u.length;++o)u[o].startAngle=r,e(u[o].angle,u[o].color,!0);if($.restore(),y.series.pie.stroke.width>0){$.save(),$.lineWidth=y.series.pie.stroke.width,r=n;for(var o=0;o<u.length;++o)e(u[o].angle,y.series.pie.stroke.color,!1);$.restore()}return a($),$.restore(),!y.series.pie.label.show||i()}if(b){var c=e.getPlaceholder().width(),d=e.getPlaceholder().height(),h=b.children().filter(".legend").children().width()||0;$=s,C=!1,w=Math.min(c,d/y.series.pie.tilt)/2,x=d/2+y.series.pie.offset.top,_=c/2,"auto"==y.series.pie.offset.left?(y.legend.position.match("w")?_+=h/2:_-=h/2,w>_?_=w:_>c-w&&(_=c-w)):_+=y.series.pie.offset.left;var u=e.getData(),p=0;do{p>0&&(w*=n),p+=1,r(),y.series.pie.tilt<=.8&&o()}while(!l()&&i>p);p>=i&&(r(),b.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),e.setSeries&&e.insertLegend&&(e.setSeries(u),e.insertLegend())}}function a(t){if(y.series.pie.innerRadius>0){t.save();var e=y.series.pie.innerRadius>1?y.series.pie.innerRadius:w*y.series.pie.innerRadius;t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=y.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=y.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore()}}function l(t,e){for(var i=!1,n=-1,s=t.length,r=s-1;++n<s;r=n)(t[n][1]<=e[1]&&e[1]<t[r][1]||t[r][1]<=e[1]&&e[1]<t[n][1])&&e[0]<(t[r][0]-t[n][0])*(e[1]-t[n][1])/(t[r][1]-t[n][1])+t[n][0]&&(i=!i);return i}function c(t,i){for(var n,s,r=e.getData(),o=e.getOptions(),a=o.series.pie.radius>1?o.series.pie.radius:w*o.series.pie.radius,c=0;c<r.length;++c){var d=r[c];if(d.pie.show){if($.save(),$.beginPath(),$.moveTo(0,0),$.arc(0,0,a,d.startAngle,d.startAngle+d.angle/2,!1),$.arc(0,0,a,d.startAngle+d.angle/2,d.startAngle+d.angle,!1),$.closePath(),n=t-_,s=i-x,$.isPointInPath){if($.isPointInPath(t-_,i-x))return $.restore(),{datapoint:[d.percent,d.data],dataIndex:0,series:d,seriesIndex:c}}else{if(l([[0,0],[a*Math.cos(d.startAngle),a*Math.sin(d.startAngle)],[a*Math.cos(d.startAngle+d.angle/4),a*Math.sin(d.startAngle+d.angle/4)],[a*Math.cos(d.startAngle+d.angle/2),a*Math.sin(d.startAngle+d.angle/2)],[a*Math.cos(d.startAngle+d.angle/1.5),a*Math.sin(d.startAngle+d.angle/1.5)],[a*Math.cos(d.startAngle+d.angle),a*Math.sin(d.startAngle+d.angle)]],[n,s]))return $.restore(),{datapoint:[d.percent,d.data],dataIndex:0,series:d,seriesIndex:c}}$.restore()}}return null}function d(t){u("plothover",t)}function h(t){u("plotclick",t)}function u(t,i){var n=e.offset(),s=parseInt(i.pageX-n.left),r=parseInt(i.pageY-n.top),o=c(s,r);if(y.grid.autoHighlight)for(var a=0;a<k.length;++a){var l=k[a];l.auto!=t||o&&l.series==o.series||f(l.series)}o&&p(o.series,t);var d={pageX:i.pageX,pageY:i.pageY};b.trigger(t,[d,o])}function p(t,i){var n=g(t);-1==n?(k.push({series:t,auto:i}),e.triggerRedrawOverlay()):i||(k[n].auto=!1)}function f(t){null==t&&(k=[],e.triggerRedrawOverlay());var i=g(t);-1!=i&&(k.splice(i,1),e.triggerRedrawOverlay())}function g(t){for(var e=0;e<k.length;++e){if(k[e].series==t)return e}return-1}function m(t,e){function i(t){t.angle<=0||isNaN(t.angle)||(e.fillStyle="rgba(255, 255, 255, "+n.series.pie.highlight.opacity+")",e.beginPath(),Math.abs(t.angle-2*Math.PI)>1e-9&&e.moveTo(0,0),e.arc(0,0,s,t.startAngle,t.startAngle+t.angle/2,!1),e.arc(0,0,s,t.startAngle+t.angle/2,t.startAngle+t.angle,!1),e.closePath(),e.fill())}var n=t.getOptions(),s=n.series.pie.radius>1?n.series.pie.radius:w*n.series.pie.radius;e.save(),e.translate(_,x),e.scale(1,n.series.pie.tilt);for(var r=0;r<k.length;++r)i(k[r].series);a(e),e.restore()}var v=null,b=null,y=null,w=null,_=null,x=null,C=!1,$=null,k=[];e.hooks.processOptions.push(function(t,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.legend.show?e.series.pie.label.show=!1:e.series.pie.label.show=!0),"auto"==e.series.pie.radius&&(e.series.pie.label.show?e.series.pie.radius=.75:e.series.pie.radius=1),e.series.pie.tilt>1?e.series.pie.tilt=1:e.series.pie.tilt<0&&(e.series.pie.tilt=0))}),e.hooks.bindEvents.push(function(t,e){var i=t.getOptions();i.series.pie.show&&(i.grid.hoverable&&e.unbind("mousemove").mousemove(d),i.grid.clickable&&e.unbind("click").click(h))}),e.hooks.processDatapoints.push(function(t,e,i,n){t.getOptions().series.pie.show&&s(t,e,i,n)}),e.hooks.drawOverlay.push(function(t,e){t.getOptions().series.pie.show&&m(t,e)}),e.hooks.draw.push(function(t,e){t.getOptions().series.pie.show&&o(t,e)})}var i=10,n=.95,s={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(t,e){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+e.color+";'>"+t+"<br/>"+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};t.plot.plugins.push({init:e,options:s,name:"pie",version:"1.1"})}(jQuery),function(t,e,i){"$:nomunge";function n(i){!0===a&&(a=i||1);for(var l=r.length-1;l>=0;l--){var u=t(r[l]);if(u[0]==e||u.is(":visible")){var p=u.width(),f=u.height(),g=u.data(d);!g||p===g.w&&f===g.h||(u.trigger(c,[g.w=p,g.h=f]),a=i||!0)}else g=u.data(d),g.w=0,g.h=0}null!==s&&(a&&(null==i||1e3>i-a)?s=e.requestAnimationFrame(n):(s=setTimeout(n,o[h]),a=!1))}var s,r=[],o=t.resize=t.extend(t.resize,{}),a=!1,l="setTimeout",c="resize",d=c+"-special-event",h="pendingDelay",u="activeDelay",p="throttleWindow";o[h]=200,o[u]=20,o[p]=!0,t.event.special[c]={setup:function(){if(!o[p]&&this[l])return!1;var e=t(this);r.push(this),e.data(d,{w:e.width(),h:e.height()}),1===r.length&&(s=i,n())},teardown:function(){if(!o[p]&&this[l])return!1;for(var e=t(this),i=r.length-1;i>=0;i--)if(r[i]==this){r.splice(i,1);break}e.removeData(d),r.length||(a?cancelAnimationFrame(s):clearTimeout(s),s=null)},add:function(e){function n(e,n,r){var o=t(this),a=o.data(d)||{};a.w=n!==i?n:o.width(),a.h=r!==i?r:o.height(),s.apply(this,arguments)}if(!o[p]&&this[l])return!1;var s;return t.isFunction(e)?(s=e,n):(s=e.handler,void(e.handler=n))}},e.requestAnimationFrame||(e.requestAnimationFrame=function(){return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return e.setTimeout(function(){t((new Date).getTime())},o[u])}}()),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(){return e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(t){function e(t){function e(){var e=t.getPlaceholder();0!=e.width()&&0!=e.height()&&(t.resize(),t.setupGrid(),t.draw())}function i(t){t.getPlaceholder().resize(e)}function n(t){t.getPlaceholder().unbind("resize",e)}t.hooks.bindEvents.push(i),t.hooks.shutdown.push(n)}var i={};t.plot.plugins.push({init:e,options:i,name:"resize",version:"1.0"})}(jQuery),function(t){t.gritter={},t.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},t.gritter.add=function(t){try{return e.add(t||{})}catch(e){var i="Gritter Error: "+e;"undefined"!=typeof console&&console.error?console.error(i,t):alert(i)}},t.gritter.remove=function(t,i){e.removeSpecific(t,i||{})},t.gritter.removeAll=function(t){e.stop(t||{})};var e={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<a class="gritter-close" href="#" tabindex="1">Close Notification</a>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){if("string"==typeof i&&(i={text:i}),null===i.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var n=i.title,s=i.text,r=i.image||"",o=i.sticky||!1,a=i.class_name||t.gritter.options.class_name,l=t.gritter.options.position,c=i.time||"";this._verifyWrapper(),this._item_count++;var d=this._item_count,h=this._tpl_item;t(["before_open","after_open","before_close","after_close"]).each(function(n,s){e["_"+s+"_"+d]=t.isFunction(i[s])?i[s]:function(){}}),this._custom_timer=0,c&&(this._custom_timer=c);var u=""!=r?'<img src="'+r+'" class="gritter-image" />':"",p=""!=r?"gritter-with-image":"gritter-without-image";if(n=n?this._str_replace("[[title]]",n,this._tpl_title):"",h=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[n,s,this._tpl_close,u,this._item_count,p,a],h),!1===this["_before_open_"+d]())return!1;t("#gritter-notice-wrapper").addClass(l).append(h);var f=t("#gritter-item-"+this._item_count);return f.fadeIn(this.fade_in_speed,function(){e["_after_open_"+d](t(this))}),o||this._setFadeTimer(f,d),t(f).bind("mouseenter mouseleave",function(i){"mouseenter"==i.type?o||e._restoreItemIfFading(t(this),d):o||e._setFadeTimer(t(this),d),e._hoverState(t(this),i.type)}),t(f).find(".gritter-close").click(function(){return e.removeSpecific(d,{},null,!0),!1}),d},_countRemoveWrapper:function(e,i,n){i.remove(),this["_after_close_"+e](i,n),0==t(".gritter-item-wrapper").length&&t("#gritter-notice-wrapper").remove()},_fade:function(t,i,n,s){var n=n||{},r="undefined"==typeof n.fade||n.fade,o=n.speed||this.fade_out_speed,a=s;this["_before_close_"+i](t,a),s&&t.unbind("mouseenter mouseleave"),r?t.animate({opacity:0},o,function(){t.animate({height:0},300,function(){e._countRemoveWrapper(i,t,a)})}):this._countRemoveWrapper(i,t)},_hoverState:function(t,e){"mouseenter"==e?(t.addClass("hover"),t.find(".gritter-close").show()):(t.removeClass("hover"),t.find(".gritter-close").hide())},removeSpecific:function(e,i,n,s){if(!n)var n=t("#gritter-item-"+e);this._fade(n,e,i||{},s)},_restoreItemIfFading:function(t,e){clearTimeout(this["_int_id_"+e]),t.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in t.gritter.options)this[opt]=t.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(t,i){var n=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){e._fade(t,i)},n)},stop:function(e){var i=t.isFunction(e.before_close)?e.before_close:function(){},n=t.isFunction(e.after_close)?e.after_close:function(){},s=t("#gritter-notice-wrapper");i(s),s.fadeOut(function(){t(this).remove(),n()})},_str_replace:function(t,e,i,n){var s=0,r=0,o="",a="",l=0,c=0,d=[].concat(t),h=[].concat(e),u=i,p=h instanceof Array,f=u instanceof Array;for(u=[].concat(u),n&&(this.window[n]=0),s=0,l=u.length;l>s;s++)if(""!==u[s])for(r=0,c=d.length;c>r;r++)o=u[s]+"",a=p?void 0!==h[r]?h[r]:"":h[0],u[s]=o.split(d[r]).join(a),n&&u[s]!==o&&(this.window[n]+=(o.length-u[s].length)/d[r].length);return f?u:u[0]},_verifyWrapper:function(){0==t("#gritter-notice-wrapper").length&&t("body").append(this._tpl_wrap)}}}(jQuery),function(t){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var i=e.handler,n=e.data.keys.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!(t.hotkeys.options.filterInputAcceptingElements&&t.hotkeys.textInputTypes.test(e.target.nodeName)||t.hotkeys.options.filterContentEditable&&t(e.target).attr("contenteditable")||t.hotkeys.options.filterTextInputs&&t.inArray(e.target.type,t.hotkeys.textAcceptingInputTypes)>-1)){var s="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],r=String.fromCharCode(e.which).toLowerCase(),o="",a={};t.each(["alt","ctrl","shift"],function(t,i){e[i+"Key"]&&s!==i&&(o+=i+"+")}),e.metaKey&&!e.ctrlKey&&"meta"!==s&&(o+="meta+"),e.metaKey&&"meta"!==s&&o.indexOf("alt+ctrl+shift+")>-1&&(o=o.replace("alt+ctrl+shift+","hyper+")),s?a[o+s]=!0:(a[o+r]=!0,a[o+t.hotkeys.shiftNums[r]]=!0,"shift+"===o&&(a[t.hotkeys.shiftNums[r]]=!0));for(var l=0,c=n.length;c>l;l++)if(a[n[l]])return i.apply(this,arguments)}}}}t.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery||this.jQuery||window.jQuery),function(t){t.fn.inputlimiter=function(e){var i=t.extend({},t.fn.inputlimiter.defaults,e);t(this),i.boxAttach&&!t("#"+i.boxId).length&&(t("<div/>").appendTo("body").attr({id:i.boxId,"class":i.boxClass}).css({position:"absolute"}).hide(),t.fn.bgiframe&&t("#"+i.boxId).bgiframe());var n=function(){var e=t(this),n=o(e.val());!i.allowExceed&&n>i.limit&&e.val(a(e.val())),i.boxAttach&&t("#"+i.boxId).css({width:e.outerWidth()-(t("#"+i.boxId).outerWidth()-t("#"+i.boxId).width())+"px",left:e.offset().left+"px",top:e.offset().top+e.outerHeight()-1+"px","z-index":2e3});var s=i.limit-n>0?i.limit-n:0,r=i.remTextFilter(i,s),l=i.limitTextFilter(i);if(i.limitTextShow){t("#"+i.boxId).html(r+" "+l);var c=t("<span/>").appendTo("body").attr({id:"19cc9195583bfae1fad88e19d443be7a","class":i.boxClass}).html(r+" "+l).innerWidth();t("#19cc9195583bfae1fad88e19d443be7a").remove(),c>t("#"+i.boxId).innerWidth()&&t("#"+i.boxId).html(r+"<br />"+l),t("#"+i.boxId).show()}else t("#"+i.boxId).html(r).show()},s=function(e){var n=o(t(this).val());if(!i.allowExceed&&n>i.limit){if(!(e.ctrlKey||e.altKey||e.metaKey)&&e.which>=32&&e.which<=122&&this.selectionStart===this.selectionEnd)return!1}},r=function(){var e=t(this);if(count=o(e.val()),!i.allowExceed&&count>i.limit&&e.val(a(e.val())),i.boxAttach)t("#"+i.boxId).fadeOut("fast");else if(i.remTextHideOnBlur){var n=i.limitText;n=n.replace(/\%n/g,i.limit),n=n.replace(/\%s/g,1===i.limit?"":"s"),t("#"+i.boxId).html(n)}},o=function(e){if("words"===i.limitBy.toLowerCase())return e.length>0?t.trim(e).replace(/\ +(?= )/g,"").split(" ").length:0;var n=e.length,s=e.match(/\n/g);return s&&i.lineReturnCount>1&&(n+=s.length*(i.lineReturnCount-1)),n},a=function(e){return"words"===i.limitBy.toLowerCase()?t.trim(e).replace(/\ +(?= )/g,"").split(" ").splice(0,i.limit).join(" ")+" ":e.substring(0,i.limit)};t(this).each(function(){var o=t(this);(!e||!e.limit)&&i.useMaxlength&&parseInt(o.attr("maxlength"))>0&&parseInt(o.attr("maxlength"))!=i.limit?o.inputlimiter(t.extend({},i,{limit:parseInt(o.attr("maxlength"))})):(!i.allowExceed&&i.useMaxlength&&"characters"===i.limitBy.toLowerCase()&&o.attr("maxlength",i.limit),o.unbind(".inputlimiter"),o.bind("keyup.inputlimiter",n),o.bind("keypress.inputlimiter",s),o.bind("blur.inputlimiter",r))})},t.fn.inputlimiter.remtextfilter=function(t,e){var i=t.remText;return 0===e&&null!==t.remFullText&&(i=t.remFullText),i=i.replace(/\%n/g,e),i=i.replace(/\%s/g,t.zeroPlural?1===e?"":"s":1>=e?"":"s")},t.fn.inputlimiter.limittextfilter=function(t){var e=t.limitText;return e=e.replace(/\%n/g,t.limit),e=e.replace(/\%s/g,t.limit<=1?"":"s")},t.fn.inputlimiter.defaults={limit:255,boxAttach:!0,boxId:"limiterBox",boxClass:"limiterBox",remText:"%n character%s remaining.",remTextFilter:t.fn.inputlimiter.remtextfilter,remTextHideOnBlur:!0,remFullText:null,limitTextShow:!0,limitText:"Field limited to %n character%s.",limitTextFilter:t.fn.inputlimiter.limittextfilter,zeroPlural:!0,allowExceed:!1,useMaxlength:!0,limitBy:"characters",lineReturnCount:1}}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function($){"use strict";function _pivotfilter(t,e){var i,n,s,r=[];if(!this||"function"!=typeof t||t instanceof RegExp)throw new TypeError;for(s=this.length,i=0;s>i;i++)if(this.hasOwnProperty(i)&&(n=this[i],t.call(e,n,i,this))){r.push(n);break}return r}$.jgrid=$.jgrid||{},$.jgrid.hasOwnProperty("defaults")||($.jgrid.defaults={}),$.extend($.jgrid,{version:"5.0.2",htmlDecode:function(t){return t&&("&nbsp;"===t||"&#160;"===t||1===t.length&&160===t.charCodeAt(0))?"":t?String(t).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):t},htmlEncode:function(t){return t?String(t).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},template:function(t){var e,i=$.makeArray(arguments).slice(1),n=i.length;return null==t&&(t=""),t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(t,s){if(!isNaN(parseInt(s,10)))return i[parseInt(s,10)];for(e=0;n>e;e++)if($.isArray(i[e]))for(var r=i[e],o=r.length;o--;)if(s===r[o].nm)return r[o].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var t=-1,e=navigator.userAgent;return null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)),t},getCellIndex:function(t){var e=$(t);return e.is("tr")?-1:(e=(e.is("td")||e.is("th")?e:e.closest("td,th"))[0],$.jgrid.msie?$.inArray(e,e.parentNode.cells):e.cellIndex)},stripHtml:function(t){t=String(t);var e=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return t?(t=t.replace(e,""),t&&"&nbsp;"!==t&&"&#160;"!==t?t.replace(/\"/g,"'"):""):t},stripPref:function(t,e){var i=$.type(t);return"string"!==i&&"number"!==i||(t=String(t),e=""!==t?String(e).replace(String(t),""):e),e},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),!0===$.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(t,e,i,n){var s,r,o,a=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),h="string"==typeof e?e.match(d):null,u=function(t,e){for(t=String(t),e=parseInt(e,10)||2;t.length<e;)t="0"+t;return t},p={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},f=0,g=function(t,e){return 0===t?12===e&&(e=0):12!==e&&(e+=12),e},m=0;if(void 0===n&&(n=$.jgrid.getRegional(this,"formatter.date")),void 0===n.parseRe&&(n.parseRe=/[#%\\\/:_;.,\t\s-]/),n.masks.hasOwnProperty(t)&&(t=n.masks[t]),e&&null!=e)if(isNaN(e-0)||"u"!==String(t).toLowerCase())if(e.constructor===Date)f=e;else if(null!==h)f=new Date(parseInt(h[1],10)),h[3]&&(m=60*Number(h[5])+Number(h[6]),m*="-"===h[4]?1:-1,m-=f.getTimezoneOffset(),f.setTime(Number(Number(f)+60*m*1e3)));else{for("ISO8601Long"===n.srcformat&&"Z"===e.charAt(e.length-1)&&(m-=(new Date).getTimezoneOffset()),e=String(e).replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe),t=t.replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe),r=0,o=t.length;o>r;r++){switch(t[r]){case"M":-1!==(s=$.inArray(e[r],n.monthNames))&&12>s&&(e[r]=s+1,p.m=e[r]);break;case"F":-1!==(s=$.inArray(e[r],n.monthNames,12))&&s>11&&(e[r]=s+1-12,p.m=e[r]);break;case"n":t[r]="m";break;case"j":t[r]="d";break;case"a":-1!==(s=$.inArray(e[r],n.AmPm))&&2>s&&e[r]===n.AmPm[s]&&(e[r]=s,p.h=g(e[r],p.h));break;case"A":-1!==(s=$.inArray(e[r],n.AmPm))&&s>1&&e[r]===n.AmPm[s]&&(e[r]=s-2,p.h=g(e[r],p.h));break;case"g":p.h=parseInt(e[r],10)}void 0!==e[r]&&(p[t[r].toLowerCase()]=parseInt(e[r],10))}if(p.f&&(p.m=p.f),0===p.m&&0===p.y&&0===p.d)return"&#160;";p.m=parseInt(p.m,10)-1;var v=p.y;v>=70&&99>=v?p.y=1900+p.y:v>=0&&69>=v&&(p.y=2e3+p.y),f=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u),m>0&&f.setTime(Number(Number(f)+60*m*1e3))}else f=new Date(1e3*parseFloat(e));else f=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u);if(n.userLocalTime&&0===m&&(m-=(new Date).getTimezoneOffset())>0&&f.setTime(Number(Number(f)+60*m*1e3)),void 0===i)return f;n.masks.hasOwnProperty(i)?i=n.masks[i]:i||(i="Y-m-d");var b=f.getHours(),y=f.getMinutes(),w=f.getDate(),_=f.getMonth()+1,x=f.getTimezoneOffset(),C=f.getSeconds(),k=f.getMilliseconds(),D=f.getDay(),S=f.getFullYear(),T=(D+6)%7+1,I=(new Date(S,_-1,w)-new Date(S,0,1))/864e5,E={d:u(w),D:n.dayNames[D],j:w,l:n.dayNames[D+7],N:T,S:n.S(w),w:D,z:I,W:5>T?Math.floor((I+T-1)/7)+1:Math.floor((I+T-1)/7)||((new Date(S-1,0,1).getDay()+6)%7<4?53:52),F:n.monthNames[_-1+12],m:u(_),M:n.monthNames[_-1],n:_,t:"?",L:"?",o:"?",Y:S,y:String(S).substring(2),a:12>b?n.AmPm[0]:n.AmPm[1],
A:12>b?n.AmPm[2]:n.AmPm[3],B:"?",g:b%12||12,G:b,h:u(b%12||12),H:u(b),i:u(y),s:u(C),u:k,e:"?",I:"?",O:(x>0?"-":"+")+u(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),P:"?",T:(String(f).match(l)||[""]).pop().replace(c,""),Z:"?",c:"?",r:"?",U:Math.floor(f/1e3)};return i.replace(a,function(t){return E.hasOwnProperty(t)?E[t]:t.substring(1)})},jqID:function(t){return String(t).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(t){return(t||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(t,e){var i,n,s,r=[];if("function"==typeof e)return e(t);if(void 0===(i=t[e]))try{if("string"==typeof e&&(r=e.split(".")),s=r.length)for(i=t;i&&s--;)n=r.shift(),i=i[n]}catch(t){}return i},getXmlData:function(t,e,i){var n,s="string"==typeof e?e.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof e?e(t):s&&s[2]?s[1]?$(s[1],t).attr(s[2]):$(t).attr(s[2]):(n=$(e,t),i?n:n.length>0?$(n).text():void 0)},cellWidth:function(){var t=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable ui-common-table' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),e=t.appendTo("body").find("td").width();return t.remove(),Math.abs(e-5)>.1},isLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},getRegional:function(t,e,i){var n;return void 0!==i?i:(t.p&&t.p.regional&&$.jgrid.regional&&(n=$.jgrid.getAccessor($.jgrid.regional[t.p.regional]||{},e)),void 0===n&&(n=$.jgrid.getAccessor($.jgrid,e)),n)},isMobile:function(){try{return!!/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}},cell_width:!0,ajaxOptions:{},from:function(source){var $t=this,QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(t){var e=[];return _trim&&e.push("jQuery.trim("),e.push("String("+t+")"),_trim&&e.push(")"),_usecase||e.push(".toLowerCase()"),e.join("")},this._strComp=function(t){return"string"==typeof t?".toString()":""},this._group=function(t,e){return{field:t.toString(),unique:e,items:[]}},this._toStr=function(t){return _trim&&(t=$.trim(t)),t=t.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?t:t.toLowerCase()},this._funcLoop=function(t){var e=[];return $.each(_data,function(i,n){e.push(t(n))}),e},this._append=function(t){var e;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,e=0;_orDepth>e;e++)_query+="(";_negate&&(_query+="!"),_query+="("+t+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(t,e){_lastCommand=t,_lastField=e},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(t,e){return null===_lastCommand?self:null!==t&&null!==e?_lastCommand(t,e):null===_lastField?_lastCommand(t):_useProperties?_lastCommand(_lastField,t):_lastCommand(t)},this._equals=function(t,e){return 0===self._compare(t,e,1)},this._compare=function(t,e,i){var n=Object.prototype.toString;return void 0===i&&(i=1),void 0===t&&(t=null),void 0===e&&(e=null),null===t&&null===e?0:null===t&&null!==e?1:null!==t&&null===e?-1:"[object Date]"===n.call(t)&&"[object Date]"===n.call(e)?e>t?-i:t>e?i:0:(_usecase||"number"==typeof t||"number"==typeof e||(t=String(t),e=String(e)),e>t?-i:t>e?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(t,e){var i=_sorting[e].by,n=_sorting[e].dir,s=_sorting[e].type,r=_sorting[e].datefmt,o=_sorting[e].sfunc;if(e===_sorting.length-1)return self._getOrder(t,i,n,s,r,o);e++;var a,l,c,d=self._getGroup(t,i,n,s,r),h=[];for(a=0;a<d.length;a++)for(c=self._doSort(d[a].items,e),l=0;l<c.length;l++)h.push(c[l]);return h},this._getOrder=function(t,e,i,n,s,r){var o,a,l,c,d=[],h=[],u="a"===i?1:-1;void 0===n&&(n="text"),c="float"===n||"number"===n||"currency"===n||"numeric"===n?function(t){var e=parseFloat(String(t).replace(_stripNum,""));return isNaN(e)?Number.NEGATIVE_INFINITY:e}:"int"===n||"integer"===n?function(t){return t?parseFloat(String(t).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===n||"datetime"===n?function(t){return $.jgrid.parseDate.call($t,s,t).getTime()}:$.isFunction(n)?n:function(t){return t=t?$.trim(String(t)):"",_usecase?t:t.toLowerCase()},$.each(t,function(t,i){a=""!==e?$.jgrid.getAccessor(i,e):i,void 0===a&&(a=""),a=c(a,i),h.push({vSort:a,index:t})}),$.isFunction(r)?h.sort(function(t,e){return t=t.vSort,e=e.vSort,r.call(this,t,e,u)}):h.sort(function(t,e){return t=t.vSort,e=e.vSort,self._compare(t,e,u)}),l=0;for(var p=t.length;p>l;)o=h[l].index,d.push(t[o]),l++;return d},this._getGroup=function(t,e,i,n,s){var r,o=[],a=null,l=null;return $.each(self._getOrder(t,e,i,n,s),function(t,i){r=$.jgrid.getAccessor(i,e),null==r&&(r=""),self._equals(l,r)||(l=r,null!==a&&o.push(a),a=self._group(e,r)),a.items.push(i)}),null!==a&&o.push(a),o},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(t){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(t)){var e=[];return $.each(_data,function(i,n){e.push(t(n))}),e}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(t,e,i){return _negate=!_negate,self.and(t,e,i)},this.orNot=function(t,e,i){return _negate=!_negate,self.or(t,e,i)},this.not=function(t,e,i){return self.andNot(t,e,i)},this.and=function(t,e,i){return _queuedOperator=" && ",void 0===t?self:self._repeatCommand(t,e,i)},this.or=function(t,e,i){return _queuedOperator=" || ",void 0===t?self:self._repeatCommand(t,e,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(t){return _negate=!_negate,self.is(t)},this.is=function(t){return self._append("this."+t),self._resetNegate(),self},this._compareValues=function(t,e,i,n,s){var r;r=_useProperties?"jQuery.jgrid.getAccessor(this,'"+e+"')":"this",void 0===i&&(i=null);var o=i,a=void 0===s.stype?"text":s.stype;if(null!==i)switch(a){case"int":case"integer":o=isNaN(Number(o))||""===o?"0":o,r="parseInt("+r+",10)",o="parseInt("+o+",10)";break;case"float":case"number":case"numeric":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":o,r="parseFloat("+r+")",o="parseFloat("+o+")";break;case"date":case"datetime":o=String($.jgrid.parseDate.call($t,s.srcfmt||"Y-m-d",o).getTime()),r='jQuery.jgrid.parseDate.call(jQuery("#'+$.jgrid.jqID($t.p.id)+'")[0],"'+s.srcfmt+'",'+r+").getTime()";break;default:r=self._getStr(r),o=self._getStr('"'+self._toStr(o)+'"')}return self._append(r+" "+n+" "+o),self._setCommand(t,e),self._resetNegate(),self},this.equals=function(t,e,i){return self._compareValues(self.equals,t,e,"==",i)},this.notEquals=function(t,e,i){return self._compareValues(self.equals,t,e,"!==",i)},this.isNull=function(t,e,i){return self._compareValues(self.equals,t,null,"===",i)},this.greater=function(t,e,i){return self._compareValues(self.greater,t,e,">",i)},this.less=function(t,e,i){return self._compareValues(self.less,t,e,"<",i)},this.greaterOrEquals=function(t,e,i){return self._compareValues(self.greaterOrEquals,t,e,">=",i)},this.lessOrEquals=function(t,e,i){return self._compareValues(self.lessOrEquals,t,e,"<=",i)},this.startsWith=function(t,e){var i=null==e?t:e,n=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr(0,"+n+") == "+self._getStr('"'+self._toStr(e)+'"')):(null!=e&&(n=_trim?$.trim(e.toString()).length:e.toString().length),self._append(self._getStr("this")+".substr(0,"+n+") == "+self._getStr('"'+self._toStr(t)+'"'))),self._setCommand(self.startsWith,t),self._resetNegate(),self},this.endsWith=function(t,e){var i=null==e?t:e,n=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".length-"+n+","+n+') == "'+self._toStr(e)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(t)+'".length,"'+self._toStr(t)+'".length) == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,t),self._resetNegate(),self},this.contains=function(t,e){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+'.indexOf("'+self._toStr(e)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,t),self._resetNegate(),self},this.groupBy=function(t,e,i,n){return self._hasData()?self._getGroup(_data,t,e,i,n):null},this.orderBy=function(t,e,i,n,s){return e=null==e?"a":$.trim(e.toString().toLowerCase()),null==i&&(i="text"),null==n&&(n="Y-m-d"),null==s&&(s=!1),"desc"!==e&&"descending"!==e||(e="d"),"asc"!==e&&"ascending"!==e||(e="a"),_sorting.push({by:t,dir:e,type:i,datefmt:n,sfunc:s}),self},self};return new QueryObject(source,null)},getMethod:function(t){return this.getAccessor($.fn.jqGrid,t)},extend:function(t){$.extend($.fn.jqGrid,t),this.no_legacy_api||$.fn.extend(t)},clearBeforeUnload:function(t){var e,i=$("#"+$.jgrid.jqID(t))[0];if(i.grid){e=i.grid,$.isFunction(e.emptyRows)&&e.emptyRows.call(i,!0,!0),$(document).unbind("mouseup.jqGrid"+i.p.id),$(e.hDiv).unbind("mousemove"),$(i).unbind();var n,s=e.headers.length,r=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","formatter","addXmlData","addJSONData","grid","p"];for(n=0;s>n;n++)e.headers[n].el=null;for(n in e)e.hasOwnProperty(n)&&(e[n]=null);for(n in i.p)i.p.hasOwnProperty(n)&&(i.p[n]=$.isArray(i.p[n])?[]:null);for(s=r.length,n=0;s>n;n++)i.hasOwnProperty(r[n])&&(i[r[n]]=null,delete i[r[n]])}},gridUnload:function(t){if(t){t=$.trim(t),0===t.indexOf("#")&&(t=t.substring(1));var e=$("#"+$.jgrid.jqID(t))[0];if(e.grid){var i={id:$(e).attr("id"),cl:$(e).attr("class")};e.p.pager&&$(e.p.pager).unbind().empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var n=document.createElement("table");n.className=i.cl;var s=$.jgrid.jqID(e.id);$(n).removeClass("ui-jqgrid-btable ui-common-table").insertBefore("#gbox_"+s),1===$(e.p.pager).parents("#gbox_"+s).length&&$(e.p.pager).insertBefore("#gbox_"+s),$.jgrid.clearBeforeUnload(t),$("#gbox_"+s).remove(),$(n).attr({id:i.id}),$("#alertmod_"+$.jgrid.jqID(t)).remove()}}},gridDestroy:function(t){if(t){t=$.trim(t),0===t.indexOf("#")&&(t=t.substring(1));var e=$("#"+$.jgrid.jqID(t))[0];if(e.grid){e.p.pager&&$(e.p.pager).remove();try{$.jgrid.clearBeforeUnload(t),$("#gbox_"+$.jgrid.jqID(t)).remove()}catch(t){}}}},styleUI:{jQueryUI:{common:{disabled:"ui-state-disabled",highlight:"ui-state-highlight",hover:"ui-state-hover",cornerall:"ui-corner-all",cornertop:"ui-corner-top",cornerbottom:"ui-corner-bottom",hidden:"ui-helper-hidden",icon_base:"ui-icon",overlay:"ui-widget-overlay",active:"ui-state-active",error:"ui-state-error",button:"ui-state-default ui-corner-all",content:"ui-widget-content"},base:{entrieBox:"ui-widget ui-widget-content ui-corner-all",viewBox:"",headerTable:"",headerBox:"ui-state-default",rowTable:"",rowBox:"ui-widget-content",footerTable:"",footerBox:"ui-widget-content",headerDiv:"ui-state-default",gridtitleBox:"ui-widget-header ui-corner-top ui-helper-clearfix",customtoolbarBox:"ui-state-default",loadingBox:"ui-state-default ui-state-active",rownumBox:"ui-state-default",scrollBox:"ui-widget-content",multiBox:"cbox",pagerBox:"ui-state-default ui-corner-bottom",pagerTable:"",toppagerBox:"ui-state-default",pgInput:"ui-corner-all",pgSelectBox:"ui-widget-content ui-corner-all",pgButtonBox:"ui-corner-all",icon_first:"ui-icon-seek-first",icon_prev:"ui-icon-seek-prev",icon_next:"ui-icon-seek-next",icon_end:"ui-icon-seek-end",icon_asc:"ui-icon-triangle-1-n",icon_desc:"ui-icon-triangle-1-s",icon_caption_open:"ui-icon-circle-triangle-n",icon_caption_close:"ui-icon-circle-triangle-s"},modal:{modal:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-helper-clearfix",content:"ui-widget-content",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"ui-icon-closethick",icon_resizable:"ui-icon-gripsmall-diagonal-se"},celledit:{inputClass:"ui-widget-content ui-corner-all"},inlinedit:{inputClass:"ui-widget-content ui-corner-all",icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_save_nav:"ui-icon-disk",icon_cancel_nav:"ui-icon-cancel"},formedit:{inputClass:"ui-widget-content ui-corner-all",icon_prev:"ui-icon-triangle-1-w",icon_next:"ui-icon-triangle-1-e",icon_save:"ui-icon-disk",icon_close:"ui-icon-close",icon_del:"ui-icon-scissors",icon_cancel:"ui-icon-cancel"},navigator:{icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_del_nav:"ui-icon-trash",icon_search_nav:"ui-icon-search",icon_refresh_nav:"ui-icon-refresh",icon_view_nav:"ui-icon-document",icon_newbutton_nav:"ui-icon-newwin"},grouping:{icon_plus:"ui-icon-circlesmall-plus",icon_minus:"ui-icon-circlesmall-minus"},filter:{table_widget:"ui-widget ui-widget-content",srSelect:"ui-widget-content ui-corner-all",srInput:"ui-widget-content ui-corner-all",menu_widget:"ui-widget ui-widget-content ui-corner-all",icon_search:"ui-icon-search",icon_reset:"ui-icon-arrowreturnthick-1-w",icon_query:"ui-icon-comment"},subgrid:{icon_plus:"ui-icon-plus",icon_minus:"ui-icon-minus",icon_open:"ui-icon-carat-1-sw"},treegrid:{icon_plus:"ui-icon-triangle-1-",icon_minus:"ui-icon-triangle-1-s",icon_leaf:"ui-icon-radio-off"},fmatter:{icon_edit:"ui-icon-pencil",icon_add:"ui-icon-plus",icon_save:"ui-icon-disk",icon_cancel:"ui-icon-cancel",icon_del:"ui-icon-trash"}},Bootstrap:{common:{disabled:"ui-disabled",highlight:"success",hover:"active",cornerall:"",cornertop:"",cornerbottom:"",hidden:"",icon_base:"glyphicon",overlay:"ui-overlay",active:"active",error:"bg-danger",button:"btn btn-default",content:""},base:{entrieBox:"",viewBox:"table-responsive",headerTable:"table table-bordered",headerBox:"",rowTable:"table table-bordered",rowBox:"",footerTable:"table table-bordered",footerBox:"",headerDiv:"",gridtitleBox:"",customtoolbarBox:"",loadingBox:"row",rownumBox:"active",scrollBox:"",multiBox:"checkbox",pagerBox:"",pagerTable:"table",toppagerBox:"",pgInput:"form-control",pgSelectBox:"form-control",pgButtonBox:"",icon_first:"glyphicon-step-backward",icon_prev:"glyphicon-backward",icon_next:"glyphicon-forward",icon_end:"glyphicon-step-forward",icon_asc:"glyphicon-triangle-top",icon_desc:"glyphicon-triangle-bottom",icon_caption_open:"glyphicon-circle-arrow-up",icon_caption_close:"glyphicon-circle-arrow-down"},modal:{modal:"modal-content",header:"modal-header",title:"modal-title",content:"modal-body",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"glyphicon-remove-circle",icon_resizable:"glyphicon-import"},celledit:{inputClass:"form-control"},inlinedit:{inputClass:"form-control",icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_save_nav:"glyphicon-save",icon_cancel_nav:"glyphicon-remove-circle"},formedit:{inputClass:"form-control",icon_prev:"glyphicon-step-backward",icon_next:"glyphicon-step-forward",icon_save:"glyphicon-save",icon_close:"glyphicon-remove-circle",icon_del:"glyphicon-trash",icon_cancel:"glyphicon-remove-circle"},navigator:{icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_del_nav:"glyphicon-trash",icon_search_nav:"glyphicon-search",icon_refresh_nav:"glyphicon-refresh",icon_view_nav:"glyphicon-info-sign",icon_newbutton_nav:"glyphicon-new-window"},grouping:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom"},filter:{table_widget:"table table-condensed",srSelect:"form-control",srInput:"form-control",menu_widget:"",icon_search:"glyphicon-search",icon_reset:"glyphicon-refresh",icon_query:"glyphicon-comment"},subgrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_open:"glyphicon-indent-left"},treegrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_leaf:"glyphicon-unchecked"},fmatter:{icon_edit:"glyphicon-edit",icon_add:"glyphicon-plus",icon_save:"glyphicon-save",icon_cancel:"glyphicon-remove-circle",icon_del:"glyphicon-trash"}}}}),$.fn.jqGrid=function(t){if("string"==typeof t){var e=$.jgrid.getMethod(t);if(!e)throw"jqGrid - No such method: "+t;var i=$.makeArray(arguments).slice(1);return e.apply(this,i)}return this.each(function(){if(!this.grid){var e;null!=t&&void 0!==t.data&&(e=t.data,t.data=[]);var i=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:30,gridview:!0,rownumWidth:35,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"",minusicon:"",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!0,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33,scrollPopUp:!1,scrollTopOffset:0,scrollLeftOffset:"100%",storeNavOptions:!1,regional:"en",styleUI:"jQueryUI",responsive:!1,restoreCellonFail:!0},$.jgrid.defaults,t);void 0!==e&&(i.data=e,t.data=e);var n=this,s={headers:[],cols:[],footers:[],dragStart:function(t,e,s){var r=$(this.bDiv).offset().left;this.resizing={idx:t,startX:e.pageX,sOL:e.pageX-r},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(i.id),"#gbox_"+$.jgrid.jqID(i.id)),this.curGbox.css({display:"block",left:e.pageX-r,top:s[1],height:s[2]}),$(n).triggerHandler("jqGridResizeStart",[e,t]),$.isFunction(i.resizeStart)&&i.resizeStart.call(n,e,t),document.onselectstart=function(){return!1}},dragMove:function(t){if(this.resizing){var e,n,s=t.pageX-this.resizing.startX,r=this.headers[this.resizing.idx],o="ltr"===i.direction?r.width+s:r.width-s;o>33&&(this.curGbox.css({left:this.resizing.sOL+s}),!0===i.forceFit?(e=this.headers[this.resizing.idx+i.nv],(n="ltr"===i.direction?e.width-s:e.width+s)>i.minColWidth&&(r.newWidth=o,e.newWidth=n)):(this.newWidth="ltr"===i.direction?i.tblwidth+s:i.tblwidth-s,r.newWidth=o))}},dragEnd:function(t){if(this.hDiv.style.cursor="default",this.resizing){var e=this.resizing.idx,s=this.headers[e].newWidth||this.headers[e].width;s=parseInt(s,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(i.id)).css("display","none"),i.colModel[e].width=s,this.headers[e].width=s,this.headers[e].el.style.width=s+"px",this.cols[e].style.width=s+"px",this.footers.length>0&&(this.footers[e].style.width=s+"px"),!0===i.forceFit?(s=this.headers[e+i.nv].newWidth||this.headers[e+i.nv].width,this.headers[e+i.nv].width=s,this.headers[e+i.nv].el.style.width=s+"px",this.cols[e+i.nv].style.width=s+"px",this.footers.length>0&&(this.footers[e+i.nv].style.width=s+"px"),i.colModel[e+i.nv].width=s):(i.tblwidth=this.newWidth||i.tblwidth,$("table:first",this.bDiv).css("width",i.tblwidth+"px"),$("table:first",this.hDiv).css("width",i.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,i.footerrow&&($("table:first",this.sDiv).css("width",i.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),t&&($(n).triggerHandler("jqGridResizeStop",[s,e]),$.isFunction(i.resizeStop)&&i.resizeStop.call(n,s,e))}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){s.timer&&clearTimeout(s.timer),s.timer=null;var t=$(s.bDiv).height();if(t){var e,r,o=$("table:first",s.bDiv);if(o[0].rows.length)try{e=o[0].rows[1],r=e?$(e).outerHeight()||s.prevRowHeight:s.prevRowHeight}catch(t){r=s.prevRowHeight}if(r){s.prevRowHeight=r;var a,l,c,d=i.rowNum,h=s.scrollTop=s.bDiv.scrollTop,u=Math.round(o.position().top)-h,p=u+o.height(),f=r*d;if(t>p&&0>=u&&(void 0===i.lastpage||(parseInt((p+h+f-1)/f,10)||0)<=i.lastpage)&&(l=parseInt((t-p+f-1)/f,10)||1,p>=0||2>l||!0===i.scroll?(a=(Math.round((p+h)/f)||0)+1,u=-1):u=1),u>0&&(a=(parseInt(h/f,10)||0)+1,l=(parseInt((h+t)/f,10)||0)+2-a,c=!0),l){if(i.lastpage&&(a>i.lastpage||1===i.lastpage||a===i.page&&a===i.lastpage))return;s.hDiv.loading?s.timer=setTimeout(s.populateVisible,i.scrollTimeout):(i.page=a,c&&(s.selectionPreserver(o[0]),s.emptyRows.call(o[0],!1,!1)),s.populate(l)),i.scrollPopUp&&null!=i.lastpage&&($("#scroll_g"+i.id).show().html($.jgrid.template($.jgrid.getRegional(n,"defaults.pgtext",i.pgtext),i.page,i.lastpage)).css({top:i.scrollTopOffset+h*((parseInt(i.height,10)-45)/(parseInt(r,10)*parseInt(i.records,10)))+"px",left:i.scrollLeftOffset}),$(this).mouseout(function(){$("#scroll_g"+i.id).hide()}))}}}},scrollGrid:function(t){if(i.scroll){var e=s.bDiv.scrollTop;void 0===s.scrollTop&&(s.scrollTop=0),e!==s.scrollTop&&(s.scrollTop=e,s.timer&&clearTimeout(s.timer),s.timer=setTimeout(s.populateVisible,i.scrollTimeout))}s.hDiv.scrollLeft=s.bDiv.scrollLeft,i.footerrow&&(s.sDiv.scrollLeft=s.bDiv.scrollLeft),i.frozenColumns&&$(s.fbDiv).scrollTop(s.bDiv.scrollTop),t&&t.stopPropagation()},selectionPreserver:function(t){var e=t.p,i=e.selrow,n=e.selarrrow?$.makeArray(e.selarrrow):null,s=t.grid.bDiv.scrollLeft,r=function(){var o;if(e.selrow=null,e.selarrrow=[],e.multiselect&&n&&n.length>0)for(o=0;o<n.length;o++)n[o]!==i&&$(t).jqGrid("setSelection",n[o],!1,null);i&&$(t).jqGrid("setSelection",i,!1,null),t.grid.bDiv.scrollLeft=s,$(t).unbind(".selectionPreserver",r)};$(t).bind("jqGridGridComplete.selectionPreserver",r)}};if("TABLE"!==this.tagName.toUpperCase()||null==this.id)return void alert("Element is not a table or has no id!");if(void 0!==document.documentMode&&document.documentMode<=5)return void alert("Grid can not be used in this ('quirks') mode!");var r,o,a,l=0;for(o in $.jgrid.regional)$.jgrid.regional.hasOwnProperty(o)&&(0===l&&(r=o),l++);if(1===l&&r!==i.regional&&(i.regional=r),$(this).empty().attr("tabindex","0"),this.p=i,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length)for(l=0;l<this.p.colModel.length;l++)this.p.colNames[l]=this.p.colModel[l].label||this.p.colModel[l].name;if(this.p.colNames.length!==this.p.colModel.length)return void alert($.jgrid.getRegional(this,"errors.model"));var c,d=$.jgrid.getMethod("getStyleUI"),h=n.p.styleUI+".common",u=d(h,"disabled",!0),p=d(h,"highlight",!0),f=d(h,"hover",!0),g=d(h,"cornerall",!0),m=d(h,"icon_base",!0),v=$.jgrid.msie,b=[],y=[],w=[];h=n.p.styleUI+".base",c=$("<div "+d(h,"viewBox",!1,"ui-jqgrid-view")+" role='grid'></div>"),n.p.direction=$.trim(n.p.direction.toLowerCase()),n.p._ald=!1,-1===$.inArray(n.p.direction,["ltr","rtl"])&&(n.p.direction="ltr"),a=n.p.direction,$(c).insertBefore(this),$(this).appendTo(c);var _=$("<div "+d(h,"entrieBox",!1,"ui-jqgrid")+"></div>");$(_).attr({id:"gbox_"+this.id,dir:a}).insertBefore(c),$(c).attr("id","gview_"+this.id).appendTo(_),$("<div "+d(n.p.styleUI+".common","overlay",!1,"jqgrid-overlay")+" id='lui_"+this.id+"'></div>").insertBefore(c),$("<div "+d(h,"loadingBox",!1,"loading")+" id='load_"+this.id+"'>"+$.jgrid.getRegional(n,"defaults.loadtext",this.p.loadtext)+"</div>").insertBefore(c),$(this).attr({role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var x,C=["shiftKey","altKey","ctrlKey"],k=function(t,e){return t=parseInt(t,10),isNaN(t)?e||0:t},D=function(t,e,i,r,o,a){var l,c,d=n.p.colModel[t],h=d.align,u='style="',p=d.classes,f=d.name,g=[];return h&&(u+="text-align:"+h+";"),!0===d.hidden&&(u+="display:none;"),0===e?u+="width: "+s.headers[t].width+"px;":($.isFunction(d.cellattr)||"string"==typeof d.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[d.cellattr]))&&(l=$.isFunction(d.cellattr)?d.cellattr:$.jgrid.cellattr[d.cellattr],(c=l.call(n,o,i,r,d,a))&&"string"==typeof c&&(c=c.replace(/style/i,"style").replace(/title/i,"title"),c.indexOf("title")>-1&&(d.title=!1),c.indexOf("class")>-1&&(p=void 0),g=c.replace(/\-style/g,"-sti").split(/style/),2===g.length?(g[1]=$.trim(g[1].replace(/\-sti/g,"-style").replace("=","")),0!==g[1].indexOf("'")&&0!==g[1].indexOf('"')||(g[1]=g[1].substring(1)),u+=g[1].replace(/'/gi,'"')):u+='"')),g.length||(g[0]="",u+='"'),u+=(void 0!==p?' class="'+p+'"':"")+(d.title&&i?' title="'+$.jgrid.stripHtml(i)+'"':""),(u+=' aria-describedby="'+n.p.id+"_"+f+'"')+g[0]},S=function(t){return null==t||""===t?"&#160;":n.p.autoencode?$.jgrid.htmlEncode(t):String(t)},T=function(t,e,i,s,r){var o,a=n.p.colModel[i];if(void 0!==a.formatter){t=""!==String(n.p.idPrefix)?$.jgrid.stripPref(n.p.idPrefix,t):t;var l={rowId:t,colModel:a,gid:n.p.id,pos:i,styleUI:n.p.styleUI};o=$.isFunction(a.formatter)?a.formatter.call(n,e,l,s,r):$.fmatter?$.fn.fmatter.call(n,a.formatter,e,l,s,r):S(e)}else o=S(e);return o},I=function(t,e,i,n,s,r){var o;return o=T(t,e,i,s,"add"),'<td role="gridcell" '+D(i,n,o,s,t,r)+">"+o+"</td>"},E=function(t,e,i,s,r){var o='<input role="checkbox" type="checkbox" id="jqg_'+n.p.id+"_"+t+'" '+r+' name="jqg_'+n.p.id+"_"+t+'"'+(s?'checked="checked"':"")+"/>";return'<td role="gridcell" '+D(e,i,"",null,t,!0)+">"+o+"</td>"},j=function(t,e,i,n,s){var r=(parseInt(i,10)-1)*parseInt(n,10)+1+e;return'<td role="gridcell" '+s+" "+D(t,e,r,null,e,!0)+">"+r+"</td>"},A=function(t){var e,i,s=[],r=0;for(i=0;i<n.p.colModel.length;i++)e=n.p.colModel[i],"cb"!==e.name&&"subgrid"!==e.name&&"rn"!==e.name&&(s[r]="local"===t?e.name:"xml"===t||"xmlstring"===t?e.xmlmap||e.name:e.jsonmap||e.name,!1!==n.p.keyName&&!0===e.key&&(n.p.keyName=s[r]),r++);return s},M=function(t){var e=n.p.remapColumns;return e&&e.length||(e=$.map(n.p.colModel,function(t,e){return e})),t&&(e=$.map(e,function(e){return t>e?null:e-t})),e},F=function(t,e){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(i)),t&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:"0px",display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),!0===e&&this.p.treeGrid&&!this.p.loadonce&&(this.p.data=[],this.p._index={})},P=function(){var t,e,i,s,r,o,a,l,c,d,h,u=n.p,p=u.data,f=p.length,g=u.localReader,m=u.colModel,v=g.cell,b=(!0===u.multiselect?1:0)+(!0===u.subGrid?1:0)+(!0===u.rownumbers?1:0),y=u.scroll?$.jgrid.randId():1;if("local"===u.datatype&&!0===g.repeatitems)for(c=M(b),d=A("local"),s=!1===u.keyIndex?$.isFunction(g.id)?g.id.call(n,p):g.id:u.keyIndex,t=0;f>t;t++){for(i=p[t],r=$.jgrid.getAccessor(i,s),void 0===r&&("number"==typeof s&&null!=m[s+b]&&(r=$.jgrid.getAccessor(i,m[s+b].name)),void 0===r&&(r=y+t,v&&(o=$.jgrid.getAccessor(i,v)||i,r=null!=o&&void 0!==o[s]?o[s]:r,o=null))),l={},l[g.id]=r,v&&(i=$.jgrid.getAccessor(i,v)||i),h=$.isArray(i)?c:d,e=0;e<h.length;e++)a=$.jgrid.getAccessor(i,h[e]),l[m[e+b].name]=a;$.extend(!0,p[t],l)}},R=function(){var t,e,i,s=n.p.data.length;for(t=!1===n.p.keyName||!0===n.p.loadonce?n.p.localReader.id:n.p.keyName,n.p._index=[],e=0;s>e;e++)i=$.jgrid.getAccessor(n.p.data[e],t),void 0===i&&(i=String(e+1)),n.p._index[i]=e},N=function(t,e,i,s,r){var o,a="-1",l="",c=e?"display:none;":"",d=$(n).triggerHandler("jqGridRowAttr",[s,r,t]);if("object"!=typeof d&&(d=$.isFunction(n.p.rowattr)?n.p.rowattr.call(n,s,r,t):"string"==typeof n.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[n.p.rowattr])?$.jgrid.rowattr[n.p.rowattr].call(n,s,r,t):{}),!$.isEmptyObject(d)){d.hasOwnProperty("id")&&(t=d.id,delete d.id),d.hasOwnProperty("tabindex")&&(a=d.tabindex,delete d.tabindex),d.hasOwnProperty("style")&&(c+=d.style,delete d.style),d.hasOwnProperty("class")&&(i+=" "+d["class"],delete d["class"]);try{delete d.role}catch(t){}for(o in d)d.hasOwnProperty(o)&&(l+=" "+o+"="+d[o])}return'<tr role="row" id="'+t+'" tabindex="'+a+'" class="'+i+'"'+(""===c?"":' style="'+c+'"')+l+">"},O=function(t,e,i,s){var r=new Date,o="local"!==n.p.datatype&&n.p.loadonce||"xmlstring"===n.p.datatype,a="_id_",l=n.p.xmlReader,c="local"===n.p.datatype?"local":"xml";if(o&&(n.p.data=[],n.p._index={},n.p.localReader.id=a),n.p.reccount=0,$.isXMLDoc(t)){-1!==n.p.treeANode||n.p.scroll?e=e>1?e:1:(F.call(n,!1,!0),e=1);var u,p,f,g,m,v,b,y,w,_,x=$(n),C=0,D=!0===n.p.multiselect?1:0,S=0,T=!0===n.p.rownumbers?1:0,P=[],R={},O=[],H=!0===n.p.altRows?n.p.altclass:"",q=d(h,"rowBox",!0,"jqgrow ui-row-"+n.p.direction);!0===n.p.subGrid&&(S=1,g=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(P=A(c)),m=!1===n.p.keyName?$.isFunction(l.id)?l.id.call(n,t):l.id:n.p.keyName,v=-1===String(m).indexOf("[")?P.length?function(t,e){return $(m,t).text()||e}:function(t,e){return $(l.cell,t).eq(m).text()||e}:function(t,e){return t.getAttribute(m.replace(/[\[\]]/g,""))||e},n.p.userData={},n.p.page=k($.jgrid.getXmlData(t,l.page),n.p.page),n.p.lastpage=k($.jgrid.getXmlData(t,l.total),1),n.p.records=k($.jgrid.getXmlData(t,l.records)),$.isFunction(l.userdata)?n.p.userData=l.userdata.call(n,t)||{}:$.jgrid.getXmlData(t,l.userdata,!0).each(function(){n.p.userData[this.getAttribute("name")]=$(this).text()});var L=$.jgrid.getXmlData(t,l.root,!0);(L=$.jgrid.getXmlData(L,l.row,!0))||(L=[]);var z,B=L.length,W=0,G=[],U=parseInt(n.p.rowNum,10),Y=n.p.scroll?$.jgrid.randId():1,V=$("#"+$.jgrid.jqID(n.p.id)+" tbody:first");if(B>0&&n.p.page<=0&&(n.p.page=1),L&&B){s&&(U*=s+1);var X,K=$.isFunction(n.p.afterInsertRow),Q=!1,Z=T?d(h,"rownumBox",!1,"jqgrid-rownum"):"",J=D?d(h,"multiBox",!1,"cbox"):"";for(n.p.grouping&&(Q=!0===n.p.groupingView.groupCollapse,X=$.jgrid.getMethod("groupingPrepare"));B>W;){y=L[W],w=v(y,Y+W),w=n.p.idPrefix+w,z=0===e?0:e+1,_=q+((z+W)%2==1?" "+H:"");var tt=O.length;if(O.push(""),T&&O.push(j(0,W,n.p.page,n.p.rowNum,Z)),D&&O.push(E(w,T,W,!1,J)),S&&O.push(g.call(x,D+T,W+e)),l.repeatitems){b||(b=M(D+S+T));var et=$.jgrid.getXmlData(y,l.cell,!0);$.each(b,function(t){var i=et[this];return!!i&&(f=i.textContent||i.text,R[n.p.colModel[t+D+S+T].name]=f,void O.push(I(w,f,t+D+S+T,W+e,y,R)))})}else for(u=0;u<P.length;u++)f=$.jgrid.getXmlData(y,P[u]),R[n.p.colModel[u+D+S+T].name]=f,O.push(I(w,f,u+D+S+T,W+e,y,R));if(O[tt]=N(w,Q,_,R,y),O.push("</tr>"),n.p.grouping&&(G.push(O),n.p.groupingView._locgr||X.call(x,R,W),O=[]),(o||!0===n.p.treeGrid&&!n.p._ald)&&(R[a]=$.jgrid.stripPref(n.p.idPrefix,w),n.p.data.push(R),n.p._index[R[a]]=n.p.data.length-1),!1===n.p.gridview&&(V.append(O.join("")),x.triggerHandler("jqGridAfterInsertRow",[w,R,y]),K&&n.p.afterInsertRow.call(n,w,R,y),O=[]),R={},C++,W++,C===U)break}}if(!0===n.p.gridview&&(p=n.p.treeANode>-1?n.p.treeANode:0,n.p.grouping?o||(x.jqGrid("groupingRender",G,n.p.colModel.length,n.p.page,U),G=null):!0===n.p.treeGrid&&p>0?$(n.rows[p]).after(O.join("")):(V.append(O.join("")),n.grid.cols=n.rows[0].cells)),!0===n.p.subGrid)try{x.jqGrid("addSubGrid",D+T)}catch(t){}if(n.p.totaltime=new Date-r,C>0&&0===n.p.records&&(n.p.records=B),O=null,!0===n.p.treeGrid)try{x.jqGrid("setTreeNode",p+1,C+p+1)
}catch(t){}if(n.p.reccount=C,n.p.treeANode=-1,n.p.userDataOnFooter&&x.jqGrid("footerData","set",n.p.userData,!0),o&&(n.p.records=B,n.p.lastpage=Math.ceil(B/U)),i||n.updatepager(!1,!0),o){for(;B>C;){if(y=L[C],w=v(y,C+Y),w=n.p.idPrefix+w,l.repeatitems){b||(b=M(D+S+T));var it=$.jgrid.getXmlData(y,l.cell,!0);$.each(b,function(t){var e=it[this];return!!e&&(f=e.textContent||e.text,void(R[n.p.colModel[t+D+S+T].name]=f))})}else for(u=0;u<P.length;u++)f=$.jgrid.getXmlData(y,P[u]),R[n.p.colModel[u+D+S+T].name]=f;R[a]=$.jgrid.stripPref(n.p.idPrefix,w),n.p.grouping&&X.call(x,R,C),n.p.data.push(R),n.p._index[R[a]]=n.p.data.length-1,R={},C++}n.p.grouping&&(n.p.groupingView._locgr=!0,x.jqGrid("groupingRender",G,n.p.colModel.length,n.p.page,U),G=null)}}},H=function(t,e,i,s){var r=new Date;if(t){-1!==n.p.treeANode||n.p.scroll?e=e>1?e:1:(F.call(n,!1,!0),e=1);var o,a,l="_id_",c="local"!==n.p.datatype&&n.p.loadonce||"jsonstring"===n.p.datatype;c&&(n.p.data=[],n.p._index={},n.p.localReader.id=l),n.p.reccount=0,"local"===n.p.datatype?(o=n.p.localReader,a="local"):(o=n.p.jsonReader,a="json");var u,f,g,m,v,b,y,w,_,x,C,D,S=$(n),T=0,P=[],R=n.p.multiselect?1:0,O=!0===n.p.subGrid?1:0,H=!0===n.p.rownumbers?1:0,q=M(R+O+H),L=A(a),z={},B=[],W=!0===n.p.altRows?n.p.altclass:"",G=d(h,"rowBox",!0,"jqgrow ui-row-"+n.p.direction);n.p.page=k($.jgrid.getAccessor(t,o.page),n.p.page),n.p.lastpage=k($.jgrid.getAccessor(t,o.total),1),n.p.records=k($.jgrid.getAccessor(t,o.records)),n.p.userData=$.jgrid.getAccessor(t,o.userdata)||{},O&&(v=$.jgrid.getMethod("addSubGridCell")),_=!1===n.p.keyName?$.isFunction(o.id)?o.id.call(n,t):o.id:n.p.keyName,w=$.jgrid.getAccessor(t,o.root),null==w&&$.isArray(t)&&(w=t),w||(w=[]),y=w.length,f=0,y>0&&n.p.page<=0&&(n.p.page=1);var U,Y,V=parseInt(n.p.rowNum,10),X=n.p.scroll?$.jgrid.randId():1,K=!1;s&&(V*=s+1),"local"!==n.p.datatype||n.p.deselectAfterSort||(K=!0);var Q,Z=$.isFunction(n.p.afterInsertRow),J=[],tt=!1,et=$("#"+$.jgrid.jqID(n.p.id)+" tbody:first"),it=H?d(h,"rownumBox",!1,"jqgrid-rownum"):"",nt=R?d(h,"multiBox",!1,"cbox"):"";for(n.p.grouping&&(tt=!0===n.p.groupingView.groupCollapse,Q=$.jgrid.getMethod("groupingPrepare"));y>f;){if(m=w[f],void 0===(C=$.jgrid.getAccessor(m,_))&&("number"==typeof _&&null!=n.p.colModel[_+R+O+H]&&(C=$.jgrid.getAccessor(m,n.p.colModel[_+R+O+H].name)),void 0===C&&(C=X+f,0===P.length&&o.cell))){var st=$.jgrid.getAccessor(m,o.cell)||m;C=null!=st&&void 0!==st[_]?st[_]:C,st=null}C=n.p.idPrefix+C,U=1===e?0:e,D=G+((U+f)%2==1?" "+W:""),K&&(Y=n.p.multiselect?-1!==$.inArray(C,n.p.selarrrow):C===n.p.selrow);var rt=B.length;for(B.push(""),H&&B.push(j(0,f,n.p.page,n.p.rowNum,it)),R&&B.push(E(C,H,f,Y,nt)),O&&B.push(v.call(S,R+H,f+e)),b=L,o.repeatitems&&(o.cell&&(m=$.jgrid.getAccessor(m,o.cell)||m),$.isArray(m)&&(b=q)),g=0;g<b.length;g++)u=$.jgrid.getAccessor(m,b[g]),z[n.p.colModel[g+R+O+H].name]=u,B.push(I(C,u,g+R+O+H,f+e,m,z));if(D+=Y?" "+p:"",B[rt]=N(C,tt,D,z,m),B.push("</tr>"),n.p.grouping&&(J.push(B),n.p.groupingView._locgr||Q.call(S,z,f),B=[]),(c||!0===n.p.treeGrid&&!n.p._ald)&&(z[l]=$.jgrid.stripPref(n.p.idPrefix,C),n.p.data.push(z),n.p._index[z[l]]=n.p.data.length-1),!1===n.p.gridview&&(et.append(B.join("")),S.triggerHandler("jqGridAfterInsertRow",[C,z,m]),Z&&n.p.afterInsertRow.call(n,C,z,m),B=[]),z={},T++,f++,T===V)break}if(!0===n.p.gridview&&(x=n.p.treeANode>-1?n.p.treeANode:0,n.p.grouping?c||(S.jqGrid("groupingRender",J,n.p.colModel.length,n.p.page,V),J=null):!0===n.p.treeGrid&&x>0?$(n.rows[x]).after(B.join("")):(et.append(B.join("")),n.grid.cols=n.rows[0].cells)),!0===n.p.subGrid)try{S.jqGrid("addSubGrid",R+H)}catch(t){}if(n.p.totaltime=new Date-r,T>0&&0===n.p.records&&(n.p.records=y),B=null,!0===n.p.treeGrid)try{S.jqGrid("setTreeNode",x+1,T+x+1)}catch(t){}if(n.p.reccount=T,n.p.treeANode=-1,n.p.userDataOnFooter&&S.jqGrid("footerData","set",n.p.userData,!0),c&&(n.p.records=y,n.p.lastpage=Math.ceil(y/V)),i||n.updatepager(!1,!0),c){for(;y>T&&w[T];){if(m=w[T],void 0===(C=$.jgrid.getAccessor(m,_))&&("number"==typeof _&&null!=n.p.colModel[_+R+O+H]&&(C=$.jgrid.getAccessor(m,n.p.colModel[_+R+O+H].name)),void 0===C&&(C=X+T,0===P.length&&o.cell))){var ot=$.jgrid.getAccessor(m,o.cell)||m;C=null!=ot&&void 0!==ot[_]?ot[_]:C,ot=null}if(m){for(C=n.p.idPrefix+C,b=L,o.repeatitems&&(o.cell&&(m=$.jgrid.getAccessor(m,o.cell)||m),$.isArray(m)&&(b=q)),g=0;g<b.length;g++)z[n.p.colModel[g+R+O+H].name]=$.jgrid.getAccessor(m,b[g]);z[l]=$.jgrid.stripPref(n.p.idPrefix,C),n.p.grouping&&Q.call(S,z,T),n.p.data.push(z),n.p._index[z[l]]=n.p.data.length-1,z={}}T++}n.p.grouping&&(n.p.groupingView._locgr=!0,S.jqGrid("groupingRender",J,n.p.colModel.length,n.p.page,V),J=null)}}},q=function(){function t(e){var i,s,r,o,a,l,d=0;if(null!=e.groups){for(s=e.groups.length&&"OR"===e.groupOp.toString().toUpperCase(),s&&v.orBegin(),i=0;i<e.groups.length;i++){d>0&&s&&v.or();try{t(e.groups[i])}catch(t){alert(t)}d++}s&&v.orEnd()}if(null!=e.rules)try{for(r=e.rules.length&&"OR"===e.groupOp.toString().toUpperCase(),r&&v.orBegin(),i=0;i<e.rules.length;i++)a=e.rules[i],o=e.groupOp.toString().toUpperCase(),m[a.op]&&a.field&&(d>0&&o&&"OR"===o&&(v=v.or()),l=c[a.field],"date"===l.stype&&l.srcfmt&&l.newfmt&&l.srcfmt!==l.newfmt&&(a.data=$.jgrid.parseDate.call(n,l.newfmt,a.data,l.srcfmt)),v=m[a.op](v,o)(a.field,a.data,c[a.field])),d++;r&&v.orEnd()}catch(t){alert(t)}}var e,i,s,r,o=n.p.multiSort?[]:"",a=[],l=!1,c={},d=[],h=[];if($.isArray(n.p.data)){var u,p,f,g=!!n.p.grouping&&n.p.groupingView;if($.each(n.p.colModel,function(){if(i=this.sorttype||"text",f=this.index||this.name,"date"===i||"datetime"===i?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(e=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.getRegional(n,"formatter.date.srcformat"),s=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.getRegional(n,"formatter.date.newformat")):e=s=this.datefmt||"Y-m-d",c[f]={stype:i,srcfmt:e,newfmt:s,sfunc:this.sortfunc||null}):c[f]={stype:i,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},n.p.grouping)for(p=0,u=g.groupField.length;u>p;p++)this.name===g.groupField[p]&&(d[p]=c[f],h[p]=f);n.p.multiSort||l||f!==n.p.sortname||(o=f,l=!0)}),n.p.multiSort&&(o=b,a=y),n.p.treeGrid&&n.p._sort)return void $(n).jqGrid("SortTree",o,n.p.sortorder,c[o].stype||"text",c[o].srcfmt||"");var m={eq:function(t){return t.equals},ne:function(t){return t.notEquals},lt:function(t){return t.less},le:function(t){return t.lessOrEquals},gt:function(t){return t.greater},ge:function(t){return t.greaterOrEquals},cn:function(t){return t.contains},nc:function(t,e){return"OR"===e?t.orNot().contains:t.andNot().contains},bw:function(t){return t.startsWith},bn:function(t,e){return"OR"===e?t.orNot().startsWith:t.andNot().startsWith},en:function(t,e){return"OR"===e?t.orNot().endsWith:t.andNot().endsWith},ew:function(t){return t.endsWith},ni:function(t,e){return"OR"===e?t.orNot().equals:t.andNot().equals},"in":function(t){return t.equals},nu:function(t){return t.isNull},nn:function(t,e){return"OR"===e?t.orNot().isNull:t.andNot().isNull}},v=$.jgrid.from.call(n,n.p.data);if(n.p.ignoreCase&&(v=v.ignoreCase()),!0===n.p.search){var w=n.p.postData.filters;if(w)"string"==typeof w&&(w=$.jgrid.parse(w)),t(w);else try{r=c[n.p.postData.searchField],"date"===r.stype&&r.srcfmt&&r.newfmt&&r.srcfmt!==r.newfmt&&(n.p.postData.searchString=$.jgrid.parseDate.call(n,r.newfmt,n.p.postData.searchString,r.srcfmt)),v=m[n.p.postData.searchOper](v)(n.p.postData.searchField,n.p.postData.searchString,c[n.p.postData.searchField])}catch(t){}}else n.p.treeGrid&&"nested"===n.p.treeGridModel&&v.orderBy(n.p.treeReader.left_field,"asc","integer","",null);if(n.p.treeGrid&&"adjacency"===n.p.treeGridModel&&(u=0,o=null),n.p.grouping)for(p=0;u>p;p++)v.orderBy(h[p],g.groupOrder[p],d[p].stype,d[p].srcfmt);n.p.multiSort?$.each(o,function(t){v.orderBy(this,a[t],c[this].stype,c[this].srcfmt,c[this].sfunc)}):o&&n.p.sortorder&&l&&("DESC"===n.p.sortorder.toUpperCase()?v.orderBy(n.p.sortname,"d",c[o].stype,c[o].srcfmt,c[o].sfunc):v.orderBy(n.p.sortname,"a",c[o].stype,c[o].srcfmt,c[o].sfunc));var _=v.select(),x=parseInt(n.p.rowNum,10),C=_.length,k=parseInt(n.p.page,10),D=Math.ceil(C/x),S={};if((n.p.search||n.p.resetsearch)&&n.p.grouping&&n.p.groupingView._locgr){n.p.groupingView.groups=[];var T,I,E,j=$.jgrid.getMethod("groupingPrepare");if(n.p.footerrow&&n.p.userDataOnFooter){for(I in n.p.userData)n.p.userData.hasOwnProperty(I)&&(n.p.userData[I]=0);E=!0}for(T=0;C>T;T++){if(E)for(I in n.p.userData)n.p.userData.hasOwnProperty(I)&&(n.p.userData[I]+=parseFloat(_[T][I]||0));j.call($(n),_[T],T,x)}}return _=n.p.treeGrid&&n.p.search?$(n).jqGrid("searchTree",_):_.slice((k-1)*x,k*x),v=null,c=null,S[n.p.localReader.total]=D,S[n.p.localReader.page]=k,S[n.p.localReader.records]=C,S[n.p.localReader.root]=_,S[n.p.localReader.userdata]=n.p.userData,_=null,S}},L=function(t,e){var i,s,r,o,a,l,c,p,g="",m=n.p.pager?$.jgrid.jqID(n.p.pager.substr(1)):"",v=m?"_"+m:"",b=n.p.toppager?"_"+n.p.toppager.substr(1):"";if(r=parseInt(n.p.page,10)-1,0>r&&(r=0),r*=parseInt(n.p.rowNum,10),a=r+n.p.reccount,n.p.scroll){var y=$("tbody:first > tr:gt(0)",n.grid.bDiv);r=a-y.length,n.p.reccount=y.length;var w=y.outerHeight()||n.grid.prevRowHeight;if(w){var _=r*w,x=parseInt(n.p.records,10)*w;$(">div:first",n.grid.bDiv).css({height:x}).children("div:first").css({height:_,display:_?"":"none"}),0===n.grid.bDiv.scrollTop&&n.p.page>1&&(n.grid.bDiv.scrollTop=n.p.rowNum*(n.p.page-1)*w)}n.grid.bDiv.scrollLeft=n.grid.hDiv.scrollLeft}if(g=n.p.pager||"",g+=n.p.toppager?g?","+n.p.toppager:n.p.toppager:""){if(c=$.jgrid.getRegional(n,"formatter.integer"),i=k(n.p.page),s=k(n.p.lastpage),$(".selbox",g)[this.p.useProp?"prop":"attr"]("disabled",!1),!0===n.p.pginput&&($("#input"+v).html($.jgrid.template($.jgrid.getRegional(n,"defaults.pgtext",n.p.pgtext)||"","<input "+d(h,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"'></span>")),n.p.toppager&&$("#input_t"+b).html($.jgrid.template($.jgrid.getRegional(n,"defaults.pgtext",n.p.pgtext)||"","<input "+d(h,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"_toppager'></span>")),$(".ui-pg-input",g).val(n.p.page),p=n.p.toppager?"#sp_1"+v+",#sp_1"+v+"_toppager":"#sp_1"+v,$(p).html($.fmatter?$.fmatter.util.NumberFormat(n.p.lastpage,c):n.p.lastpage)),n.p.viewrecords)if(0===n.p.reccount)$(".ui-paging-info",g).html($.jgrid.getRegional(n,"defaults.emptyrecords",n.p.emptyrecords));else{o=r+1,l=n.p.records,$.fmatter&&(o=$.fmatter.util.NumberFormat(o,c),a=$.fmatter.util.NumberFormat(a,c),l=$.fmatter.util.NumberFormat(l,c));var C=$.jgrid.getRegional(n,"defaults.recordtext",n.p.recordtext);$(".ui-paging-info",g).html($.jgrid.template(C,o,a,l))}!0===n.p.pgbuttons&&(0>=i&&(i=s=0),1===i||0===i?($("#first"+v+", #prev"+v).addClass(u).removeClass(f),n.p.toppager&&$("#first_t"+b+", #prev_t"+b).addClass(u).removeClass(f)):($("#first"+v+", #prev"+v).removeClass(u),n.p.toppager&&$("#first_t"+b+", #prev_t"+b).removeClass(u)),i===s||0===i?($("#next"+v+", #last"+v).addClass(u).removeClass(f),n.p.toppager&&$("#next_t"+b+", #last_t"+b).addClass(u).removeClass(f)):($("#next"+v+", #last"+v).removeClass(u),n.p.toppager&&$("#next_t"+b+", #last_t"+b).removeClass(u)))}!0===t&&!0===n.p.rownumbers&&$(">td.jqgrid-rownum",n.rows).each(function(t){$(this).html(r+1+t)}),e&&n.p.jqgdnd&&$(n).jqGrid("gridDnD","updateDnD"),$(n).triggerHandler("jqGridGridComplete"),$.isFunction(n.p.gridComplete)&&n.p.gridComplete.call(n),$(n).triggerHandler("jqGridAfterGridComplete")},z=function(){n.grid.hDiv.loading=!0,n.p.hiddengrid||$(n).jqGrid("progressBar",{method:"show",loadtype:n.p.loadui,htmlcontent:$.jgrid.getRegional(n,"defaults.loadtext",n.p.loadtext)})},B=function(){n.grid.hDiv.loading=!1,$(n).jqGrid("progressBar",{method:"hide",loadtype:n.p.loadui})},W=function(t){if(!n.grid.hDiv.loading){var e,i,s=n.p.scroll&&!1===t,r={},o=n.p.prmNames;n.p.page<=0&&(n.p.page=Math.min(1,n.p.lastpage)),null!==o.search&&(r[o.search]=n.p.search),null!==o.nd&&(r[o.nd]=(new Date).getTime()),null!==o.rows&&(r[o.rows]=n.p.rowNum),null!==o.page&&(r[o.page]=n.p.page),null!==o.sort&&(r[o.sort]=n.p.sortname),null!==o.order&&(r[o.order]=n.p.sortorder),null!==n.p.rowTotal&&null!==o.totalrows&&(r[o.totalrows]=n.p.rowTotal);var a=$.isFunction(n.p.loadComplete),l=a?n.p.loadComplete:null,c=0;if(t=t||1,t>1?null!==o.npage?(r[o.npage]=t,c=t-1,t=1):l=function(e){n.p.page++,n.grid.hDiv.loading=!1,a&&n.p.loadComplete.call(n,e),W(t-1)}:null!==o.npage&&delete n.p.postData[o.npage],n.p.grouping){$(n).jqGrid("groupingSetup");var d,h=n.p.groupingView,u="";for(d=0;d<h.groupField.length;d++){var p=h.groupField[d];$.each(n.p.colModel,function(t,e){e.name===p&&e.index&&(p=e.index)}),u+=p+" "+h.groupOrder[d]+", "}r[o.sort]=u+r[o.sort]}$.extend(n.p.postData,r);var f=n.p.scroll?n.rows.length-1:1,g=$(n).triggerHandler("jqGridBeforeRequest");if(!1===g||"stop"===g)return;if($.isFunction(n.p.datatype))return void n.p.datatype.call(n,n.p.postData,"load_"+n.p.id,f,t,c);if($.isFunction(n.p.beforeRequest)&&(g=n.p.beforeRequest.call(n),void 0===g&&(g=!0),!1===g))return;switch(e=n.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:n.p.url,type:n.p.mtype,dataType:e,data:$.isFunction(n.p.serializeGridData)?n.p.serializeGridData.call(n,n.p.postData):n.p.postData,success:function(i,r,o){return $.isFunction(n.p.beforeProcessing)&&!1===n.p.beforeProcessing.call(n,i,r,o)?void B():("xml"===e?O(i,f,t>1,c):H(i,f,t>1,c),$(n).triggerHandler("jqGridLoadComplete",[i]),l&&l.call(n,i),$(n).triggerHandler("jqGridAfterLoadComplete",[i]),s&&n.grid.populateVisible(),(n.p.loadonce||n.p.treeGrid)&&(n.p.datatype="local"),i=null,void(1===t&&B()))},error:function(e,i,s){$.isFunction(n.p.loadError)&&n.p.loadError.call(n,e,i,s),1===t&&B(),e=null},beforeSend:function(t,e){var i=!0;return $.isFunction(n.p.loadBeforeSend)&&(i=n.p.loadBeforeSend.call(n,t,e)),void 0===i&&(i=!0),!1!==i&&void z()}},$.jgrid.ajaxOptions,n.p.ajaxGridOptions));break;case"xmlstring":z(),i="string"!=typeof n.p.datastr?n.p.datastr:$.parseXML(n.p.datastr),O(i),$(n).triggerHandler("jqGridLoadComplete",[i]),a&&n.p.loadComplete.call(n,i),$(n).triggerHandler("jqGridAfterLoadComplete",[i]),n.p.datatype="local",n.p.datastr=null,B();break;case"jsonstring":z(),i="string"==typeof n.p.datastr?$.jgrid.parse(n.p.datastr):n.p.datastr,H(i),$(n).triggerHandler("jqGridLoadComplete",[i]),a&&n.p.loadComplete.call(n,i),$(n).triggerHandler("jqGridAfterLoadComplete",[i]),n.p.datatype="local",n.p.datastr=null,B();break;case"local":case"clientside":z(),n.p.datatype="local",n.p._ald=!0;var m=q();H(m,f,t>1,c),$(n).triggerHandler("jqGridLoadComplete",[m]),l&&l.call(n,m),$(n).triggerHandler("jqGridAfterLoadComplete",[m]),s&&n.grid.populateVisible(),B(),n.p._ald=!1}n.p._sort=!1}},G=function(t){$("#cb_"+$.jgrid.jqID(n.p.id),n.grid.hDiv)[n.p.useProp?"prop":"attr"]("checked",t),(n.p.frozenColumns?n.p.id+"_frozen":"")&&$("#cb_"+$.jgrid.jqID(n.p.id),n.grid.fhDiv)[n.p.useProp?"prop":"attr"]("checked",t)},U=function(t,e){var i,s,r,o,l,c,p,g="<td class='ui-pg-button "+u+"'><span class='ui-separator'></span></td>",v="",b="<table class='ui-pg-table ui-common-table ui-paging-pager'><tbody><tr>",y="",w=function(t,e){var i;return $.isFunction(n.p.onPaging)&&(i=n.p.onPaging.call(n,t,e)),"stop"!==i&&(n.p.selrow=null,n.p.multiselect&&(n.p.selarrrow=[],G(!1)),n.p.savedRow=[],!0)};if(t=t.substr(1),e+="_"+t,i="pg_"+t,s=t+"_left",r=t+"_center",o=t+"_right",$("#"+$.jgrid.jqID(t)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table "+d(h,"pagerTable",!1,"ui-pg-table ui-common-table ui-pager-table")+"><tbody><tr><td id='"+s+"' align='left'></td><td id='"+r+"' align='center' style='white-space:pre;'></td><td id='"+o+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),n.p.rowList.length>0){y='<td dir="'+a+'">',y+="<select "+d(h,"pgSelectBox",!1,"ui-pg-selbox")+' role="listbox" title="'+($.jgrid.getRegional(n,"defaults.pgrecs",n.p.pgrecs)||"")+'">';var _;for(p=0;p<n.p.rowList.length;p++)_=n.p.rowList[p].toString().split(":"),1===_.length&&(_[1]=_[0]),y+='<option role="option" value="'+_[0]+'"'+(k(n.p.rowNum,0)===k(_[0],0)?' selected="selected"':"")+">"+_[1]+"</option>";y+="</select></td>"}if("rtl"===a&&(b+=y),!0===n.p.pginput&&(v="<td id='input"+e+"' dir='"+a+"'>"+$.jgrid.template($.jgrid.getRegional(n,"defaults.pgtext",n.p.pgtext)||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(t)+"'></span>")+"</td>"),!0===n.p.pgbuttons){var x=["first"+e,"prev"+e,"next"+e,"last"+e],C=d(h,"pgButtonBox",!0,"ui-pg-button"),D=[$.jgrid.getRegional(n,"defaults.pgfirst",n.p.pgfirst)||"",$.jgrid.getRegional(n,"defaults.pgprev",n.p.pgprev)||"",$.jgrid.getRegional(n,"defaults.pgnext",n.p.pgnext)||"",$.jgrid.getRegional(n,"defaults.pglast",n.p.pglast)||""];"rtl"===a&&(x.reverse(),D.reverse()),b+="<td id='"+x[0]+"' class='"+C+"' title='"+D[0]+"'><span "+d(h,"icon_first",!1,m)+"></span></td>",b+="<td id='"+x[1]+"' class='"+C+"'  title='"+D[1]+"'><span "+d(h,"icon_prev",!1,m)+"></span></td>",b+=""!==v?g+v+g:"",b+="<td id='"+x[2]+"' class='"+C+"' title='"+D[2]+"'><span "+d(h,"icon_next",!1,m)+"></span></td>",b+="<td id='"+x[3]+"' class='"+C+"' title='"+D[3]+"'><span "+d(h,"icon_end",!1,m)+"></span></td>"}else""!==v&&(b+=v);"ltr"===a&&(b+=y),b+="</tr></tbody></table>",!0===n.p.viewrecords&&$("td#"+t+"_"+n.p.recordpos,"#"+i).append("<div dir='"+a+"' style='text-align:"+n.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+t+"_"+n.p.pagerpos,"#"+i).append(b),c=$("#gbox_"+$.jgrid.jqID(n.p.id)).css("font-size")||"11px",$("#gbox_"+$.jgrid.jqID(n.p.id)).append("<div id='testpg' "+d(h,"entrieBox",!1,"ui-jqgrid")+" style='font-size:"+c+";visibility:hidden;' ></div>"),l=$(b).clone().appendTo("#testpg").width(),$("#testpg").remove(),l>0&&(""!==v&&(l+=50),$("td#"+t+"_"+n.p.pagerpos,"#"+i).width(l)),n.p._nvtd=[],n.p._nvtd[0]=l?Math.floor((n.p.width-l)/2):Math.floor(n.p.width/3),n.p._nvtd[1]=0,b=null,$(".ui-pg-selbox","#"+i).bind("change",function(){return!!w("records",this)&&(n.p.page=Math.round(n.p.rowNum*(n.p.page-1)/this.value-.5)+1,n.p.rowNum=this.value,n.p.pager&&$(".ui-pg-selbox",n.p.pager).val(this.value),n.p.toppager&&$(".ui-pg-selbox",n.p.toppager).val(this.value),W(),!1)}),!0===n.p.pgbuttons&&($(".ui-pg-button","#"+i).hover(function(){$(this).hasClass(u)?this.style.cursor="default":($(this).addClass(f),this.style.cursor="pointer")},function(){$(this).hasClass(u)||($(this).removeClass(f),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(e)+", #prev"+$.jgrid.jqID(e)+", #next"+$.jgrid.jqID(e)+", #last"+$.jgrid.jqID(e)).click(function(){if($(this).hasClass(u))return!1;var t=k(n.p.page,1),i=k(n.p.lastpage,1),s=!1,r=!0,o=!0,a=!0,l=!0;return 0===i||1===i?(r=!1,o=!1,a=!1,l=!1):i>1&&t>=1?1===t?(r=!1,o=!1):t===i&&(a=!1,l=!1):i>1&&0===t&&(a=!1,l=!1,t=i-1),!!w(this.id.split("_")[0],this)&&(this.id==="first"+e&&r&&(n.p.page=1,s=!0),this.id==="prev"+e&&o&&(n.p.page=t-1,s=!0),this.id==="next"+e&&a&&(n.p.page=t+1,s=!0),this.id==="last"+e&&l&&(n.p.page=i,s=!0),s&&W(),!1)})),!0===n.p.pginput&&$("#"+i).on("keypress","input.ui-pg-input",function(t){return 13===(t.charCode||t.keyCode||0)?!!w("user",this)&&($(this).val(k($(this).val(),1)),n.p.page=$(this).val()>0?$(this).val():n.p.page,W(),!1):this})},Y=function(t,e){var i,s=n.p.colModel,r=n.p.frozenColumns?e:n.grid.headers[t].el,o="";$("span.ui-grid-ico-sort",r).addClass(u),$(r).attr("aria-selected","false"),i=s[t].index||s[t].name,s[t].lso?"asc"===s[t].lso?(s[t].lso+="-desc",o="desc"):"desc"===s[t].lso?(s[t].lso+="-asc",o="asc"):"asc-desc"!==s[t].lso&&"desc-asc"!==s[t].lso||(s[t].lso=""):s[t].lso=o=s[t].firstsortorder||"asc",o?($("span.s-ico",r).show(),$("span.ui-icon-"+o,r).removeClass(u),$(r).attr("aria-selected","true")):n.p.viewsortcols[0]||$("span.s-ico",r).hide();var a=b.indexOf(i);-1===a?(b.push(i),y.push(o)):o?y[a]=o:(y.splice(a,1),b.splice(a,1)),n.p.sortorder="",n.p.sortname="";for(var l=0,c=b.length;c>l;l++)l>0&&(n.p.sortname+=", "),n.p.sortname+=b[l],l!==c-1&&(n.p.sortname+=" "+y[l]);n.p.sortorder=y[c-1]},V=function(t,e,i,s,r){if(n.p.colModel[e].sortable&&!(n.p.savedRow.length>0)){if(i||(n.p.lastsort===e&&""!==n.p.sortname?"asc"===n.p.sortorder?n.p.sortorder="desc":"desc"===n.p.sortorder&&(n.p.sortorder="asc"):n.p.sortorder=n.p.colModel[e].firstsortorder||"asc",n.p.page=1),n.p.multiSort)Y(e,r);else{if(s){if(n.p.lastsort===e&&n.p.sortorder===s&&!i)return;n.p.sortorder=s}var o,a=n.grid.headers[n.p.lastsort]?n.grid.headers[n.p.lastsort].el:null,l=n.p.frozenColumns?r:n.grid.headers[e].el,c="single"===n.p.viewsortcols[1];o=$(a).find("span.ui-grid-ico-sort"),o.addClass(u),c&&$(o).css("display","none"),$(a).attr("aria-selected","false"),n.p.frozenColumns&&(o=n.grid.fhDiv.find("span.ui-grid-ico-sort"),o.addClass(u),c&&o.css("display","none"),n.grid.fhDiv.find("th").attr("aria-selected","false")),o=$(l).find("span.ui-icon-"+n.p.sortorder),o.removeClass(u),c&&o.css("display",""),$(l).attr("aria-selected","true"),n.p.viewsortcols[0]||(n.p.lastsort!==e?(n.p.frozenColumns&&n.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",a).hide(),$("span.s-ico",l).show()):""===n.p.sortname&&$("span.s-ico",l).show()),t=t.substring(5+n.p.id.length+1),n.p.sortname=n.p.colModel[e].index||t}if("stop"===$(n).triggerHandler("jqGridSortCol",[n.p.sortname,e,n.p.sortorder]))return void(n.p.lastsort=e);if($.isFunction(n.p.onSortCol)&&"stop"===n.p.onSortCol.call(n,n.p.sortname,e,n.p.sortorder))return void(n.p.lastsort=e);if("local"===n.p.datatype?n.p.deselectAfterSort&&$(n).jqGrid("resetSelection"):(n.p.selrow=null,n.p.multiselect&&G(!1),n.p.selarrrow=[],n.p.savedRow=[]),n.p.scroll){var d=n.grid.bDiv.scrollLeft;F.call(n,!0,!1),n.grid.hDiv.scrollLeft=d}n.p.subGrid&&"local"===n.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(n.p.id)).each(function(){$(this).trigger("click")}),n.p._sort=!0,W(),n.p.lastsort=e,n.p.sortname!==t&&e&&(n.p.lastsort=e)}},X=function(){var t,e,i,r,o=0,a=$.jgrid.cell_width?0:k(n.p.cellLayout,0),l=0,c=k(n.p.scrollOffset,0),d=!1,h=0;$.each(n.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),n.p.grouping&&n.p.autowidth){var t=$.inArray(this.name,n.p.groupingView.groupField);t>=0&&n.p.groupingView.groupColumnShow.length>t&&(this.hidden=!n.p.groupingView.groupColumnShow[t])}this.widthOrg=e=k(this.width,0),!1===this.hidden&&(o+=e+a,this.fixed?h+=e+a:l++)}),isNaN(n.p.width)&&(n.p.width=o+(!1!==n.p.shrinkToFit||isNaN(n.p.height)?0:c)),s.width=n.p.width,n.p.tblwidth=o,!1===n.p.shrinkToFit&&!0===n.p.forceFit&&(n.p.forceFit=!1),!0===n.p.shrinkToFit&&l>0&&(i=s.width-a*l-h,isNaN(n.p.height)||(i-=c,d=!0),o=0,$.each(n.p.colModel,function(s){!1!==this.hidden||this.fixed||(e=Math.round(i*this.width/(n.p.tblwidth-a*l-h)),this.width=e,o+=e,t=s)}),r=0,d?s.width-h-(o+a*l)!==c&&(r=s.width-h-(o+a*l)-c):d||1===Math.abs(s.width-h-(o+a*l))||(r=s.width-h-(o+a*l)),n.p.colModel[t].width+=r,n.p.tblwidth=o+r+a*l+h,n.p.tblwidth>n.p.width&&(n.p.colModel[t].width-=n.p.tblwidth-parseInt(n.p.width,10),n.p.tblwidth=n.p.width))},K=function(t){var e,i=t,s=t;for(e=t+1;e<n.p.colModel.length;e++)if(!0!==n.p.colModel[e].hidden){s=e;break}return s-i},Q=function(t){var e=$(n.grid.headers[t].el),i=[e.position().left+e.outerWidth()];return"rtl"===n.p.direction&&(i[0]=n.p.width-i[0]),i[0]-=n.grid.bDiv.scrollLeft,i.push($(n.grid.hDiv).position().top),i.push($(n.grid.bDiv).offset().top-$(n.grid.hDiv).offset().top+$(n.grid.bDiv).height()),i},Z=function(t){var e,i=n.grid.headers,s=$.jgrid.getCellIndex(t);for(e=0;e<i.length;e++)if(t===i[e].el){s=e;break}return s};for(this.p.id=this.id,-1===$.inArray(n.p.multikey,C)&&(n.p.multikey=!1),n.p.keyName=!1,l=0;l<n.p.colModel.length;l++)x="string"==typeof n.p.colModel[l].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[n.p.colModel[l].template]?$.jgrid.cmTemplate[n.p.colModel[l].template]:{}:n.p.colModel[l].template,n.p.colModel[l]=$.extend(!0,{},n.p.cmTemplate,x||{},n.p.colModel[l]),!1===n.p.keyName&&!0===n.p.colModel[l].key&&(n.p.keyName=n.p.colModel[l].name);if(n.p.sortorder=n.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),!0===n.p.grouping&&(n.p.scroll=!1,n.p.rownumbers=!1,n.p.treeGrid=!1,n.p.gridview=!0),!0===this.p.treeGrid){try{$(this).jqGrid("setTreeGrid")}catch(t){}"local"!==n.p.datatype&&(n.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(n).jqGrid("setSubGrid")}catch(t){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?n.p.multiselectWidth+n.p.cellLayout:n.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:n.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),n.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},n.p.xmlReader),n.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},n.p.jsonReader),n.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},n.p.localReader),n.p.scroll&&(n.p.pgbuttons=!1,n.p.pginput=!1,n.p.rowList=[]),n.p.data.length&&(P(),R());var J,tt,et,it,nt,st,rt,ot,at="<thead><tr class='ui-jqgrid-labels' role='row'>",lt="",ct="",dt="";if(!0===n.p.shrinkToFit&&!0===n.p.forceFit)for(l=n.p.colModel.length-1;l>=0;l--)if(!n.p.colModel[l].hidden){n.p.colModel[l].resizable=!1;break}if("horizontal"===n.p.viewsortcols[1]?(ct=" ui-i-asc",dt=" ui-i-desc"):"single"===n.p.viewsortcols[1]&&(ct=" ui-single-sort-asc",dt=" ui-single-sort-desc",lt=" style='display:none'",n.p.viewsortcols[0]=!1),J=v?"class='ui-th-div-ie'":"",ot="<span class='s-ico' style='display:none'>",ot+="<span sort='asc'  class='ui-grid-ico-sort ui-icon-asc"+ct+" ui-sort-"+a+" "+u+" "+m+" "+d(h,"icon_asc",!0)+"'"+lt+"></span>",ot+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+dt+" ui-sort-"+a+" "+u+" "+m+" "+d(h,"icon_desc",!0)+"'"+lt+"></span></span>",n.p.multiSort&&n.p.sortname)for(b=n.p.sortname.split(","),l=0;l<b.length;l++)w=$.trim(b[l]).split(" "),b[l]=$.trim(w[0]),y[l]=w[1]?$.trim(w[1]):n.p.sortorder||"asc";for(l=0;l<this.p.colNames.length;l++){var ht=n.p.headertitles?' title="'+$.jgrid.stripHtml(n.p.colNames[l])+'"':"";at+="<th id='"+n.p.id+"_"+n.p.colModel[l].name+"' role='columnheader' "+d(h,"headerBox",!1,"ui-th-column ui-th-"+a)+" "+ht+">",tt=n.p.colModel[l].index||n.p.colModel[l].name,at+="<div id='jqgh_"+n.p.id+"_"+n.p.colModel[l].name+"' "+J+">"+n.p.colNames[l],n.p.colModel[l].width?n.p.colModel[l].width=parseInt(n.p.colModel[l].width,10):n.p.colModel[l].width=150,"boolean"!=typeof n.p.colModel[l].title&&(n.p.colModel[l].title=!0),n.p.colModel[l].lso="",tt===n.p.sortname&&(n.p.lastsort=l),n.p.multiSort&&-1!==(w=$.inArray(tt,b))&&(n.p.colModel[l].lso=y[w]),at+=ot+"</div></th>"}if(at+="</tr></thead>",ot=null,$(this).append(at),$("thead tr:first th",this).hover(function(){$(this).addClass(f)},function(){$(this).removeClass(f)}),this.p.multiselect){var ut,pt=[];$("#cb_"+$.jgrid.jqID(n.p.id),this).bind("click",function(){n.p.selarrrow=[];var t=!0===n.p.frozenColumns?n.p.id+"_frozen":"";this.checked?($(n.rows).each(function(e){e>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(u)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(this.id))[n.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass(p).attr("aria-selected","true"),n.p.selarrrow.push(this.id),n.p.selrow=this.id,t&&($("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(this.id),n.grid.fbDiv)[n.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),n.grid.fbDiv).addClass(p))))}),ut=!0,pt=[]):($(n.rows).each(function(e){e>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(u)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(this.id))[n.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass(p).attr("aria-selected","false"),pt.push(this.id),t&&($("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(this.id),n.grid.fbDiv)[n.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),n.grid.fbDiv).removeClass(p))))}),n.p.selrow=null,ut=!1),$(n).triggerHandler("jqGridSelectAll",[ut?n.p.selarrrow:pt,ut]),$.isFunction(n.p.onSelectAll)&&n.p.onSelectAll.call(n,ut?n.p.selarrrow:pt,ut)})}if(!0===n.p.autowidth){var ft=$(_).innerWidth();n.p.width=ft>0?ft:"nw"}X(),$(_).css("width",s.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+n.p.id+"'>&#160;</div>"),n.p.scrollPopUp&&$(_).append("<div "+d(h,"scrollBox",!1,"loading ui-scroll-popup")+" id='scroll_g"+n.p.id+"'></div>"),$(c).css("width",s.width+"px"),at=$("thead:first",n).get(0);var gt="";n.p.footerrow&&(gt+="<table role='presentation' style='width:"+n.p.tblwidth+"px' "+d(h,"footerTable",!1,"ui-jqgrid-ftable ui-common-table")+"><tbody><tr role='row' "+d(h,"footerBox",!1,"footrow footrow-"+a)+">");var mt=$("tr:first",at),vt="<tr class='jqgfirstrow' role='row'>";if(n.p.disableClick=!1,$("th",mt).each(function(t){et=n.p.colModel[t].width,void 0===n.p.colModel[t].resizable&&(n.p.colModel[t].resizable=!0),n.p.colModel[t].resizable?(it=document.createElement("span"),$(it).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+a).css("cursor","col-resize"),$(this).addClass(n.p.resizeclass)):it="",$(this).css("width",et+"px").prepend(it),it=null;var e="";n.p.colModel[t].hidden&&($(this).css("display","none"),e="display:none;"),vt+="<td role='gridcell' style='height:0px;width:"+et+"px;"+e+"'></td>",s.headers[t]={width:et,el:this},"boolean"!=typeof(lt=n.p.colModel[t].sortable)&&(n.p.colModel[t].sortable=!0,lt=!0);var i=n.p.colModel[t].name;"cb"!==i&&"subgrid"!==i&&"rn"!==i&&n.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),lt&&(n.p.multiSort?n.p.viewsortcols[0]?($("div span.s-ico",this).show(),n.p.colModel[t].lso&&$("div span.ui-icon-"+n.p.colModel[t].lso,this).removeClass(u).css("display","")):n.p.colModel[t].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+n.p.colModel[t].lso,this).removeClass(u).css("display","")):n.p.viewsortcols[0]?($("div span.s-ico",this).show(),t===n.p.lastsort&&$("div span.ui-icon-"+n.p.sortorder,this).removeClass(u).css("display","")):t===n.p.lastsort&&""!==n.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+n.p.sortorder,this).removeClass(u).css("display",""))),n.p.footerrow&&(gt+="<td role='gridcell' "+D(t,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(t){if(1===$(t.target).closest("th>span.ui-jqgrid-resize").length){var e=Z(this);return!0===n.p.forceFit&&(n.p.nv=K(e)),s.dragStart(e,t,Q(e)),!1}}).click(function(t){if(n.p.disableClick)return n.p.disableClick=!1,!1;var e,i,s="th>div.ui-jqgrid-sortable";n.p.viewsortcols[2]||(s="th>div>span>span.ui-grid-ico-sort");var r=$(t.target).closest(s);if(1===r.length){var o;if(n.p.frozenColumns){var a=$(this)[0].id.substring(n.p.id.length+1);$(n.p.colModel).each(function(t){return this.name===a?(o=t,!1):void 0})}else o=Z(this);return n.p.viewsortcols[2]||(e=!0,i=r.attr("sort")),null!=o&&V($("div",this)[0].id,o,e,i,this),!1}}),n.p.sortable&&$.fn.sortable)try{$(n).jqGrid("sortableColumns",mt)}catch(t){}n.p.footerrow&&(gt+="</tr></tbody></table>"),vt+="</tr>",rt=document.createElement("tbody"),this.appendChild(rt),$(this).addClass(d(h,"rowTable",!0,"ui-jqgrid-btable ui-common-table")).append(vt),vt=null;var bt=$("<table "+d(h,"headerTable",!1,"ui-jqgrid-htable ui-common-table")+" style='width:"+n.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"'></table>").append(at),yt=!(!n.p.caption||!0!==n.p.hiddengrid),wt=$("<div class='ui-jqgrid-hbox"+("rtl"===a?"-rtl":"")+"'></div>");at=null,s.hDiv=document.createElement("div"),s.hDiv.style.width=s.width+"px",s.hDiv.className=d(h,"headerDiv",!0,"ui-jqgrid-hdiv"),$(s.hDiv).append(wt),$(wt).append(bt),bt=null,yt&&$(s.hDiv).hide(),n.p.pager&&("string"==typeof n.p.pager?"#"!==n.p.pager.substr(0,1)&&(n.p.pager="#"+n.p.pager):n.p.pager="#"+$(n.p.pager).attr("id"),$(n.p.pager).css({width:s.width+"px"}).addClass(d(h,"pagerBox",!0,"ui-jqgrid-pager")).appendTo(_),yt&&$(n.p.pager).hide(),U(n.p.pager,"")),
!1===n.p.cellEdit&&!0===n.p.hoverrows&&$(n).bind("mouseover",function(t){st=$(t.target).closest("tr.jqgrow"),"ui-subgrid"!==$(st).attr("class")&&$(st).addClass(f)}).bind("mouseout",function(t){st=$(t.target).closest("tr.jqgrow"),$(st).removeClass(f)});var _t,xt,Ct;$(n).before(s.hDiv).click(function(t){if(nt=t.target,st=$(nt,n.rows).closest("tr.jqgrow"),0===$(st).length||st[0].className.indexOf(u)>-1||($(nt,n).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==n.id)return this;var e=$(nt).hasClass("cbox"),i=$(n).triggerHandler("jqGridBeforeSelectRow",[st[0].id,t]);if(i=!1!==i&&"stop"!==i,$.isFunction(n.p.beforeSelectRow)){var s=n.p.beforeSelectRow.call(n,st[0].id,t);!1!==s&&"stop"!==s||(i=!1)}if("A"!==nt.tagName&&("INPUT"!==nt.tagName&&"TEXTAREA"!==nt.tagName&&"OPTION"!==nt.tagName&&"SELECT"!==nt.tagName||e))if(_t=st[0].id,nt=$(nt).closest("tr.jqgrow>td"),nt.length>0&&(xt=$.jgrid.getCellIndex(nt),Ct=$(nt).closest("td,th").html(),$(n).triggerHandler("jqGridCellSelect",[_t,xt,Ct,t]),$.isFunction(n.p.onCellSelect)&&n.p.onCellSelect.call(n,_t,xt,Ct,t)),!0!==n.p.cellEdit){if(i)if(n.p.multikey)t[n.p.multikey]?$(n).jqGrid("setSelection",_t,!0,t):n.p.multiselect&&e&&(e=$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+_t).is(":checked"),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+_t)[n.p.useProp?"prop":"attr"]("checked",!e));else if(n.p.multiselect&&n.p.multiboxonly)if(e)$(n).jqGrid("setSelection",_t,!0,t);else{var r=n.p.frozenColumns?n.p.id+"_frozen":"";$(n.p.selarrrow).each(function(t,e){var i=$(n).jqGrid("getGridRowById",e);i&&$(i).removeClass(p),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e))[n.p.useProp?"prop":"attr"]("checked",!1),r&&($("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(r)).removeClass(p),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(r))[n.p.useProp?"prop":"attr"]("checked",!1))}),n.p.selarrrow=[],$(n).jqGrid("setSelection",_t,!0,t)}else $(n).jqGrid("setSelection",_t,!0,t)}else if(n.p.multiselect&&e&&i)$(n).jqGrid("setSelection",_t,!0,t);else if(nt.length>0)try{$(n).jqGrid("editCell",st[0].rowIndex,xt,!0)}catch(t){}}).bind("reloadGrid",function(t,e){if(!0===n.p.treeGrid&&(n.p.datatype=n.p.treedatatype),e=e||{},e.current&&n.grid.selectionPreserver(n),"local"===n.p.datatype?($(n).jqGrid("resetSelection"),n.p.data.length&&(P(),R())):n.p.treeGrid||(n.p.selrow=null,n.p.multiselect&&(n.p.selarrrow=[],G(!1)),n.p.savedRow=[]),n.p.scroll&&F.call(n,!0,!1),e.page){var i=e.page;i>n.p.lastpage&&(i=n.p.lastpage),1>i&&(i=1),n.p.page=i,n.grid.prevRowHeight?n.grid.bDiv.scrollTop=(i-1)*n.grid.prevRowHeight*n.p.rowNum:n.grid.bDiv.scrollTop=0}return n.grid.prevRowHeight&&n.p.scroll&&void 0===e.page?(delete n.p.lastpage,n.grid.populateVisible()):n.grid.populate(),!0===n.p.inlineNav&&$(n).jqGrid("showAddEditButtons"),!1}).dblclick(function(t){if(nt=t.target,st=$(nt,n.rows).closest("tr.jqgrow"),0!==$(st).length){_t=st[0].rowIndex,xt=$.jgrid.getCellIndex(nt);var e=$(n).triggerHandler("jqGridDblClickRow",[$(st).attr("id"),_t,xt,t]);return null!=e?e:$.isFunction(n.p.ondblClickRow)&&null!=(e=n.p.ondblClickRow.call(n,$(st).attr("id"),_t,xt,t))?e:void 0}}).bind("contextmenu",function(t){if(nt=t.target,st=$(nt,n.rows).closest("tr.jqgrow"),0!==$(st).length){n.p.multiselect||$(n).jqGrid("setSelection",st[0].id,!0,t),_t=st[0].rowIndex,xt=$.jgrid.getCellIndex(nt);var e=$(n).triggerHandler("jqGridRightClickRow",[$(st).attr("id"),_t,xt,t]);return null!=e?e:$.isFunction(n.p.onRightClickRow)&&null!=(e=n.p.onRightClickRow.call(n,$(st).attr("id"),_t,xt,t))?e:void 0}}),s.bDiv=document.createElement("div"),v&&"auto"===String(n.p.height).toLowerCase()&&(n.p.height="100%"),$(s.bDiv).append($('<div style="position:relative;"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:n.p.height+(isNaN(n.p.height)?"":"px"),width:s.width+"px"}).scroll(s.scrollGrid),$("table:first",s.bDiv).css({width:n.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),n.p.multikey&&($.jgrid.msie?$(s.bDiv).bind("selectstart",function(){return!1}):$(s.bDiv).bind("mousedown",function(){return!1})),yt&&$(s.bDiv).hide();var $t=m+" "+d(h,"icon_caption_open",!0),kt=m+" "+d(h,"icon_caption_close",!0);s.cDiv=document.createElement("div");var Dt=!0===n.p.hidegrid?$("<a role='link' class='ui-jqgrid-titlebar-close HeaderButton "+g+"' title='"+($.jgrid.getRegional(n,"defaults.showhide",n.p.showhide)||"")+"' />").hover(function(){Dt.addClass(f)},function(){Dt.removeClass(f)}).append("<span class='ui-jqgrid-headlink "+$t+"'></span>").css("rtl"===a?"left":"right","0px"):"";if($(s.cDiv).append(Dt).append("<span class='ui-jqgrid-title'>"+n.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===a?"-rtl":"")+" "+d(h,"gridtitleBox",!0)),$(s.cDiv).insertBefore(s.hDiv),n.p.toolbar[0]){var St=d(h,"customtoolbarBox",!0,"ui-userdata");s.uDiv=document.createElement("div"),"top"===n.p.toolbar[1]?$(s.uDiv).insertBefore(s.hDiv):"bottom"===n.p.toolbar[1]&&$(s.uDiv).insertAfter(s.hDiv),"both"===n.p.toolbar[1]?(s.ubDiv=document.createElement("div"),$(s.uDiv).addClass(St+" ui-userdata-top").attr("id","t_"+this.id).insertBefore(s.hDiv).width(s.width),$(s.ubDiv).addClass(St+" ui-userdata-bottom").attr("id","tb_"+this.id).insertAfter(s.hDiv).width(s.width),yt&&$(s.ubDiv).hide()):$(s.uDiv).width(s.width).addClass(St+" ui-userdata-top").attr("id","t_"+this.id),yt&&$(s.uDiv).hide()}if(n.p.toppager&&(n.p.toppager=$.jgrid.jqID(n.p.id)+"_toppager",s.topDiv=$("<div id='"+n.p.toppager+"'></div>")[0],n.p.toppager="#"+n.p.toppager,$(s.topDiv).addClass(d(h,"toppagerBox",!0,"ui-jqgrid-toppager")).width(s.width).insertBefore(s.hDiv),U(n.p.toppager,"_t")),n.p.footerrow&&(s.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],wt=$("<div class='ui-jqgrid-hbox"+("rtl"===a?"-rtl":"")+"'></div>"),$(s.sDiv).append(wt).width(s.width).insertAfter(s.hDiv),$(wt).append(gt),s.footers=$(".ui-jqgrid-ftable",s.sDiv)[0].rows[0].cells,n.p.rownumbers&&(s.footers[0].className=d(h,"rownumBox",!0,"jqgrid-rownum")),yt&&$(s.sDiv).hide()),wt=null,n.p.caption){var Tt=n.p.datatype;!0===n.p.hidegrid&&($(".ui-jqgrid-titlebar-close",s.cDiv).click(function(t){var e,i=$.isFunction(n.p.onHeaderClick),r=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-toppager, .ui-jqgrid-pager, .ui-jqgrid-sdiv",o=this;return!0===n.p.toolbar[0]&&("both"===n.p.toolbar[1]&&(r+=", #"+$(s.ubDiv).attr("id")),r+=", #"+$(s.uDiv).attr("id")),e=$(r,"#gview_"+$.jgrid.jqID(n.p.id)).length,"visible"===n.p.gridstate?$(r,"#gbox_"+$.jgrid.jqID(n.p.id)).slideUp("fast",function(){0===--e&&($("span",o).removeClass($t).addClass(kt),n.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(n.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(n.p.id)).hide(),$(n).triggerHandler("jqGridHeaderClick",[n.p.gridstate,t]),i&&(yt||n.p.onHeaderClick.call(n,n.p.gridstate,t)))}):"hidden"===n.p.gridstate&&$(r,"#gbox_"+$.jgrid.jqID(n.p.id)).slideDown("fast",function(){0===--e&&($("span",o).removeClass(kt).addClass($t),yt&&(n.p.datatype=Tt,W(),yt=!1),n.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(n.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(n.p.id)).show(),$(n).triggerHandler("jqGridHeaderClick",[n.p.gridstate,t]),i&&(yt||n.p.onHeaderClick.call(n,n.p.gridstate,t)))}),!1}),yt&&(n.p.datatype="local",$(".ui-jqgrid-titlebar-close",s.cDiv).trigger("click")))}else $(s.cDiv).hide(),n.p.toppager||$(s.hDiv).addClass(d(n.p.styleUI+".common","cornertop",!0));if($(s.hDiv).after(s.bDiv).mousemove(function(t){return s.resizing?(s.dragMove(t),!1):void 0}),$(".ui-jqgrid-labels",s.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+n.p.id,function(){return!s.resizing||(s.dragEnd(!0),!1)}),n.formatCol=D,n.sortData=V,n.updatepager=L,n.refreshIndex=R,n.setHeadCheckBox=G,n.constructTr=N,n.formatter=function(t,e,i,n,s){return T(t,e,i,n,s)},$.extend(s,{populate:W,emptyRows:F,beginReq:z,endReq:B}),this.grid=s,n.addXmlData=function(t){O(t)},n.addJSONData=function(t){H(t)},this.grid.cols=this.rows[0].cells,$(n).triggerHandler("jqGridInitGrid"),$.isFunction(n.p.onInitGrid)&&n.p.onInitGrid.call(n),W(),n.p.hiddengrid=!1,n.p.responsive){var It="onorientationchange"in window,Et=It?"orientationchange":"resize";$(window).on(Et,function(){$(n).jqGrid("resizeGrid")})}}})},$.jgrid.extend({getGridParam:function(t,e){var i,n=this[0];if(n&&n.grid){if(void 0===e&&"string"!=typeof e&&(e="jqGrid"),i=n.p,"jqGrid"!==e)try{i=$(n).data(e)}catch(t){i=n.p}return t?void 0!==i[t]?i[t]:null:i}},setGridParam:function(t,e){return this.each(function(){if(null==e&&(e=!1),this.grid&&"object"==typeof t)if(!0===e){var i=$.extend({},this.p,t);this.p=i}else $.extend(!0,this.p,t)})},getGridRowById:function(t){var e;return this.each(function(){try{for(var i=this.rows.length;i--;)if(t.toString()===this.rows[i].id){e=this.rows[i];break}}catch(i){e=$(this.grid.bDiv).find("#"+$.jgrid.jqID(t))}}),e},getDataIDs:function(){var t,e=[],i=0,n=0;return this.each(function(){if((t=this.rows.length)&&t>0)for(;t>i;)$(this.rows[i]).hasClass("jqgrow")&&(e[n]=this.rows[i].id,n++),i++}),e},setSelection:function(t,e,i){return this.each(function(){function n(t){var e=$(h.grid.bDiv)[0].clientHeight,i=$(h.grid.bDiv)[0].scrollTop,n=$(h.rows[t]).position().top,s=h.rows[t].clientHeight;n+s>=e+i?$(h.grid.bDiv)[0].scrollTop=n-(e+i)+s+i:e+i>n&&i>n&&($(h.grid.bDiv)[0].scrollTop=n)}var s,r,o,a,l,c,d,h=this,u=$.jgrid.getMethod("getStyleUI"),p=u(h.p.styleUI+".common","highlight",!0),f=u(h.p.styleUI+".common","disabled",!0);void 0!==t&&(e=!1!==e,!(r=$(h).jqGrid("getGridRowById",t))||!r.className||r.className.indexOf(f)>-1||(!0===h.p.scrollrows&&(o=$(h).jqGrid("getGridRowById",t).rowIndex)>=0&&n(o),!0===h.p.frozenColumns&&(c=h.p.id+"_frozen"),h.p.multiselect?(h.setHeadCheckBox(!1),h.p.selrow=r.id,a=$.inArray(h.p.selrow,h.p.selarrrow),-1===a?("ui-subgrid"!==r.className&&$(r).addClass(p).attr("aria-selected","true"),s=!0,h.p.selarrrow.push(h.p.selrow)):("ui-subgrid"!==r.className&&$(r).removeClass(p).attr("aria-selected","false"),s=!1,h.p.selarrrow.splice(a,1),l=h.p.selarrrow[0],h.p.selrow=void 0===l?null:l),$("#jqg_"+$.jgrid.jqID(h.p.id)+"_"+$.jgrid.jqID(r.id))[h.p.useProp?"prop":"attr"]("checked",s),c&&(-1===a?$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(c)).addClass(p):$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(c)).removeClass(p),$("#jqg_"+$.jgrid.jqID(h.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(c))[h.p.useProp?"prop":"attr"]("checked",s)),e&&($(h).triggerHandler("jqGridSelectRow",[r.id,s,i]),h.p.onSelectRow&&h.p.onSelectRow.call(h,r.id,s,i))):"ui-subgrid"!==r.className&&(h.p.selrow!==r.id?(d=$(h).jqGrid("getGridRowById",h.p.selrow),d&&$(d).removeClass(p).attr({"aria-selected":"false",tabindex:"-1"}),$(r).addClass(p).attr({"aria-selected":"true",tabindex:"0"}),c&&($("#"+$.jgrid.jqID(h.p.selrow),"#"+$.jgrid.jqID(c)).removeClass(p),$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(c)).addClass(p)),s=!0):s=!1,h.p.selrow=r.id,e&&($(h).triggerHandler("jqGridSelectRow",[r.id,s,i]),h.p.onSelectRow&&h.p.onSelectRow.call(h,r.id,s,i)))))})},resetSelection:function(t){return this.each(function(){var e,i,n=this,s=$.jgrid.getMethod("getStyleUI"),r=s(n.p.styleUI+".common","highlight",!0),o=s(n.p.styleUI+".common","hover",!0);if(!0===n.p.frozenColumns&&(i=n.p.id+"_frozen"),void 0!==t){if(e=t===n.p.selrow?n.p.selrow:t,$("#"+$.jgrid.jqID(n.p.id)+" tbody:first tr#"+$.jgrid.jqID(e)).removeClass(r).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i)).removeClass(r),n.p.multiselect){$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(n.p.id))[n.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i))[n.p.useProp?"prop":"attr"]("checked",!1),n.setHeadCheckBox(!1);var a=$.inArray($.jgrid.jqID(e),n.p.selarrrow);-1!==a&&n.p.selarrrow.splice(a,1)}n.p.onUnSelectRow&&n.p.onUnSelectRow.call(n,e),e=null}else n.p.multiselect?($(n.p.selarrrow).each(function(t,e){$($(n).jqGrid("getGridRowById",e)).removeClass(r).attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e))[n.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i)).removeClass(r),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i))[n.p.useProp?"prop":"attr"]("checked",!1)),n.p.onUnSelectRow&&n.p.onUnSelectRow.call(n,e)}),n.setHeadCheckBox(!1),n.p.selarrrow=[],n.p.selrow=null):n.p.selrow&&($("#"+$.jgrid.jqID(n.p.id)+" tbody:first tr#"+$.jgrid.jqID(n.p.selrow)).removeClass(r).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(n.p.selrow),"#"+$.jgrid.jqID(i)).removeClass(r),n.p.onUnSelectRow&&n.p.onUnSelectRow.call(n,n.p.selrow),n.p.selrow=null);!0===n.p.cellEdit&&parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0&&($("td:eq("+n.p.iCol+")",n.rows[n.p.iRow]).removeClass("edit-cell "+r),$(n.rows[n.p.iRow]).removeClass("selected-row "+o)),n.p.savedRow=[]})},getRowData:function(t,e){var i,n,s={},r=!1,o=0;return this.each(function(){var a,l,c=this;if(null==t)r=!0,i=[],n=c.rows.length;else{if(!(l=$(c).jqGrid("getGridRowById",t)))return s;n=2}for(e&&!0===e&&c.p.data.length>0||(e=!1);n>o;)r&&(l=c.rows[o]),$(l).hasClass("jqgrow")&&(e?s=c.p.data[c.p._index[l.id]]:$('td[role="gridcell"]',l).each(function(t){if("cb"!==(a=c.p.colModel[t].name)&&"subgrid"!==a&&"rn"!==a)if(!0===c.p.treeGrid&&a===c.p.ExpandColumn)s[a]=$.jgrid.htmlDecode($("span:first",this).html());else try{s[a]=$.unformat.call(c,this,{rowId:l.id,colModel:c.p.colModel[t]},t)}catch(t){s[a]=$.jgrid.htmlDecode($(this).html())}}),r&&(i.push(s),s={})),o++}),i||s},delRowData:function(t){var e,i,n,s=!1;return this.each(function(){var r=this;if(!(e=$(r).jqGrid("getGridRowById",t)))return!1;if(r.p.subGrid&&(n=$(e).next(),n.hasClass("ui-subgrid")&&n.remove()),$(e).remove(),r.p.records--,r.p.reccount--,r.updatepager(!0,!1),s=!0,r.p.multiselect&&-1!==(i=$.inArray(t,r.p.selarrrow))&&r.p.selarrrow.splice(i,1),r.p.multiselect&&r.p.selarrrow.length>0?r.p.selrow=r.p.selarrrow[r.p.selarrrow.length-1]:r.p.selrow===t&&(r.p.selrow=null),"local"===r.p.datatype){var o=$.jgrid.stripPref(r.p.idPrefix,t),a=r.p._index[o];void 0!==a&&(r.p.data.splice(a,1),r.refreshIndex())}if(!0===r.p.altRows&&s){var l=r.p.altclass;$(r.rows).each(function(t){t%2==1?$(this).addClass(l):$(this).removeClass(l)})}}),s},setRowData:function(t,e,i){var n,s,r=!0;return this.each(function(){if(!this.grid)return!1;var o,a,l=this,c=typeof i,d={};if(!(a=$(this).jqGrid("getGridRowById",t)))return!1;if(e)try{if($(this.p.colModel).each(function(i){n=this.name;var r=$.jgrid.getAccessor(e,n);void 0!==r&&(d[n]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(l,r,this):r,o=l.formatter(t,d[n],i,e,"edit"),s=this.title?{title:$.jgrid.stripHtml(o)}:{},!0===l.p.treeGrid&&n===l.p.ExpandColumn?$("td[role='gridcell']:eq("+i+") > span:first",a).html(o).attr(s):$("td[role='gridcell']:eq("+i+")",a).html(o).attr(s))}),"local"===l.p.datatype){var h,u=$.jgrid.stripPref(l.p.idPrefix,t),p=l.p._index[u];if(l.p.treeGrid)for(h in l.p.treeReader)l.p.treeReader.hasOwnProperty(h)&&delete d[l.p.treeReader[h]];void 0!==p&&(l.p.data[p]=$.extend(!0,l.p.data[p],d)),d=null}}catch(t){r=!1}r&&("string"===c?$(a).addClass(i):null!==i&&"object"===c&&$(a).css(i),$(l).triggerHandler("jqGridAfterGridComplete"))}),r},addRowData:function(t,e,i,n){-1===$.inArray(i,["first","last","before","after"])&&(i="last");var s,r,o,a,l,c,d,h,u,p,f,g,m,v,b=!1,y="",w="",_="";return e&&($.isArray(e)?(u=!0,p=t):(e=[e],u=!1),this.each(function(){var x=this,C=e.length;l=!0===x.p.rownumbers?1:0,o=!0===x.p.multiselect?1:0,a=!0===x.p.subGrid?1:0,u||(void 0!==t?t=String(t):(t=$.jgrid.randId(),!1!==x.p.keyName&&(p=x.p.keyName,void 0!==e[0][p]&&(t=e[0][p])))),f=x.p.altclass;var k,D=0,S=$(x).jqGrid("getStyleUI",x.p.styleUI+".base","rowBox",!0,"jqgrow ui-row-"+x.p.direction),T={},I=!!$.isFunction(x.p.afterInsertRow);for(l&&(y=$(x).jqGrid("getStyleUI",x.p.styleUI+".base","rownumBox",!1,"jqgrid-rownum")),o&&(w=$(x).jqGrid("getStyleUI",x.p.styleUI+".base","multiBox",!1,"cbox"));C>D;){if(g=e[D],r=[],k=S,u){try{void 0===(t=g[p])&&(t=$.jgrid.randId())}catch(e){t=$.jgrid.randId()}k+=!0===x.p.altRows&&(x.rows.length-1)%2==0?" "+f:""}for(v=t,t=x.p.idPrefix+t,l&&(_=x.formatCol(0,1,"",null,t,!0),r[r.length]='<td role="gridcell" '+y+" "+_+">0</td>"),o&&(h='<input role="checkbox" type="checkbox" id="jqg_'+x.p.id+"_"+t+'" '+w+"/>",_=x.formatCol(l,1,"",null,t,!0),r[r.length]='<td role="gridcell" '+_+">"+h+"</td>"),a&&(r[r.length]=$(x).jqGrid("addSubGridCell",o+l,1)),d=o+a+l;d<x.p.colModel.length;d++)m=x.p.colModel[d],s=m.name,T[s]=g[s],h=x.formatter(t,$.jgrid.getAccessor(g,s),d,g),_=x.formatCol(d,1,h,g,t,T),r[r.length]='<td role="gridcell" '+_+">"+h+"</td>";if(r.unshift(x.constructTr(t,!1,k,T,g)),r[r.length]="</tr>",0===x.rows.length)$("table:first",x.grid.bDiv).append(r.join(""));else switch(i){case"last":$(x.rows[x.rows.length-1]).after(r.join("")),c=x.rows.length-1;break;case"first":$(x.rows[0]).after(r.join("")),c=1;break;case"after":(c=$(x).jqGrid("getGridRowById",n))&&($(x.rows[c.rowIndex+1]).hasClass("ui-subgrid")?$(x.rows[c.rowIndex+1]).after(r):$(c).after(r.join("")),c=c.rowIndex+1);break;case"before":(c=$(x).jqGrid("getGridRowById",n))&&($(c).before(r.join("")),c=c.rowIndex-1)}!0===x.p.subGrid&&$(x).jqGrid("addSubGrid",o+l,c),x.p.records++,x.p.reccount++,$(x).triggerHandler("jqGridAfterInsertRow",[t,g,g]),I&&x.p.afterInsertRow.call(x,t,g,g),D++,"local"===x.p.datatype&&(T[x.p.localReader.id]=v,x.p._index[v]=x.p.data.length,x.p.data.push(T),T={})}!0!==x.p.altRows||u||("last"===i?(x.rows.length-1)%2==0&&$(x.rows[x.rows.length-1]).addClass(f):$(x.rows).each(function(t){t%2==0?$(this).addClass(f):$(this).removeClass(f)})),x.updatepager(!0,!0),b=!0})),b},footerData:function(t,e,i){function n(t){var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}var s,r,o=!1,a={};return void 0===t&&(t="get"),"boolean"!=typeof i&&(i=!0),t=t.toLowerCase(),this.each(function(){var l,c=this;return!(!c.grid||!c.p.footerrow)&&(("set"!==t||!n(e))&&(o=!0,void $(this.p.colModel).each(function(n){s=this.name,"set"===t?void 0!==e[s]&&(l=i?c.formatter("",e[s],n,e,"edit"):e[s],r=this.title?{title:$.jgrid.stripHtml(l)}:{},$("tr.footrow td:eq("+n+")",c.grid.sDiv).html(l).attr(r),o=!0):"get"===t&&(a[s]=$("tr.footrow td:eq("+n+")",c.grid.sDiv).html())})))}),"get"===t?a:o},showHideCol:function(t,e){return this.each(function(){var i,n=this,s=!1,r=$.jgrid.cell_width?0:n.p.cellLayout;if(n.grid){"string"==typeof t&&(t=[t]),e="none"!==e?"":"none";var o=""===e,a=n.p.groupHeader&&($.isArray(n.p.groupHeader)||$.isFunction(n.p.groupHeader));if(a&&$(n).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(a){if(-1!==$.inArray(this.name,t)&&this.hidden===o){if(!0===n.p.frozenColumns&&!0===this.frozen)return!0;$("tr[role=row]",n.grid.hDiv).each(function(){$(this.cells[a]).css("display",e)}),$(n.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[a]).css("display",e)}),n.p.footerrow&&$("tr.footrow td:eq("+a+")",n.grid.sDiv).css("display",e),i=parseInt(this.width,10),"none"===e?n.p.tblwidth-=i+r:n.p.tblwidth+=i+r,this.hidden=!o,s=!0,$(n).triggerHandler("jqGridShowHideCol",[o,this.name,a])}}),!0===s&&(!0!==n.p.shrinkToFit||isNaN(n.p.height)||(n.p.tblwidth+=parseInt(n.p.scrollOffset,10)),$(n).jqGrid("setGridWidth",!0===n.p.shrinkToFit?n.p.tblwidth:n.p.width)),a){var l=$.extend([],n.p.groupHeader);n.p.groupHeader=null;for(var c=0;c<l.length;c++)$(n).jqGrid("setGroupHeaders",l[c])}}})},hideCol:function(t){return this.each(function(){$(this).jqGrid("showHideCol",t,"none")})},showCol:function(t){return this.each(function(){$(this).jqGrid("showHideCol",t,"")})},remapColumns:function(t,e,i){function n(e){var i;i=e.length?$.makeArray(e):$.extend({},e),$.each(t,function(t){e[t]=i[this]})}function s(e,i){$(">tr"+(i||""),e).each(function(){var e=this,i=$.makeArray(e.cells);$.each(t,function(){var t=i[this];t&&e.appendChild(t)})})}var r=this.get(0);n(r.p.colModel),n(r.p.colNames),n(r.grid.headers),s($("thead:first",r.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),e&&s($("#"+$.jgrid.jqID(r.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),r.p.footerrow&&s($("tbody:first",r.grid.sDiv)),r.p.remapColumns&&(r.p.remapColumns.length?n(r.p.remapColumns):r.p.remapColumns=$.makeArray(t)),r.p.lastsort=$.inArray(r.p.lastsort,t),r.p.treeGrid&&(r.p.expColInd=$.inArray(r.p.expColInd,t)),$(r).triggerHandler("jqGridRemapColumns",[t,e,i])},setGridWidth:function(t,e){return this.each(function(){if(this.grid){var i,n,s,r,o=this,a=0,l=$.jgrid.cell_width?0:o.p.cellLayout,c=0,d=!1,h=o.p.scrollOffset,u=0;if("boolean"!=typeof e&&(e=o.p.shrinkToFit),!isNaN(t)){if(t=parseInt(t,10),o.grid.width=o.p.width=t,$("#gbox_"+$.jgrid.jqID(o.p.id)).css("width",t+"px"),$("#gview_"+$.jgrid.jqID(o.p.id)).css("width",t+"px"),$(o.grid.bDiv).css("width",t+"px"),$(o.grid.hDiv).css("width",t+"px"),o.p.pager&&$(o.p.pager).css("width",t+"px"),o.p.toppager&&$(o.p.toppager).css("width",t+"px"),!0===o.p.toolbar[0]&&($(o.grid.uDiv).css("width",t+"px"),"both"===o.p.toolbar[1]&&$(o.grid.ubDiv).css("width",t+"px")),o.p.footerrow&&$(o.grid.sDiv).css("width",t+"px"),!1===e&&!0===o.p.forceFit&&(o.p.forceFit=!1),!0===e){if($.each(o.p.colModel,function(){!1===this.hidden&&(i=this.widthOrg,a+=i+l,this.fixed?u+=i+l:c++)}),0===c)return;o.p.tblwidth=a,s=t-l*c-u,isNaN(o.p.height)||($(o.grid.bDiv)[0].clientHeight<$(o.grid.bDiv)[0].scrollHeight||1===o.rows.length)&&(d=!0,s-=h),a=0;var p=o.grid.cols.length>0;if($.each(o.p.colModel,function(t){if(!1===this.hidden&&!this.fixed){if(i=this.widthOrg,0>(i=Math.round(s*i/(o.p.tblwidth-l*c-u))))return;this.width=i,a+=i,o.grid.headers[t].width=i,o.grid.headers[t].el.style.width=i+"px",o.p.footerrow&&(o.grid.footers[t].style.width=i+"px"),p&&(o.grid.cols[t].style.width=i+"px"),n=t}}),!n)return;if(r=0,d?t-u-(a+l*c)!==h&&(r=t-u-(a+l*c)-h):1!==Math.abs(t-u-(a+l*c))&&(r=t-u-(a+l*c)),o.p.colModel[n].width+=r,o.p.tblwidth=a+r+l*c+u,o.p.tblwidth>t){var f=o.p.tblwidth-parseInt(t,10);o.p.tblwidth=t,i=o.p.colModel[n].width=o.p.colModel[n].width-f}else i=o.p.colModel[n].width;o.grid.headers[n].width=i,o.grid.headers[n].el.style.width=i+"px",p&&(o.grid.cols[n].style.width=i+"px"),o.p.footerrow&&(o.grid.footers[n].style.width=i+"px")}o.p.tblwidth&&($("table:first",o.grid.bDiv).css("width",o.p.tblwidth+"px"),$("table:first",o.grid.hDiv).css("width",o.p.tblwidth+"px"),o.grid.hDiv.scrollLeft=o.grid.bDiv.scrollLeft,o.p.footerrow&&$("table:first",o.grid.sDiv).css("width",o.p.tblwidth+"px"))}}})},setGridHeight:function(t){return this.each(function(){var e=this;if(e.grid){var i=$(e.grid.bDiv);i.css({height:t+(isNaN(t)?"":"px")}),!0===e.p.frozenColumns&&$("#"+$.jgrid.jqID(e.p.id)+"_frozen").parent().height(i.height()-16),e.p.height=t,e.p.scroll&&e.grid.populateVisible()}})},setCaption:function(t){return this.each(function(){var e=$(this).jqGrid("getStyleUI",this.p.styleUI+".common","cornertop",!0);this.p.caption=t,$(".ui-jqgrid-title, .ui-jqgrid-title-rtl",this.grid.cDiv).html(t),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass(e)})},setLabel:function(t,e,i,n){return this.each(function(){var s=this,r=-1;if(s.grid&&void 0!==t&&($(s.p.colModel).each(function(e){return this.name===t?(r=e,!1):void 0}),r>=0)){var o=$("tr.ui-jqgrid-labels th:eq("+r+")",s.grid.hDiv);if(e){var a=$(".s-ico",o);$("[id^=jqgh_]",o).empty().html(e).append(a),s.p.colNames[r]=e}i&&("string"==typeof i?$(o).addClass(i):$(o).css(i)),"object"==typeof n&&$(o).attr(n)}})},setCell:function(t,e,i,n,s,r){return this.each(function(){var o,a,l=this,c=-1;if(l.grid&&(isNaN(e)?$(l.p.colModel).each(function(t){return this.name===e?(c=t,!1):void 0}):c=parseInt(e,10),c>=0)){var d=$(l).jqGrid("getGridRowById",t);if(d){var h=$("td:eq("+c+")",d),u=0,p=[];if(""!==i||!0===r){if(void 0!==d.cells)for(;u<d.cells.length;)p.push(d.cells[u].innerHTML),u++;if(o=l.formatter(t,i,c,p,"edit"),a=l.p.colModel[c].title?{title:$.jgrid.stripHtml(o)}:{},l.p.treeGrid&&$(".tree-wrap",$(h)).length>0?$("span",$(h)).html(o).attr(a):$(h).html(o).attr(a),"local"===l.p.datatype){var f,g=l.p.colModel[c];i=g.formatter&&"string"==typeof g.formatter&&"date"===g.formatter?$.unformat.date.call(l,i,g):i,void 0!==(f=l.p._index[$.jgrid.stripPref(l.p.idPrefix,t)])&&(l.p.data[f][g.name]=i)}}"string"==typeof n?$(h).addClass(n):n&&$(h).css(n),"object"==typeof s&&$(h).attr(s)}}})},getCell:function(t,e){var i=!1;return this.each(function(){var n=this,s=-1;if(n.grid&&(isNaN(e)?$(n.p.colModel).each(function(t){return this.name===e?(s=t,!1):void 0}):s=parseInt(e,10),s>=0)){var r=$(n).jqGrid("getGridRowById",t);if(r)try{i=$.unformat.call(n,$("td:eq("+s+")",r),{rowId:r.id,colModel:n.p.colModel[s]},s)}catch(t){i=$.jgrid.htmlDecode($("td:eq("+s+")",r).html())}}}),i},getCol:function(t,e,i){var n,s,r,o,a=[],l=0;return e="boolean"==typeof e&&e,void 0===i&&(i=!1),this.each(function(){var c=this,d=-1;if(c.grid&&(isNaN(t)?$(c.p.colModel).each(function(e){return this.name===t?(d=e,!1):void 0}):d=parseInt(t,10),d>=0)){var h=c.rows.length,u=0,p=0;if(h&&h>0){for(;h>u;){if($(c.rows[u]).hasClass("jqgrow")){try{n=$.unformat.call(c,$(c.rows[u].cells[d]),{rowId:c.rows[u].id,colModel:c.p.colModel[d]},d)}catch(t){n=$.jgrid.htmlDecode(c.rows[u].cells[d].innerHTML)}i?(o=parseFloat(n),isNaN(o)||(l+=o,void 0===r&&(r=s=o),s=Math.min(s,o),r=Math.max(r,o),p++)):e?a.push({id:c.rows[u].id,value:n}):a.push(n)}u++}if(i)switch(i.toLowerCase()){case"sum":a=l;break;case"avg":a=l/p;break;case"count":a=h-1;break;case"min":a=s;break;case"max":a=r}}}}),a},clearGridData:function(t){return this.each(function(){var e=this;if(e.grid){if("boolean"!=typeof t&&(t=!1),e.p.deepempty)$("#"+$.jgrid.jqID(e.p.id)+" tbody:first tr:gt(0)").remove();else{var i=$("#"+$.jgrid.jqID(e.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(e.p.id)+" tbody:first").empty().append(i)}e.p.footerrow&&t&&$(".ui-jqgrid-ftable td",e.grid.sDiv).html("&#160;"),e.p.selrow=null,e.p.selarrrow=[],e.p.savedRow=[],e.p.records=0,e.p.page=1,e.p.lastpage=0,e.p.reccount=0,e.p.data=[],e.p._index={},e.updatepager(!0,!1)}})},getInd:function(t,e){var i,n=!1;return this.each(function(){(i=$(this).jqGrid("getGridRowById",t))&&(n=!0===e?i:i.rowIndex)}),n},bindKeys:function(t){var e=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},t||{});return this.each(function(){var t=this;$("body").is("[role]")||$("body").attr("role","application"),t.p.scrollrows=e.scrollingRows,$(t).keydown(function(i){var n,s,r,o=$(t).find("tr[tabindex=0]")[0],a=t.p.treeReader.expanded_field;if(o)if(r=t.p._index[$.jgrid.stripPref(t.p.idPrefix,o.id)],37===i.keyCode||38===i.keyCode||39===i.keyCode||40===i.keyCode){if(38===i.keyCode){if(s=o.previousSibling,n="",s)if($(s).is(":hidden")){for(;s;)if(s=s.previousSibling,!$(s).is(":hidden")&&$(s).hasClass("jqgrow")){n=s.id;break}}else n=s.id;$(t).jqGrid("setSelection",n,!0,i),i.preventDefault()}if(40===i.keyCode){if(s=o.nextSibling,n="",s)if($(s).is(":hidden")){for(;s;)if(s=s.nextSibling,!$(s).is(":hidden")&&$(s).hasClass("jqgrow")){n=s.id;break}}else n=s.id;$(t).jqGrid("setSelection",n,!0,i),i.preventDefault()}37===i.keyCode&&(t.p.treeGrid&&t.p.data[r][a]&&$(o).find("div.treeclick").trigger("click"),$(t).triggerHandler("jqGridKeyLeft",[t.p.selrow]),$.isFunction(e.onLeftKey)&&e.onLeftKey.call(t,t.p.selrow)),39===i.keyCode&&(t.p.treeGrid&&!t.p.data[r][a]&&$(o).find("div.treeclick").trigger("click"),$(t).triggerHandler("jqGridKeyRight",[t.p.selrow]),$.isFunction(e.onRightKey)&&e.onRightKey.call(t,t.p.selrow))}else 13===i.keyCode?($(t).triggerHandler("jqGridKeyEnter",[t.p.selrow]),$.isFunction(e.onEnter)&&e.onEnter.call(t,t.p.selrow)):32===i.keyCode&&($(t).triggerHandler("jqGridKeySpace",[t.p.selrow]),$.isFunction(e.onSpace)&&e.onSpace.call(t,t.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(t){var e,i=!1;return this.each(function(){void 0!==t&&(e=this.p._index[$.jgrid.stripPref(this.p.idPrefix,t)])>=0&&(i=this.p.data[e])}),i},progressBar:function(t){return t=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},t||{}),this.each(function(){var e,i,n="show"===t.method,s=$("#load_"+$.jgrid.jqID(this.p.id)),r=$(window).scrollTop();switch(""!==t.htmlcontent&&s.html(t.htmlcontent),t.loadtype){case"disable":break;case"enable":s.toggle(n);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).toggle(n),s.toggle(n)}s.is(":visible")&&(e=s.offsetParent(),s.css("top",""),s.offset().top<r&&(i=Math.min(10+r-e.offset().top,e.height()-s.height()),s.css("top",i+"px")))})},getColProp:function(t){var e={},i=this[0];if(!i.grid)return!1;var n,s=i.p.colModel;for(n=0;n<s.length;n++)if(s[n].name===t){e=s[n];break}return e},setColProp:function(t,e){return this.each(function(){if(this.grid&&e){var i,n=this.p.colModel;for(i=0;i<n.length;i++)if(n[i].name===t){$.extend(!0,this.p.colModel[i],e);break}}})},sortGrid:function(t,e,i){return this.each(function(){var n,s=this,r=-1,o=!1;if(s.grid){for(t||(t=s.p.sortname),n=0;n<s.p.colModel.length;n++)if(s.p.colModel[n].index===t||s.p.colModel[n].name===t){r=n,!0===s.p.frozenColumns&&!0===s.p.colModel[n].frozen&&(o=s.grid.fhDiv.find("#"+s.p.id+"_"+t));break}if(-1!==r){var a=s.p.colModel[r].sortable;o||(o=s.grid.headers[r].el),"boolean"!=typeof a&&(a=!0),"boolean"!=typeof e&&(e=!1),a&&s.sortData("jqgh_"+s.p.id+"_"+t,r,e,i,o)}}})},setGridState:function(t){return this.each(function(){if(this.grid){var e=this,i=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_open",!0),n=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_close",!0);"hidden"===t?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(e.p.id)).slideUp("fast"),e.p.pager&&$(e.p.pager).slideUp("fast"),e.p.toppager&&$(e.p.toppager).slideUp("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&$(e.grid.ubDiv).slideUp("fast"),$(e.grid.uDiv).slideUp("fast")),e.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(e.p.id)).slideUp("fast"),$(".ui-jqgrid-headlink",e.grid.cDiv).removeClass(i).addClass(n),e.p.gridstate="hidden"):"visible"===t&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(e.p.id)).slideDown("fast"),e.p.pager&&$(e.p.pager).slideDown("fast"),e.p.toppager&&$(e.p.toppager).slideDown("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&$(e.grid.ubDiv).slideDown("fast"),$(e.grid.uDiv).slideDown("fast")),e.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(e.p.id)).slideDown("fast"),$(".ui-jqgrid-headlink",e.grid.cDiv).removeClass(n).addClass(i),e.p.gridstate="visible")}})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var t=this,e=t.p.colModel,i=0,n=e.length,s=-1,r=!1,o=$(t).jqGrid("getStyleUI",t.p.styleUI+".base","headerDiv",!0,"ui-jqgrid-hdiv"),a=$(t).jqGrid("getStyleUI",t.p.styleUI+".common","hover",!0);if(!0!==t.p.subGrid&&!0!==t.p.treeGrid&&!0!==t.p.cellEdit&&!t.p.sortable&&!t.p.scroll){for(t.p.rownumbers&&i++,t.p.multiselect&&i++;n>i&&!0===e[i].frozen;)r=!0,s=i,i++;if(s>=0&&r){var l=t.p.caption?$(t.grid.cDiv).outerHeight():0,c=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(t.p.id)).height();t.p.toppager&&(l+=$(t.grid.topDiv).outerHeight()),!0===t.p.toolbar[0]&&"bottom"!==t.p.toolbar[1]&&(l+=$(t.grid.uDiv).outerHeight()),t.grid.fhDiv=$('<div style="position:absolute;'+("rtl"===t.p.direction?"right:0;":"left:0;")+"top:"+l+"px;height:"+c+'px;" class="frozen-div '+o+'"></div>'),t.grid.fbDiv=$('<div style="position:absolute;'+("rtl"===t.p.direction?"right:0;":"left:0;")+"top:"+(parseInt(l,10)+parseInt(c,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+$.jgrid.jqID(t.p.id)).append(t.grid.fhDiv);var d=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(t.p.id)).clone(!0);if(t.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",d).each(function(){$("th:gt("+s+")",this).remove()});var h,u,p=-1,f=-1;$("tr.jqg-second-row-header th",d).each(function(){return h=parseInt($(this).attr("colspan"),10),u=parseInt($(this).attr("rowspan"),10),u&&(p++,f++),h&&(p+=h,f++),p===s?(f=s,!1):void 0}),p!==s&&(f=s),$("tr.jqg-second-row-header",d).each(function(){$("th:gt("+f+")",this).remove()})}else $("tr",d).each(function(){$("th:gt("+s+")",this).remove()});if($(d).width(1),$(t.grid.fhDiv).append(d).mousemove(function(e){return t.grid.resizing?(t.grid.dragMove(e),!1):void 0}),t.p.footerrow){var g=$(".ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(t.p.id)).height();t.grid.fsDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(l,10)+parseInt(c,10)+parseInt(g,10)+1)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),$("#gview_"+$.jgrid.jqID(t.p.id)).append(t.grid.fsDiv);var m=$(".ui-jqgrid-ftable","#gview_"+$.jgrid.jqID(t.p.id)).clone(!0);$("tr",m).each(function(){$("td:gt("+s+")",this).remove()}),$(m).width(1),$(t.grid.fsDiv).append(m)}
$(t).bind("jqGridResizeStop.setFrozenColumns",function(e,i,n){var s=$(".ui-jqgrid-htable",t.grid.fhDiv);$("th:eq("+n+")",s).width(i);var r=$(".ui-jqgrid-btable",t.grid.fbDiv);if($("tr:first td:eq("+n+")",r).width(i),t.p.footerrow){var o=$(".ui-jqgrid-ftable",t.grid.fsDiv);$("tr:first td:eq("+n+")",o).width(i)}}),$("#gview_"+$.jgrid.jqID(t.p.id)).append(t.grid.fbDiv),$(t.grid.fbDiv).bind("mousewheel DOMMouseScroll",function(e){var i=$(t.grid.bDiv).scrollTop();e.originalEvent.wheelDelta>0||e.originalEvent.detail<0?$(t.grid.bDiv).scrollTop(i-25):$(t.grid.bDiv).scrollTop(i+25),e.preventDefault()}),!0===t.p.hoverrows&&$("#"+$.jgrid.jqID(t.p.id)).unbind("mouseover").unbind("mouseout"),$(t).bind("jqGridAfterGridComplete.setFrozenColumns",function(){$("#"+$.jgrid.jqID(t.p.id)+"_frozen").remove(),$(t.grid.fbDiv).height($(t.grid.bDiv).height()-16);var e=$("#"+$.jgrid.jqID(t.p.id)).clone(!0);$("tr[role=row]",e).each(function(){$("td[role=gridcell]:gt("+s+")",this).remove()}),$(e).width(1).attr("id",t.p.id+"_frozen"),$(t.grid.fbDiv).append(e),!0===t.p.hoverrows&&($("tr.jqgrow",e).hover(function(){$(this).addClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(t.p.id)).addClass(a)},function(){$(this).removeClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(t.p.id)).removeClass(a)}),$("tr.jqgrow","#"+$.jgrid.jqID(t.p.id)).hover(function(){$(this).addClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(t.p.id)+"_frozen").addClass(a)},function(){$(this).removeClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(t.p.id)+"_frozen").removeClass(a)})),e=null}),t.grid.hDiv.loading||$(t).triggerHandler("jqGridAfterGridComplete"),t.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){var t=this,e=$(t).jqGrid("getStyleUI",t.p.styleUI+".common","hover",!0);if($(t.grid.fhDiv).remove(),$(t.grid.fbDiv).remove(),t.grid.fhDiv=null,t.grid.fbDiv=null,t.p.footerrow&&($(t.grid.fsDiv).remove(),t.grid.fsDiv=null),$(this).unbind(".setFrozenColumns"),!0===t.p.hoverrows){var i;$("#"+$.jgrid.jqID(t.p.id)).bind("mouseover",function(t){i=$(t.target).closest("tr.jqgrow"),"ui-subgrid"!==$(i).attr("class")&&$(i).addClass(e)}).bind("mouseout",function(t){i=$(t.target).closest("tr.jqgrow"),$(i).removeClass(e)})}this.p.frozenColumns=!1}})},resizeColumn:function(t,e){return this.each(function(){var i,n,s=this.grid,r=this.p,o=r.colModel,a=o.length;if("string"==typeof t){for(i=0;a>i;i++)if(o[i].name===t){t=i;break}}else t=parseInt(t,10);if(e=parseInt(e,10),!("number"!=typeof t||0>t||t>o.length-1||"number"!=typeof e||e<r.minColWidth)){if(r.forceFit)for(r.nv=0,i=t+1;a>i;i++)if(!0!==o[i].hidden){r.nv=i-t;break}if(s.resizing={idx:t},n=e-s.headers[t].width,r.forceFit){if(s.headers[t+r.nv].width-n<r.minColWidth)return;s.headers[t+r.nv].newWidth=s.headers[t+r.nv].width-n}s.newWidth=r.tblwidth+n,s.headers[t].newWidth=e,s.dragEnd(!1)}})},getStyleUI:function(t,e,i,n){try{var s="",r=t.split("."),o="";switch(i||(s="class=",o='"'),null==n&&(n=""),r.length){case 1:s+=o+n+" "+$.jgrid.styleUI[r[0]][e]+o;break;case 2:s+=o+n+" "+$.jgrid.styleUI[r[0]][r[1]][e]+o}}catch(t){s=""}return $.trim(s)},resizeGrid:function(t){return this.each(function(){var e=this;void 0===t&&(t=500),setTimeout(function(){var t=$(window).width(),i=$("#gbox_"+$.jgrid.jqID(e.p.id)).parent().width(),n=e.p.width;n=t-i>3?i:t,$("#"+$.jgrid.jqID(e.p.id)).jqGrid("setGridWidth",n)},t)})}}),$.jgrid.extend({editCell:function(t,e,i){return this.each(function(){var n,s,r,o,a=this,l=$(this).jqGrid("getStyleUI",a.p.styleUI+".common","highlight",!0),c=$(this).jqGrid("getStyleUI",a.p.styleUI+".common","hover",!0),d=$(this).jqGrid("getStyleUI",a.p.styleUI+".celledit","inputClass",!0);if(a.grid&&!0===a.p.cellEdit){if(e=parseInt(e,10),a.p.selrow=a.rows[t].id,a.p.knv||$(a).jqGrid("GridNav"),a.p.savedRow.length>0){if(!0===i&&t==a.p.iRow&&e==a.p.iCol)return;$(a).jqGrid("saveCell",a.p.savedRow[0].id,a.p.savedRow[0].ic)}else window.setTimeout(function(){$("#"+$.jgrid.jqID(a.p.knv)).attr("tabindex","-1").focus()},1);if(o=a.p.colModel[e],"subgrid"!==(n=o.name)&&"cb"!==n&&"rn"!==n){if(r=$("td:eq("+e+")",a.rows[t]),!0!==o.editable||!0!==i||r.hasClass("not-editable-cell")||$.isFunction(a.p.isCellEditable)&&!a.p.isCellEditable.call(a,n,t,e))parseInt(a.p.iCol,10)>=0&&parseInt(a.p.iRow,10)>=0&&$(a.rows[a.p.iRow]).removeClass("selected-row "+c).find("td:eq("+a.p.iCol+")").removeClass("edit-cell "+l),r.addClass("edit-cell "+l),$(a.rows[t]).addClass("selected-row "+c),s=r.html().replace(/\&#160\;/gi,""),$(a).triggerHandler("jqGridSelectCell",[a.rows[t].id,n,s,t,e]),$.isFunction(a.p.onSelectCell)&&a.p.onSelectCell.call(a,a.rows[t].id,n,s,t,e);else{parseInt(a.p.iCol,10)>=0&&parseInt(a.p.iRow,10)>=0&&$(a.rows[a.p.iRow]).removeClass("selected-row "+c).find("td:eq("+a.p.iCol+")").removeClass("edit-cell "+l),$(r).addClass("edit-cell "+l),$(a.rows[t]).addClass("selected-row "+c);try{s=$.unformat.call(a,r,{rowId:a.rows[t].id,colModel:o},e)}catch(t){s=o.edittype&&"textarea"===o.edittype?$(r).text():$(r).html()}if(a.p.autoencode&&(s=$.jgrid.htmlDecode(s)),o.edittype||(o.edittype="text"),a.p.savedRow.push({id:t,ic:e,name:n,v:s}),("&nbsp;"===s||"&#160;"===s||1===s.length&&160===s.charCodeAt(0))&&(s=""),$.isFunction(a.p.formatCell)){var h=a.p.formatCell.call(a,a.rows[t].id,n,s,t,e);void 0!==h&&(s=h)}$(a).triggerHandler("jqGridBeforeEditCell",[a.rows[t].id,n,s,t,e]),$.isFunction(a.p.beforeEditCell)&&a.p.beforeEditCell.call(a,a.rows[t].id,n,s,t,e);var u=$.extend({},o.editoptions||{},{id:t+"_"+n,name:n,rowId:a.rows[t].id,oper:"edit"}),p=$.jgrid.createEl.call(a,o.edittype,u,s,!0,$.extend({},$.jgrid.ajaxOptions,a.p.ajaxSelectOptions||{}));$.inArray(o.edittype,["text","textarea","password","select"])>-1&&$(p).addClass(d),$(r).html("").append(p).attr("tabindex","0"),$.jgrid.bindEv.call(a,p,u),window.setTimeout(function(){$(p).focus()},1),$("input, select, textarea",r).bind("keydown",function(i){if(27===i.keyCode&&($("input.hasDatepicker",r).length>0?$(".ui-datepicker").is(":hidden")?$(a).jqGrid("restoreCell",t,e):$("input.hasDatepicker",r).datepicker("hide"):$(a).jqGrid("restoreCell",t,e)),13===i.keyCode&&!i.shiftKey)return $(a).jqGrid("saveCell",t,e),!1;if(9===i.keyCode){if(a.grid.hDiv.loading)return!1;i.shiftKey?$(a).jqGrid("prevCell",t,e):$(a).jqGrid("nextCell",t,e)}i.stopPropagation()}),$(a).triggerHandler("jqGridAfterEditCell",[a.rows[t].id,n,s,t,e]),$.isFunction(a.p.afterEditCell)&&a.p.afterEditCell.call(a,a.rows[t].id,n,s,t,e)}a.p.iCol=e,a.p.iRow=t}}})},saveCell:function(t,e){return this.each(function(){var i,n=this,s=$.jgrid.getRegional(this,"errors"),r=$.jgrid.getRegional(this,"edit");if(n.grid&&!0===n.p.cellEdit){if(null!==(i=n.p.savedRow.length>=1?0:null)){var o,a,l=$("td:eq("+e+")",n.rows[t]),c=n.p.colModel[e],d=c.name,h=$.jgrid.jqID(d),u=$(l).offset();switch(c.edittype){case"select":if(c.editoptions.multiple){var p=$("#"+t+"_"+h,n.rows[t]),f=[];o=$(p).val(),o?o.join(","):o="",$("option:selected",p).each(function(t,e){f[t]=$(e).text()}),a=f.join(",")}else o=$("#"+t+"_"+h+" option:selected",n.rows[t]).val(),a=$("#"+t+"_"+h+" option:selected",n.rows[t]).text();c.formatter&&(a=o);break;case"checkbox":var g=["Yes","No"];c.editoptions&&(g=c.editoptions.value.split(":")),o=$("#"+t+"_"+h,n.rows[t]).is(":checked")?g[0]:g[1],a=o;break;case"password":case"text":case"textarea":case"button":o=$("#"+t+"_"+h,n.rows[t]).val(),a=o;break;case"custom":try{if(!c.editoptions||!$.isFunction(c.editoptions.custom_value))throw"e1";if(void 0===(o=c.editoptions.custom_value.call(n,$(".customelement",l),"get")))throw"e2";a=o}catch(t){"e1"===t?$.jgrid.info_dialog(s.errcap,"function 'custom_value' "+r.msg.nodefined,r.bClose,{styleUI:n.p.styleUI}):"e2"===t?$.jgrid.info_dialog(s.errcap,"function 'custom_value' "+r.msg.novalue,r.bClose,{styleUI:n.p.styleUI}):$.jgrid.info_dialog(s.errcap,t.message,r.bClose,{styleUI:n.p.styleUI})}}if(a!==n.p.savedRow[i].v){var m=$(n).triggerHandler("jqGridBeforeSaveCell",[n.rows[t].id,d,o,t,e]);if(m&&(o=m,a=m),$.isFunction(n.p.beforeSaveCell)){var v=n.p.beforeSaveCell.call(n,n.rows[t].id,d,o,t,e);v&&(o=v,a=v)}var b=$.jgrid.checkValues.call(n,o,e),y=!1;if(!0===b[0]){var w=$(n).triggerHandler("jqGridBeforeSubmitCell",[n.rows[t].id,d,o,t,e])||{};if($.isFunction(n.p.beforeSubmitCell)&&((w=n.p.beforeSubmitCell.call(n,n.rows[t].id,d,o,t,e))||(w={})),$("input.hasDatepicker",l).length>0&&$("input.hasDatepicker",l).datepicker("hide"),"remote"===n.p.cellsubmit)if(n.p.cellurl){var _={};n.p.autoencode&&(o=$.jgrid.htmlEncode(o)),c.editoptions&&c.editoptions.NullIfEmpty&&""===o&&(o="null",y=!0),_[d]=o;var x,C,k;k=n.p.prmNames,x=k.id,C=k.oper,_[x]=$.jgrid.stripPref(n.p.idPrefix,n.rows[t].id),_[C]=k.editoper,_=$.extend(w,_),$(n).jqGrid("progressBar",{method:"show",loadtype:n.p.loadui,htmlcontent:$.jgrid.getRegional(n,"defaults.savetext")}),n.grid.hDiv.loading=!0,$.ajax($.extend({url:n.p.cellurl,data:$.isFunction(n.p.serializeCellData)?n.p.serializeCellData.call(n,_,d):_,type:"POST",complete:function(i,c){if($(n).jqGrid("progressBar",{method:"hide",loadtype:n.p.loadui}),n.grid.hDiv.loading=!1,"success"===c){var h=$(n).triggerHandler("jqGridAfterSubmitCell",[n,i,_.id,d,o,t,e])||[!0,""];!0===h[0]&&$.isFunction(n.p.afterSubmitCell)&&(h=n.p.afterSubmitCell.call(n,i,_.id,d,o,t,e)),!0===h[0]?(y&&(o=""),$(l).empty(),$(n).jqGrid("setCell",n.rows[t].id,e,a,!1,!1,!0),$(l).addClass("dirty-cell"),$(n.rows[t]).addClass("edited"),$(n).triggerHandler("jqGridAfterSaveCell",[n.rows[t].id,d,o,t,e]),$.isFunction(n.p.afterSaveCell)&&n.p.afterSaveCell.call(n,n.rows[t].id,d,o,t,e),n.p.savedRow.splice(0,1)):($.jgrid.info_dialog(s.errcap,h[1],r.bClose,{styleUI:n.p.styleUI}),n.p.restoreCellonFail&&$(n).jqGrid("restoreCell",t,e))}},error:function(i,o,a){$("#lui_"+$.jgrid.jqID(n.p.id)).hide(),n.grid.hDiv.loading=!1,$(n).triggerHandler("jqGridErrorCell",[i,o,a]),$.isFunction(n.p.errorCell)?n.p.errorCell.call(n,i,o,a):$.jgrid.info_dialog(s.errcap,i.status+" : "+i.statusText+"<br/>"+o,r.bClose,{styleUI:n.p.styleUI}),n.p.restoreCellonFail&&$(n).jqGrid("restoreCell",t,e)}},$.jgrid.ajaxOptions,n.p.ajaxCellOptions||{}))}else try{$.jgrid.info_dialog(s.errcap,s.nourl,r.bClose,{styleUI:n.p.styleUI}),n.p.restoreCellonFail&&$(n).jqGrid("restoreCell",t,e)}catch(t){}"clientArray"===n.p.cellsubmit&&($(l).empty(),$(n).jqGrid("setCell",n.rows[t].id,e,a,!1,!1,!0),$(l).addClass("dirty-cell"),$(n.rows[t]).addClass("edited"),$(n).triggerHandler("jqGridAfterSaveCell",[n.rows[t].id,d,o,t,e]),$.isFunction(n.p.afterSaveCell)&&n.p.afterSaveCell.call(n,n.rows[t].id,d,o,t,e),n.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){$.jgrid.info_dialog(s.errcap,o+" "+b[1],r.bClose,{styleUI:n.p.styleUI,top:u.top+40,left:u.left})},100),$(n).jqGrid("restoreCell",t,e)}catch(t){}}else $(n).jqGrid("restoreCell",t,e)}window.setTimeout(function(){$("#"+$.jgrid.jqID(n.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,e){return this.each(function(){var i,n=this;if(n.grid&&!0===n.p.cellEdit){if(null!==(i=n.p.savedRow.length>=1?0:null)){var s=$("td:eq("+e+")",n.rows[t]);if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",s).datepicker("hide")}catch(t){}$(s).empty().attr("tabindex","-1"),$(n).jqGrid("setCell",n.rows[t].id,e,n.p.savedRow[i].v,!1,!1,!0),$(n).triggerHandler("jqGridAfterRestoreCell",[n.rows[t].id,n.p.savedRow[i].v,t,e]),$.isFunction(n.p.afterRestoreCell)&&n.p.afterRestoreCell.call(n,n.rows[t].id,n.p.savedRow[i].v,t,e),n.p.savedRow.splice(0,1)}window.setTimeout(function(){$("#"+n.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,e){return this.each(function(){var i,n=this,s=!1;if(n.grid&&!0===n.p.cellEdit){for(i=e+1;i<n.p.colModel.length;i++)if(!0===n.p.colModel[i].editable&&(!$.isFunction(n.p.isCellEditable)||n.p.isCellEditable.call(n,n.p.colModel[i].name,t,i))){s=i;break}!1!==s?$(n).jqGrid("editCell",t,s,!0):n.p.savedRow.length>0&&$(n).jqGrid("saveCell",t,e)}})},prevCell:function(t,e){return this.each(function(){var i,n=this,s=!1;if(n.grid&&!0===n.p.cellEdit){for(i=e-1;i>=0;i--)if(!0===n.p.colModel[i].editable&&(!$.isFunction(n.p.isCellEditable)||n.p.isCellEditable.call(n,n.p.colModel[i].name,t,i))){s=i;break}!1!==s?$(n).jqGrid("editCell",t,s,!0):n.p.savedRow.length>0&&$(n).jqGrid("saveCell",t,e)}})},GridNav:function(){return this.each(function(){function t(t,e,n){if("v"===n.substr(0,1)){var s=$(i.grid.bDiv)[0].clientHeight,r=$(i.grid.bDiv)[0].scrollTop,o=i.rows[t].offsetTop+i.rows[t].clientHeight,a=i.rows[t].offsetTop;"vd"===n&&o>=s&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop+i.rows[t].clientHeight),"vu"===n&&r>a&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop-i.rows[t].clientHeight)}if("h"===n){var l=$(i.grid.bDiv)[0].clientWidth,c=$(i.grid.bDiv)[0].scrollLeft,d=i.rows[t].cells[e].offsetLeft+i.rows[t].cells[e].clientWidth,h=i.rows[t].cells[e].offsetLeft;d>=l+parseInt(c,10)?$(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft+i.rows[t].cells[e].clientWidth:c>h&&($(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft-i.rows[t].cells[e].clientWidth)}}function e(t,e){var n,s;if("lft"===e)for(n=t+1,s=t;s>=0;s--)if(!0!==i.p.colModel[s].hidden){n=s;break}if("rgt"===e)for(n=t-1,s=t;s<i.p.colModel.length;s++)if(!0!==i.p.colModel[s].hidden){n=s;break}return n}var i=this;if(i.grid&&!0===i.p.cellEdit){i.p.knv=i.p.id+"_kn";var n,s,r=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+i.p.knv+"'></div></div>");$(r).insertBefore(i.grid.cDiv),$("#"+i.p.knv).focus().keydown(function(r){switch(s=r.keyCode,"rtl"===i.p.direction&&(37===s?s=39:39===s&&(s=37)),s){case 38:i.p.iRow-1>0&&(t(i.p.iRow-1,i.p.iCol,"vu"),$(i).jqGrid("editCell",i.p.iRow-1,i.p.iCol,!1));break;case 40:i.p.iRow+1<=i.rows.length-1&&(t(i.p.iRow+1,i.p.iCol,"vd"),$(i).jqGrid("editCell",i.p.iRow+1,i.p.iCol,!1));break;case 37:i.p.iCol-1>=0&&(n=e(i.p.iCol-1,"lft"),t(i.p.iRow,n,"h"),$(i).jqGrid("editCell",i.p.iRow,n,!1));break;case 39:i.p.iCol+1<=i.p.colModel.length-1&&(n=e(i.p.iCol+1,"rgt"),t(i.p.iRow,n,"h"),$(i).jqGrid("editCell",i.p.iRow,n,!1));break;case 13:parseInt(i.p.iCol,10)>=0&&parseInt(i.p.iRow,10)>=0&&$(i).jqGrid("editCell",i.p.iRow,i.p.iCol,!0);break;default:return!0}return!1})}})},getChangedCells:function(t){var e=[];return t||(t="all"),this.each(function(){var i,n=this;n.grid&&!0===n.p.cellEdit&&$(n.rows).each(function(s){var r={};$(this).hasClass("edited")&&($("td",this).each(function(e){if("cb"!==(i=n.p.colModel[e].name)&&"subgrid"!==i)if("dirty"===t){if($(this).hasClass("dirty-cell"))try{r[i]=$.unformat.call(n,this,{rowId:n.rows[s].id,colModel:n.p.colModel[e]},e)}catch(t){r[i]=$.jgrid.htmlDecode($(this).html())}}else try{r[i]=$.unformat.call(n,this,{rowId:n.rows[s].id,colModel:n.p.colModel[e]},e)}catch(t){r[i]=$.jgrid.htmlDecode($(this).html())}}),r.id=this.id,e.push(r))})}),e}}),$.extend($.jgrid,{showModal:function(t){t.w.show()},closeModal:function(t){t.w.hide().attr("aria-hidden","true"),t.o&&t.o.remove()},hideModal:function(t,e){e=$.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},e||{});var i=!(!e.gb||"string"!=typeof e.gb||"#gbox_"!==e.gb.substr(0,6))&&$("#"+e.gb.substr(6))[0];if(e.onClose){var n=i?e.onClose.call(i,t):e.onClose(t);if("boolean"==typeof n&&!n)return}if(e.formprop&&i&&e.form){var s=$(t)[0].style.height,r=$(t)[0].style.width;s.indexOf("px")>-1&&(s=parseFloat(s)),r.indexOf("px")>-1&&(r=parseFloat(r));var o,a;"edit"===e.form?(o="#"+$.jgrid.jqID("FrmGrid_"+e.gb.substr(6)),a="formProp"):"view"===e.form&&(o="#"+$.jgrid.jqID("ViewGrid_"+e.gb.substr(6)),a="viewProp"),$(i).data(a,{top:parseFloat($(t).css("top")),left:parseFloat($(t).css("left")),width:r,height:s,dataheight:$(o).height(),datawidth:$(o).width()})}if($.fn.jqm&&!0===e.jqm)$(t).attr("aria-hidden","true").jqmHide();else{if(""!==e.gb)try{$(".jqgrid-overlay:first",e.gb).hide()}catch(t){}$(t).hide().attr("aria-hidden","true")}e.removemodal&&$(t).remove()},findPos:function(t){var e=0,i=0;if(t.offsetParent)do{e+=t.offsetLeft,i+=t.offsetTop}while(t=t.offsetParent);return[e,i]},createModal:function(t,e,i,n,s,r,o){i=$.extend(!0,{},$.jgrid.jqModal||{},i);var a=this,l="rtl"===$(i.gbox).attr("dir"),c=$.jgrid.styleUI[i.styleUI||"jQueryUI"].modal,d=$.jgrid.styleUI[i.styleUI||"jQueryUI"].common,h=document.createElement("div");o=$.extend({},o||{}),h.className="ui-jqdialog "+c.modal,h.id=t.themodal;var u=document.createElement("div");u.className="ui-jqdialog-titlebar "+c.header,u.id=t.modalhead,$(u).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var p=$("<a class='ui-jqdialog-titlebar-close "+d.cornerall+"'></a>").hover(function(){p.addClass(d.hover)},function(){p.removeClass(d.hover)}).append("<span class='"+d.icon_base+" "+c.icon_close+"'></span>");$(u).append(p),l?(h.dir="rtl",$(".ui-jqdialog-title",u).css("float","right"),$(".ui-jqdialog-titlebar-close",u).css("left","0.3em")):(h.dir="ltr",$(".ui-jqdialog-title",u).css("float","left"),$(".ui-jqdialog-titlebar-close",u).css("right","0.3em"));var f=document.createElement("div");$(f).addClass("ui-jqdialog-content "+c.content).attr("id",t.modalcontent),$(f).append(e),h.appendChild(f),$(h).prepend(u),!0===r?$("body").append(h):"string"==typeof r?$(r).append(h):$(h).insertBefore(n),$(h).css(o),void 0===i.jqModal&&(i.jqModal=!0);var g={};if($.fn.jqm&&!0===i.jqModal){if(0===i.left&&0===i.top&&i.overlay){var m=[];m=$.jgrid.findPos(s),i.left=m[0]+4,i.top=m[1]+4}g.top=i.top+"px",g.left=i.left}else 0===i.left&&0===i.top||(g.left=i.left,g.top=i.top+"px");if($("a.ui-jqdialog-titlebar-close",u).click(function(){var e=$("#"+$.jgrid.jqID(t.themodal)).data("onClose")||i.onClose,n=$("#"+$.jgrid.jqID(t.themodal)).data("gbox")||i.gbox;return a.hideModal("#"+$.jgrid.jqID(t.themodal),{gb:n,jqm:i.jqModal,onClose:e,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""}),!1}),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var v=$(n).parents("*[role=dialog]").filter(":first").css("z-index");i.zIndex=v?parseInt(v,10)+2:950}var b=0;if(l&&g.left&&!r&&(b=$(i.gbox).width()-(isNaN(i.width)?0:parseInt(i.width,10))-8,g.left=parseInt(g.left,10)+parseInt(b,10)),g.left&&(g.left+="px"),$(h).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex,overflow:"hidden"},g)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if($(u).css("cursor","move"),$.fn.tinyDraggable)$(h).tinyDraggable({handle:"#"+$.jgrid.jqID(u.id)});else try{$(h).draggable({handle:$("#"+$.jgrid.jqID(u.id))})}catch(t){}if(i.resize)if($.fn.jqResize)$(h).append("<div class='jqResize "+c.resizable+" "+d.icon_base+" "+c.icon_resizable+"'></div>"),$("#"+$.jgrid.jqID(t.themodal)).jqResize(".jqResize",!!t.scrollelm&&"#"+$.jgrid.jqID(t.scrollelm));else try{$(h).resizable({handles:"se, sw",alsoResize:!!t.scrollelm&&"#"+$.jgrid.jqID(t.scrollelm)})}catch(t){}!0===i.closeOnEscape&&$(h).keydown(function(e){if(27===e.which){var n=$("#"+$.jgrid.jqID(t.themodal)).data("onClose")||i.onClose;a.hideModal("#"+$.jgrid.jqID(t.themodal),{gb:i.gbox,jqm:i.jqModal,onClose:n,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}})},viewModal:function(t,e){if(e=$.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:$.jgrid.showModal,onHide:$.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},e||{}),void 0===e.focusField&&(e.focusField=0),"number"==typeof e.focusField&&e.focusField>=0?e.focusField=parseInt(e.focusField,10):"boolean"!=typeof e.focusField||e.focusField?e.focusField=0:e.focusField=!1,$.fn.jqm&&!0===e.jqm)e.jqM?$(t).attr("aria-hidden","false").jqm(e).jqmShow():$(t).attr("aria-hidden","false").jqmShow();else if(""!==e.gbox&&($(".jqgrid-overlay:first",e.gbox).show(),$(t).data("gbox",e.gbox)),$(t).show().attr("aria-hidden","false"),e.focusField>=0)try{$(":input:visible",t)[parseInt(e.focusField,10)].focus()}catch(t){}},info_dialog:function(t,e,i,n){var s={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};$.extend(!0,s,$.jgrid.jqModal||{},{caption:"<b>"+t+"</b>"},n||{});var r=s.jqModal,o=this,a=$.jgrid.styleUI[s.styleUI||"jQueryUI"].modal,l=$.jgrid.styleUI[s.styleUI||"jQueryUI"].common;$.fn.jqm&&!r&&(r=!1);var c,d="";if(s.buttons.length>0)for(c=0;c<s.buttons.length;c++)void 0===s.buttons[c].id&&(s.buttons[c].id="info_button_"+c),d+="<a id='"+s.buttons[c].id+"' class='fm-button "+l.button+"'>"+s.buttons[c].text+"</a>";var h=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",u="text-align:"+s.align+";",p="<div id='info_id'>";p+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+h+";"+u+"'>"+e+"</div>",p+=i?"<div class='"+a.header+"' style='text-align:"+s.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button "+l.button+"'>"+i+"</a>"+d+"</div>":""!==d?"<div class='"+a.header+"' style='text-align:"+s.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+d+"</div>":"",p+="</div>";try{"false"===$("#info_dialog").attr("aria-hidden")&&$.jgrid.hideModal("#info_dialog",{jqm:r}),$("#info_dialog").remove()}catch(t){}$.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},p,s,"","",!0),d&&$.each(s.buttons,function(t){$("#"+$.jgrid.jqID(this.id),"#info_id").bind("click",function(){return s.buttons[t].onClick.call($("#info_dialog")),!1})}),$("#closedialog","#info_id").click(function(){return o.hideModal("#info_dialog",{jqm:r,onClose:$("#info_dialog").data("onClose")||s.onClose,gb:$("#info_dialog").data("gbox")||s.gbox}),!1}),$(".fm-button","#info_dialog").hover(function(){$(this).addClass(l.hover)},function(){$(this).removeClass(l.hover)}),$.isFunction(s.beforeOpen)&&s.beforeOpen(),$.jgrid.viewModal("#info_dialog",{onHide:function(t){t.w.hide().remove(),t.o&&t.o.remove()},modal:s.modal,jqm:r}),$.isFunction(s.afterOpen)&&s.afterOpen();try{$("#info_dialog").focus()}catch(t){}},bindEv:function(t,e){var i=this;$.isFunction(e.dataInit)&&e.dataInit.call(i,t,e),e.dataEvents&&$.each(e.dataEvents,function(){void 0!==this.data?$(t).bind(this.type,this.data,this.fn):$(t).bind(this.type,this.fn)})},createEl:function(t,e,i,n,s){function r(t,e,i){var n=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","oper"];void 0!==i&&$.isArray(i)&&$.merge(n,i),$.each(e,function(e,i){-1===$.inArray(e,n)&&$(t).attr(e,i)}),e.hasOwnProperty("id")||$(t).attr("id",$.jgrid.randId())}var o="",a=this;switch(t){case"textarea":o=document.createElement("textarea"),n?e.cols||$(o).css({width:"98%"}):e.cols||(e.cols=20),e.rows||(e.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),o.value=i,r(o,e),$(o).attr({role:"textbox",multiline:"true"});break;case"checkbox":if(o=document.createElement("input"),o.type="checkbox",e.value){var l=e.value.split(":");i===l[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=l[0],$(o).attr("offval",l[1])}else{var c=(i+"").toLowerCase();c.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==c?(o.checked=!0,o.defaultChecked=!0,o.value=i):o.value="on",$(o).attr("offval","off")}r(o,e,["value"]),$(o).attr("role","checkbox");break;case"select":o=document.createElement("select"),o.setAttribute("role","select");var d,h=[];if(!0===e.multiple?(d=!0,o.multiple="multiple",$(o).attr("aria-multiselectable","true")):d=!1,null!=e.dataUrl){var u=null,p=e.postData||s.postData;try{u=e.rowId}catch(t){}a.p&&a.p.idPrefix&&(u=$.jgrid.stripPref(a.p.idPrefix,u)),$.ajax($.extend({url:$.isFunction(e.dataUrl)?e.dataUrl.call(a,u,i,String(e.name)):e.dataUrl,type:"GET",dataType:"html",data:$.isFunction(p)?p.call(a,u,i,String(e.name)):p,context:{elem:o,options:e,vl:i},success:function(t){var e,i=[],n=this.elem,s=this.vl,o=$.extend({},this.options),l=!0===o.multiple,c=!0===o.cacheUrlData,d="",h=$.isFunction(o.buildSelect)?o.buildSelect.call(a,t):t;"string"==typeof h&&(h=$($.trim(h)).html()),h&&($(n).append(h),r(n,o,p?["postData"]:void 0),void 0===o.size&&(o.size=l?3:1),l?(i=s.split(","),i=$.map(i,function(t){return $.trim(t)})):i[0]=$.trim(s),setTimeout(function(){if($("option",n).each(function(t){e=$(this).text(),s=$(this).val()||e,c&&(d+=(0!==t?";":"")+s+":"+e),0===t&&n.multiple&&(this.selected=!1),$(this).attr("role","option"),($.inArray($.trim(e),i)>-1||$.inArray($.trim(s),i)>-1)&&(this.selected="selected")}),c)if("edit"===o.oper)$(a).jqGrid("setColProp",o.name,{editoptions:{buildSelect:null,dataUrl:null,value:d}});else if("search"===o.oper)$(a).jqGrid("setColProp",o.name,{searchoptions:{dataUrl:null,value:d}});else if("filter"===o.oper&&$("#fbox_"+a.p.id)[0].p){var t,r=$("#fbox_"+a.p.id)[0].p.columns;$.each(r,function(){return t=this.index||this.name,o.name===t?(this.searchoptions.dataUrl=null,this.searchoptions.value=d,!1):void 0})}$(a).triggerHandler("jqGridAddEditAfterSelectUrlComplete",[n])},0))}},s||{}))}else if(e.value){var f;void 0===e.size&&(e.size=d?3:1),d&&(h=i.split(","),h=$.map(h,function(t){return $.trim(t)})),"function"==typeof e.value&&(e.value=e.value());var g,m,v,b,y,w,_=void 0===e.separator?":":e.separator,x=void 0===e.delimiter?";":e.delimiter;if("string"==typeof e.value)for(g=e.value.split(x),f=0;f<g.length;f++)m=g[f].split(_),m.length>2&&(m[1]=$.map(m,function(t,e){return e>0?t:void 0}).join(_)),v=document.createElement("option"),v.setAttribute("role","option"),v.value=m[0],v.innerHTML=m[1],o.appendChild(v),d||$.trim(m[0])!==$.trim(i)&&$.trim(m[1])!==$.trim(i)||(v.selected="selected"),d&&($.inArray($.trim(m[1]),h)>-1||$.inArray($.trim(m[0]),h)>-1)&&(v.selected="selected");else if("[object Array]"===Object.prototype.toString.call(e.value))for(b=e.value,f=0;f<b.length;f++)2===b[f].length&&(y=b[f][0],w=b[f][1],v=document.createElement("option"),v.setAttribute("role","option"),v.value=y,v.innerHTML=w,o.appendChild(v),d||$.trim(y)!==$.trim(i)&&$.trim(w)!==$.trim(i)||(v.selected="selected"),d&&($.inArray($.trim(w),h)>-1||$.inArray($.trim(y),h)>-1)&&(v.selected="selected"));else if("object"==typeof e.value){b=e.value;for(y in b)b.hasOwnProperty(y)&&(v=document.createElement("option"),v.setAttribute("role","option"),v.value=y,v.innerHTML=b[y],o.appendChild(v),d||$.trim(y)!==$.trim(i)&&$.trim(b[y])!==$.trim(i)||(v.selected="selected"),d&&($.inArray($.trim(b[y]),h)>-1||$.inArray($.trim(y),h)>-1)&&(v.selected="selected"))}r(o,e,["value"])}break;case"image":case"file":o=document.createElement("input"),o.type=t,r(o,e);break;case"custom":o=document.createElement("span");try{if(!$.isFunction(e.custom_element))throw"e1";var C=e.custom_element.call(a,i,e);if(!C)throw"e2";C=$(C).addClass("customelement").attr({id:e.id,name:e.name}),$(o).empty().append(C)}catch(t){var k=$.jgrid.getRegional(a,"errors"),D=$.jgrid.getRegional(a,"edit");"e1"===t?$.jgrid.info_dialog(k.errcap,"function 'custom_element' "+D.msg.nodefined,D.bClose,{styleUI:a.p.styleUI}):"e2"===t?$.jgrid.info_dialog(k.errcap,"function 'custom_element' "+D.msg.novalue,D.bClose,{styleUI:a.p.styleUI}):$.jgrid.info_dialog(k.errcap,"string"==typeof t?t:t.message,D.bClose,{styleUI:a.p.styleUI})}break;default:var S;S="button"===t?"button":"textbox",o=document.createElement("input"),o.type=t,o.value=i,r(o,e),"button"!==t&&(n?e.size||$(o).css({width:"96%"}):e.size||(e.size=20)),$(o).attr("role",S)}return o},checkDate:function(t,e){var i,n=function(t){return t%4!=0||t%100==0&&t%400!=0?28:29},s={};if(t=t.toLowerCase(),i=-1!==t.indexOf("/")?"/":-1!==t.indexOf("-")?"-":-1!==t.indexOf(".")?".":"/",t=t.split(i),e=e.split(i),3!==e.length)return!1;var r,o,a=-1,l=-1,c=-1;for(o=0;o<t.length;o++){var d=isNaN(e[o])?0:parseInt(e[o],10);s[t[o]]=d,r=t[o],-1!==r.indexOf("y")&&(a=o),-1!==r.indexOf("m")&&(c=o),-1!==r.indexOf("d")&&(l=o)}r="y"===t[a]||"yyyy"===t[a]?4:"yy"===t[a]?2:-1;var h,u=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1!==a&&(h=s[t[a]].toString(),2===r&&1===h.length&&(r=1),h.length===r&&(0!==s[t[a]]||"00"===e[a])&&(-1!==c&&(h=s[t[c]].toString(),!(h.length<1||s[t[c]]<1||s[t[c]]>12)&&(-1!==l&&(h=s[t[l]].toString(),!(h.length<1||s[t[l]]<1||s[t[l]]>31||2===s[t[c]]&&s[t[l]]>n(s[t[a]])||s[t[l]]>u[s[t[c]]]))))))},isEmpty:function(t){return!(!t.match(/^\s+$/)&&""!==t)},checkTime:function(t){var e,i=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!$.jgrid.isEmpty(t)){if(!(e=t.match(i)))return!1;if(e[3]){if(e[1]<1||e[1]>12)return!1}else if(e[1]>23)return!1;if(e[2]>59)return!1}return!0},checkValues:function(t,e,i,n){var s,r,o,a,l,c,d=this,h=d.p.colModel,u=$.jgrid.getRegional(this,"edit.msg");if(void 0===i)if("string"==typeof e){for(r=0,l=h.length;l>r;r++)if(h[r].name===e){s=h[r].editrules,e=r,null!=h[r].formoptions&&(o=h[r].formoptions.label);break}}else e>=0&&(s=h[e].editrules);else s=i,o=void 0===n?"_":n;if(s){if(o||(o=null!=d.p.colNames?d.p.colNames[e]:h[e].label),!0===s.required&&$.jgrid.isEmpty(t))return[!1,o+": "+u.required,""];var p=!1!==s.required;if(!0===s.number&&(!1!==p||!$.jgrid.isEmpty(t))&&isNaN(t))return[!1,o+": "+u.number,""];if(void 0!==s.minValue&&!isNaN(s.minValue)&&parseFloat(t)<parseFloat(s.minValue))return[!1,o+": "+u.minValue+" "+s.minValue,""];if(void 0!==s.maxValue&&!isNaN(s.maxValue)&&parseFloat(t)>parseFloat(s.maxValue))return[!1,o+": "+u.maxValue+" "+s.maxValue,""];var f;if(!0===s.email&&!(!1===p&&$.jgrid.isEmpty(t)||(f=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,f.test(t))))return[!1,o+": "+u.email,""];if(!0===s.integer&&(!1!==p||!$.jgrid.isEmpty(t))){if(isNaN(t))return[!1,o+": "+u.integer,""];if(t%1!=0||-1!==t.indexOf("."))return[!1,o+": "+u.integer,""]}if(!0===s.date&&!(!1===p&&$.jgrid.isEmpty(t)||(h[e].formatoptions&&h[e].formatoptions.newformat?(a=h[e].formatoptions.newformat,(c=$.jgrid.getRegional(d,"formatter.date.masks"))&&c.hasOwnProperty(a)&&(a=c[a])):a=h[e].datefmt||"Y-m-d",$.jgrid.checkDate(a,t))))return[!1,o+": "+u.date+" - "+a,""];if(!0===s.time&&!(!1===p&&$.jgrid.isEmpty(t)||$.jgrid.checkTime(t)))return[!1,o+": "+u.date+" - hh:mm (am/pm)",""];if(!0===s.url&&!(!1===p&&$.jgrid.isEmpty(t)||(f=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,f.test(t))))return[!1,o+": "+u.url,""];if(!0===s.custom&&(!1!==p||!$.jgrid.isEmpty(t))){if($.isFunction(s.custom_func)){var g=s.custom_func.call(d,t,o,e);return $.isArray(g)?g:[!1,u.customarray,""]}return[!1,u.customfcheck,""]}}return[!0,"",""]}}),$.fn.jqFilter=function(t){if("string"==typeof t){var e=$.fn.jqFilter[t];if(!e)throw"jqFilter - No such method: "+t;var i=$.makeArray(arguments).slice(1);return e.apply(this,i)}var n=$.extend(!0,{filter:null,columns:[],sortStrategy:null,onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},$.jgrid.filter,t||{});return this.each(function(){if(!this.filter){this.p=n,null!==this.p.filter&&void 0!==this.p.filter||(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),null!=this.p.sortStrategy&&$.isFunction(this.p.sortStrategy)&&this.p.columns.sort(this.p.sortStrategy);var t,e,i=this.p.columns.length,s=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=$.extend(!0,{},this.p.filter),i){for(t=0;i>t;t++)e=this.p.columns[t],e.stype?e.inputtype=e.stype:e.inputtype||(e.inputtype="text"),e.sorttype?e.searchtype=e.sorttype:e.searchtype||(e.searchtype="string"),void 0===e.hidden&&(e.hidden=!1),e.label||(e.label=e.name),
e.index&&(e.name=e.index),e.hasOwnProperty("searchoptions")||(e.searchoptions={}),e.hasOwnProperty("searchrules")||(e.searchrules={});var r=function(){return $("#"+$.jgrid.jqID(n.id))[0]||null},o=r(),a=$.jgrid.styleUI[o.p.styleUI||"jQueryUI"].filter,l=$.jgrid.styleUI[o.p.styleUI||"jQueryUI"].common;this.p.showQuery&&$(this).append("<table class='queryresult "+a.table_widget+"' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var c=function(t,e){var i=[!0,""],s=r();if($.isFunction(e.searchrules))i=e.searchrules.call(s,t,e);else if($.jgrid&&$.jgrid.checkValues)try{i=$.jgrid.checkValues.call(s,t,-1,e.searchrules,e.label)}catch(t){}i&&i.length&&!1===i[0]&&(n.error=!i[0],n.errmsg=i[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",!!$.isFunction(this.p.onChange)&&this.p.onChange.call(this,this.p)},this.reDraw=function(){$("table.group:first",this).remove();var t=this.createTableForGroup(n.filter,null);$(this).append(t),$.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(t,e){var i,s=this,r=$("<table class='group "+a.table_widget+" ui-search-table' style='border:0px none;'><tbody></tbody></table>"),o="left";"rtl"===this.p.direction&&(o="right",r.attr("dir","rtl")),null===e&&r.append("<tr class='error' style='display:none;'><th colspan='5' class='"+l.error+"' align='"+o+"'></th></tr>");var c=$("<tr></tr>");r.append(c);var d=$("<th colspan='5' align='"+o+"'></th>");if(c.append(d),!0===this.p.ruleButtons){var h=$("<select class='opsel "+a.srSelect+"'></select>");d.append(h);var u,p="";for(i=0;i<n.groupOps.length;i++)u=t.groupOp===s.p.groupOps[i].op?" selected='selected'":"",p+="<option value='"+s.p.groupOps[i].op+"'"+u+">"+s.p.groupOps[i].text+"</option>";h.append(p).bind("change",function(){t.groupOp=$(h).val(),s.onchange()})}var f="<span></span>";if(this.p.groupButton&&(f=$("<input type='button' value='+ {}' title='Add subgroup' class='add-group "+l.button+"'/>"),f.bind("click",function(){return void 0===t.groups&&(t.groups=[]),t.groups.push({groupOp:n.groupOps[0].op,rules:[],groups:[]}),s.reDraw(),s.onchange(),!1})),d.append(f),!0===this.p.ruleButtons){var g,m=$("<input type='button' value='+' title='Add rule' class='add-rule ui-add "+l.button+"'/>");m.bind("click",function(){for(void 0===t.rules&&(t.rules=[]),i=0;i<s.p.columns.length;i++){var e=void 0===s.p.columns[i].search||s.p.columns[i].search,n=!0===s.p.columns[i].hidden;if(!0===s.p.columns[i].searchoptions.searchhidden&&e||e&&!n){g=s.p.columns[i];break}}var r;return r=g.searchoptions.sopt?g.searchoptions.sopt:s.p.sopt?s.p.sopt:-1!==$.inArray(g.searchtype,s.p.strarr)?s.p.stropts:s.p.numopts,t.rules.push({field:g.name,op:r[0],data:""}),s.reDraw(),!1}),d.append(m)}if(null!==e){var v=$("<input type='button' value='-' title='Delete group' class='delete-group "+l.button+"'/>");d.append(v),v.bind("click",function(){for(i=0;i<e.groups.length;i++)if(e.groups[i]===t){e.groups.splice(i,1);break}return s.reDraw(),s.onchange(),!1})}if(void 0!==t.groups)for(i=0;i<t.groups.length;i++){var b=$("<tr></tr>");r.append(b);var y=$("<td class='first'></td>");b.append(y);var w=$("<td colspan='4'></td>");w.append(this.createTableForGroup(t.groups[i],t)),b.append(w)}if(void 0===t.groupOp&&(t.groupOp=s.p.groupOps[0].op),void 0!==t.rules)for(i=0;i<t.rules.length;i++)r.append(this.createTableRowForRule(t.rules[i],t));return r},this.createTableRowForRule=function(t,e){var i,o,c,d,h,u=this,p=r(),f=$("<tr></tr>"),g="";f.append("<td class='first'></td>");var m=$("<td class='columns'></td>");f.append(m);var v,b=$("<select class='"+a.srSelect+"'></select>"),y=[];m.append(b),b.bind("change",function(){for(t.field=$(b).val(),c=$(this).parents("tr:first"),$(".data",c).empty(),i=0;i<u.p.columns.length;i++)if(u.p.columns[i].name===t.field){d=u.p.columns[i];break}if(d){d.searchoptions.id=$.jgrid.randId(),d.searchoptions.name=t.field,d.searchoptions.oper="filter",s&&"text"===d.inputtype&&(d.searchoptions.size||(d.searchoptions.size=10));var e=$.jgrid.createEl.call(p,d.inputtype,d.searchoptions,"",!0,u.p.ajaxSelectOptions||{},!0);$(e).addClass("input-elm "+a.srInput),o=d.searchoptions.sopt?d.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==$.inArray(d.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts;var n="",r=0;for(y=[],$.each(u.p.ops,function(){y.push(this.oper)}),i=0;i<o.length;i++)-1!==(v=$.inArray(o[i],y))&&(0===r&&(t.op=u.p.ops[v].oper),n+="<option value='"+u.p.ops[v].oper+"'>"+u.p.ops[v].text+"</option>",r++);if($(".selectopts",c).empty().append(n),$(".selectopts",c)[0].selectedIndex=0,$.jgrid.msie&&$.jgrid.msiever()<9){var l=parseInt($("select.selectopts",c)[0].offsetWidth,10)+1;$(".selectopts",c).width(l),$(".selectopts",c).css("width","auto")}$(".data",c).append(e),$.jgrid.bindEv.call(p,e,d.searchoptions),$(".input-elm",c).bind("change",function(e){var i=e.target;t.data="SPAN"===i.nodeName.toUpperCase()&&d.searchoptions&&$.isFunction(d.searchoptions.custom_value)?d.searchoptions.custom_value.call(p,$(i).children(".customelement:first"),"get"):i.value,u.onchange()}),setTimeout(function(){t.data=$(e).val(),u.onchange()},0)}});var w=0;for(i=0;i<u.p.columns.length;i++){var _=void 0===u.p.columns[i].search||u.p.columns[i].search,x=!0===u.p.columns[i].hidden;(!0===u.p.columns[i].searchoptions.searchhidden&&_||_&&!x)&&(h="",t.field===u.p.columns[i].name&&(h=" selected='selected'",w=i),g+="<option value='"+u.p.columns[i].name+"'"+h+">"+u.p.columns[i].label+"</option>")}b.append(g);var C=$("<td class='operators'></td>");f.append(C),d=n.columns[w],d.searchoptions.id=$.jgrid.randId(),s&&"text"===d.inputtype&&(d.searchoptions.size||(d.searchoptions.size=10)),d.searchoptions.name=t.field,d.searchoptions.oper="filter";var k=$.jgrid.createEl.call(p,d.inputtype,d.searchoptions,t.data,!0,u.p.ajaxSelectOptions||{},!0);"nu"!==t.op&&"nn"!==t.op||($(k).attr("readonly","true"),$(k).attr("disabled","true"));var D=$("<select class='selectopts "+a.srSelect+"'></select>");for(C.append(D),D.bind("change",function(){t.op=$(D).val(),c=$(this).parents("tr:first");var e=$(".input-elm",c)[0];"nu"===t.op||"nn"===t.op?(t.data="","SELECT"!==e.tagName.toUpperCase()&&(e.value=""),e.setAttribute("readonly","true"),e.setAttribute("disabled","true")):("SELECT"===e.tagName.toUpperCase()&&(t.data=e.value),e.removeAttribute("readonly"),e.removeAttribute("disabled")),u.onchange()}),o=d.searchoptions.sopt?d.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==$.inArray(d.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,g="",$.each(u.p.ops,function(){y.push(this.oper)}),i=0;i<o.length;i++)-1!==(v=$.inArray(o[i],y))&&(h=t.op===u.p.ops[v].oper?" selected='selected'":"",g+="<option value='"+u.p.ops[v].oper+"'"+h+">"+u.p.ops[v].text+"</option>");D.append(g);var S=$("<td class='data'></td>");f.append(S),S.append(k),$.jgrid.bindEv.call(p,k,d.searchoptions),$(k).addClass("input-elm "+a.srInput).bind("change",function(){t.data="custom"===d.inputtype?d.searchoptions.custom_value.call(p,$(this).children(".customelement:first"),"get"):$(this).val(),u.onchange()});var T=$("<td></td>");if(f.append(T),!0===this.p.ruleButtons){var I=$("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del "+l.button+"'/>");T.append(I),I.bind("click",function(){for(i=0;i<e.rules.length;i++)if(e.rules[i]===t){e.rules.splice(i,1);break}return u.reDraw(),u.onchange(),!1})}return f},this.getStringForGroup=function(t){var e,i="(";if(void 0!==t.groups)for(e=0;e<t.groups.length;e++){i.length>1&&(i+=" "+t.groupOp+" ");try{i+=this.getStringForGroup(t.groups[e])}catch(t){alert(t)}}if(void 0!==t.rules)try{for(e=0;e<t.rules.length;e++)i.length>1&&(i+=" "+t.groupOp+" "),i+=this.getStringForRule(t.rules[e])}catch(t){alert(t)}return i+=")","()"===i?"":i},this.getStringForRule=function(t){var e,i,s,r="",o="",a=["int","integer","float","number","currency"];for(e=0;e<this.p.ops.length;e++)if(this.p.ops[e].oper===t.op){r=this.p.operands.hasOwnProperty(t.op)?this.p.operands[t.op]:"",o=this.p.ops[e].oper;break}for(e=0;e<this.p.columns.length;e++)if(this.p.columns[e].name===t.field){i=this.p.columns[e];break}return void 0===i?"":(s=t.data,"bw"!==o&&"bn"!==o||(s+="%"),"ew"!==o&&"en"!==o||(s="%"+s),"cn"!==o&&"nc"!==o||(s="%"+s+"%"),"in"!==o&&"ni"!==o||(s=" ("+s+")"),n.errorcheck&&c(t.data,i),-1!==$.inArray(i.searchtype,a)||"nn"===o||"nu"===o?t.field+" "+r+" "+s:t.field+" "+r+' "'+s+'"')},this.resetFilter=function(){this.p.filter=$.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+l.error,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+l.error,this).html(this.p.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(n.filter)},this.toString=function(){function t(t){if(i.p.errorcheck){var e,n;for(e=0;e<i.p.columns.length;e++)if(i.p.columns[e].name===t.field){n=i.p.columns[e];break}n&&c(t.data,n)}return t.op+"(item."+t.field+",'"+t.data+"')"}function e(i){var n,s="(";if(void 0!==i.groups)for(n=0;n<i.groups.length;n++)s.length>1&&(s+="OR"===i.groupOp?" || ":" && "),s+=e(i.groups[n]);if(void 0!==i.rules)for(n=0;n<i.rules.length;n++)s.length>1&&(s+="OR"===i.groupOp?" || ":" && "),s+=t(i.rules[n]);return s+=")","()"===s?"":s}var i=this;return e(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var t="";return this.each(function(){t=this.toUserFriendlyString()}),t},filterData:function(){var t;return this.each(function(){t=this.p.filter}),t},getParameter:function(t){return void 0!==t&&this.p.hasOwnProperty(t)?this.p[t]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(t){"string"==typeof t&&(t=$.jgrid.parse(t)),this.each(function(){this.p.filter=t,this.reDraw(),this.onchange()})}}),$.jgrid.extend({filterToolbar:function(t){var e=$.jgrid.getRegional(this[0],"search");return t=$.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},e,t||{}),this.each(function(){var i=this;if(!i.p.filterToolbar){$(i).data("filterToolbar")||$(i).data("filterToolbar",t),i.p.force_regional&&(t=$.extend(t,e));var n,s,r,o=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,a=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,c=function(){var e,n,s,r={},o=0,a={};$.each(i.p.colModel,function(){var l=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv);if(n=this.index||this.name,s=t.searchOperators?l.parent().prev().children("a").attr("soper")||t.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":t.defaultSearch,(e="custom"===this.stype&&$.isFunction(this.searchoptions.custom_value)&&l.length>0&&"SPAN"===l[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(i,l.children(".customelement:first"),"get"):l.val())||"nu"===s||"nn"===s)r[n]=e,a[n]=s,o++;else try{delete i.p.postData[n]}catch(t){}});var l=o>0;if(!0===t.stringResult||"local"===i.p.datatype||!0===t.searchOperators){var c='{"groupOp":"'+t.groupOp+'","rules":[',d=0;$.each(r,function(t,e){d>0&&(c+=","),c+='{"field":"'+t+'",',c+='"op":"'+a[t]+'",',e+="",c+='"data":"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',d++}),c+="]}",$.extend(i.p.postData,{filters:c}),$.each(["searchField","searchString","searchOper"],function(t,e){i.p.postData.hasOwnProperty(e)&&delete i.p.postData[e]})}else $.extend(i.p.postData,r);var h;i.p.searchurl&&(h=i.p.url,$(i).jqGrid("setGridParam",{url:i.p.searchurl}));var u="stop"===$(i).triggerHandler("jqGridToolbarBeforeSearch");!u&&$.isFunction(t.beforeSearch)&&(u=t.beforeSearch.call(i)),u||$(i).jqGrid("setGridParam",{search:l}).trigger("reloadGrid",[{page:1}]),h&&$(i).jqGrid("setGridParam",{url:h}),$(i).triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(t.afterSearch)&&t.afterSearch.call(i)},d=function(e){var n,s={},r=0;e="boolean"!=typeof e||e,$.each(i.p.colModel,function(){var t,e=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue),n=this.index||this.name,this.stype){case"select":if(e.find("option").each(function(e){return 0===e&&(this.selected=!0),$(this).val()===t?(this.selected=!0,!1):void 0}),void 0!==t)s[n]=t,r++;else try{delete i.p.postData[n]}catch(t){}break;case"text":if(e.val(t||""),void 0!==t)s[n]=t,r++;else try{delete i.p.postData[n]}catch(t){}break;case"custom":$.isFunction(this.searchoptions.custom_value)&&e.length>0&&"SPAN"===e[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(i,e.children(".customelement:first"),"set",t||"")}});var o=r>0;if(i.p.resetsearch=!0,!0===t.stringResult||"local"===i.p.datatype){var a='{"groupOp":"'+t.groupOp+'","rules":[',l=0;$.each(s,function(t,e){l>0&&(a+=","),a+='{"field":"'+t+'",',a+='"op":"eq",',e+="",a+='"data":"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',l++}),a+="]}",$.extend(i.p.postData,{filters:a}),$.each(["searchField","searchString","searchOper"],function(t,e){i.p.postData.hasOwnProperty(e)&&delete i.p.postData[e]})}else $.extend(i.p.postData,s);var c;i.p.searchurl&&(c=i.p.url,$(i).jqGrid("setGridParam",{url:i.p.searchurl}));var d="stop"===$(i).triggerHandler("jqGridToolbarBeforeClear");!d&&$.isFunction(t.beforeClear)&&(d=t.beforeClear.call(i)),d||e&&$(i).jqGrid("setGridParam",{search:o}).trigger("reloadGrid",[{page:1}]),c&&$(i).jqGrid("setGridParam",{url:c}),$(i).triggerHandler("jqGridToolbarAfterClear"),$.isFunction(t.afterClear)&&t.afterClear()},h=function(){var t=$("tr.ui-search-toolbar",i.grid.hDiv),e=!0===i.p.frozenColumns&&$("tr.ui-search-toolbar",i.grid.fhDiv);"none"===t.css("display")?(t.show(),e&&e.show()):(t.hide(),e&&e.hide())},u=function(e,n,s){$("#sopt_menu").remove(),n=parseInt(n,10),s=parseInt(s,10)+18;for(var r,l,d=$(".ui-jqgrid-view").css("font-size")||"11px",h='<ul id="sopt_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="font-size:'+d+";left:"+n+"px;top:"+s+'px;">',u=$(e).attr("soper"),p=[],f=0,g=$(e).attr("colname"),m=i.p.colModel.length;m>f&&i.p.colModel[f].name!==g;)f++;var v=i.p.colModel[f],b=$.extend({},v.searchoptions);for(b.sopt||(b.sopt=[],b.sopt[0]="select"===v.stype?"eq":t.defaultSearch),$.each(t.odata,function(){p.push(this.oper)}),f=0;f<b.sopt.length;f++)-1!==(l=$.inArray(b.sopt[f],p))&&(r=u===t.odata[l].oper?a.highlight:"",h+='<li class="ui-menu-item '+r+'" role="presentation"><a class="'+a.cornerall+' g-menu-item" tabindex="0" role="menuitem" value="'+t.odata[l].oper+'" oper="'+t.operands[t.odata[l].oper]+'"><table class="ui-common-table"><tr><td width="25px">'+t.operands[t.odata[l].oper]+"</td><td>"+t.odata[l].text+"</td></tr></table></a></li>");h+="</ul>",$("body").append(h),$("#sopt_menu").addClass("ui-menu "+o.menu_widget),$("#sopt_menu > li > a").hover(function(){$(this).addClass(a.hover)},function(){$(this).removeClass(a.hover)}).click(function(){var n=$(this).attr("value"),s=$(this).attr("oper");if($(i).triggerHandler("jqGridToolbarSelectOper",[n,s,e]),$("#sopt_menu").hide(),$(e).text(s).attr("soper",n),!0===t.autosearch){var r=$(e).parent().next().children()[0];($(r).val()||"nu"===n||"nn"===n)&&c()}})},p=$("<tr class='ui-search-toolbar' role='row'></tr>");t.restoreFromFilters&&(r=i.p.postData.filters)&&("string"==typeof r&&(r=$.jgrid.parse(r)),s=!!r.rules.length&&r.rules),$.each(i.p.colModel,function(e){var r,a,d,h,u,f,g,m,v=this,b="",y="=",w=$("<th role='columnheader' class='"+l.headerBox+" ui-th-"+i.p.direction+"' id='gsh_"+i.p.id+"_"+v.name+"' ></th>"),_=$("<div></div>"),x=$("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper' headers=''></td><td class='ui-search-input' headers=''></td><td class='ui-search-clear' headers=''></td></tr></table>");if(!0===this.hidden&&$(w).css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),r=$.extend({},this.searchoptions||{},{name:v.index||v.name,id:"gs_"+i.p.idPrefix+v.name,oper:"search"}),this.search){if(t.restoreFromFilters&&s){m=!1;for(var C=0;C<s.length;C++)if(s[C].field){var k=v.index||v.name;if(k===s[C].field){m=s[C];break}}}if(t.searchOperators){for(a=r.sopt?r.sopt[0]:"select"===v.stype?"eq":t.defaultSearch,t.restoreFromFilters&&m&&(a=m.op),d=0;d<t.odata.length;d++)if(t.odata[d].oper===a){y=t.operands[a]||"";break}h=null!=r.searchtitle?r.searchtitle:t.operandTitle,b="<a title='"+h+"' style='padding-right: 0.5em;' soper='"+a+"' class='soptclass' colname='"+this.name+"'>"+y+"</a>"}switch($("td:eq(0)",x).attr("colindex",e).append(b),void 0===r.clearSearch&&(r.clearSearch=!0),r.clearSearch?(u=t.resetTitle||"Clear Search Value",$("td:eq(2)",x).append("<a title='"+u+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+t.resetIcon+"</a>")):$("td:eq(2)",x).hide(),this.surl&&(r.dataUrl=this.surl),f="",r.defaultValue&&(f=$.isFunction(r.defaultValue)?r.defaultValue.call(i):r.defaultValue),t.restoreFromFilters&&m&&(f=m.data),g=$.jgrid.createEl.call(i,this.stype,r,f,!1,$.extend({},$.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),$(g).addClass(o.srInput),$("td:eq(1)",x).append(g),$(_).append(x),null==r.dataEvents&&(r.dataEvents=[]),this.stype){case"select":!0===t.autosearch&&r.dataEvents.push({type:"change",fn:function(){return c(),!1}});break;case"text":!0===t.autosearch&&(t.searchOnEnter?r.dataEvents.push({type:"keypress",fn:function(t){return 13===(t.charCode||t.keyCode||0)?(c(),!1):this}}):r.dataEvents.push({type:"keydown",fn:function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:n&&clearTimeout(n),n=setTimeout(function(){c()},t.autosearchDelay)}}}))}$.jgrid.bindEv.call(i,g,r)}$(w).append(_),$(p).append(w),t.searchOperators||$("td:eq(0)",x).hide()}),$("table thead",i.grid.hDiv).append(p),t.searchOperators&&($(".soptclass",p).click(function(t){var e=$(this).offset(),i=e.left,n=e.top;u(this,i,n),t.stopPropagation()}),$("body").on("click",function(t){"soptclass"!==t.target.className&&$("#sopt_menu").hide()})),$(".clearsearchclass",p).click(function(){var e=$(this).parents("tr:first"),n=parseInt($("td.ui-search-oper",e).attr("colindex"),10),s=$.extend({},i.p.colModel[n].searchoptions||{}),r=s.defaultValue?s.defaultValue:"";"select"===i.p.colModel[n].stype?r?$("td.ui-search-input select",e).val(r):$("td.ui-search-input select",e)[0].selectedIndex=0:$("td.ui-search-input input",e).val(r),!0===t.autosearch&&c()}),this.p.filterToolbar=!0,this.triggerToolbar=c,this.clearToolbar=d,this.toggleToolbar=h}})},destroyFilterToolbar:function(){return this.each(function(){this.p.filterToolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.p.filterToolbar=!1,$(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},searchGrid:function(t){var e=$.jgrid.getRegional(this[0],"search");return t=$.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,sortStrategy:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},e,t||{}),this.each(function(){function e(e){r=$(i).triggerHandler("jqGridFilterBeforeShow",[e]),void 0===r&&(r=!0),r&&$.isFunction(t.beforeShowSearch)&&(r=t.beforeShowSearch.call(i,e)),r&&($.jgrid.viewModal("#"+$.jgrid.jqID(a.themodal),{gbox:"#gbox_"+$.jgrid.jqID(s),jqm:t.jqModal,modal:t.modal,overlay:t.overlay,toTop:t.toTop}),$(i).triggerHandler("jqGridFilterAfterShow",[e]),$.isFunction(t.afterShowSearch)&&t.afterShowSearch.call(i,e))}var i=this;if(i.grid){var n,s="fbox_"+i.p.id,r=!0,o=!0,a={themodal:"searchmod"+s,modalhead:"searchhd"+s,modalcontent:"searchcnt"+s,scrollelm:s},l=i.p.postData[t.sFilter],c=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,d=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common;if(t.styleUI=i.p.styleUI,"string"==typeof l&&(l=$.jgrid.parse(l)),!0===t.recreateFilter&&$("#"+$.jgrid.jqID(a.themodal)).remove(),void 0!==$("#"+$.jgrid.jqID(a.themodal))[0])e($("#fbox_"+$.jgrid.jqID(i.p.id)));else{var h=$("<div><div id='"+s+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+$.jgrid.jqID(i.p.id)),u="left",p="";"rtl"===i.p.direction&&(u="right",p=" style='text-align:left'",h.attr("dir","rtl"));var f,g,m=$.extend([],i.p.colModel),v="<a id='"+s+"_search' class='fm-button "+d.button+" fm-button-icon-right ui-search'><span class='"+d.icon_base+" "+c.icon_search+"'></span>"+t.Find+"</a>",b="<a id='"+s+"_reset' class='fm-button "+d.button+" fm-button-icon-left ui-reset'><span class='"+d.icon_base+" "+c.icon_reset+"'></span>"+t.Reset+"</a>",y="",w="",_=!1,x=-1;if(t.showQuery&&(y="<a id='"+s+"_query' class='fm-button "+d.button+" fm-button-icon-left'><span class='"+d.icon_base+" "+c.icon_query+"'></span>Query</a>"),t.columns.length?(m=t.columns,x=0,f=m[0].index||m[0].name):$.each(m,function(t,e){if(e.label||(e.label=i.p.colNames[t]),!_){var n=void 0===e.search||e.search,s=!0===e.hidden;(e.searchoptions&&!0===e.searchoptions.searchhidden&&n||n&&!s)&&(_=!0,f=e.index||e.name,x=t)}}),!l&&f||!1===t.multipleSearch){var C="eq";x>=0&&m[x].searchoptions&&m[x].searchoptions.sopt?C=m[x].searchoptions.sopt[0]:t.sopt&&t.sopt.length&&(C=t.sopt[0]),l={groupOp:"AND",rules:[{field:f,op:C,data:""}]}}_=!1,t.tmplNames&&t.tmplNames.length&&(_=!0,w="<tr><td class='ui-search-label'>"+t.tmplLabel+"</td>",w+="<td><select class='ui-template "+c.srSelect+"'>",w+="<option value='default'>Default</option>",$.each(t.tmplNames,function(t,e){w+="<option value='"+t+"'>"+e+"</option>"}),w+="</select></td></tr>"),g="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+s+"_2'><tbody><tr><td colspan='2'><hr class='"+d.content+"' style='margin:1px'/></td></tr>"+w+"<tr><td class='EditButton' style='text-align:"+u+"'>"+b+"</td><td class='EditButton' "+p+">"+y+v+"</td></tr></tbody></table>",s=$.jgrid.jqID(s),$("#"+s).jqFilter({columns:m,sortStrategy:t.sortStrategy,filter:t.loadDefaults?l:null,showQuery:t.showQuery,errorcheck:t.errorcheck,sopt:t.sopt,groupButton:t.multipleGroup,ruleButtons:t.multipleSearch,afterRedraw:t.afterRedraw,ops:t.odata,operands:t.operands,ajaxSelectOptions:i.p.ajaxSelectOptions,groupOps:t.groupOps,onChange:function(){this.p.showQuery&&$(".query",this).html(this.toUserFriendlyString()),$.isFunction(t.afterChange)&&t.afterChange.call(i,$("#"+s),t)},direction:i.p.direction,id:i.p.id}),h.append(g),_&&t.tmplFilters&&t.tmplFilters.length&&$(".ui-template",h).bind("change",function(){var e=$(this).val();return"default"===e?$("#"+s).jqFilter("addFilter",l):$("#"+s).jqFilter("addFilter",t.tmplFilters[parseInt(e,10)]),!1}),!0===t.multipleGroup&&(t.multipleSearch=!0),$(i).triggerHandler("jqGridFilterInitialize",[$("#"+s)]),$.isFunction(t.onInitializeSearch)&&t.onInitializeSearch.call(i,$("#"+s)),t.gbox="#gbox_"+s,t.layer?$.jgrid.createModal(a,h,t,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0],"#"+$.jgrid.jqID(t.layer),{position:"relative"}):$.jgrid.createModal(a,h,t,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0]),(t.searchOnEnter||t.closeOnEscape)&&$("#"+$.jgrid.jqID(a.themodal)).keydown(function(e){var i=$(e.target);return!t.searchOnEnter||13!==e.which||i.hasClass("add-group")||i.hasClass("add-rule")||i.hasClass("delete-group")||i.hasClass("delete-rule")||i.hasClass("fm-button")&&i.is("[id$=_query]")?t.closeOnEscape&&27===e.which?($("#"+$.jgrid.jqID(a.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($("#"+s+"_search").click(),!1)}),y&&$("#"+s+"_query").bind("click",function(){return $(".queryresult",h).toggle(),!1}),void 0===t.stringResult&&(t.stringResult=t.multipleSearch),$("#"+s+"_search").bind("click",function(){var e,r,l={};if(n=$("#"+s),n.find(".input-elm:focus").change(),r=n.jqFilter("filterData"),t.errorcheck&&(n[0].hideError(),t.showQuery||n.jqFilter("toSQLString"),n[0].p.error))return n[0].showError(),!1;if(t.stringResult){try{e=JSON.stringify(r)}catch(t){}"string"==typeof e&&(l[t.sFilter]=e,$.each([t.sField,t.sValue,t.sOper],function(){l[this]=""}))}else t.multipleSearch?(l[t.sFilter]=r,$.each([t.sField,t.sValue,t.sOper],function(){l[this]=""})):(l[t.sField]=r.rules[0].field,l[t.sValue]=r.rules[0].data,l[t.sOper]=r.rules[0].op,l[t.sFilter]="");return i.p.search=!0,$.extend(i.p.postData,l),o=$(i).triggerHandler("jqGridFilterSearch"),void 0===o&&(o=!0),o&&$.isFunction(t.onSearch)&&(o=t.onSearch.call(i,i.p.filters)),!1!==o&&$(i).trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&$.jgrid.hideModal("#"+$.jgrid.jqID(a.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),$("#"+s+"_reset").bind("click",function(){var e={},n=$("#"+s);return i.p.search=!1,i.p.resetsearch=!0,!1===t.multipleSearch?e[t.sField]=e[t.sValue]=e[t.sOper]="":e[t.sFilter]="",n[0].resetFilter(),_&&$(".ui-template",h).val("default"),$.extend(i.p.postData,e),o=$(i).triggerHandler("jqGridFilterReset"),void 0===o&&(o=!0),o&&$.isFunction(t.onReset)&&(o=t.onReset.call(i)),!1!==o&&$(i).trigger("reloadGrid",[{page:1}]),t.closeAfterReset&&$.jgrid.hideModal("#"+$.jgrid.jqID(a.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),e($("#"+s)),$(".fm-button:not(."+d.disabled+")",h).hover(function(){$(this).addClass(d.hover)},function(){$(this).removeClass(d.hover)})}}})}});var rp_ge={};if($.jgrid.extend({editGridRow:function(t,e){var i=$.jgrid.getRegional(this[0],"edit"),n=this[0].p.styleUI,s=$.jgrid.styleUI[n].formedit,r=$.jgrid.styleUI[n].common;return e=$.extend(!0,{top:0,left:0,width:"500",datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:r.overlay,removemodal:!0,form:"edit",template:null,focusField:!0},i,e||{}),rp_ge[$(this)[0].p.id]=e,this.each(function(){function i(){var t,e={};$(k).find(".FormElement").each(function(){var t=$(".customelement",this);if(t.length){var i=t[0],n=$(i).attr("name");$.each(m.p.colModel,function(){if(this.name===n&&this.editoptions&&$.isFunction(this.editoptions.custom_value)){try{if(b[n]=this.editoptions.custom_value.call(m,$("#"+$.jgrid.jqID(n),k),"get"),void 0===b[n])throw"e1"}catch(t){"e1"===t?$.jgrid.info_dialog(j.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.novalue,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(j.errcap,t.message,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}return!0}})}else{switch($(this).get(0).type){case"checkbox":if($(this).is(":checked"))b[this.name]=$(this).val();else{var s=$(this).attr("offval");b[this.name]=s}break;case"select-one":b[this.name]=$("option:selected",this).val();break;case"select-multiple":b[this.name]=$(this).val(),b[this.name]?b[this.name]=b[this.name].join(","):b[this.name]="";var r=[];$("option:selected",this).each(function(t,e){r[t]=$(e).text()});break;case"password":case"text":case"textarea":case"button":b[this.name]=$(this).val();break;case"radio":if(e.hasOwnProperty(this.name))return!0;e[this.name]=void 0===$(this).attr("offval")?"off":$(this).attr("offval")}m.p.autoencode&&(b[this.name]=$.jgrid.htmlEncode(b[this.name]))}});for(t in e)if(e.hasOwnProperty(t)){var i=$('input[name="'+t+'"]:checked',k).val();b[t]=void 0!==i?i:e[t],m.p.autoencode&&(b[t]=$.jgrid.htmlEncode(b[t]))}return!0}function n(t,e,i,n){var r,o,a,l,c,d,h,u=0,p=[],f=!1,g="";for(h=1;n>=h;h++)g+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";if("_empty"!==t&&(f=$(e).jqGrid("getInd",t)),$(e.p.colModel).each(function(h){if(r=this.name,o=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,c=o?"style='display:none'":"","cb"!==r&&"subgrid"!==r&&!0===this.editable&&"rn"!==r){if(!1===f)l="";else if(r===e.p.ExpandColumn&&!0===e.p.treeGrid)l=$("td[role='gridcell']:eq("+h+")",e.rows[f]).text();else{try{l=$.unformat.call(e,$("td[role='gridcell']:eq("+h+")",e.rows[f]),{rowId:t,colModel:this},h)}catch(t){l=this.edittype&&"textarea"===this.edittype?$("td[role='gridcell']:eq("+h+")",e.rows[f]).text():$("td[role='gridcell']:eq("+h+")",e.rows[f]).html()}(!l||"&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l="")}var v=$.extend({},this.editoptions||{},{id:r,name:r,rowId:t,oper:"edit"}),b=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),y=parseInt(b.rowpos,10)||u+1,w=parseInt(2*(parseInt(b.colpos,10)||1),10);if("_empty"===t&&v.defaultValue&&(l=$.isFunction(v.defaultValue)?v.defaultValue.call(m):v.defaultValue),this.edittype||(this.edittype="text"),m.p.autoencode&&(l=$.jgrid.htmlDecode(l)),d=$.jgrid.createEl.call(m,this.edittype,v,l,!1,$.extend({},$.jgrid.ajaxOptions,e.p.ajaxSelectOptions||{})),"select"===this.edittype&&(l=$(d).val(),"select-multiple"===$(d).get(0).type&&l&&(l=l.join(","))),"checkbox"===this.edittype&&(l=$(d).is(":checked")?$(d).val():$(d).attr("offval")),(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(rp_ge[m.p.id]._savedData[r]=l),$(d).addClass("FormElement"),$.inArray(this.edittype,["text","textarea","password","select"])>-1&&$(d).addClass(s.inputClass),E)$(R).find("#"+r).replaceWith(d);else{if(a=$(i).find("tr[rowpos="+y+"]"),b.rowabove){var _=$("<tr><td class='contentinfo' colspan='"+2*n+"'>"+b.rowcontent+"</td></tr>");$(i).append(_),_[0].rp=y}0===a.length&&(a=$("<tr "+c+" rowpos='"+y+"'></tr>").addClass("FormData").attr("id","tr_"+r),$(a).append(g),$(i).append(a),a[0].rp=y),$("td:eq("+(w-2)+")",a[0]).html("<label for='"+r+"'>"+(void 0===b.label?e.p.colNames[h]:b.label)+"</label>"),$("td:eq("+(w-1)+")",a[0]).append(b.elmprefix).append(d).append(b.elmsuffix)}"custom"===this.edittype&&$.isFunction(v.custom_value)&&v.custom_value.call(m,$("#"+r,x),"set",l),$.jgrid.bindEv.call(m,d,v),p[u]=h,u++}}),u>0){var v;E?(v="<div class='FormData' style='display:none'><input class='FormElement' id='id_g' type='text' name='"+e.p.id+"_id' value='"+t+"'/>",$(R).append(v)):(v=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*n-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+e.p.id+"_id' value='"+t+"'/></td></tr>"),v[0].rp=u+999,$(i).append(v)),(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(rp_ge[m.p.id]._savedData[e.p.id+"_id"]=t)}return p}function o(t,e,i){var n,s,r,o,a,l,c=0;(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(rp_ge[m.p.id]._savedData={},rp_ge[m.p.id]._savedData[e.p.id+"_id"]=t);var d=e.p.colModel;if("_empty"===t)return $(d).each(function(){n=this.name,o=$.extend({},this.editoptions||{}),(r=$("#"+$.jgrid.jqID(n),i))&&r.length&&null!==r[0]&&(a="","custom"===this.edittype&&$.isFunction(o.custom_value)?o.custom_value.call(m,$("#"+n,i),"set",a):o.defaultValue?(a=$.isFunction(o.defaultValue)?o.defaultValue.call(m):o.defaultValue,"checkbox"===r[0].type?(l=a.toLowerCase(),l.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?(r[0].checked=!0,r[0].defaultChecked=!0,r[0].value=a):(r[0].checked=!1,r[0].defaultChecked=!1)):r.val(a)):"checkbox"===r[0].type?(r[0].checked=!1,r[0].defaultChecked=!1,a=$(r).attr("offval")):r[0].type&&"select"===r[0].type.substr(0,6)?r[0].selectedIndex=0:r.val(a),
(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(rp_ge[m.p.id]._savedData[n]=a))}),void $("#id_g",i).val(t);var h=$(e).jqGrid("getInd",t,!0);h&&($('td[role="gridcell"]',h).each(function(r){if("cb"!==(n=d[r].name)&&"subgrid"!==n&&"rn"!==n&&!0===d[r].editable){if(n===e.p.ExpandColumn&&!0===e.p.treeGrid)s=$(this).text();else try{s=$.unformat.call(e,$(this),{rowId:t,colModel:d[r]},r)}catch(t){s="textarea"===d[r].edittype?$(this).text():$(this).html()}switch(m.p.autoencode&&(s=$.jgrid.htmlDecode(s)),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(rp_ge[m.p.id]._savedData[n]=s),n=$.jgrid.jqID(n),d[r].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===s||"&#160;"===s||1===s.length&&160===s.charCodeAt(0))&&(s=""),$("#"+n,i).val(s);break;case"select":var o=s.split(",");o=$.map(o,function(t){return $.trim(t)}),$("#"+n+" option",i).each(function(){d[r].editoptions.multiple||$.trim(s)!==$.trim($(this).text())&&o[0]!==$.trim($(this).text())&&o[0]!==$.trim($(this).val())?d[r].editoptions.multiple&&($.inArray($.trim($(this).text()),o)>-1||$.inArray($.trim($(this).val()),o)>-1)?this.selected=!0:this.selected=!1:this.selected=!0}),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(s=$("#"+n,i).val(),d[r].editoptions.multiple&&(s=s.join(",")),rp_ge[m.p.id]._savedData[n]=s);break;case"checkbox":if(s=String(s),d[r].editoptions&&d[r].editoptions.value){d[r].editoptions.value.split(":")[0]===s?$("#"+n,i)[m.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):$("#"+n,i)[m.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1})}else s=s.toLowerCase(),s.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==s?($("#"+n,i)[m.p.useProp?"prop":"attr"]("checked",!0),$("#"+n,i)[m.p.useProp?"prop":"attr"]("defaultChecked",!0)):($("#"+n,i)[m.p.useProp?"prop":"attr"]("checked",!1),$("#"+n,i)[m.p.useProp?"prop":"attr"]("defaultChecked",!1));(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(s=$("#"+n,i).is(":checked")?$("#"+n,i).val():$("#"+n,i).attr("offval"),rp_ge[m.p.id]._savedData[n]=s);break;case"custom":try{if(!d[r].editoptions||!$.isFunction(d[r].editoptions.custom_value))throw"e1";d[r].editoptions.custom_value.call(m,$("#"+n,i),"set",s)}catch(t){"e1"===t?$.jgrid.info_dialog(j.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.nodefined,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(j.errcap,t.message,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}}c++}}),c>0&&($("#id_g",k).val(t),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(rp_ge[m.p.id]._savedData[e.p.id+"_id"]=t)))}function a(){$.each(m.p.colModel,function(t,e){e.editoptions&&!0===e.editoptions.NullIfEmpty&&b.hasOwnProperty(e.name)&&""===b[e.name]&&(b[e.name]="null")})}function l(){var t,i,n,s,l,c,d,h=[!0,"",""],u={},p=m.p.prmNames,f=$(m).triggerHandler("jqGridAddEditBeforeCheckValues",[$(x),w]);f&&"object"==typeof f&&(b=f),$.isFunction(rp_ge[m.p.id].beforeCheckValues)&&(f=rp_ge[m.p.id].beforeCheckValues.call(m,b,$(x),w))&&"object"==typeof f&&(b=f);for(s in b)if(b.hasOwnProperty(s)&&(h=$.jgrid.checkValues.call(m,b[s],s),!1===h[0]))break;if(a(),h[0]&&(u=$(m).triggerHandler("jqGridAddEditClickSubmit",[rp_ge[m.p.id],b,w]),void 0===u&&$.isFunction(rp_ge[m.p.id].onclickSubmit)&&(u=rp_ge[m.p.id].onclickSubmit.call(m,rp_ge[m.p.id],b,w)||{}),h=$(m).triggerHandler("jqGridAddEditBeforeSubmit",[b,$(x),w]),void 0===h&&(h=[!0,"",""]),h[0]&&$.isFunction(rp_ge[m.p.id].beforeSubmit)&&(h=rp_ge[m.p.id].beforeSubmit.call(m,b,$(x),w))),h[0]&&!rp_ge[m.p.id].processing){if(rp_ge[m.p.id].processing=!0,$("#sData",k+"_2").addClass(r.active),d=rp_ge[m.p.id].url||$(m).jqGrid("getGridParam","editurl"),n=p.oper,i="clientArray"===d?m.p.keyName:p.id,b[n]="_empty"===$.trim(b[m.p.id+"_id"])?p.addoper:p.editoper,b[n]!==p.addoper?b[i]=b[m.p.id+"_id"]:void 0===b[i]&&(b[i]=b[m.p.id+"_id"]),delete b[m.p.id+"_id"],b=$.extend(b,rp_ge[m.p.id].editData,u),!0===m.p.treeGrid){if(b[n]===p.addoper){l=$(m).jqGrid("getGridParam","selrow");var g="adjacency"===m.p.treeGridModel?m.p.treeReader.parent_id_field:"parent_id";b[g]=l}for(c in m.p.treeReader)if(m.p.treeReader.hasOwnProperty(c)){var v=m.p.treeReader[c];if(b.hasOwnProperty(v)){if(b[n]===p.addoper&&"parent_id_field"===c)continue;delete b[v]}}}b[i]=$.jgrid.stripPref(m.p.idPrefix,b[i]);var y=$.extend({url:d,type:rp_ge[m.p.id].mtype,data:$.isFunction(rp_ge[m.p.id].serializeEditData)?rp_ge[m.p.id].serializeEditData.call(m,b):b,complete:function(s,a){var c;if($("#sData",k+"_2").removeClass(r.active),b[i]=m.p.idPrefix+b[i],s.status>=300&&304!==s.status?(h[0]=!1,h[1]=$(m).triggerHandler("jqGridAddEditErrorTextFormat",[s,w]),$.isFunction(rp_ge[m.p.id].errorTextFormat)?h[1]=rp_ge[m.p.id].errorTextFormat.call(m,s,w):h[1]=a+" Status: '"+s.statusText+"'. Error code: "+s.status):(h=$(m).triggerHandler("jqGridAddEditAfterSubmit",[s,b,w]),void 0===h&&(h=[!0,"",""]),h[0]&&$.isFunction(rp_ge[m.p.id].afterSubmit)&&(h=rp_ge[m.p.id].afterSubmit.call(m,s,b,w))),!1===h[0])$(".FormError",x).html(h[1]),$(".FormError",x).show();else if(m.p.autoencode&&$.each(b,function(t,e){b[t]=$.jgrid.htmlDecode(e)}),b[n]===p.addoper?(h[2]||(h[2]=$.jgrid.randId()),null==b[i]||"_empty"===b[i]?b[i]=h[2]:h[2]=b[i],rp_ge[m.p.id].reloadAfterSubmit?$(m).trigger("reloadGrid"):!0===m.p.treeGrid?$(m).jqGrid("addChildNode",h[2],l,b):$(m).jqGrid("addRowData",h[2],b,e.addedrow),rp_ge[m.p.id].closeAfterAdd?(!0!==m.p.treeGrid&&$(m).jqGrid("setSelection",h[2]),$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form})):rp_ge[m.p.id].clearAfterAdd&&o("_empty",m,x)):(rp_ge[m.p.id].reloadAfterSubmit?($(m).trigger("reloadGrid"),rp_ge[m.p.id].closeAfterEdit||setTimeout(function(){$(m).jqGrid("setSelection",b[i])},1e3)):!0===m.p.treeGrid?$(m).jqGrid("setTreeRow",b[i],b):$(m).jqGrid("setRowData",b[i],b),rp_ge[m.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form})),$.isFunction(rp_ge[m.p.id].afterComplete)&&(t=s,setTimeout(function(){$(m).triggerHandler("jqGridAddEditAfterComplete",[t,b,$(x),w]),rp_ge[m.p.id].afterComplete.call(m,t,b,$(x),w),t=null},500)),(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&($(x).data("disabled",!1),"_empty"!==rp_ge[m.p.id]._savedData[m.p.id+"_id"]))for(c in rp_ge[m.p.id]._savedData)rp_ge[m.p.id]._savedData.hasOwnProperty(c)&&b[c]&&(rp_ge[m.p.id]._savedData[c]=b[c]);rp_ge[m.p.id].processing=!1;try{$(":input:visible",x)[0].focus()}catch(t){}}},$.jgrid.ajaxOptions,rp_ge[m.p.id].ajaxEditOptions);if(y.url||rp_ge[m.p.id].useDataProxy||($.isFunction(m.p.dataProxy)?rp_ge[m.p.id].useDataProxy=!0:(h[0]=!1,h[1]+=" "+j.nourl)),h[0])if(rp_ge[m.p.id].useDataProxy){var C=m.p.dataProxy.call(m,y,"set_"+m.p.id);void 0===C&&(C=[!0,""]),!1===C[0]?(h[0]=!1,h[1]=C[1]||"Error deleting the selected row!"):(y.data.oper===p.addoper&&rp_ge[m.p.id].closeAfterAdd&&$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),y.data.oper===p.editoper&&rp_ge[m.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}))}else"clientArray"===y.url?(rp_ge[m.p.id].reloadAfterSubmit=!1,b=y.data,y.complete({status:200,statusText:""},"")):$.ajax(y)}!1===h[0]&&($(".FormError",x).html(h[1]),$(".FormError",x).show())}function c(t,e){var i,n=!1;for(i in t)if(t.hasOwnProperty(i)&&t[i]!=e[i]){n=!0;break}return n}function d(){var t=!0;return $(".FormError",x).hide(),rp_ge[m.p.id].checkOnUpdate&&(b={},i(),(y=c(b,rp_ge[m.p.id]._savedData))&&($(x).data("disabled",!0),$(".confirm","#"+D.themodal).show(),t=!1)),t}function h(){var e;if("_empty"!==t&&void 0!==m.p.savedRow&&m.p.savedRow.length>0&&$.isFunction($.fn.jqGrid.restoreRow))for(e=0;e<m.p.savedRow.length;e++)if(m.p.savedRow[e].id===t){$(m).jqGrid("restoreRow",t);break}}function u(t,e){var i=e[1].length-1;0===t?$("#pData",v).addClass(r.disabled):void 0!==e[1][t-1]&&$("#"+$.jgrid.jqID(e[1][t-1])).hasClass(r.disabled)?$("#pData",v).addClass(r.disabled):$("#pData",v).removeClass(r.disabled),t===i?$("#nData",v).addClass(r.disabled):void 0!==e[1][t+1]&&$("#"+$.jgrid.jqID(e[1][t+1])).hasClass(r.disabled)?$("#nData",v).addClass(r.disabled):$("#nData",v).removeClass(r.disabled)}function p(){var t=$(m).jqGrid("getDataIDs"),e=$("#id_g",k).val();return[$.inArray(e,t),t]}function f(t){var e="";return"string"==typeof t&&(e=t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(t,e){return'<span id="'+e+'" ></span>'})),e}function g(){if(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate){var t=[],e={};t=$.map(rp_ge[m.p.id]._savedData,function(t,e){return e}),$(".FormElement",R).each(function(){if(-1===t.indexOf(this.name)){var i=$(this).val(),n=$(this).get(0).type;if("checkbox"===n)$(this).is(":checked")||(i=$(this).attr("offval"));else if("select-multiple"===n)i=i.join(",");else if("radio"===n){if(e.hasOwnProperty(this.name))return!0;e[this.name]=void 0===$(this).attr("offval")?"off":$(this).attr("offval")}rp_ge[m.p.id]._savedData[this.name]=i}});for(var i in e)if(e.hasOwnProperty(i)){var n=$('input[name="'+i+'"]:checked',R).val();rp_ge[m.p.id]._savedData[i]=void 0!==n?n:e[i]}}}var m=this;if(m.grid&&t){var v,b,y,w,_=m.p.id,x="FrmGrid_"+_,C="TblGrid_"+_,k="#"+$.jgrid.jqID(C),D={themodal:"editmod"+_,modalhead:"edithd"+_,modalcontent:"editcnt"+_,scrollelm:x},S=!0,T=1,I=0,E="string"==typeof rp_ge[m.p.id].template&&rp_ge[m.p.id].template.length>0,j=$.jgrid.getRegional(this,"errors");rp_ge[m.p.id].styleUI=m.p.styleUI||"jQueryUI",$.jgrid.isMobile()&&(rp_ge[m.p.id].resize=!1),"new"===t?(t="_empty",w="add",e.caption=rp_ge[m.p.id].addCaption):(e.caption=rp_ge[m.p.id].editCaption,w="edit"),e.recreateForm||$(m).data("formProp")&&$.extend(rp_ge[$(this)[0].p.id],$(m).data("formProp"));var A=!0;e.checkOnUpdate&&e.jqModal&&!e.modal&&(A=!1);var M,F=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",P=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",R=$("<form name='FormPost' id='"+x+"' class='FormGrid' onSubmit='return false;' style='width:"+P+";height:"+F+";'></form>").data("disabled",!1);if(E?(M=f(rp_ge[$(this)[0].p.id].template),v=k):(M=$("<table id='"+C+"' class='EditTable ui-common-table'><tbody></tbody></table>"),v=k+"_2"),x="#"+$.jgrid.jqID(x),$(R).append("<div class='FormError "+r.error+"' style='display:none;'></div>"),$(R).append("<div class='tinfo topinfo'>"+rp_ge[m.p.id].topinfo+"</div>"),$(m.p.colModel).each(function(){var t=this.formoptions;T=Math.max(T,t?t.colpos||0:0),I=Math.max(I,t?t.rowpos||0:0)}),$(R).append(M),S=$(m).triggerHandler("jqGridAddEditBeforeInitData",[R,w]),void 0===S&&(S=!0),S&&$.isFunction(rp_ge[m.p.id].beforeInitData)&&(S=rp_ge[m.p.id].beforeInitData.call(m,R,w)),!1!==S){h(),n(t,m,M,T);var N="rtl"===m.p.direction,O=N?"nData":"pData",H=N?"pData":"nData",q="<a id='"+O+"' class='fm-button "+r.button+"'><span class='"+r.icon_base+" "+s.icon_prev+"'></span></a>",L="<a id='"+H+"' class='fm-button "+r.button+"'><span class='"+r.icon_base+" "+s.icon_next+"'></span></a>",z="<a id='sData' class='fm-button "+r.button+"'>"+e.bSubmit+"</a>",B="<a id='cData' class='fm-button "+r.button+"'>"+e.bCancel+"</a>",W="<table style='height:auto' class='EditTable ui-common-table' id='"+C+"_2'><tbody><tr><td colspan='2'><hr class='"+r.content+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(N?L+q:q+L)+"</td><td class='EditButton'>"+z+B+"</td></tr>";if(W+="</tbody></table>",I>0){var G=[];$.each($(M)[0].rows,function(t,e){G[t]=e}),G.sort(function(t,e){return t.rp>e.rp?1:t.rp<e.rp?-1:0}),$.each(G,function(t,e){$("tbody",M).append(e)})}e.gbox="#gbox_"+$.jgrid.jqID(_);var U=!1;!0===e.closeOnEscape&&(e.closeOnEscape=!1,U=!0);var Y;if(E?($(R).find("#pData").replaceWith(q),$(R).find("#nData").replaceWith(L),$(R).find("#sData").replaceWith(z),$(R).find("#cData").replaceWith(B),Y=$("<div id="+C+"></div>").append(R)):Y=$("<div></div>").append(R).append(W),$(R).append("<div class='binfo topinfo bottominfo'>"+rp_ge[m.p.id].bottominfo+"</div>"),$.jgrid.createModal(D,Y,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(m.p.id),$("#gbox_"+$.jgrid.jqID(m.p.id))[0]),N&&($("#pData, #nData",k+"_2").css("float","right"),$(".EditButton",k+"_2").css("text-align","left")),rp_ge[m.p.id].topinfo&&$(".tinfo",x).show(),rp_ge[m.p.id].bottominfo&&$(".binfo",x).show(),Y=null,W=null,$("#"+$.jgrid.jqID(D.themodal)).keydown(function(t){var i=t.target;if(!0===$(x).data("disabled"))return!1;if(!0===rp_ge[m.p.id].savekey[0]&&t.which===rp_ge[m.p.id].savekey[1]&&"TEXTAREA"!==i.tagName)return $("#sData",k+"_2").trigger("click"),!1;if(27===t.which)return!!d()&&(U&&$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:e.gbox,jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1);if(!0===rp_ge[m.p.id].navkeys[0]){if("_empty"===$("#id_g",k).val())return!0;if(t.which===rp_ge[m.p.id].navkeys[1])return $("#pData",v).trigger("click"),!1;if(t.which===rp_ge[m.p.id].navkeys[2])return $("#nData",v).trigger("click"),!1}}),e.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span","#"+$.jgrid.jqID(D.themodal)).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(D.themodal)).unbind("click").click(function(){return!!d()&&($.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1)})),e.saveicon=$.extend([!0,"left",s.icon_save],e.saveicon),e.closeicon=$.extend([!0,"left",s.icon_close],e.closeicon),!0===e.saveicon[0]&&$("#sData",v).addClass("right"===e.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+r.icon_base+" "+e.saveicon[2]+"'></span>"),!0===e.closeicon[0]&&$("#cData",v).addClass("right"===e.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+r.icon_base+" "+e.closeicon[2]+"'></span>"),rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate){z="<a id='sNew' class='fm-button "+r.button+"' style='z-index:1002'>"+e.bYes+"</a>",L="<a id='nNew' class='fm-button "+r.button+"' style='z-index:1002;margin-left:5px'>"+e.bNo+"</a>",B="<a id='cNew' class='fm-button "+r.button+"' style='z-index:1002;margin-left:5px;'>"+e.bExit+"</a>";var V=e.zIndex||999;V++,$("<div class='"+e.overlayClass+" jqgrid-overlay confirm' style='z-index:"+V+";display:none;'>&#160;</div><div class='confirm ui-jqconfirm "+r.content+"' style='z-index:"+(V+1)+"'>"+e.saveData+"<br/><br/>"+z+L+B+"</div>").insertAfter(x),$("#sNew","#"+$.jgrid.jqID(D.themodal)).click(function(){return l(),$(x).data("disabled",!1),$(".confirm","#"+$.jgrid.jqID(D.themodal)).hide(),!1}),$("#nNew","#"+$.jgrid.jqID(D.themodal)).click(function(){return $(".confirm","#"+$.jgrid.jqID(D.themodal)).hide(),$(x).data("disabled",!1),setTimeout(function(){$(":input:visible",x)[0].focus()},0),!1}),$("#cNew","#"+$.jgrid.jqID(D.themodal)).click(function(){return $(".confirm","#"+$.jgrid.jqID(D.themodal)).hide(),$(x).data("disabled",!1),$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1})}$(m).triggerHandler("jqGridAddEditInitializeForm",[$(x),w]),$.isFunction(rp_ge[m.p.id].onInitializeForm)&&rp_ge[m.p.id].onInitializeForm.call(m,$(x),w),"_empty"!==t&&rp_ge[m.p.id].viewPagerButtons?$("#pData,#nData",v).show():$("#pData,#nData",v).hide(),$(m).triggerHandler("jqGridAddEditBeforeShowForm",[$(x),w]),$.isFunction(rp_ge[m.p.id].beforeShowForm)&&rp_ge[m.p.id].beforeShowForm.call(m,$(x),w),g(),$("#"+$.jgrid.jqID(D.themodal)).data("onClose",rp_ge[m.p.id].onClose),$.jgrid.viewModal("#"+$.jgrid.jqID(D.themodal),{gbox:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,overlay:e.overlay,modal:e.modal,overlayClass:e.overlayClass,focusField:e.focusField,onHide:function(t){var e=$("#editmod"+_)[0].style.height,i=$("#editmod"+_)[0].style.width;e.indexOf("px")>-1&&(e=parseFloat(e)),i.indexOf("px")>-1&&(i=parseFloat(i)),$(m).data("formProp",{top:parseFloat($(t.w).css("top")),left:parseFloat($(t.w).css("left")),width:i,height:e,dataheight:$(x).height(),datawidth:$(x).width()}),t.w.remove(),t.o&&t.o.remove()}}),A||$("."+$.jgrid.jqID(e.overlayClass)).click(function(){return!!d()&&($.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1)}),$(".fm-button","#"+$.jgrid.jqID(D.themodal)).hover(function(){$(this).addClass(r.hover)},function(){$(this).removeClass(r.hover)}),$("#sData",v).click(function(){return b={},$(".FormError",x).hide(),i(),"_empty"===b[m.p.id+"_id"]?l():!0===e.checkOnSubmit?(y=c(b,rp_ge[m.p.id]._savedData),y?($(x).data("disabled",!0),$(".confirm","#"+$.jgrid.jqID(D.themodal)).show()):l()):l(),!1}),$("#cData",v).click(function(){return!!d()&&($.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1)}),$("#nData",v).click(function(){if(!d())return!1;$(".FormError",x).hide();var t=p();if(t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]){$(m).triggerHandler("jqGridAddEditClickPgButtons",["next",$(x),t[1][t[0]]]);var i;if($.isFunction(e.onclickPgButtons)&&void 0!==(i=e.onclickPgButtons.call(m,"next",$(x),t[1][t[0]]))&&!1===i)return!1;if($("#"+$.jgrid.jqID(t[1][t[0]+1])).hasClass(r.disabled))return!1;o(t[1][t[0]+1],m,x),$(m).jqGrid("setSelection",t[1][t[0]+1]),$(m).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",$(x),t[1][t[0]]]),$.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(m,"next",$(x),t[1][t[0]+1]),g(),u(t[0]+1,t)}return!1}),$("#pData",v).click(function(){if(!d())return!1;$(".FormError",x).hide();var t=p();if(-1!==t[0]&&t[1][t[0]-1]){$(m).triggerHandler("jqGridAddEditClickPgButtons",["prev",$(x),t[1][t[0]]]);var i;if($.isFunction(e.onclickPgButtons)&&void 0!==(i=e.onclickPgButtons.call(m,"prev",$(x),t[1][t[0]]))&&!1===i)return!1;if($("#"+$.jgrid.jqID(t[1][t[0]-1])).hasClass(r.disabled))return!1;o(t[1][t[0]-1],m,x),$(m).jqGrid("setSelection",t[1][t[0]-1]),$(m).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",$(x),t[1][t[0]]]),$.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(m,"prev",$(x),t[1][t[0]-1]),g(),u(t[0]-1,t)}return!1}),$(m).triggerHandler("jqGridAddEditAfterShowForm",[$(x),w]),$.isFunction(rp_ge[m.p.id].afterShowForm)&&rp_ge[m.p.id].afterShowForm.call(m,$(x),w);var X=p();u(X[0],X)}}})},viewGridRow:function(t,e){var i=$.jgrid.getRegional(this[0],"view"),n=this[0].p.styleUI,s=$.jgrid.styleUI[n].formedit,r=$.jgrid.styleUI[n].common;return e=$.extend(!0,{top:0,left:0,width:500,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},i,e||{}),rp_ge[$(this)[0].p.id]=e,this.each(function(){function i(){!0!==rp_ge[c.p.id].closeOnEscape&&!0!==rp_ge[c.p.id].navkeys[0]||setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(g.modalhead)).attr("tabindex","-1").focus()},0)}function n(t,i,n,s){var o,a,l,c,d,h,u,p,f,g=0,m=[],v=!1,b="<td class='CaptionTD form-view-label "+r.content+"' width='"+e.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset "+r.content+"'>&#160;</td>",y="",w="<td class='CaptionTD form-view-label "+r.content+"'>&#160;</td><td class='DataTD form-view-data "+r.content+"'>&#160;</td>",_=["integer","number","currency"],x=0,C=0;for(h=1;s>=h;h++)y+=1===h?b:w;if($(i.p.colModel).each(function(){(a=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden)||"right"!==this.align||(this.formatter&&-1!==$.inArray(this.formatter,_)?x=Math.max(x,parseInt(this.width,10)):C=Math.max(C,parseInt(this.width,10)))}),u=0!==x?x:0!==C?C:0,v=$(i).jqGrid("getInd",t),$(i.p.colModel).each(function(t){if(o=this.name,p=!1,a=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,d=a?"style='display:none'":"",f="boolean"!=typeof this.viewable||this.viewable,"cb"!==o&&"subgrid"!==o&&"rn"!==o&&f){c=!1===v?"":o===i.p.ExpandColumn&&!0===i.p.treeGrid?$("td:eq("+t+")",i.rows[v]).text():$("td:eq("+t+")",i.rows[v]).html(),p="right"===this.align&&0!==u;var e=$.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),r=parseInt(e.rowpos,10)||g+1,h=parseInt(2*(parseInt(e.colpos,10)||1),10);if(e.rowabove){var b=$("<tr><td class='contentinfo' colspan='"+2*s+"'>"+e.rowcontent+"</td></tr>");$(n).append(b),b[0].rp=r}l=$(n).find("tr[rowpos="+r+"]"),0===l.length&&(l=$("<tr "+d+" rowpos='"+r+"'></tr>").addClass("FormData").attr("id","trv_"+o),$(l).append(y),$(n).append(l),l[0].rp=r),$("td:eq("+(h-2)+")",l[0]).html("<b>"+(void 0===e.label?i.p.colNames[t]:e.label)+"</b>"),$("td:eq("+(h-1)+")",l[0]).append("<span>"+c+"</span>").attr("id","v_"+o),p&&$("td:eq("+(h-1)+") span",l[0]).css({"text-align":"right",width:u+"px"}),m[g]=t,g++}}),g>0){var k=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*s-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/></td></tr>");k[0].rp=g+99,$(n).append(k)}return m}function o(t,e){var i,n,s,r,o=0;(r=$(e).jqGrid("getInd",t,!0))&&($("td",r).each(function(t){i=e.p.colModel[t].name,n=(!e.p.colModel[t].editrules||!0!==e.p.colModel[t].editrules.edithidden)&&!0===e.p.colModel[t].hidden,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&(s=i===e.p.ExpandColumn&&!0===e.p.treeGrid?$(this).text():$(this).html(),i=$.jgrid.jqID("v_"+i),$("#"+i+" span","#"+u).html(s),n&&$("#"+i,"#"+u).parents("tr:first").hide(),o++)}),o>0&&$("#id_g","#"+u).val(t))}function a(t,e){var i=e[1].length-1;0===t?$("#pData","#"+u+"_2").addClass(r.disabled):void 0!==e[1][t-1]&&$("#"+$.jgrid.jqID(e[1][t-1])).hasClass(r.disabled)?$("#pData",u+"_2").addClass(r.disabled):$("#pData","#"+u+"_2").removeClass(r.disabled),t===i?$("#nData","#"+u+"_2").addClass(r.disabled):void 0!==e[1][t+1]&&$("#"+$.jgrid.jqID(e[1][t+1])).hasClass(r.disabled)?$("#nData",u+"_2").addClass(r.disabled):$("#nData","#"+u+"_2").removeClass(r.disabled)}function l(){var t=$(c).jqGrid("getDataIDs"),e=$("#id_g","#"+u).val();return[$.inArray(e,t),t]}var c=this;if(c.grid&&t){var d=c.p.id,h="ViewGrid_"+$.jgrid.jqID(d),u="ViewTbl_"+$.jgrid.jqID(d),p="ViewGrid_"+d,f="ViewTbl_"+d,g={themodal:"viewmod"+d,modalhead:"viewhd"+d,modalcontent:"viewcnt"+d,scrollelm:h},m=!!$.isFunction(rp_ge[c.p.id].beforeInitData)&&rp_ge[c.p.id].beforeInitData,v=!0,b=1,y=0;rp_ge[c.p.id].styleUI=c.p.styleUI||"jQueryUI",e.recreateForm||$(c).data("viewProp")&&$.extend(rp_ge[$(this)[0].p.id],$(c).data("viewProp"));var w=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",_=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",x=$("<form name='FormPost' id='"+p+"' class='FormGrid' style='width:"+_+";height:"+w+";'></form>"),C=$("<table id='"+f+"' class='EditTable ViewTable'><tbody></tbody></table>");if($(c.p.colModel).each(function(){var t=this.formoptions;b=Math.max(b,t?t.colpos||0:0),y=Math.max(y,t?t.rowpos||0:0)}),$(x).append(C),m&&void 0===(v=m.call(c,x))&&(v=!0),!1!==v){n(t,c,C,b);var k="rtl"===c.p.direction,D=k?"nData":"pData",S=k?"pData":"nData",T="<a id='"+D+"' class='fm-button "+r.button+"'><span class='"+r.icon_base+" "+s.icon_prev+"'></span></a>",I="<a id='"+S+"' class='fm-button "+r.button+"'><span class='"+r.icon_base+" "+s.icon_next+"'></span></a>",E="<a id='cData' class='fm-button "+r.button+"'>"+e.bClose+"</a>";if(y>0){var j=[];$.each($(C)[0].rows,function(t,e){j[t]=e}),j.sort(function(t,e){return t.rp>e.rp?1:t.rp<e.rp?-1:0}),$.each(j,function(t,e){$("tbody",C).append(e)})}e.gbox="#gbox_"+$.jgrid.jqID(d);var A=$("<div></div>").append(x).append("<table border='0' class='EditTable' id='"+u+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+e.labelswidth+"'>"+(k?I+T:T+I)+"</td><td class='EditButton'>"+E+"</td></tr></tbody></table>");$.jgrid.createModal(g,A,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(c.p.id),$("#gview_"+$.jgrid.jqID(c.p.id))[0]),k&&($("#pData, #nData","#"+u+"_2").css("float","right"),$(".EditButton","#"+u+"_2").css("text-align","left")),e.viewPagerButtons||$("#pData, #nData","#"+u+"_2").hide(),A=null,$("#"+g.themodal).keydown(function(t){if(27===t.which)return rp_ge[c.p.id].closeOnEscape&&$.jgrid.hideModal("#"+$.jgrid.jqID(g.themodal),{gb:e.gbox,jqm:e.jqModal,onClose:e.onClose,removemodal:rp_ge[c.p.id].removemodal,formprop:!rp_ge[c.p.id].recreateForm,form:rp_ge[c.p.id].form}),!1;if(!0===e.navkeys[0]){if(t.which===e.navkeys[1])return $("#pData","#"+u+"_2").trigger("click"),!1;if(t.which===e.navkeys[2])return $("#nData","#"+u+"_2").trigger("click"),!1}}),e.closeicon=$.extend([!0,"left",s.icon_close],e.closeicon),!0===e.closeicon[0]&&$("#cData","#"+u+"_2").addClass("right"===e.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+r.icon_base+" "+e.closeicon[2]+"'></span>"),$.isFunction(e.beforeShowForm)&&e.beforeShowForm.call(c,$("#"+h)),$.jgrid.viewModal("#"+$.jgrid.jqID(g.themodal),{gbox:"#gbox_"+$.jgrid.jqID(d),jqm:e.jqModal,overlay:e.overlay,modal:e.modal,onHide:function(t){$(c).data("viewProp",{top:parseFloat($(t.w).css("top")),left:parseFloat($(t.w).css("left")),width:$(t.w).width(),height:$(t.w).height(),dataheight:$("#"+h).height(),datawidth:$("#"+h).width()}),t.w.remove(),t.o&&t.o.remove()}}),$(".fm-button:not(."+r.disabled+")","#"+u+"_2").hover(function(){$(this).addClass(r.hover)},function(){$(this).removeClass(r.hover)}),i(),$("#cData","#"+u+"_2").click(function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(g.themodal),{gb:"#gbox_"+$.jgrid.jqID(d),jqm:e.jqModal,onClose:e.onClose,removemodal:rp_ge[c.p.id].removemodal,formprop:!rp_ge[c.p.id].recreateForm,form:rp_ge[c.p.id].form}),!1}),$("#nData","#"+u+"_2").click(function(){$("#FormError","#"+u).hide();var t=l();return t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]&&($.isFunction(e.onclickPgButtons)&&e.onclickPgButtons.call(c,"next",$("#"+h),t[1][t[0]]),o(t[1][t[0]+1],c),$(c).jqGrid("setSelection",t[1][t[0]+1]),$.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(c,"next",$("#"+h),t[1][t[0]+1]),a(t[0]+1,t)),i(),!1}),$("#pData","#"+u+"_2").click(function(){$("#FormError","#"+u).hide();var t=l();return-1!==t[0]&&t[1][t[0]-1]&&($.isFunction(e.onclickPgButtons)&&e.onclickPgButtons.call(c,"prev",$("#"+h),t[1][t[0]]),o(t[1][t[0]-1],c),$(c).jqGrid("setSelection",t[1][t[0]-1]),$.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(c,"prev",$("#"+h),t[1][t[0]-1]),a(t[0]-1,t)),i(),!1});var M=l();a(M[0],M)}}})},delGridRow:function(t,e){var i=$.jgrid.getRegional(this[0],"del"),n=this[0].p.styleUI,s=$.jgrid.styleUI[n].formedit,r=$.jgrid.styleUI[n].common;return e=$.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},i,e||{}),rp_ge[$(this)[0].p.id]=e,this.each(function(){var i=this;if(i.grid&&t){var n,o,a,l,c=$.isFunction(rp_ge[i.p.id].beforeShowForm),d=$.isFunction(rp_ge[i.p.id].afterShowForm),h=!!$.isFunction(rp_ge[i.p.id].beforeInitData)&&rp_ge[i.p.id].beforeInitData,u=i.p.id,p={},f=!0,g="DelTbl_"+$.jgrid.jqID(u),m="DelTbl_"+u,v={themodal:"delmod"+u,modalhead:"delhd"+u,modalcontent:"delcnt"+u,scrollelm:g};if(rp_ge[i.p.id].styleUI=i.p.styleUI||"jQueryUI",$.isArray(t)&&(t=t.join()),void 0!==$("#"+$.jgrid.jqID(v.themodal))[0]){if(h&&void 0===(f=h.call(i,$("#"+g)))&&(f=!0),!1===f)return;$("#DelData>td","#"+g).text(t),$("#DelError","#"+g).hide(),!0===rp_ge[i.p.id].processing&&(rp_ge[i.p.id].processing=!1,$("#dData","#"+g).removeClass(r.active)),c&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+g)),$.jgrid.viewModal("#"+$.jgrid.jqID(v.themodal),{gbox:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[i.p.id].jqModal,jqM:!1,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),d&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+g))}else{var b=isNaN(rp_ge[i.p.id].dataheight)?rp_ge[i.p.id].dataheight:rp_ge[i.p.id].dataheight+"px",y=isNaN(e.datawidth)?e.datawidth:e.datawidth+"px",w="<div id='"+m+"' class='formdata' style='width:"+y+";overflow:auto;position:relative;height:"+b+";'>";w+="<table class='DelTable'><tbody>",w+="<tr id='DelError' style='display:none'><td class='"+r.error+"'></td></tr>",w+="<tr id='DelData' style='display:none'><td >"+t+"</td></tr>",w+='<tr><td class="delmsg" style="white-space:pre;">'+rp_ge[i.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",w+="</tbody></table></div>";var _="<a id='dData' class='fm-button "+r.button+"'>"+e.bSubmit+"</a>",x="<a id='eData' class='fm-button "+r.button+"'>"+e.bCancel+"</a>";if(w+="<table class='EditTable ui-common-table' id='"+g+"_2'><tbody><tr><td><hr class='"+r.content+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+_+"&#160;"+x+"</td></tr></tbody></table>",e.gbox="#gbox_"+$.jgrid.jqID(u),$.jgrid.createModal(v,w,rp_ge[i.p.id],"#gview_"+$.jgrid.jqID(i.p.id),$("#gview_"+$.jgrid.jqID(i.p.id))[0]),h&&void 0===(f=h.call(i,$(w)))&&(f=!0),!1===f)return;$(".fm-button","#"+g+"_2").hover(function(){$(this).addClass(r.hover)},function(){$(this).removeClass(r.hover)}),e.delicon=$.extend([!0,"left",s.icon_del],rp_ge[i.p.id].delicon),e.cancelicon=$.extend([!0,"left",s.icon_cancel],rp_ge[i.p.id].cancelicon),!0===e.delicon[0]&&$("#dData","#"+g+"_2").addClass("right"===e.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+r.icon_base+" "+e.delicon[2]+"'></span>"),!0===e.cancelicon[0]&&$("#eData","#"+g+"_2").addClass("right"===e.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+r.icon_base+" "+e.cancelicon[2]+"'></span>"),$("#dData","#"+g+"_2").click(function(){var t,s=[!0,""],c=$("#DelData>td","#"+g).text();if(p={},$.isFunction(rp_ge[i.p.id].onclickSubmit)&&(p=rp_ge[i.p.id].onclickSubmit.call(i,rp_ge[i.p.id],c)||{}),$.isFunction(rp_ge[i.p.id].beforeSubmit)&&(s=rp_ge[i.p.id].beforeSubmit.call(i,c)),s[0]&&!rp_ge[i.p.id].processing){if(rp_ge[i.p.id].processing=!0,a=i.p.prmNames,n=$.extend({},rp_ge[i.p.id].delData,p),l=a.oper,n[l]=a.deloper,o=a.id,c=String(c).split(","),!c.length)return!1;for(t in c)c.hasOwnProperty(t)&&(c[t]=$.jgrid.stripPref(i.p.idPrefix,c[t]));n[o]=c.join(),$(this).addClass(r.active);var d=$.extend({url:rp_ge[i.p.id].url||$(i).jqGrid("getGridParam","editurl"),type:rp_ge[i.p.id].mtype,data:$.isFunction(rp_ge[i.p.id].serializeDelData)?rp_ge[i.p.id].serializeDelData.call(i,n):n,complete:function(t,o){var a;if($("#dData","#"+g+"_2").removeClass(r.active),t.status>=300&&304!==t.status?(s[0]=!1,$.isFunction(rp_ge[i.p.id].errorTextFormat)?s[1]=rp_ge[i.p.id].errorTextFormat.call(i,t):s[1]=o+" Status: '"+t.statusText+"'. Error code: "+t.status):$.isFunction(rp_ge[i.p.id].afterSubmit)&&(s=rp_ge[i.p.id].afterSubmit.call(i,t,n)),!1===s[0])$("#DelError>td","#"+g).html(s[1]),$("#DelError","#"+g).show();else{if(rp_ge[i.p.id].reloadAfterSubmit&&"local"!==i.p.datatype)$(i).trigger("reloadGrid");else{if(!0===i.p.treeGrid)try{$(i).jqGrid("delTreeNode",i.p.idPrefix+c[0])}catch(t){}else for(a=0;a<c.length;a++)$(i).jqGrid("delRowData",i.p.idPrefix+c[a]);i.p.selrow=null,i.p.selarrrow=[]}$.isFunction(rp_ge[i.p.id].afterComplete)&&setTimeout(function(){rp_ge[i.p.id].afterComplete.call(i,t,c)},500)}rp_ge[i.p.id].processing=!1,s[0]&&$.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:e.jqModal,onClose:rp_ge[i.p.id].onClose})}
},$.jgrid.ajaxOptions,rp_ge[i.p.id].ajaxDelOptions);if(d.url||rp_ge[i.p.id].useDataProxy||($.isFunction(i.p.dataProxy)?rp_ge[i.p.id].useDataProxy=!0:(s[0]=!1,s[1]+=" "+$.jgrid.getRegional(i,"errors.nourl"))),s[0])if(rp_ge[i.p.id].useDataProxy){var h=i.p.dataProxy.call(i,d,"del_"+i.p.id);void 0===h&&(h=[!0,""]),!1===h[0]?(s[0]=!1,s[1]=h[1]||"Error deleting the selected row!"):$.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:e.jqModal,onClose:rp_ge[i.p.id].onClose})}else"clientArray"===d.url?(n=d.data,d.complete({status:200,statusText:""},"")):$.ajax(d)}return!1===s[0]&&($("#DelError>td","#"+g).html(s[1]),$("#DelError","#"+g).show()),!1}),$("#eData","#"+g+"_2").click(function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[i.p.id].jqModal,onClose:rp_ge[i.p.id].onClose}),!1}),c&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+g)),$.jgrid.viewModal("#"+$.jgrid.jqID(v.themodal),{gbox:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[i.p.id].jqModal,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),d&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+g))}!0===rp_ge[i.p.id].closeOnEscape&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(v.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(t,e,i,n,s,r,o){var a=$.jgrid.getRegional(this[0],"nav"),l=this[0].p.styleUI,c=$.jgrid.styleUI[l].navigator,d=$.jgrid.styleUI[l].common;return e=$.extend({edit:!0,editicon:c.icon_edit_nav,add:!0,addicon:c.icon_add_nav,del:!0,delicon:c.icon_del_nav,search:!0,searchicon:c.icon_search_nav,refresh:!0,refreshicon:c.icon_refresh_nav,refreshstate:"firstpage",view:!1,viewicon:c.icon_view_nav,position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null,dropmenu:!1,navButtonText:""},a,e||{}),this.each(function(){if(!this.p.navGrid){var c,h,u,p={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},f=this;if(f.grid&&"string"==typeof t){$(f).data("navGrid")||$(f).data("navGrid",e),u=$(f).data("navGrid"),f.p.force_regional&&(u=$.extend(u,a)),void 0===$("#"+p.themodal)[0]&&(u.alerttop||u.alertleft||(void 0!==window.innerWidth?(u.alertleft=window.innerWidth,u.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(u.alertleft=document.documentElement.clientWidth,u.alerttop=document.documentElement.clientHeight):(u.alertleft=1024,u.alerttop=768),u.alertleft=u.alertleft/2-parseInt(u.alertwidth,10)/2,u.alerttop=u.alerttop/2-25),$.jgrid.createModal(p,"<div>"+u.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqModal:!0,drag:!0,resize:!0,caption:u.alertcap,top:u.alerttop,left:u.alertleft,width:u.alertwidth,height:u.alertheight,closeOnEscape:u.closeOnEscape,zIndex:u.alertzIndex,styleUI:f.p.styleUI},"#gview_"+$.jgrid.jqID(f.p.id),$("#gbox_"+$.jgrid.jqID(f.p.id))[0],!0));var g,m=1,v=function(){$(this).hasClass(d.disabled)||$(this).addClass(d.hover)},b=function(){$(this).removeClass(d.hover)};for(u.cloneToTop&&f.p.toppager&&(m=2),g=0;m>g;g++){var y,w,_,x=$("<table class='ui-pg-table navtable ui-common-table'><tbody><tr></tr></tbody></table>"),C="<td class='ui-pg-button "+d.disabled+"' style='width:4px;'><span class='ui-separator'></span></td>";0===g?(w=t,_=f.p.id,w===f.p.toppager&&(_+="_top",m=1)):(w=f.p.toppager,_=f.p.id+"_top"),"rtl"===f.p.direction&&$(x).attr("dir","rtl").css("float","right"),n=n||{},u.add&&(y=$("<td class='ui-pg-button "+d.cornerall+"'></td>"),$(y).append("<div class='ui-pg-div'><span class='"+d.icon_base+" "+u.addicon+"'></span>"+u.addtext+"</div>"),$("tr",x).append(y),$(y,x).attr({title:u.addtitle||"",id:n.id||"add_"+_}).click(function(){return $(this).hasClass(d.disabled)||($.isFunction(u.addfunc)?u.addfunc.call(f):$(f).jqGrid("editGridRow","new",n)),!1}).hover(v,b),y=null),i=i||{},u.edit&&(y=$("<td class='ui-pg-button "+d.cornerall+"'></td>"),$(y).append("<div class='ui-pg-div'><span class='"+d.icon_base+" "+u.editicon+"'></span>"+u.edittext+"</div>"),$("tr",x).append(y),$(y,x).attr({title:u.edittitle||"",id:i.id||"edit_"+_}).click(function(){if(!$(this).hasClass(d.disabled)){var t=f.p.selrow;t?$.isFunction(u.editfunc)?u.editfunc.call(f,t):$(f).jqGrid("editGridRow",t,i):($.jgrid.viewModal("#"+p.themodal,{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1}).hover(v,b),y=null),o=o||{},u.view&&(y=$("<td class='ui-pg-button "+d.cornerall+"'></td>"),$(y).append("<div class='ui-pg-div'><span class='"+d.icon_base+" "+u.viewicon+"'></span>"+u.viewtext+"</div>"),$("tr",x).append(y),$(y,x).attr({title:u.viewtitle||"",id:o.id||"view_"+_}).click(function(){if(!$(this).hasClass(d.disabled)){var t=f.p.selrow;t?$.isFunction(u.viewfunc)?u.viewfunc.call(f,t):$(f).jqGrid("viewGridRow",t,o):($.jgrid.viewModal("#"+p.themodal,{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1}).hover(v,b),y=null),s=s||{},u.del&&(y=$("<td class='ui-pg-button "+d.cornerall+"'></td>"),$(y).append("<div class='ui-pg-div'><span class='"+d.icon_base+" "+u.delicon+"'></span>"+u.deltext+"</div>"),$("tr",x).append(y),$(y,x).attr({title:u.deltitle||"",id:s.id||"del_"+_}).click(function(){if(!$(this).hasClass(d.disabled)){var t;f.p.multiselect?(t=f.p.selarrrow,0===t.length&&(t=null)):t=f.p.selrow,t?$.isFunction(u.delfunc)?u.delfunc.call(f,t):$(f).jqGrid("delGridRow",t,s):($.jgrid.viewModal("#"+p.themodal,{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1}).hover(v,b),y=null),(u.add||u.edit||u.del||u.view)&&$("tr",x).append(C),r=r||{},u.search&&(y=$("<td class='ui-pg-button "+d.cornerall+"'></td>"),$(y).append("<div class='ui-pg-div'><span class='"+d.icon_base+" "+u.searchicon+"'></span>"+u.searchtext+"</div>"),$("tr",x).append(y),$(y,x).attr({title:u.searchtitle||"",id:r.id||"search_"+_}).click(function(){return $(this).hasClass(d.disabled)||($.isFunction(u.searchfunc)?u.searchfunc.call(f,r):$(f).jqGrid("searchGrid",r)),!1}).hover(v,b),r.showOnLoad&&!0===r.showOnLoad&&$(y,x).click(),y=null),u.refresh&&(y=$("<td class='ui-pg-button "+d.cornerall+"'></td>"),$(y).append("<div class='ui-pg-div'><span class='"+d.icon_base+" "+u.refreshicon+"'></span>"+u.refreshtext+"</div>"),$("tr",x).append(y),$(y,x).attr({title:u.refreshtitle||"",id:"refresh_"+_}).click(function(){if(!$(this).hasClass(d.disabled)){$.isFunction(u.beforeRefresh)&&u.beforeRefresh.call(f),f.p.search=!1,f.p.resetsearch=!0;try{if("currentfilter"!==u.refreshstate){var t=f.p.id;f.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(t)).jqFilter("resetFilter")}catch(t){}$.isFunction(f.clearToolbar)&&f.clearToolbar.call(f,!1)}}catch(t){}switch(u.refreshstate){case"firstpage":$(f).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(f).trigger("reloadGrid",[{current:!0}])}$.isFunction(u.afterRefresh)&&u.afterRefresh.call(f)}return!1}).hover(v,b),y=null),h=$(".ui-jqgrid").css("font-size")||"11px",$("body").append("<div id='testpg2' class='ui-jqgrid "+$.jgrid.styleUI[l].base.entrieBox+"' style='font-size:"+h+";visibility:hidden;' ></div>"),c=$(x).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),f.p._nvtd&&(u.dropmenu?(x=null,$(f).jqGrid("_buildNavMenu",w,_,e,i,n,s,r,o)):c>f.p._nvtd[0]?(f.p.responsive?(x=null,$(f).jqGrid("_buildNavMenu",w,_,e,i,n,s,r,o)):$(w+"_"+u.position,w).append(x).width(c),f.p._nvtd[0]=c):$(w+"_"+u.position,w).append(x),f.p._nvtd[1]=c),f.p.navGrid=!0}f.p.storeNavOptions&&(f.p.navOptions=u,f.p.editOptions=i,f.p.addOptions=n,f.p.delOptions=s,f.p.searchOptions=r,f.p.viewOptions=o,f.p.navButtons=[])}}})},navButtonAdd:function(t,e){var i=this[0].p.styleUI,n=$.jgrid.styleUI[i].navigator;return e=$.extend({caption:"newButton",title:"",buttonicon:n.icon_newbutton_nav,onClickButton:null,position:"last",cursor:"pointer",internal:!1},e||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+$.jgrid.jqID(t));var n=$(".navtable",t)[0],s=this,r=$.jgrid.styleUI[i].common.disabled,o=$.jgrid.styleUI[i].common.hover,a=$.jgrid.styleUI[i].common.cornerall,l=$.jgrid.styleUI[i].common.icon_base;if(s.p.storeNavOptions&&!e.internal&&s.p.navButtons.push([t,e]),n){if(e.id&&void 0!==$("#"+$.jgrid.jqID(e.id),n)[0])return;var c=$("<td></td>");"NONE"===e.buttonicon.toString().toUpperCase()?$(c).addClass("ui-pg-button "+a).append("<div class='ui-pg-div'>"+e.caption+"</div>"):$(c).addClass("ui-pg-button "+a).append("<div class='ui-pg-div'><span class='"+l+" "+e.buttonicon+"'></span>"+e.caption+"</div>"),e.id&&$(c).attr("id",e.id),"first"===e.position?0===n.rows[0].cells.length?$("tr",n).append(c):$("tr td:eq(0)",n).before(c):$("tr",n).append(c),$(c,n).attr("title",e.title||"").click(function(t){return $(this).hasClass(r)||$.isFunction(e.onClickButton)&&e.onClickButton.call(s,t),!1}).hover(function(){$(this).hasClass(r)||$(this).addClass(o)},function(){$(this).removeClass(o)})}else if(n=$(".dropdownmenu",t)[0]){var d=$(n).val(),h=e.id||$.jgrid.randId(),u=$('<li class="ui-menu-item" role="presentation"><a class="'+a+' g-menu-item" tabindex="0" role="menuitem" id="'+h+'">'+(e.caption||e.title)+"</a></li>");d&&("first"===e.position?$("#"+d).prepend(u):$("#"+d).append(u),$(u).on("click",function(t){return $(this).hasClass(r)||($("#"+d).hide(),$.isFunction(e.onClickButton)&&e.onClickButton.call(s,t)),!1}).find("a").hover(function(){$(this).hasClass(r)||$(this).addClass(o)},function(){$(this).removeClass(o)}))}}})},navSeparatorAdd:function(t,e){var i=this[0].p.styleUI,n=$.jgrid.styleUI[i].common;return e=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},e||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+$.jgrid.jqID(t));var i,s,r=$(".navtable",t)[0];this.p.storeNavOptions&&this.p.navButtons.push([t,e]),r?(i="<td class='ui-pg-button "+n.disabled+"' style='width:4px;'><span class='"+e.sepclass+"'></span>"+e.sepcontent+"</td>","first"===e.position?0===r.rows[0].cells.length?$("tr",r).append(i):$("tr td:eq(0)",r).before(i):$("tr",r).append(i)):(r=$(".dropdownmenu",t)[0],i="<li class='ui-menu-item "+n.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>",r&&(s=$(r).val())&&("first"===e.position?$("#"+s).prepend(i):$("#"+s).append(i)))}})},_buildNavMenu:function(t,e,i,n,s,r,o,a){return this.each(function(){var l=this,c=$.jgrid.getRegional(l,"nav"),d=l.p.styleUI,h=($.jgrid.styleUI[d].navigator,$.jgrid.styleUI[d].filter),u=$.jgrid.styleUI[d].common,p="form_menu_"+$.jgrid.randId(),f=i.navButtonText?i.navButtonText:c.selectcaption||"Actions",g="<button class='dropdownmenu "+u.button+"' value='"+p+"'>"+f+"</button>";$(t+"_"+i.position,t).append(g);var m={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id};(function(){var t,c,d=$(".ui-jqgrid-view").css("font-size")||"11px",f=$('<ul id="'+p+'" class="ui-nav-menu modal-content" role="menu" tabindex="0" style="display:none;font-size:'+d+'"></ul>');i.add&&(s=s||{},t=s.id||"add_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+u.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.addtext||i.addtitle)+"</a></li>").click(function(){return $(this).hasClass(u.disabled)||($.isFunction(i.addfunc)?i.addfunc.call(l):$(l).jqGrid("editGridRow","new",s),$(f).hide()),!1}),$(f).append(c)),i.edit&&(n=n||{},t=n.id||"edit_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+u.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.edittext||i.edittitle)+"</a></li>").click(function(){if(!$(this).hasClass(u.disabled)){var t=l.p.selrow;t?$.isFunction(i.editfunc)?i.editfunc.call(l,t):$(l).jqGrid("editGridRow",t,n):($.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1}),$(f).append(c)),i.view&&(a=a||{},t=a.id||"view_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+u.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.viewtext||i.viewtitle)+"</a></li>").click(function(){if(!$(this).hasClass(u.disabled)){var t=l.p.selrow;t?$.isFunction(i.editfunc)?i.viewfunc.call(l,t):$(l).jqGrid("viewGridRow",t,a):($.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1}),$(f).append(c)),i.del&&(r=r||{},t=r.id||"del_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+u.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.deltext||i.deltitle)+"</a></li>").click(function(){if(!$(this).hasClass(u.disabled)){var t;l.p.multiselect?(t=l.p.selarrrow,0===t.length&&(t=null)):t=l.p.selrow,t?$.isFunction(i.delfunc)?i.delfunc.call(l,t):$(l).jqGrid("delGridRow",t,r):($.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1}),$(f).append(c)),(i.add||i.edit||i.del||i.view)&&$(f).append("<li class='ui-menu-item "+u.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>"),i.search&&(o=o||{},t=o.id||"search_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+u.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.searchtext||i.searchtitle)+"</a></li>").click(function(){return $(this).hasClass(u.disabled)||($.isFunction(i.searchfunc)?i.searchfunc.call(l,o):$(l).jqGrid("searchGrid",o),$(f).hide()),!1}),$(f).append(c),o.showOnLoad&&!0===o.showOnLoad&&$(c).click()),i.refresh&&(t=o.id||"search_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+u.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.refreshtext||i.refreshtitle)+"</a></li>").click(function(){if(!$(this).hasClass(u.disabled)){$.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(l),l.p.search=!1,l.p.resetsearch=!0;try{if("currentfilter"!==i.refreshstate){var t=l.p.id;l.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(t)).jqFilter("resetFilter")}catch(t){}$.isFunction(l.clearToolbar)&&l.clearToolbar.call(l,!1)}}catch(t){}switch(i.refreshstate){case"firstpage":$(l).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(l).trigger("reloadGrid",[{current:!0}])}$.isFunction(i.afterRefresh)&&i.afterRefresh.call(l),$(f).hide()}return!1}),$(f).append(c)),$(f).hide(),$("body").append(f),$("#"+p).addClass("ui-menu "+h.menu_widget),$("#"+p+" > li > a").hover(function(){$(this).addClass(u.hover)},function(){$(this).removeClass(u.hover)})})(),$(".dropdownmenu",t+"_"+i.position).on("click",function(t){var e=$(this).offset(),i=e.left,n=parseInt(e.top),s=$(this).val();$("#"+s).show().css({top:n-($("#"+s).height()+10)+"px",left:i+"px"}),t.stopPropagation()}),$("body").on("click",function(t){$(t.target).hasClass("dropdownmenu")||$("#"+p).hide()})})},GridToForm:function(t,e){return this.each(function(){var i,n=this;if(n.grid){var s=$(n).jqGrid("getRowData",t);if(s)for(i in s)s.hasOwnProperty(i)&&($("[name="+$.jgrid.jqID(i)+"]",e).is("input:radio")||$("[name="+$.jgrid.jqID(i)+"]",e).is("input:checkbox")?$("[name="+$.jgrid.jqID(i)+"]",e).each(function(){$(this).val()==s[i]?$(this)[n.p.useProp?"prop":"attr"]("checked",!0):$(this)[n.p.useProp?"prop":"attr"]("checked",!1)}):$("[name="+$.jgrid.jqID(i)+"]",e).val(s[i]))}})},FormToGrid:function(t,e,i,n){return this.each(function(){var s=this;if(s.grid){i||(i="set"),n||(n="first");var r=$(e).serializeArray(),o={};$.each(r,function(t,e){o[e.name]=e.value}),"add"===i?$(s).jqGrid("addRowData",t,o,n):"set"===i&&$(s).jqGrid("setRowData",t,o)}})}}),$.jgrid.extend({groupingSetup:function(){return this.each(function(){var t,e,i,n=this,s=n.p.colModel,r=n.p.groupingView,o=$.jgrid.styleUI[n.p.styleUI||"jQueryUI"].grouping;if(null===r||"object"!=typeof r&&!$.isFunction(r))n.p.grouping=!1;else if(r.plusicon||(r.plusicon=o.icon_plus),r.minusicon||(r.minusicon=o.icon_minus),r.groupField.length){for(void 0===r.visibiltyOnNextGrouping&&(r.visibiltyOnNextGrouping=[]),r.lastvalues=[],r._locgr||(r.groups=[]),r.counters=[],t=0;t<r.groupField.length;t++)r.groupOrder[t]||(r.groupOrder[t]="asc"),r.groupText[t]||(r.groupText[t]="{0}"),"boolean"!=typeof r.groupColumnShow[t]&&(r.groupColumnShow[t]=!0),"boolean"!=typeof r.groupSummary[t]&&(r.groupSummary[t]=!1),r.groupSummaryPos[t]||(r.groupSummaryPos[t]="footer"),!0===r.groupColumnShow[t]?(r.visibiltyOnNextGrouping[t]=!0,$(n).jqGrid("showCol",r.groupField[t])):(r.visibiltyOnNextGrouping[t]=$("#"+$.jgrid.jqID(n.p.id+"_"+r.groupField[t])).is(":visible"),$(n).jqGrid("hideCol",r.groupField[t]));for(r.summary=[],r.hideFirstGroupCol&&$.isArray(r.formatDisplayField)&&!$.isFunction(r.formatDisplayField[0])&&(r.formatDisplayField[0]=function(t){return t}),e=0,i=s.length;i>e;e++)r.hideFirstGroupCol&&(s[e].hidden||r.groupField[0]!==s[e].name||(s[e].formatter=function(){return""})),s[e].summaryType&&(s[e].summaryDivider?r.summary.push({nm:s[e].name,st:s[e].summaryType,v:"",sd:s[e].summaryDivider,vd:"",sr:s[e].summaryRound,srt:s[e].summaryRoundType||"round"}):r.summary.push({nm:s[e].name,st:s[e].summaryType,v:"",sr:s[e].summaryRound,srt:s[e].summaryRoundType||"round"}))}else n.p.grouping=!1})},groupingPrepare:function(t,e){return this.each(function(){var i,n,s,r,o,a=this.p.groupingView,l=this,c=function(){$.isFunction(this.st)?this.v=this.st.call(l,this.v,this.nm,t):(this.v=$(l).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=$(l).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))},d=a.groupField.length,h=0;for(i=0;d>i;i++)n=a.groupField[i],r=a.displayField[i],s=t[n],o=null==r?null:t[r],null==o&&(o=s),void 0!==s&&(0===e?(a.groups.push({idx:i,dataIndex:n,value:s,displayValue:o,startRow:e,cnt:1,summary:[]}),a.lastvalues[i]=s,a.counters[i]={cnt:1,pos:a.groups.length-1,summary:$.extend(!0,[],a.summary)},$.each(a.counters[i].summary,c),a.groups[a.counters[i].pos].summary=a.counters[i].summary):"object"==typeof s||($.isArray(a.isInTheSameGroup)&&$.isFunction(a.isInTheSameGroup[i])?a.isInTheSameGroup[i].call(l,a.lastvalues[i],s,i,a):a.lastvalues[i]===s)?1===h?(a.groups.push({idx:i,dataIndex:n,value:s,displayValue:o,startRow:e,cnt:1,summary:[]}),a.lastvalues[i]=s,a.counters[i]={cnt:1,pos:a.groups.length-1,summary:$.extend(!0,[],a.summary)},$.each(a.counters[i].summary,c),a.groups[a.counters[i].pos].summary=a.counters[i].summary):(a.counters[i].cnt+=1,a.groups[a.counters[i].pos].cnt=a.counters[i].cnt,$.each(a.counters[i].summary,c),a.groups[a.counters[i].pos].summary=a.counters[i].summary):(a.groups.push({idx:i,dataIndex:n,value:s,displayValue:o,startRow:e,cnt:1,summary:[]}),a.lastvalues[i]=s,h=1,a.counters[i]={cnt:1,pos:a.groups.length-1,summary:$.extend(!0,[],a.summary)},$.each(a.counters[i].summary,c),a.groups[a.counters[i].pos].summary=a.counters[i].summary))}),this},groupingToggle:function(t){return this.each(function(){var e=this,i=e.p.groupingView,n=t.split("_"),s=parseInt(n[n.length-2],10);n.splice(n.length-2,2);var r,o,a=n.join("_"),l=i.minusicon,c=i.plusicon,d=$("#"+$.jgrid.jqID(t)),h=d.length?d[0].nextSibling:null,u=$("#"+$.jgrid.jqID(t)+" span.tree-wrap-"+e.p.direction),p=function(t){var e=$.map(t.split(" "),function(t){return t.substring(0,a.length+1)===a+"_"?parseInt(t.substring(a.length+1),10):void 0});return e.length>0?e[0]:void 0},f=!1,g=!1,m=!!e.p.frozenColumns&&e.p.id+"_frozen",v=!!m&&$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(m)),b=v&&v.length?v[0].nextSibling:null;if(u.hasClass(l)){if(i.showSummaryOnHide){if(h)for(;h&&!(void 0!==(r=p(h.className))&&s>=r);)$(h).hide(),h=h.nextSibling,m&&($(b).hide(),b=b.nextSibling)}else if(h)for(;h&&!(void 0!==(r=p(h.className))&&s>=r);)$(h).hide(),h=h.nextSibling,m&&($(b).hide(),b=b.nextSibling);u.removeClass(l).addClass(c),f=!0}else{if(h)for(o=void 0;h;){if(r=p(h.className),void 0===o&&(o=void 0===r),g=$(h).hasClass("ui-subgrid")&&$(h).hasClass("ui-sg-collapsed"),void 0!==r){if(s>=r)break;r===s+1&&(g||($(h).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(l).addClass(c),m&&$(b).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(l).addClass(c)))}else o&&(g||($(h).show(),m&&$(b).show()));h=h.nextSibling,m&&(b=b.nextSibling)}u.removeClass(c).addClass(l)}$(e).triggerHandler("jqGridGroupingClickGroup",[t,f]),$.isFunction(e.p.onClickGroup)&&e.p.onClickGroup.call(e,t,f)}),!1},groupingRender:function(t,e,i,n){return this.each(function(){function s(t,e,i){var n,s=!1;if(0===e)s=i[t];else{var r=i[t].idx;if(0===r)s=i[t];else for(n=t;n>=0;n--)if(i[n].idx===r-e){s=i[n];break}}return s}function r(t,i,n,r){var o,a,l=s(t,i,n),d=c.p.colModel,h=l.cnt,u="";for(a=r;e>a;a++){var p="<td "+c.formatCol(a,1,"")+">&#160;</td>",f="{0}";$.each(l.summary,function(){if(this.nm===d[a].name){d[a].summaryTpl&&(f=d[a].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&h>0&&(this.v=this.v/h));try{this.groupCount=l.cnt,this.groupIndex=l.dataIndex,this.groupValue=l.value,o=c.formatter("",this.v,a,this)}catch(t){o=this.v}return p="<td "+c.formatCol(a,1,"")+">"+$.jgrid.template(f,o)+"</td>",!1}}),u+=p}return u}var o,a,l,c=this,d=c.p.groupingView,h="",u="",p=d.groupCollapse?d.plusicon:d.minusicon,f=[],g=d.groupField.length,m=$.jgrid.styleUI[c.p.styleUI||"jQueryUI"].common;p=p+" tree-wrap-"+c.p.direction,$.each(c.p.colModel,function(t,e){var i;for(i=0;g>i;i++)if(d.groupField[i]===e.name){f[i]=t;break}});var v,b=0,y=$.makeArray(d.groupSummary);y.reverse(),v=c.p.multiselect?' colspan="2"':"",$.each(d.groups,function(s,w){if(d._locgr&&!(w.startRow+w.cnt>(i-1)*n&&w.startRow<i*n))return!0;b++,a=c.p.id+"ghead_"+w.idx,o=a+"_"+s,u="<span style='cursor:pointer;margin-right:8px;margin-left:5px;' class='"+m.icon_base+" "+p+"' onclick=\"jQuery('#"+$.jgrid.jqID(c.p.id)+"').jqGrid('groupingToggle','"+o+"');return false;\"></span>";try{$.isArray(d.formatDisplayField)&&$.isFunction(d.formatDisplayField[w.idx])?(w.displayValue=d.formatDisplayField[w.idx].call(c,w.displayValue,w.value,c.p.colModel[f[w.idx]],w.idx,d),l=w.displayValue):l=c.formatter(o,w.displayValue,f[w.idx],w.value)}catch(t){l=w.displayValue}var _="";if(_=$.isFunction(d.groupText[w.idx])?d.groupText[w.idx].call(c,l,w.cnt,w.summary):$.jgrid.template(d.groupText[w.idx],l,w.cnt,w.summary),"string"!=typeof _&&"number"!=typeof _&&(_=l),"header"===d.groupSummaryPos[w.idx]?(h+='<tr id="'+o+'"'+(d.groupCollapse&&w.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+c.p.direction+" "+a+'"><td style="padding-left:'+12*w.idx+'px;"'+v+">"+u+_+"</td>",h+=r(s,0,d.groups,!1===d.groupColumnShow[w.idx]?""===v?2:3:""===v?1:2),h+="</tr>"):h+='<tr id="'+o+'"'+(d.groupCollapse&&w.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+c.p.direction+" "+a+'"><td style="padding-left:'+12*w.idx+'px;" colspan="'+(!1===d.groupColumnShow[w.idx]?e-1:e)+'">'+u+_+"</td></tr>",g-1===w.idx){var x,C,k=d.groups[s+1],D=0,S=w.startRow,T=void 0!==k?k.startRow:d.groups[s].startRow+d.groups[s].cnt;for(d._locgr&&(D=(i-1)*n)>w.startRow&&(S=D),x=S;T>x&&t[x-D];x++)h+=t[x-D].join("");if("header"!==d.groupSummaryPos[w.idx]){var I;if(void 0!==k){for(I=0;I<d.groupField.length&&k.dataIndex!==d.groupField[I];I++);b=d.groupField.length-I}for(C=0;b>C;C++)if(y[C]){var E="";d.groupCollapse&&!d.showSummaryOnHide&&(E=' style="display:none;"'),h+="<tr"+E+' jqfootlevel="'+(w.idx-C)+'" role="row" class="'+m.content+" jqfoot ui-row-"+c.p.direction+'">',h+=r(s,C,d.groups,0),h+="</tr>"}b=I}}}),$("#"+$.jgrid.jqID(c.p.id)+" tbody:first").append(h),h=null})},groupingGroupBy:function(t,e){return this.each(function(){var i=this;"string"==typeof t&&(t=[t]);var n=i.p.groupingView;i.p.grouping=!0,n._locgr=!1,void 0===n.visibiltyOnNextGrouping&&(n.visibiltyOnNextGrouping=[]);var s;for(s=0;s<n.groupField.length;s++)!n.groupColumnShow[s]&&n.visibiltyOnNextGrouping[s]&&$(i).jqGrid("showCol",n.groupField[s]);for(s=0;s<t.length;s++)n.visibiltyOnNextGrouping[s]=$("#"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(t[s])).is(":visible");i.p.groupingView=$.extend(i.p.groupingView,e||{}),n.groupField=t,$(i).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){var e=this;if(void 0===t&&(t=!0),e.p.grouping=!1,!0===t){var i,n=e.p.groupingView;for(i=0;i<n.groupField.length;i++)!n.groupColumnShow[i]&&n.visibiltyOnNextGrouping[i]&&$(e).jqGrid("showCol",n.groupField);$("tr.jqgroup, tr.jqfoot","#"+$.jgrid.jqID(e.p.id)+" tbody:first").remove(),$("tr.jqgrow:hidden","#"+$.jgrid.jqID(e.p.id)+" tbody:first").show()}else $(e).trigger("reloadGrid")})},groupingCalculations:{handler:function(t,e,i,n,s,r){var o={sum:function(){return parseFloat(e||0)+parseFloat(r[i]||0)},min:function(){return""===e?parseFloat(r[i]||0):Math.min(parseFloat(e),parseFloat(r[i]||0))},max:function(){return""===e?parseFloat(r[i]||0):Math.max(parseFloat(e),parseFloat(r[i]||0))},count:function(){return""===e&&(e=0),r.hasOwnProperty(i)?e+1:0},avg:function(){return o.sum()}};if(!o[t])throw"jqGrid Grouping No such method: "+t;var a=o[t]();if(null!=n)if("fixed"===s)a=a.toFixed(n);else{var l=Math.pow(10,n);a=Math.round(a*l)/l}return a}},setGroupHeaders:function(t){return t=$.extend({useColSpanStyle:!1,groupHeaders:[]},t||{}),this.each(function(){var e,i,n,s,r,o,a,l,c,d,h,u,p,f,g=this,m=0,v=g.p.colModel,b=v.length,y=g.grid.headers,w=$("table.ui-jqgrid-htable",g.grid.hDiv),_=w.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),x=w.children("thead"),C=w.find(".jqg-first-row-header"),k=$.jgrid.styleUI[g.p.styleUI||"jQueryUI"].base;g.p.groupHeader||(g.p.groupHeader=[]),g.p.groupHeader.push(t),void 0===C[0]?C=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):C.empty();var D,S=function(t,e){var i,n=e.length;for(i=0;n>i;i++)if(e[i].startColumnName===t)return i;return-1};for($(g).prepend(x),n=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),e=0;b>e;e++)if(r=y[e].el,o=$(r),i=v[e],a={height:"0px",width:y[e].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(a).addClass("ui-first-th-"+g.p.direction).appendTo(C),r.style.width="",(l=S(i.name,t.groupHeaders))>=0){for(c=t.groupHeaders[l],d=c.numberOfColumns,h=c.titleText,p=c.className||"",u=0,l=0;d>l&&b>e+l;l++)v[e+l].hidden||u++;s=$("<th>").attr({role:"columnheader"}).addClass(k.headerBox+" ui-th-column-header ui-th-"+g.p.direction+" "+p).html(h),u>0&&s.attr("colspan",String(u)),g.p.headertitles&&s.attr("title",s.text()),0===u&&s.hide(),o.before(s),n.append(r),m=d-1}else 0===m?t.useColSpanStyle?o.attr("rowspan","2"):($("<th>",{role:"columnheader"}).addClass(k.headerBox+" ui-th-column-header ui-th-"+g.p.direction).css({display:i.hidden?"none":""}).insertBefore(o),n.append(r)):(n.append(r),m--);f=$(g).children("thead"),f.prepend(C),n.insertAfter(_),w.append(f),t.useColSpanStyle&&(w.find("span.ui-jqgrid-resize").each(function(){var t=$(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")}),w.find("div.ui-jqgrid-sortable").each(function(){var t=$(this),e=t.parent();e.is(":visible")&&e.is(":has(span.ui-jqgrid-resize)")&&t.css("top",(e.height()-t.outerHeight())/2-4+"px")})),D=f.find("tr.jqg-first-row-header"),$(g).bind("jqGridResizeStop.setGroupHeaders",function(t,e,i){D.find("th").eq(i)[0].style.width=e+"px"})})},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each(function(){var e,i,n,s,r,o,a,l=this,c=l.grid,d=$("table.ui-jqgrid-htable thead",c.hDiv),h=l.p.colModel;if(c){for($(this).unbind(".setGroupHeaders"),e=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),s=c.headers,i=0,n=s.length;n>i;i++){a=h[i].hidden?"none":"",r=$(s[i].el).width(s[i].width).css("display",a);try{r.removeAttr("rowSpan")}catch(t){r.attr("rowSpan",1)}e.append(r),o=r.children("span.ui-jqgrid-resize"),o.length>0&&(o[0].style.height=""),r.children("div")[0].style.top=""}$(d).children("tr.ui-jqgrid-labels").remove(),$(d).prepend(e),!0===t&&$(l).jqGrid("setGridParam",{groupHeader:null})}})}}),$.jgrid=$.jgrid||{},$.extend($.jgrid,{saveState:function(t,e){if(e=$.extend({useStorage:!0,storageType:"localStorage",beforeSetItem:null,compression:!1,compressionModule:"LZString",compressionMethod:"compressToUTF16"},e||{}),t){var i,n,s="",r="",o=$("#"+t)[0];if(o.grid){if(n=$(o).data("inlineNav"),n&&o.p.inlineNav&&$(o).jqGrid("setGridParam",{_iN:n}),n=$(o).data("filterToolbar"),n&&o.p.filterToolbar&&$(o).jqGrid("setGridParam",{_fT:n}),s=$(o).jqGrid("jqGridExport",{exptype:"jsonstring",ident:"",root:""}),$(o.grid.bDiv).find(".ui-jqgrid-btable tr:gt(0)").each(function(t,e){r+=e.outerHTML}),$.isFunction(e.beforeSetItem)&&null!=(i=e.beforeSetItem.call(o,s))&&(s=i),e.compression&&e.compressionModule)try{null!=(i=window[e.compressionModule][e.compressionMethod](s))&&(s=i,r=window[e.compressionModule][e.compressionMethod](r))}catch(t){}if(e.useStorage&&$.jgrid.isLocalStorage())try{window[e.storageType].setItem("jqGrid"+o.p.id,s),window[e.storageType].setItem("jqGrid"+o.p.id+"_data",r)}catch(t){22===t.code&&alert("Local storage limit is over!")}return s}}},loadState:function(t,e,i){if(i=$.extend({useStorage:!0,storageType:"localStorage",clearAfterLoad:!1,beforeSetGrid:null,afterSetGrid:null,decompression:!1,decompressionModule:"LZString",decompressionMethod:"decompressFromUTF16"},i||{}),t){var n,s,r,o,a,l=$("#"+t)[0];if(i.useStorage)try{e=window[i.storageType].getItem("jqGrid"+l.id),r=window[i.storageType].getItem("jqGrid"+l.id+"_data")}catch(t){}if(e){if(i.decompression&&i.decompressionModule)try{null!=(n=window[i.decompressionModule][i.decompressionMethod](e))&&(e=n,r=window[i.decompressionModule][i.decompressionMethod](r))}catch(t){}if((n=jqGridUtils.parse(e))&&"object"===$.type(n)){l.grid&&$.jgrid.gridUnload(t),$.isFunction(i.beforeSetGrid)&&(s=i.beforeSetGrid(n))&&"object"===$.type(s)&&(n=s);var c=function(t){return t},d={reccount:n.reccount,records:n.records,lastpage:n.lastpage,shrinkToFit:c(n.shrinkToFit),data:c(n.data),datatype:c(n.datatype),grouping:c(n.grouping)};n.shrinkToFit=!1,n.data=[],n.datatype="local",n.grouping=!1,n.inlineNav&&(o=c(n._iN),n._iN=null,delete n._iN),n.filterToolbar&&(a=c(n._fT),n._fT=null,delete n._fT);var h=$("#"+t).jqGrid(n);if(h.append(r),h.jqGrid("setGridParam",d),n.storeNavOptions&&n.navGrid&&(h[0].p.navGrid=!1,h.jqGrid("navGrid",n.pager,n.navOptions,n.editOptions,n.addOptions,n.delOptions,n.searchOptions,n.viewOptions),n.navButtons&&n.navButtons.length))for(var u=0;u<n.navButtons.length;u++)"sepclass"in n.navButtons[u][1]?h.jqGrid("navSeparatorAdd",n.navButtons[u][0],n.navButtons[u][1]):h.jqGrid("navButtonAdd",n.navButtons[u][0],n.navButtons[u][1]);n.inlineNav&&o&&(h.jqGrid("setGridParam",{inlineNav:!1}),h.jqGrid("inlineNav",n.pager,o)),n.filterToolbar&&a&&(h.jqGrid("setGridParam",{filterToolbar:!1}),a.restoreFromFilters=!0,h.jqGrid("filterToolbar",a)),n.frozenColumns&&h.jqGrid("setFrozenColumns"),h[0].updatepager(!0,!0),$.isFunction(i.afterSetGrid)&&i.afterSetGrid(h),i.clearAfterLoad&&(window[i.storageType].removeItem("jqGrid"+l.id),window[i.storageType].removeItem("jqGrid"+l.id+"_data"))}else alert("can not convert to object")}}},isGridInStorage:function(t,e){var i={storageType:"localStorage"};i=$.extend(i,e||{});var n,s,r;try{s=window[i.storageType].getItem("jqGrid"+t),r=window[i.storageType].getItem("jqGrid"+t+"_data"),n=null!=s&&null!=r&&"string"==typeof s&&"string"==typeof r}catch(t){n=!1}return n},setRegional:function(t,e){var i={storageType:"sessionStorage"};if(i=$.extend(i,e||{}),i.regional){$.jgrid.saveState(t,i),i.beforeSetGrid=function(t){return t.regional=i.regional,t.force_regional=!0,t},$.jgrid.loadState(t,null,i);var n=$("#"+t)[0],s=$(n).jqGrid("getGridParam","colModel"),r=-1,o=$.jgrid.getRegional(n,"nav");$.each(s,function(t){return this.formatter&&"actions"===this.formatter?(r=t,!1):void 0}),-1!==r&&o&&$("#"+t+" tbody tr").each(function(){var t=this.cells[r];$(t).find(".ui-inline-edit").attr("title",o.edittitle),$(t).find(".ui-inline-del").attr("title",o.deltitle),$(t).find(".ui-inline-save").attr("title",o.savetitle),$(t).find(".ui-inline-cancel").attr("title",o.canceltitle)});try{window[i.storageType].removeItem("jqGrid"+n.id),window[i.storageType].removeItem("jqGrid"+n.id+"_data")}catch(t){}}},jqGridImport:function(t,e){e=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"root>grid",data:"root>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{});var i=(0===t.indexOf("#")?"":"#")+$.jgrid.jqID(t),n=function(t,e){var n,s,r,o=$(e.xmlGrid.config,t)[0],a=$(e.xmlGrid.data,t)[0];if(jqGridUtils.xmlToJSON){
n=jqGridUtils.xmlToJSON(o);for(r in n)n.hasOwnProperty(r)&&(s=n[r]);if(a){var l=n.grid.datatype;n.grid.datatype="xmlstring",n.grid.datastr=t,$(i).jqGrid(s).jqGrid("setGridParam",{datatype:l})}else setTimeout(function(){$(i).jqGrid(s)},0)}else alert("xml2json or parse are not present")},s=function(t,e){if(t&&"string"==typeof t){var n=jqGridUtils.parse(t),s=n[e.jsonGrid.config],r=n[e.jsonGrid.data];if(r){var o=s.datatype;s.datatype="jsonstring",s.datastr=r,$(i).jqGrid(s).jqGrid("setGridParam",{datatype:o})}else $(i).jqGrid(s)}};switch(e.imptype){case"xml":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",complete:function(t,s){"success"===s&&(n(t.responseXML,e),$(i).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t)),t=null}},e.ajaxOptions));break;case"xmlstring":if(e.impstring&&"string"==typeof e.impstring){var r=$.parseXML(e.impstring);r&&(n(r,e),$(i).triggerHandler("jqGridImportComplete",[r,e]),$.isFunction(e.importComplete)&&e.importComplete(r))}break;case"json":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",complete:function(t){try{s(t.responseText,e),$(i).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t)}catch(t){}t=null}},e.ajaxOptions));break;case"jsonstring":e.impstring&&"string"==typeof e.impstring&&(s(e.impstring,e),$(i).triggerHandler("jqGridImportComplete",[e.impstring,e]),$.isFunction(e.importComplete)&&e.importComplete(e.impstring))}}}),$.jgrid.extend({jqGridExport:function(t){t=$.extend({exptype:"xmlstring",root:"grid",ident:"\t",addOptions:{}},t||{});var e=null;return this.each(function(){if(this.grid){var i,n=$.extend(!0,{},$(this).jqGrid("getGridParam"),t.addOptions);if(n.rownumbers&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.multiselect&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.subGrid&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.knv=null,n.treeGrid)for(i in n.treeReader)n.treeReader.hasOwnProperty(i)&&(n.colNames.splice(n.colNames.length-1),n.colModel.splice(n.colModel.length-1));switch(t.exptype){case"xmlstring":e="<"+t.root+">"+jqGridUtils.jsonToXML(n,{xmlDecl:""})+"</"+t.root+">";break;case"jsonstring":e=jqGridUtils.stringify(n),t.root&&(e="{"+t.root+":"+e+"}")}}}),e},excelExport:function(t){return t=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},t||{}),this.each(function(){if(this.grid){var e;if("remote"===t.exptype){var i=$.extend({},this.p.postData);i[t.oper]=t.tag;var n=jQuery.param(i);e=-1!==t.url.indexOf("?")?t.url+"&"+n:t.url+"?"+n,window.location=e}}})}}),$.jgrid.inlineEdit=$.jgrid.inlineEdit||{},$.jgrid.extend({editRow:function(t,e,i,n,s,r,o,a,l){var c={},d=$.makeArray(arguments).slice(1);return"object"===$.type(d[0])?c=d[0]:(void 0!==e&&(c.keys=e),$.isFunction(i)&&(c.oneditfunc=i),$.isFunction(n)&&(c.successfunc=n),void 0!==s&&(c.url=s),void 0!==r&&(c.extraparam=r),$.isFunction(o)&&(c.aftersavefunc=o),$.isFunction(a)&&(c.errorfunc=a),$.isFunction(l)&&(c.afterrestorefunc=l)),c=$.extend(!0,{keys:!1,keyevent:"keydown",oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},$.jgrid.inlineEdit,c),this.each(function(){var e,i,n,s,r,o=this,a=0,l=null,d={},h=$(this).jqGrid("getStyleUI",o.p.styleUI+".inlinedit","inputClass",!0);o.grid&&!1!==(n=$(o).jqGrid("getInd",t,!0))&&(r=$.isFunction(c.beforeEditRow)?c.beforeEditRow.call(o,c,t):void 0,void 0===r&&(r=!0),r&&("0"!==($(n).attr("editable")||"0")||$(n).hasClass("not-editable-row")||(s=o.p.colModel,$('td[role="gridcell"]',n).each(function(n){e=s[n].name;var r=!0===o.p.treeGrid&&e===o.p.ExpandColumn;if(r)i=$("span:first",this).html();else try{i=$.unformat.call(o,this,{rowId:t,colModel:s[n]},n)}catch(t){i=s[n].edittype&&"textarea"===s[n].edittype?$(this).text():$(this).html()}if("cb"!==e&&"subgrid"!==e&&"rn"!==e&&(o.p.autoencode&&(i=$.jgrid.htmlDecode(i)),d[e]=i,!0===s[n].editable)){null===l&&(l=n),r?$("span:first",this).html(""):$(this).html("");var c=$.extend({},s[n].editoptions||{},{id:t+"_"+e,name:e,rowId:t,oper:"edit"});s[n].edittype||(s[n].edittype="text"),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i="");var u=$.jgrid.createEl.call(o,s[n].edittype,c,i,!0,$.extend({},$.jgrid.ajaxOptions,o.p.ajaxSelectOptions||{}));$(u).addClass("editable inline-edit-cell"),$.inArray(s[n].edittype,["text","textarea","password","select"])>-1&&$(u).addClass(h),r?$("span:first",this).append(u):$(this).append(u),$.jgrid.bindEv.call(o,u,c),"select"===s[n].edittype&&void 0!==s[n].editoptions&&!0===s[n].editoptions.multiple&&void 0===s[n].editoptions.dataUrl&&$.jgrid.msie&&$(u).width($(u).width()),a++}}),a>0&&(d.id=t,o.p.savedRow.push(d),$(n).attr("editable","1"),c.focusField&&("number"==typeof c.focusField&&parseInt(c.focusField,10)<=s.length&&(l=c.focusField),setTimeout(function(){var t=$("td:eq("+l+") :input:visible",n).not(":disabled");t.length>0&&t.focus()},0)),!0===c.keys&&$(n).bind(c.keyevent,function(e){if(27===e.keyCode){if($(o).jqGrid("restoreRow",t,c.afterrestorefunc),o.p.inlineNav)try{$(o).jqGrid("showAddEditButtons")}catch(t){}return!1}if(13===e.keyCode){if("TEXTAREA"===e.target.tagName)return!0;if($(o).jqGrid("saveRow",t,c)&&o.p.inlineNav)try{$(o).jqGrid("showAddEditButtons")}catch(t){}return!1}}),$(o).triggerHandler("jqGridInlineEditRow",[t,c]),$.isFunction(c.oneditfunc)&&c.oneditfunc.call(o,t)))))})},saveRow:function(t,e,i,n,s,r,o){var a=$.makeArray(arguments).slice(1),l={},c=this[0];"object"===$.type(a[0])?l=a[0]:($.isFunction(e)&&(l.successfunc=e),void 0!==i&&(l.url=i),void 0!==n&&(l.extraparam=n),$.isFunction(s)&&(l.aftersavefunc=s),$.isFunction(r)&&(l.errorfunc=r),$.isFunction(o)&&(l.afterrestorefunc=o)),l=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:$.jgrid.getRegional(c,"defaults.savetext")},$.jgrid.inlineEdit,l);var d,h,u,p,f,g=!1,m={},v={},b={},y=!1,w=$.trim($(c).jqGrid("getStyleUI",c.p.styleUI+".common","error",!0));if(!c.grid)return g;if(!1===(f=$(c).jqGrid("getInd",t,!0)))return g;var _=$.jgrid.getRegional(this,"errors"),x=$.jgrid.getRegional(this,"edit"),C=$.isFunction(l.beforeSaveRow)?l.beforeSaveRow.call(c,l,t):void 0;if(void 0===C&&(C=!0),C){if(h=$(f).attr("editable"),l.url=l.url||c.p.editurl,"1"===h){var k;if($('td[role="gridcell"]',f).each(function(t){if(k=c.p.colModel[t],"cb"!==(d=k.name)&&"subgrid"!==d&&!0===k.editable&&"rn"!==d&&!$(this).hasClass("not-editable-cell")){switch(k.edittype){case"checkbox":var e=["Yes","No"];k.editoptions&&(e=k.editoptions.value.split(":")),m[d]=$("input",this).is(":checked")?e[0]:e[1];break;case"text":case"password":case"textarea":case"button":m[d]=$("input, textarea",this).val();break;case"select":if(k.editoptions.multiple){var i=$("select",this),n=[];m[d]=$(i).val(),m[d]?m[d]=m[d].join(","):m[d]="",$("select option:selected",this).each(function(t,e){n[t]=$(e).text()}),v[d]=n.join(",")}else m[d]=$("select option:selected",this).val(),v[d]=$("select option:selected",this).text();k.formatter&&"select"===k.formatter&&(v={});break;case"custom":try{if(!k.editoptions||!$.isFunction(k.editoptions.custom_value))throw"e1";if(m[d]=k.editoptions.custom_value.call(c,$(".customelement",this),"get"),void 0===m[d])throw"e2"}catch(t){"e1"===t?$.jgrid.info_dialog(_.errcap,"function 'custom_value' "+x.msg.nodefined,x.bClose,{styleUI:c.p.styleUI}):$.jgrid.info_dialog(_.errcap,t.message,x.bClose,{styleUI:c.p.styleUI})}}if(p=$.jgrid.checkValues.call(c,m[d],t),!1===p[0])return!1;c.p.autoencode&&(m[d]=$.jgrid.htmlEncode(m[d])),"clientArray"!==l.url&&k.editoptions&&!0===k.editoptions.NullIfEmpty&&""===m[d]&&(b[d]="null",y=!0)}}),!1===p[0]){try{var D=$(c).jqGrid("getGridRowById",t),S=$.jgrid.findPos(D);$.jgrid.info_dialog(_.errcap,p[1],x.bClose,{left:S[0],top:S[1]+$(D).outerHeight(),styleUI:c.p.styleUI})}catch(t){alert(p[1])}return g}var T,I=c.p.prmNames,E=t;if(T=!1===c.p.keyName?I.id:c.p.keyName,m){if(m[I.oper]=I.editoper,void 0===m[T]||""===m[T])m[T]=t;else if(f.id!==c.p.idPrefix+m[T]){var j=$.jgrid.stripPref(c.p.idPrefix,t);if(void 0!==c.p._index[j]&&(c.p._index[m[T]]=c.p._index[j],delete c.p._index[j]),t=c.p.idPrefix+m[T],$(f).attr("id",t),c.p.selrow===E&&(c.p.selrow=t),$.isArray(c.p.selarrrow)){var A=$.inArray(E,c.p.selarrrow);A>=0&&(c.p.selarrrow[A]=t)}if(c.p.multiselect){var M="jqg_"+c.p.id+"_"+t;$("input.cbox",f).attr("id",M).attr("name",M)}}void 0===c.p.inlineData&&(c.p.inlineData={}),m=$.extend({},m,c.p.inlineData,l.extraparam)}if("clientArray"===l.url){m=$.extend({},m,v),c.p.autoencode&&$.each(m,function(t,e){m[t]=$.jgrid.htmlDecode(e)});var F,P=$(c).jqGrid("setRowData",t,m);for($(f).attr("editable","0"),F=0;F<c.p.savedRow.length;F++)if(String(c.p.savedRow[F].id)===String(E)){u=F;break}u>=0&&c.p.savedRow.splice(u,1),$(c).triggerHandler("jqGridInlineAfterSaveRow",[t,P,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(c,t,P,m,l),g=!0,$(f).removeClass("jqgrid-new-row").unbind("keydown")}else $(c).jqGrid("progressBar",{method:"show",loadtype:l.saveui,htmlcontent:l.savetext}),b=$.extend({},m,b),b[T]=$.jgrid.stripPref(c.p.idPrefix,b[T]),$.ajax($.extend({url:l.url,data:$.isFunction(c.p.serializeRowData)?c.p.serializeRowData.call(c,b):b,type:l.mtype,async:!1,complete:function(e,i){if($(c).jqGrid("progressBar",{method:"hide",loadtype:l.saveui,htmlcontent:l.savetext}),"success"===i){var n,s,r=!0;if(n=$(c).triggerHandler("jqGridInlineSuccessSaveRow",[e,t,l]),$.isArray(n)||(n=[!0,b]),n[0]&&$.isFunction(l.successfunc)&&(n=l.successfunc.call(c,e)),$.isArray(n)?(r=n[0],m=n[1]||m):r=n,!0===r){for(c.p.autoencode&&$.each(m,function(t,e){m[t]=$.jgrid.htmlDecode(e)}),y&&$.each(m,function(t){"null"===m[t]&&(m[t]="")}),m=$.extend({},m,v),$(c).jqGrid("setRowData",t,m),$(f).attr("editable","0"),s=0;s<c.p.savedRow.length;s++)if(String(c.p.savedRow[s].id)===String(t)){u=s;break}u>=0&&c.p.savedRow.splice(u,1),$(c).triggerHandler("jqGridInlineAfterSaveRow",[t,e,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(c,t,e,m,l),g=!0,$(f).removeClass("jqgrid-new-row").unbind("keydown")}else $(c).triggerHandler("jqGridInlineErrorSaveRow",[t,e,i,null,l]),$.isFunction(l.errorfunc)&&l.errorfunc.call(c,t,e,i,null),!0===l.restoreAfterError&&$(c).jqGrid("restoreRow",t,l.afterrestorefunc)}},error:function(e,i,n){if($("#lui_"+$.jgrid.jqID(c.p.id)).hide(),$(c).triggerHandler("jqGridInlineErrorSaveRow",[t,e,i,n,l]),$.isFunction(l.errorfunc))l.errorfunc.call(c,t,e,i,n);else{var s=e.responseText||e.statusText;try{$.jgrid.info_dialog(_.errcap,'<div class="'+w+'">'+s+"</div>",x.bClose,{buttonalign:"right",styleUI:c.p.styleUI})}catch(t){alert(s)}}!0===l.restoreAfterError&&$(c).jqGrid("restoreRow",t,l.afterrestorefunc)}},$.jgrid.ajaxOptions,c.p.ajaxRowOptions||{}))}return g}},restoreRow:function(t,e){var i=$.makeArray(arguments).slice(1),n={};return"object"===$.type(i[0])?n=i[0]:$.isFunction(e)&&(n.afterrestorefunc=e),n=$.extend(!0,{},$.jgrid.inlineEdit,n),this.each(function(){var e,i,s=this,r=-1,o={};if(s.grid&&!1!==(e=$(s).jqGrid("getInd",t,!0))){var a=$.isFunction(n.beforeCancelRow)?n.beforeCancelRow.call(s,n,t):void 0;if(void 0===a&&(a=!0),a){for(i=0;i<s.p.savedRow.length;i++)if(String(s.p.savedRow[i].id)===String(t)){r=i;break}if(r>=0){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+$.jgrid.jqID(e.id)).datepicker("hide")}catch(t){}$.each(s.p.colModel,function(){!0===this.editable&&s.p.savedRow[r].hasOwnProperty(this.name)&&(o[this.name]=s.p.savedRow[r][this.name])}),$(s).jqGrid("setRowData",t,o),$(e).attr("editable","0").unbind("keydown"),s.p.savedRow.splice(r,1),$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){$(s).jqGrid("delRowData",t),$(s).jqGrid("showAddEditButtons")},0)}$(s).triggerHandler("jqGridInlineAfterRestoreRow",[t]),$.isFunction(n.afterrestorefunc)&&n.afterrestorefunc.call(s,t)}}})},addRow:function(t){return t=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each(function(){if(this.grid){var e=this,i=$.isFunction(t.beforeAddRow)?t.beforeAddRow.call(e,t.addRowParams):void 0;if(void 0===i&&(i=!0),i)if(t.rowID=$.isFunction(t.rowID)?t.rowID.call(e,t):null!=t.rowID?t.rowID:$.jgrid.randId(),!0===t.useDefValues&&$(e.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var i=this.editoptions.defaultValue,n=$.isFunction(i)?i.call(e):i;t.initdata[this.name]=n}}),$(e).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=e.p.idPrefix+t.rowID,$("#"+$.jgrid.jqID(t.rowID),"#"+$.jgrid.jqID(e.p.id)).addClass("jqgrid-new-row"),t.useFormatter)$("#"+$.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+$.jgrid.jqID(e.p.id)).click();else{var n=e.p.prmNames,s=n.oper;t.addRowParams.extraparam[s]=n.addoper,$(e).jqGrid("editRow",t.rowID,t.addRowParams),$(e).jqGrid("setSelection",t.rowID)}}})},inlineNav:function(t,e){var i=this[0],n=$.jgrid.getRegional(i,"nav"),s=$.jgrid.styleUI[i.p.styleUI].inlinedit;return e=$.extend(!0,{edit:!0,editicon:s.icon_edit_nav,add:!0,addicon:s.icon_add_nav,save:!0,saveicon:s.icon_save_nav,cancel:!0,cancelicon:s.icon_cancel_nav,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},n,e||{}),this.each(function(){if(this.grid&&!this.p.inlineNav){var s=$.jgrid.jqID(i.p.id),r=$.trim($(i).jqGrid("getStyleUI",i.p.styleUI+".common","disabled",!0));if(i.p.navGrid||$(i).jqGrid("navGrid",t,{refresh:!1,edit:!1,add:!1,del:!1,search:!1,view:!1}),$(i).data("inlineNav")||$(i).data("inlineNav",e),i.p.force_regional&&(e=$.extend(e,n)),i.p.inlineNav=!0,!0===e.addParams.useFormatter){var o,a=i.p.colModel;for(o=0;o<a.length;o++)if(a[o].formatter&&"actions"===a[o].formatter){if(a[o].formatoptions){var l={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},c=$.extend(l,a[o].formatoptions);e.addParams.addRowParams={keys:c.keys,oneditfunc:c.onEdit,successfunc:c.onSuccess,url:c.url,extraparam:c.extraparam,aftersavefunc:c.afterSave,errorfunc:c.onError,afterrestorefunc:c.afterRestore}}break}}e.add&&$(i).jqGrid("navButtonAdd",t,{caption:e.addtext,title:e.addtitle,buttonicon:e.addicon,id:i.p.id+"_iladd",internal:!0,onClickButton:function(){$(i).jqGrid("addRow",e.addParams),e.addParams.useFormatter||($("#"+s+"_ilsave").removeClass(r),$("#"+s+"_ilcancel").removeClass(r),$("#"+s+"_iladd").addClass(r),$("#"+s+"_iledit").addClass(r))}}),e.edit&&$(i).jqGrid("navButtonAdd",t,{caption:e.edittext,title:e.edittitle,buttonicon:e.editicon,id:i.p.id+"_iledit",internal:!0,onClickButton:function(){var t=$(i).jqGrid("getGridParam","selrow");t?($(i).jqGrid("editRow",t,e.editParams),$("#"+s+"_ilsave").removeClass(r),$("#"+s+"_ilcancel").removeClass(r),$("#"+s+"_iladd").addClass(r),$("#"+s+"_iledit").addClass(r)):($.jgrid.viewModal("#alertmod_"+s,{gbox:"#gbox_"+s,jqm:!0}),$("#jqg_alrt").focus())}}),e.save&&($(i).jqGrid("navButtonAdd",t,{caption:e.savetext||"",title:e.savetitle||"Save row",buttonicon:e.saveicon,id:i.p.id+"_ilsave",internal:!0,onClickButton:function(){var t=i.p.savedRow[0].id;if(t){var n=i.p.prmNames,r=n.oper,o=e.editParams;$("#"+$.jgrid.jqID(t),"#"+s).hasClass("jqgrid-new-row")?(e.addParams.addRowParams.extraparam[r]=n.addoper,o=e.addParams.addRowParams):(e.editParams.extraparam||(e.editParams.extraparam={}),e.editParams.extraparam[r]=n.editoper),$(i).jqGrid("saveRow",t,o)&&$(i).jqGrid("showAddEditButtons")}else $.jgrid.viewModal("#alertmod_"+s,{gbox:"#gbox_"+s,jqm:!0}),$("#jqg_alrt").focus()}}),$("#"+s+"_ilsave").addClass(r)),e.cancel&&($(i).jqGrid("navButtonAdd",t,{caption:e.canceltext||"",title:e.canceltitle||"Cancel row editing",buttonicon:e.cancelicon,id:i.p.id+"_ilcancel",internal:!0,onClickButton:function(){var t=i.p.savedRow[0].id,n=e.editParams;t?($("#"+$.jgrid.jqID(t),"#"+s).hasClass("jqgrid-new-row")&&(n=e.addParams.addRowParams),$(i).jqGrid("restoreRow",t,n),$(i).jqGrid("showAddEditButtons")):($.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+s,jqm:!0}),$("#jqg_alrt").focus())}}),$("#"+s+"_ilcancel").addClass(r)),!0===e.restoreAfterSelect&&$(i).bind("jqGridBeforeSelectRow.inlineNav",function(t,n){i.p.savedRow.length>0&&!0===i.p.inlineNav&&n!==i.p.selrow&&null!==i.p.selrow&&(i.p.selrow===e.addParams.rowID?$(i).jqGrid("delRowData",i.p.selrow):$(i).jqGrid("restoreRow",i.p.selrow,e.editParams),$(i).jqGrid("showAddEditButtons"))})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var t=$.jgrid.jqID(this.p.id),e=$.trim($(this).jqGrid("getStyleUI",this.p.styleUI+".common","disabled",!0));$("#"+t+"_ilsave").addClass(e),$("#"+t+"_ilcancel").addClass(e),$("#"+t+"_iladd").removeClass(e),$("#"+t+"_iledit").removeClass(e)}})}}),$.jgrid.msie&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(t){return 0===t.offsetWidth||0===t.offsetHeight||"none"===t.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(t,e){var i=setSelected.call(this,t,e);if(e&&this.selectedList){var n=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(n)})}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(t){return this.each(function(){function e(){i.p.disableClick=!0}var i=this,n=$.jgrid.jqID(i.p.id),s={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+n+"_cb,#jqgh_"+n+"_rn,#jqgh_"+n+"_subgrid),:hidden)",placeholder:{element:function(t){return $(document.createElement(t[0].nodeName)).addClass(t[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(t,e){e.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),e.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}},update:function(t,e){var n=$(e.item).parent(),s=$(">th",n),r=i.p.colModel,o={},a=i.p.id+"_";$.each(r,function(t){o[this.name]=t});var l=[];s.each(function(){var t=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(a,"");o.hasOwnProperty(t)&&l.push(o[t])}),$(i).jqGrid("remapColumns",l,!0,!0),$.isFunction(i.p.sortable.update)&&i.p.sortable.update(l),setTimeout(function(){i.p.disableClick=!1},50)}};if(i.p.sortable.options?$.extend(s,i.p.sortable.options):$.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable}),s.start){var r=s.start;s.start=function(t,i){e(),r.call(this,t,i)}}else s.start=e;i.p.sortable.exclude&&(s.items+=":not("+i.p.sortable.exclude+")");var o=t.sortable(s),a=o.data("sortable")||o.data("uiSortable");null!=a&&(a.data("sortable").floating=!0)})},columnChooser:function(t){function e(t,e,i){var n,s;return e>=0?(n=t.slice(),s=n.splice(e,Math.max(t.length-e,e)),e>t.length&&(e=t.length),n[e]=i,n.concat(s)):t}function i(t,e){t&&("string"==typeof t?$.fn[t]&&$.fn[t].apply(e,$.makeArray(arguments).slice(2)):$.isFunction(t)&&t.apply(e,$.makeArray(arguments).slice(2)))}var n,s,r,o,a,l,c,d=this,h={},u=[],p=d.jqGrid("getGridParam","colModel"),f=d.jqGrid("getGridParam","colNames"),g=function(t){return $.ui.multiselect.prototype&&t.data($.ui.multiselect.prototype.widgetFullName||$.ui.multiselect.prototype.widgetName)||t.data("ui-multiselect")||t.data("multiselect")},m=$.jgrid.getRegional(this[0],"col");if(!$("#colchooser_"+$.jgrid.jqID(d[0].p.id)).length){if(n=$('<div id="colchooser_'+d[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),s=$("select",n),t=$.extend({width:400,height:240,classname:null,done:function(t){t&&d.jqGrid("remapColumns",t,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(t){var e={};return e[t.bSubmit]=function(){t.apply_perm(),t.cleanup(!1)},e[t.bCancel]=function(){t.cleanup(!0)},$.extend(!0,{buttons:e,close:function(){t.cleanup(!0)},modal:t.modal||!1,resizable:t.resizable||!0,width:t.width+70,resize:function(){var t=g(s),e=t.container.closest(".ui-dialog-content");e.length>0&&"object"==typeof e[0].style?e[0].style.width="":e.css("width",""),t.selectedList.height(Math.max(t.selectedContainer.height()-t.selectedActions.outerHeight()-1,1)),t.availableList.height(Math.max(t.availableContainer.height()-t.availableActions.outerHeight()-1,1))}},t.dialog_opts||{})},apply_perm:function(){var i=[];$("option",s).each(function(){$(this).is(":selected")?d.jqGrid("showCol",p[this.value].name):d.jqGrid("hideCol",p[this.value].name)}),$("option[selected]",s).each(function(){i.push(parseInt(this.value,10))}),$.each(i,function(){delete h[p[parseInt(this,10)].name]}),$.each(h,function(){var t=parseInt(this,10);i=e(i,t,t)}),t.done&&t.done.call(d,i),d.jqGrid("setGridWidth",d[0].p.width,d[0].p.shrinkToFit)},cleanup:function(e){i(t.dlog,n,"destroy"),i(t.msel,s,"destroy"),n.remove(),e&&t.done&&t.done.call(d)},msel_opts:{}},m,t||{}),$.ui&&$.ui.multiselect&&$.ui.multiselect.defaults){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");t.msel_opts=$.extend($.ui.multiselect.defaults,t.msel_opts)}t.caption&&n.attr("title",t.caption),t.classname&&(n.addClass(t.classname),s.addClass(t.classname)),t.width&&($(">div",n).css({width:t.width,margin:"0 auto"}),s.css("width",t.width)),t.height&&($(">div",n).css("height",t.height),s.css("height",t.height-10)),s.empty(),$.each(p,function(t){return h[this.name]=t,this.hidedlg?void(this.hidden||u.push(t)):void s.append("<option value='"+t+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(f[t])+"</option>")}),r=$.isFunction(t.dlog_opts)?t.dlog_opts.call(d,t):t.dlog_opts,i(t.dlog,n,r),o=$.isFunction(t.msel_opts)?t.msel_opts.call(d,t):t.msel_opts,i(t.msel,s,o),a=$("#colchooser_"+$.jgrid.jqID(d[0].p.id)),a.css({margin:"auto"}),a.find(">div").css({width:"100%",height:"100%",margin:"auto"}),l=g(s),l.container.css({width:"100%",height:"100%",margin:"auto"}),l.selectedContainer.css({width:100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.availableContainer.css({width:100-100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.selectedList.css("height","auto"),l.availableList.css("height","auto"),c=Math.max(l.selectedList.height(),l.availableList.height()),c=Math.min(c,$(window).height()),l.selectedList.css("height",c),l.availableList.css("height",c)}},sortableRows:function(t){return this.each(function(){var e=this;e.grid&&(e.p.treeGrid||$.fn.sortable&&(t=$.extend({cursor:"move",axis:"y",items:" > .jqgrow"},t||{}),t.start&&$.isFunction(t.start)?(t._start_=t.start,delete t.start):t._start_=!1,t.update&&$.isFunction(t.update)?(t._update_=t.update,delete t.update):t._update_=!1,t.start=function(i,n){if($(n.item).css("border-width","0"),$("td",n.item).each(function(t){this.style.width=e.grid.cols[t].style.width}),e.p.subGrid){var s=$(n.item).attr("id");try{$(e).jqGrid("collapseSubGridRow",s)}catch(t){}}t._start_&&t._start_.apply(this,[i,n])},t.update=function(i,n){$(n.item).css("border-width",""),!0===e.p.rownumbers&&$("td.jqgrid-rownum",e.rows).each(function(t){$(this).html(t+1+(parseInt(e.p.page,10)-1)*parseInt(e.p.rowNum,10))}),t._update_&&t._update_.apply(this,[i,n])},$("tbody:first",e).sortable(t),$("tbody:first > .jqgrow",e).disableSelection()))})},gridDnD:function(t){return this.each(function(){function e(){var t=$.data(s,"dnd");$("tr.jqgrow:not(.ui-draggable)",s).draggable($.isFunction(t.drag)?t.drag.call($(s),t):t.drag)}var i,n,s=this;if(s.grid&&!s.p.treeGrid&&$.fn.draggable&&$.fn.droppable){if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"==typeof t&&"updateDnD"===t&&!0===s.p.jqgdnd)return void e();if(t=$.extend({drag:function(t){return $.extend({start:function(e,i){var n,r;if(s.p.subGrid){r=$(i.helper).attr("id");try{$(s).jqGrid("collapseSubGridRow",r)}catch(t){}}for(n=0;n<$.data(s,"dnd").connectWith.length;n++)0===$($.data(s,"dnd").connectWith[n]).jqGrid("getGridParam","reccount")&&$($.data(s,"dnd").connectWith[n]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(t){this.style.width=s.grid.headers[t].width+"px"}),t.onstart&&$.isFunction(t.onstart)&&t.onstart.call($(s),e,i)},stop:function(e,i){var n,r;for(i.helper.dropped&&!t.dragcopy&&(r=$(i.helper).attr("id"),void 0===r&&(r=$(this).attr("id")),$(s).jqGrid("delRowData",r)),n=0;n<$.data(s,"dnd").connectWith.length;n++)$($.data(s,"dnd").connectWith[n]).jqGrid("delRowData","jqg_empty_row");t.onstop&&$.isFunction(t.onstop)&&t.onstop.call($(s),e,i)}},t.drag_opts||{})},drop:function(t){return $.extend({accept:function(t){if(!$(t).hasClass("jqgrow"))return t;var e=$(t).closest("table.ui-jqgrid-btable");if(e.length>0&&void 0!==$.data(e[0],"dnd")){var i=$.data(e[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),i)}return!1},drop:function(e,i){if($(i.draggable).hasClass("jqgrow")){var n=$(i.draggable).attr("id"),r=i.draggable.parent().parent().jqGrid("getRowData",n);if(!t.dropbyname){var o,a,l=0,c={},d=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(a in r)r.hasOwnProperty(a)&&(o=d[l].name,"cb"!==o&&"rn"!==o&&"subgrid"!==o&&r.hasOwnProperty(a)&&d[l]&&(c[o]=r[a]),l++);r=c}catch(t){}}if(i.helper.dropped=!0,t.beforedrop&&$.isFunction(t.beforedrop)){var h=t.beforedrop.call(this,e,i,r,$("#"+$.jgrid.jqID(s.p.id)),$(this));void 0!==h&&null!==h&&"object"==typeof h&&(r=h)}if(i.helper.dropped){var u;t.autoid&&($.isFunction(t.autoid)?u=t.autoid.call(this,r):(u=Math.ceil(1e3*Math.random()),u=t.autoidprefix+u)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",u,r,t.droppos)}t.ondrop&&$.isFunction(t.ondrop)&&t.ondrop.call(this,e,i,r)}}},t.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},t||{}),t.connectWith)for(t.connectWith=t.connectWith.split(","),t.connectWith=$.map(t.connectWith,function(t){return $.trim(t)}),$.data(s,"dnd",t),0===s.p.reccount||s.p.jqgdnd||e(),s.p.jqgdnd=!0,i=0;i<t.connectWith.length;i++)n=t.connectWith[i],$(n).droppable($.isFunction(t.drop)?t.drop.call($(s),t):t.drop)}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id),req;if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(t,e){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",e.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,t,e),$t.p.caption&&$("#gbox_"+gID).css({height:"auto"}),$t.p.frozenColumns&&(req&&clearTimeout(req),req=setTimeout(function(){req&&clearTimeout(req),$("#"+gID).jqGrid("destroyFrozenColumns"),$("#"+gID).jqGrid("setFrozenColumns")}))},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}}),$.assocArraySize=function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i},$.jgrid.extend({pivotSetup:function(t,e){var i=[],n=[],s=[],r=[],o=[],a={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},l=[],c=$.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},e||{});return this.each(function(){function e(t,e,i){var n;return n=_pivotfilter.call(t,e,i),n.length>0?n[0]:null}function d(t,e){var i,n=0,s=!0;for(i in t)if(t.hasOwnProperty(i)){if(t[i]!=this[n]){s=!1;break}if(++n>=this.length)break}return s&&(g=e),s}function h(t,e,i,n,s){var r;switch(t){case"sum":r=parseFloat(e||0)+parseFloat(n[i]||0);break;case"count":""!==e&&null!=e||(e=0),r=n.hasOwnProperty(i)?e+1:0;break;case"min":r=""===e||null==e?parseFloat(n[i]||0):Math.min(parseFloat(e),parseFloat(n[i]||0));break;case"max":r=""===e||null==e?parseFloat(n[i]||0):Math.max(parseFloat(e),parseFloat(n[i]||0));break;case"avg":r=(parseFloat(e||0)*(s-1)+parseFloat(n[i]||0))/s}return r}function u(t,e,i,n){var s,a,l,c,d=e.length,u="",p=[];for($.isArray(i)?(c=i.length,p=i):(c=1,p[0]=i),r=[],o=[],r.root=0,n._count?n._count++:n._count=1,l=0;c>l;l++){var f,g=[];for(s=0;d>s;s++){if(null==i)a=$.trim(e[s].member)+"_"+e[s].aggregator,f=a,p[0]=e[s].label||e[s].aggregator+" "+$.trim(e[s].member);else{f=i[l].replace(/\s+/g,"");try{a=1===d?u+f:u+f+"_"+e[s].aggregator+"_"+String(s)}catch(t){}p[l]=i[l]}a=isNaN(parseInt(a,10))?a:a+" ",n[a]=g[a]=h(e[s].aggregator,n[a],e[s].member,t,n._count)}u+=i[l].replace(/\s+/g,""),r[a]=g,o[a]=p[l]}return n}function p(t){var e,n,s,r,o;for(s in t)if(t.hasOwnProperty(s)){if("object"!=typeof t[s]){if("level"===s){if(void 0===R[t.level]&&(R[t.level]="",t.level>0&&-1===t.text.indexOf("_r_Totals")&&(l[t.level-1]={useColSpanStyle:!1,groupHeaders:[]})),R[t.level]!==t.text&&t.children.length&&-1===t.text.indexOf("_r_Totals")&&t.level>0){l[t.level-1].groupHeaders.push({titleText:t.label,numberOfColumns:0});var a=l[t.level-1].groupHeaders.length-1,d=0===a?O:N;if(t.level-1==(c.rowTotals?1:0)&&a>0){for(var h=0,u=0;a>u;u++)h+=l[t.level-1].groupHeaders[u].numberOfColumns;h&&(d=h+v)}i[d]&&(l[t.level-1].groupHeaders[a].startColumnName=i[d].name,l[t.level-1].groupHeaders[a].numberOfColumns=i.length-d),N=i.length}R[t.level]=t.text}if(t.level===b&&"level"===s&&b>0)if(y>1){var f=1;for(e in t.fields)t.fields.hasOwnProperty(e)&&(1===f&&l[b-1].groupHeaders.push({startColumnName:e,numberOfColumns:1,titleText:t.label||t.text}),f++);l[b-1].groupHeaders[l[b-1].groupHeaders.length-1].numberOfColumns=f-1}else l.splice(b-1,1)}if(null!=t[s]&&"object"==typeof t[s]&&p(t[s]),"level"===s&&t.level>0&&(t.level===(0===b?t.level:b)||-1!==R[t.level].indexOf("_r_Totals"))){n=0;for(e in t.fields)if(t.fields.hasOwnProperty(e)){o={};for(r in c.aggregates[n])if(c.aggregates[n].hasOwnProperty(r))switch(r){case"member":case"label":case"aggregator":break;default:o[r]=c.aggregates[n][r]}y>1?(o.name=e,o.label=c.aggregates[n].label||t.label):(o.name=t.text,o.label="_r_Totals"===t.text?c.rowTotalsText:t.label),i.push(o),n++}}}}var f,g,m,v,b,y,w,_,x=t.length,C=0;if(c.rowTotals&&c.yDimension.length>0){var k=c.yDimension[0].dataName;c.yDimension.splice(0,0,{dataName:k}),c.yDimension[0].converter=function(){return"_r_Totals"}}if(v=$.isArray(c.xDimension)?c.xDimension.length:0,b=c.yDimension.length,y=$.isArray(c.aggregates)?c.aggregates.length:0,0===v||0===y)throw"xDimension or aggregates optiona are not set!";var D;for(m=0;v>m;m++)D={name:c.xDimension[m].dataName,frozen:c.frozenStaticCols},null==c.xDimension[m].isGroupField&&(c.xDimension[m].isGroupField=!0),D=$.extend(!0,D,c.xDimension[m]),i.push(D);for(var S=v-1,T={};x>C;){f=t[C];var I=[],E=[];w={},m=0;do{I[m]=$.trim(f[c.xDimension[m].dataName]),w[c.xDimension[m].dataName]=I[m],m++}while(v>m);var j=0;if(g=-1,_=e(n,d,I)){if(g>=0){if(j=0,b>=1){for(j=0;b>j;j++)E[j]=$.trim(f[c.yDimension[j].dataName]),c.yDimension[j].converter&&$.isFunction(c.yDimension[j].converter)&&(E[j]=c.yDimension[j].converter.call(this,E[j],I,E));_=u(f,c.aggregates,E,_)}else 0===b&&(_=u(f,c.aggregates,null,_));n[g]=_}}else{if(j=0,b>=1){for(j=0;b>j;j++)E[j]=$.trim(f[c.yDimension[j].dataName]),c.yDimension[j].converter&&$.isFunction(c.yDimension[j].converter)&&(E[j]=c.yDimension[j].converter.call(this,E[j],I,E));w=u(f,c.aggregates,E,w)}else 0===b&&(w=u(f,c.aggregates,null,w));n.push(w)}var A,M=0,F=null,P=null;for(A in r)if(r.hasOwnProperty(A)){if(0===M)T.children&&void 0!==T.children||(T={text:A,level:0,children:[],label:A}),F=T.children;else{for(P=null,m=0;m<F.length;m++)if(F[m].text===A){P=F[m];break}P?F=P.children:(F.push({children:[],text:A,level:M,fields:r[A],label:o[A]}),F=F[F.length-1].children)}M++}C++}var R=[],N=i.length,O=N;b>0&&(l[b-1]={useColSpanStyle:!1,groupHeaders:[]}),p(T);var H
;if(c.colTotals)for(var q=n.length;q--;)for(m=v;m<i.length;m++)H=i[m].name,s[H]?s[H]+=parseFloat(n[q][H]||0):s[H]=parseFloat(n[q][H]||0);if(S>0)for(m=0;S>m;m++)i[m].isGroupField&&(a.groupingView.groupField.push(i[m].name),a.groupingView.groupSummary.push(c.groupSummary),a.groupingView.groupSummaryPos.push(c.groupSummaryPos));else a.grouping=!1;a.sortname=i[S].name,a.groupingView.hideFirstGroupCol=!0}),{colModel:i,rows:n,groupOptions:a,groupHeaders:l,summary:s}},jqPivot:function(t,e,i,n){return this.each(function(){function s(t){var n,s,o,a,l=jQuery(r).jqGrid("pivotSetup",t,e),c=$.assocArraySize(l.summary)>0,d=$.jgrid.from.call(r,l.rows);for(e.ignoreCase&&(d=d.ignoreCase()),n=0;n<l.groupOptions.groupingView.groupField.length;n++)s=e.xDimension[n].sortorder?e.xDimension[n].sortorder:"asc",o=e.xDimension[n].sorttype?e.xDimension[n].sorttype:"text",d.orderBy(l.groupOptions.groupingView.groupField[n],s,o,"",o);a=e.xDimension.length,l.groupOptions.sortname&&a&&(s=e.xDimension[a-1].sortorder?e.xDimension[a-1].sortorder:"asc",o=e.xDimension[a-1].sorttype?e.xDimension[a-1].sorttype:"text",d.orderBy(l.groupOptions.sortname,s,o,"",o)),jQuery(r).jqGrid($.extend(!0,{datastr:$.extend(d.select(),c?{userdata:l.summary}:{}),datatype:"jsonstring",footerrow:c,userDataOnFooter:c,colModel:l.colModel,viewrecords:!0,sortname:e.xDimension[0].dataName},l.groupOptions,i||{}));var h=l.groupHeaders;if(h.length)for(n=0;n<h.length;n++)h[n]&&h[n].groupHeaders.length&&jQuery(r).jqGrid("setGroupHeaders",h[n]);e.frozenStaticCols&&jQuery(r).jqGrid("setFrozenColumns")}var r=this;"string"==typeof t?$.ajax($.extend({url:t,dataType:"json",success:function(t){s($.jgrid.getAccessor(t,n&&n.reader?n.reader:"rows"))}},n||{})):s(t)})}}),$.jgrid.extend({setSubGrid:function(){return this.each(function(){var t,e,i=this,n=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].subgrid,s={plusicon:n.icon_plus,minusicon:n.icon_minus,openicon:n.icon_open,expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0};if(i.p.subGridOptions=$.extend(s,i.p.subGridOptions||{}),i.p.colNames.unshift(""),i.p.colModel.unshift({name:"subgrid",width:$.jgrid.cell_width?i.p.subGridWidth+i.p.cellLayout:i.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),t=i.p.subGridModel,t[0])for(t[0].align=$.extend([],t[0].align||[]),e=0;e<t[0].name.length;e++)t[0].align[e]=t[0].align[e]||"left"})},addSubGridCell:function(t,e){var i,n,s,r="";return this.each(function(){r=this.formatCol(t,e),n=this.p.id,i=this.p.subGridOptions.plusicon,s=$.jgrid.styleUI[this.p.styleUI||"jQueryUI"].common}),'<td role="gridcell" aria-describedby="'+n+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+r+"><a style='cursor:pointer;' class='ui-sghref'><span class='"+s.icon_base+" "+i+"'></span></a></td>"},addSubGrid:function(t,e){return this.each(function(){var i=this;if(i.grid){var n,s,r,o,a,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,c=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,d=function(t,e,n){var s=$("<td align='"+i.p.subGridModel[0].align[n]+"'></td>").html(e);$(t).append(s)},h=function(t,e){var n,s,r,o=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),a=$("<tr></tr>");for(s=0;s<i.p.subGridModel[0].name.length;s++)n=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(n).html(i.p.subGridModel[0].name[s]),$(n).width(i.p.subGridModel[0].width[s]),$(a).append(n);$(o).append(a),t&&(r=i.p.xmlReader.subgrid,$(r.root+" "+r.row,t).each(function(){if(a=$("<tr class='"+c.content+" ui-subtblcell'></tr>"),!0===r.repeatitems)$(r.cell,this).each(function(t){d(a,$(this).text()||"&#160;",t)});else{var t=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(t)for(s=0;s<t.length;s++)d(a,$(t[s],this).text()||"&#160;",s)}$(o).append(a)}));var h=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(h+e)).append(o),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},u=function(t,e){var n,s,r,o,a,h,u=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),p=$("<tr></tr>");for(r=0;r<i.p.subGridModel[0].name.length;r++)n=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(n).html(i.p.subGridModel[0].name[r]),$(n).width(i.p.subGridModel[0].width[r]),$(p).append(n);if($(u).append(p),t&&(a=i.p.jsonReader.subgrid,void 0!==(s=$.jgrid.getAccessor(t,a.root))))for(r=0;r<s.length;r++){if(o=s[r],p=$("<tr class='"+c.content+" ui-subtblcell'></tr>"),!0===a.repeatitems)for(a.cell&&(o=o[a.cell]),h=0;h<o.length;h++)d(p,o[h]||"&#160;",h);else{var f=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(f.length)for(h=0;h<f.length;h++)d(p,o[f[h]]||"&#160;",h)}$(u).append(p)}var g=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(g+e)).append(u),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},p=function(t){var e,n,s,r;if(e=$(t).attr("id"),n={nd_:(new Date).getTime()},n[i.p.prmNames.subgridid]=e,!i.p.subGridModel[0])return!1;if(i.p.subGridModel[0].params)for(r=0;r<i.p.subGridModel[0].params.length;r++)for(s=0;s<i.p.colModel.length;s++)i.p.colModel[s].name===i.p.subGridModel[0].params[r]&&(n[i.p.colModel[s].name]=$("td:eq("+s+")",t).text().replace(/\&#160\;/gi,""));if(!i.grid.hDiv.loading)switch(i.grid.hDiv.loading=!0,$("#load_"+$.jgrid.jqID(i.p.id)).show(),i.p.subgridtype||(i.p.subgridtype=i.p.datatype),$.isFunction(i.p.subgridtype)?i.p.subgridtype.call(i,n):i.p.subgridtype=i.p.subgridtype.toLowerCase(),i.p.subgridtype){case"xml":case"json":$.ajax($.extend({type:i.p.mtype,url:$.isFunction(i.p.subGridUrl)?i.p.subGridUrl.call(i,n):i.p.subGridUrl,dataType:i.p.subgridtype,data:$.isFunction(i.p.serializeSubGridData)?i.p.serializeSubGridData.call(i,n):n,complete:function(t){"xml"===i.p.subgridtype?h(t.responseXML,e):u($.jgrid.parse(t.responseText),e),t=null}},$.jgrid.ajaxOptions,i.p.ajaxSubgridOptions||{}))}return!1},f=0;$.each(i.p.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||f++});var g=i.rows.length,m=1;for(void 0!==e&&e>0&&(m=e,g=e+1);g>m;)$(i.rows[m]).hasClass("jqgrow")&&(i.p.scroll&&$(i.rows[m].cells[t]).unbind("click"),$(i.rows[m].cells[t]).bind("click",function(){var e=$(this).parent("tr")[0];if(s=i.p.id,n=e.id,a=$("#"+s+"_"+n+"_expandedContent"),$(this).hasClass("sgcollapsed")){if(o=$(i).triggerHandler("jqGridSubGridBeforeExpand",[s+"_"+n,n]),o=!1!==o&&"stop"!==o,o&&$.isFunction(i.p.subGridBeforeExpand)&&(o=i.p.subGridBeforeExpand.call(i,s+"_"+n,n)),!1===o)return!1;!0===i.p.subGridOptions.reloadOnExpand||!1===i.p.subGridOptions.reloadOnExpand&&!a.hasClass("ui-subgrid")?(r=t>=1?"<td colspan='"+t+"'>&#160;</td>":"",$(e).after("<tr role='row' id='"+s+"_"+n+"_expandedContent' class='ui-subgrid ui-sg-expanded'>"+r+"<td class='"+c.content+" subgrid-cell'><span class='"+c.icon_base+" "+i.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(i.p.colNames.length-1-f,10)+"' class='"+c.content+" subgrid-data'><div id="+s+"_"+n+" class='tablediv'></div></td></tr>"),$(i).triggerHandler("jqGridSubGridRowExpanded",[s+"_"+n,n]),$.isFunction(i.p.subGridRowExpanded)?i.p.subGridRowExpanded.call(i,s+"_"+n,n):p(e)):a.show().removeClass("ui-sg-collapsed").addClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+c.icon_base+" "+i.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),i.p.subGridOptions.selectOnExpand&&$(i).jqGrid("setSelection",n)}else if($(this).hasClass("sgexpanded")){if(o=$(i).triggerHandler("jqGridSubGridRowColapsed",[s+"_"+n,n]),o=!1!==o&&"stop"!==o,o&&$.isFunction(i.p.subGridRowColapsed)&&(o=i.p.subGridRowColapsed.call(i,s+"_"+n,n)),!1===o)return!1;!0===i.p.subGridOptions.reloadOnExpand?a.remove(".ui-subgrid"):a.hasClass("ui-subgrid")&&a.hide().addClass("ui-sg-collapsed").removeClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+c.icon_base+" "+i.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),i.p.subGridOptions.selectOnCollapse&&$(i).jqGrid("setSelection",n)}return!1})),m++;!0===i.p.subGridOptions.expandOnLoad&&$(i.rows).filter(".jqgrow").each(function(t,e){$(e.cells[0]).click()}),i.subGridXml=function(t,e){h(t,e)},i.subGridJson=function(t,e){u(t,e)}}})},expandSubGridRow:function(t){return this.each(function(){var e=this;if((e.grid||t)&&!0===e.p.subGrid){var i=$(this).jqGrid("getInd",t,!0);if(i){var n=$("td.sgcollapsed",i)[0];n&&$(n).trigger("click")}}})},collapseSubGridRow:function(t){return this.each(function(){var e=this;if((e.grid||t)&&!0===e.p.subGrid){var i=$(this).jqGrid("getInd",t,!0);if(i){var n=$("td.sgexpanded",i)[0];n&&$(n).trigger("click")}}})},toggleSubGridRow:function(t){return this.each(function(){var e=this;if((e.grid||t)&&!0===e.p.subGrid){var i=$(this).jqGrid("getInd",t,!0);if(i){var n=$("td.sgcollapsed",i)[0];n?$(n).trigger("click"):(n=$("td.sgexpanded",i)[0])&&$(n).trigger("click")}}})}}),$.jgrid.extend({setTreeNode:function(t,e){return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)for(var n,s,r,o,a,l,c,d,h=i.p.expColInd,u=i.p.treeReader.expanded_field,p=i.p.treeReader.leaf_field,f=i.p.treeReader.level_field,g=i.p.treeReader.icon_field,m=i.p.treeReader.loaded,v=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common;e>t;){var b=$.jgrid.stripPref(i.p.idPrefix,i.rows[t].id),y=i.p._index[b];c=i.p.data[y],"nested"===i.p.treeGridModel&&(c[p]||(n=parseInt(c[i.p.treeReader.left_field],10),s=parseInt(c[i.p.treeReader.right_field],10),c[p]=s===n+1?"true":"false",i.rows[t].cells[i.p._treeleafpos].innerHTML=c[p])),r=parseInt(c[f],10),0===i.p.tree_root_level?(o=r+1,a=r):(o=r,a=r-1),l="<div class='tree-wrap tree-wrap-"+i.p.direction+"' style='width:"+18*o+"px;'>",l+="<div style='"+("rtl"===i.p.direction?"right:":"left:")+18*a+"px;' class='"+v.icon_base+" ",void 0!==c[m]&&("true"===c[m]||!0===c[m]?c[m]=!0:c[m]=!1),"true"===c[p]||!0===c[p]?(l+=(void 0!==c[g]&&""!==c[g]?c[g]:i.p.treeIcons.leaf)+" tree-leaf treeclick",c[p]=!0,d="leaf"):(c[p]=!1,d=""),c[u]=("true"===c[u]||!0===c[u])&&(c[m]||void 0===c[m]),l+=!1===c[u]?!0===c[p]?"'":i.p.treeIcons.plus+" tree-plus treeclick'":!0===c[p]?"'":i.p.treeIcons.minus+" tree-minus treeclick'",l+="></div></div>",$(i.rows[t].cells[h]).wrapInner("<span class='cell-wrapper"+d+"'></span>").prepend(l),r!==parseInt(i.p.tree_root_level,10)&&($(i).jqGrid("isVisibleNode",c)||$(i.rows[t]).css("display","none")),$(i.rows[t].cells[h]).find("div.treeclick").bind("click",function(t){var e=t.target||t.srcElement,n=$.jgrid.stripPref(i.p.idPrefix,$(e,i.rows).closest("tr.jqgrow")[0].id),s=i.p._index[n];return i.p.data[s][p]||(i.p.data[s][u]?($(i).jqGrid("collapseRow",i.p.data[s]),$(i).jqGrid("collapseNode",i.p.data[s])):($(i).jqGrid("expandRow",i.p.data[s]),$(i).jqGrid("expandNode",i.p.data[s]))),!1}),!0===i.p.ExpandColClick&&$(i.rows[t].cells[h]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(t){var e=t.target||t.srcElement,n=$.jgrid.stripPref(i.p.idPrefix,$(e,i.rows).closest("tr.jqgrow")[0].id),s=i.p._index[n];return i.p.data[s][p]||(i.p.data[s][u]?($(i).jqGrid("collapseRow",i.p.data[s]),$(i).jqGrid("collapseNode",i.p.data[s])):($(i).jqGrid("expandRow",i.p.data[s]),$(i).jqGrid("expandNode",i.p.data[s]))),$(i).jqGrid("setSelection",n),!1}),t++}})},setTreeGrid:function(){return this.each(function(){var t,e,i,n,s=this,r=0,o=!1,a=[],l=$.jgrid.styleUI[s.p.styleUI||"jQueryUI"].treegrid;if(s.p.treeGrid){s.p.treedatatype||$.extend(s.p,{treedatatype:s.p.datatype}),s.p.loadonce&&(s.p.treedatatype="local"),s.p.subGrid=!1,s.p.altRows=!1,s.p.pgbuttons=!1,s.p.pginput=!1,s.p.gridview=!0,null===s.p.rowTotal&&(s.p.rowNum=1e4),s.p.multiselect=!1,s.p.rowList=[],s.p.expColInd=0,t=l.icon_plus,"jQueryUI"===s.p.styleUI&&(t+="rtl"===s.p.direction?"w":"e"),s.p.treeIcons=$.extend({plus:t,minus:l.icon_minus,leaf:l.icon_leaf},s.p.treeIcons||{}),"nested"===s.p.treeGridModel?s.p.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},s.p.treeReader):"adjacency"===s.p.treeGridModel&&(s.p.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},s.p.treeReader));for(i in s.p.colModel)if(s.p.colModel.hasOwnProperty(i)){e=s.p.colModel[i].name,e!==s.p.ExpandColumn||o||(o=!0,s.p.expColInd=r),r++;for(n in s.p.treeReader)s.p.treeReader.hasOwnProperty(n)&&s.p.treeReader[n]===e&&a.push(e)}$.each(s.p.treeReader,function(t,e){e&&-1===$.inArray(e,a)&&("leaf_field"===t&&(s.p._treeleafpos=r),r++,s.p.colNames.push(e),s.p.colModel.push({name:e,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(t){this.each(function(){var e=this;if(e.grid&&e.p.treeGrid){var i=$(e).jqGrid("getNodeChildren",t),n=e.p.treeReader.expanded_field,s=t[e.p.localReader.id];!1!==(!$.isFunction(e.p.beforeExpandTreeGridRow)||e.p.beforeExpandTreeGridRow.call(e,s,t,i))&&($(i).each(function(){var t=e.p.idPrefix+$.jgrid.getAccessor(this,e.p.localReader.id);$($(e).jqGrid("getGridRowById",t)).css("display",""),this[n]&&$(e).jqGrid("expandRow",this)}),$.isFunction(e.p.afterExpandTreeGridRow)&&e.p.afterExpandTreeGridRow.call(e,s,t,i))}})},collapseRow:function(t){this.each(function(){var e=this;if(e.grid&&e.p.treeGrid){var i=$(e).jqGrid("getNodeChildren",t),n=e.p.treeReader.expanded_field,s=t[e.p.localReader.id];!1!==(!$.isFunction(e.p.beforeCollapseTreeGridRow)||e.p.beforeCollapseTreeGridRow.call(e,s,t,i))&&($(i).each(function(){var t=e.p.idPrefix+$.jgrid.getAccessor(this,e.p.localReader.id);$($(e).jqGrid("getGridRowById",t)).css("display","none"),this[n]&&$(e).jqGrid("collapseRow",this)}),$.isFunction(e.p.afterCollapseTreeGridRow)&&e.p.afterCollapseTreeGridRow.call(e,s,t,i))}})},getRootNodes:function(t){var e=[];return this.each(function(){var i,n,s,r=this;if(r.grid&&r.p.treeGrid)switch("boolean"!=typeof t&&(t=!1),s=t?$(r).jqGrid("getRowData",null,!0):r.p.data,r.p.treeGridModel){case"nested":i=r.p.treeReader.level_field,$(s).each(function(){parseInt(this[i],10)===parseInt(r.p.tree_root_level,10)&&(t?e.push(r.p.data[r.p._index[this[r.p.keyName]]]):e.push(this))});break;case"adjacency":n=r.p.treeReader.parent_id_field,$(s).each(function(){null!==this[n]&&"null"!==String(this[n]).toLowerCase()||(t?e.push(r.p.data[r.p._index[this[r.p.keyName]]]):e.push(this))})}}),e},getNodeDepth:function(t){var e=null;return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this;switch(i.p.treeGridModel){case"nested":var n=i.p.treeReader.level_field;e=parseInt(t[n],10)-parseInt(i.p.tree_root_level,10);break;case"adjacency":e=$(i).jqGrid("getNodeAncestors",t).length}}}),e},getNodeParent:function(t){var e=null;return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var n=i.p.treeReader.left_field,s=i.p.treeReader.right_field,r=i.p.treeReader.level_field,o=parseInt(t[n],10),a=parseInt(t[s],10),l=parseInt(t[r],10);$(this.p.data).each(function(){return parseInt(this[r],10)===l-1&&parseInt(this[n],10)<o&&parseInt(this[s],10)>a?(e=this,!1):void 0});break;case"adjacency":for(var c=i.p.treeReader.parent_id_field,d=i.p.localReader.id,h=t[d],u=i.p._index[h];u--;)if(i.p.data[u][d]===$.jgrid.stripPref(i.p.idPrefix,t[c])){e=i.p.data[u];break}}}),e},getNodeChildren:function(t){var e=[];return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var n=i.p.treeReader.left_field,s=i.p.treeReader.right_field,r=i.p.treeReader.level_field,o=parseInt(t[n],10),a=parseInt(t[s],10),l=parseInt(t[r],10);$(this.p.data).each(function(){parseInt(this[r],10)===l+1&&parseInt(this[n],10)>o&&parseInt(this[s],10)<a&&e.push(this)});break;case"adjacency":var c=i.p.treeReader.parent_id_field,d=i.p.localReader.id;$(this.p.data).each(function(){this[c]==$.jgrid.stripPref(i.p.idPrefix,t[d])&&e.push(this)})}}),e},getFullTreeNode:function(t,e){var i=[];return this.each(function(){var n,s=this,r=s.p.treeReader.expanded_field;if(s.grid&&s.p.treeGrid)switch(null!=e&&"boolean"==typeof e||(e=!1),s.p.treeGridModel){case"nested":var o=s.p.treeReader.left_field,a=s.p.treeReader.right_field,l=s.p.treeReader.level_field,c=parseInt(t[o],10),d=parseInt(t[a],10),h=parseInt(t[l],10);$(this.p.data).each(function(){parseInt(this[l],10)>=h&&parseInt(this[o],10)>=c&&parseInt(this[o],10)<=d&&(e&&(this[r]=!0),i.push(this))});break;case"adjacency":if(t){i.push(t);var u=s.p.treeReader.parent_id_field,p=s.p.localReader.id;$(this.p.data).each(function(t){for(n=i.length,t=0;n>t;t++)if($.jgrid.stripPref(s.p.idPrefix,i[t][p])===this[u]){e&&(this[r]=!0),i.push(this);break}})}}}),i},getNodeAncestors:function(t){var e=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var i=$(this).jqGrid("getNodeParent",t);i;)e.push(i),i=$(this).jqGrid("getNodeParent",i)}),e},isVisibleNode:function(t){var e=!0;return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var n=$(i).jqGrid("getNodeAncestors",t),s=i.p.treeReader.expanded_field;$(n).each(function(){return!!(e=e&&this[s])&&void 0})}}),e},isNodeLoaded:function(t){var e;return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var n=i.p.treeReader.leaf_field,s=i.p.treeReader.loaded;e=void 0!==t&&(void 0!==t[s]?t[s]:!!(t[n]||$(i).jqGrid("getNodeChildren",t).length>0))}}),e},reloadNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var e=this.p.localReader.id,i=this.p.selrow;$(this).jqGrid("delChildren",t[e]);var n=this.p.treeReader.expanded_field,s=this.p.treeReader.parent_id_field,r=this.p.treeReader.loaded,o=this.p.treeReader.level_field,a=this.p.treeReader.left_field,l=this.p.treeReader.right_field,c=$.jgrid.getAccessor(t,this.p.localReader.id),d=$("#"+c,this.grid.bDiv)[0];t[n]=!0,$("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=d.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:c,n_left:t[a],n_right:t[l],n_level:t[o]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:c,parentid:t[s],n_level:t[o]}}),$(this).trigger("reloadGrid"),t[r]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{selrow:i,postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{selrow:i,postData:{nodeid:"",parentid:"",n_level:""}})}})},expandNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var e=this.p.treeReader.expanded_field,i=this.p.treeReader.parent_id_field,n=this.p.treeReader.loaded,s=this.p.treeReader.level_field,r=this.p.treeReader.left_field,o=this.p.treeReader.right_field;if(!t[e]){var a=$.jgrid.getAccessor(t,this.p.localReader.id),l=$("#"+this.p.idPrefix+$.jgrid.jqID(a),this.grid.bDiv)[0],c=this.p._index[a];if(!1===(!$.isFunction(this.p.beforeExpandTreeGridNode)||this.p.beforeExpandTreeGridNode.call(this,a,t)))return;$(this).jqGrid("isNodeLoaded",this.p.data[c])?(t[e]=!0,$("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[e]=!0,$("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=l.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:a,n_left:t[r],n_right:t[o],n_level:t[s]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:a,parentid:t[i],n_level:t[s]}}),$(this).trigger("reloadGrid"),t[n]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}})),$.isFunction(this.p.afterExpandTreeGridNode)&&this.p.afterExpandTreeGridNode.call(this,a,t)}}})},collapseNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var e=this.p.treeReader.expanded_field;if(t[e]){var i=$.jgrid.getAccessor(t,this.p.localReader.id),n=!$.isFunction(this.p.beforeCollapseTreeGridNode)||this.p.beforeCollapseTreeGridNode.call(this,i,t),s=$("#"+this.p.idPrefix+$.jgrid.jqID(i),this.grid.bDiv)[0];if(t[e]=!1,!1===n)return;$("div.treeclick",s).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"),$.isFunction(this.p.afterCollapseTreeGridNode)&&this.p.afterCollapseTreeGridNode.call(this,i,t)}}})},SortTree:function(t,e,i,n){return this.each(function(){if(this.grid&&this.p.treeGrid){var s,r,o,a,l,c=[],d=this,h=$(this).jqGrid("getRootNodes",d.p.search);for(a=$.jgrid.from.call(this,h),a.orderBy(t,e,i,n),l=a.select(),s=0,r=l.length;r>s;s++)o=l[s],c.push(o),$(this).jqGrid("collectChildrenSortTree",c,o,t,e,i,n);$.each(c,function(t){var e=$.jgrid.getAccessor(this,d.p.localReader.id);$("#"+$.jgrid.jqID(d.p.id)+" tbody tr:eq("+t+")").after($("tr#"+$.jgrid.jqID(e),d.grid.bDiv))}),a=null,l=null,c=null}})},searchTree:function(t){var e,i,n,s=t.length||0,r=[],o=[],a=[];return this.each(function(){if(this.grid&&this.p.treeGrid&&s)for(i=this.p.localReader.id,e=0;s>e;e++)r=$(this).jqGrid("getNodeAncestors",t[e]),r.length||r.push(t[e]),n=r[r.length-1][i],-1===$.inArray(n,o)&&(o.push(n),r=$(this).jqGrid("getFullTreeNode",r[r.length-1],!0),a=a.concat(r))}),a},collectChildrenSortTree:function(t,e,i,n,s,r){return this.each(function(){if(this.grid&&this.p.treeGrid){var o,a,l,c,d,h;for(c=$(this).jqGrid("getNodeChildren",e),d=$.jgrid.from.call(this,c),d.orderBy(i,n,s,r),h=d.select(),o=0,a=h.length;a>o;o++)l=h[o],t.push(l),$(this).jqGrid("collectChildrenSortTree",t,l,i,n,s,r)}})},setTreeRow:function(t,e){var i=!1;return this.each(function(){var n=this;n.grid&&n.p.treeGrid&&(i=$(n).jqGrid("setRowData",t,e))}),i},delTreeNode:function(t){return this.each(function(){var e,i,n,s,r,o=this,a=o.p.localReader.id,l=o.p.treeReader.left_field,c=o.p.treeReader.right_field;if(o.grid&&o.p.treeGrid){var d=o.p._index[t];if(void 0!==d){i=parseInt(o.p.data[d][c],10),n=i-parseInt(o.p.data[d][l],10)+1;var h=$(o).jqGrid("getFullTreeNode",o.p.data[d]);if(h.length>0)for(e=0;e<h.length;e++)$(o).jqGrid("delRowData",h[e][a]);if("nested"===o.p.treeGridModel){if(s=$.jgrid.from.call(o,o.p.data).greater(l,i,{stype:"integer"}).select(),s.length)for(r in s)s.hasOwnProperty(r)&&(s[r][l]=parseInt(s[r][l],10)-n);if(s=$.jgrid.from.call(o,o.p.data).greater(c,i,{stype:"integer"}).select(),s.length)for(r in s)s.hasOwnProperty(r)&&(s[r][c]=parseInt(s[r][c],10)-n)}}}})},delChildren:function(t){return this.each(function(){var e,i,n,s,r=this,o=r.p.localReader.id,a=r.p.treeReader.left_field,l=r.p.treeReader.right_field;if(r.grid&&r.p.treeGrid){var c=r.p._index[t];if(void 0!==c){e=parseInt(r.p.data[c][l],10),i=e-parseInt(r.p.data[c][a],10)+1;var d=$(r).jqGrid("getFullTreeNode",r.p.data[c]);if(d.length>0)for(var h=0;h<d.length;h++)d[h][o]!==t&&$(r).jqGrid("delRowData",d[h][o]);if("nested"===r.p.treeGridModel){if(n=$.jgrid.from(r.p.data).greater(a,e,{stype:"integer"}).select(),n.length)for(s in n)n.hasOwnProperty(s)&&(n[s][a]=parseInt(n[s][a],10)-i);if(n=$.jgrid.from(r.p.data).greater(l,e,{stype:"integer"}).select(),n.length)for(s in n)n.hasOwnProperty(s)&&(n[s][l]=parseInt(n[s][l],10)-i)}}}})},addChildNode:function(t,e,i,n){var s=this[0];if(i){var r,o,a,l,c,d,h,u,p=s.p.treeReader.expanded_field,f=s.p.treeReader.leaf_field,g=s.p.treeReader.level_field,m=s.p.treeReader.parent_id_field,v=s.p.treeReader.left_field,b=s.p.treeReader.right_field,y=s.p.treeReader.loaded,w=0,_=e;if(void 0===n&&(n=!1),null==t){if((c=s.p.data.length-1)>=0)for(;c>=0;)w=Math.max(w,parseInt(s.p.data[c][s.p.localReader.id],10)),c--;t=w+1}var x=$(s).jqGrid("getInd",e);if(h=!1,void 0===e||null===e||""===e)e=null,_=null,r="last",l=s.p.tree_root_level,c=s.p.data.length+1;else{r="after",o=s.p._index[e],a=s.p.data[o],e=a[s.p.localReader.id],l=parseInt(a[g],10)+1;var C=$(s).jqGrid("getFullTreeNode",a);C.length?(c=C[C.length-1][s.p.localReader.id],_=c,c=$(s).jqGrid("getInd",_)+1):c=$(s).jqGrid("getInd",e)+1,a[f]&&(h=!0,a[p]=!0,$(s.rows[x]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(s.p.treeIcons.leaf+" tree-leaf").addClass(s.p.treeIcons.minus+" tree-minus"),s.p.data[o][f]=!1,a[y]=!0)}if(d=c+1,void 0===i[p]&&(i[p]=!1),void 0===i[y]&&(i[y]=!1),i[g]=l,void 0===i[f]&&(i[f]=!0),"adjacency"===s.p.treeGridModel&&(i[m]=e),"nested"===s.p.treeGridModel){var k,D,S;if(null!==e){if(u=parseInt(a[b],10),k=$.jgrid.from.call(s,s.p.data),k=k.greaterOrEquals(b,u,{stype:"integer"}),D=k.select(),D.length)for(S in D)D.hasOwnProperty(S)&&(D[S][v]=D[S][v]>u?parseInt(D[S][v],10)+2:D[S][v],D[S][b]=D[S][b]>=u?parseInt(D[S][b],10)+2:D[S][b]);i[v]=u,i[b]=u+1}else{if(u=parseInt($(s).jqGrid("getCol",b,!1,"max"),10),D=$.jgrid.from.call(s,s.p.data).greater(v,u,{stype:"integer"}).select(),D.length)for(S in D)D.hasOwnProperty(S)&&(D[S][v]=parseInt(D[S][v],10)+2);if(D=$.jgrid.from.call(s,s.p.data).greater(b,u,{stype:"integer"}).select(),D.length)for(S in D)D.hasOwnProperty(S)&&(D[S][b]=parseInt(D[S][b],10)+2);i[v]=u+1,i[b]=u+2}}(null===e||$(s).jqGrid("isNodeLoaded",a)||h)&&($(s).jqGrid("addRowData",t,i,r,_),$(s).jqGrid("setTreeNode",c,d)),a&&!a[p]&&n&&$(s.rows[x]).find("div.treeclick").click()}}}),$.fn.jqDrag=function(t){return i(this,t,"d")},$.fn.jqResize=function(t,e){return i(this,t,"r",e)},$.jqDnR={dnr:{},e:0,drag:function(t){return"d"==M.k?E.css({left:M.X+t.pageX-M.pX,top:M.Y+t.pageY-M.pY}):(E.css({width:Math.max(t.pageX-M.pX+M.W,0),height:Math.max(t.pageY-M.pY+M.H,0)}),M1&&E1.css({width:Math.max(t.pageX-M1.pX+M1.W,0),height:Math.max(t.pageY-M1.pY+M1.H,0)})),!1},stop:function(){$(document).unbind("mousemove",J.drag).unbind("mouseup",J.stop)}};var J=$.jqDnR,M=J.dnr,E=J.e,E1,M1,i=function(t,e,i,n){return t.each(function(){e=e?$(e,t):t,e.bind("mousedown",{e:t,k:i},function(t){var e=t.data,i={};if(E=e.e,E1=!!n&&$(n),"relative"!=E.css("position"))try{E.position(i)}catch(t){}if(M={X:i.left||f("left")||0,Y:i.top||f("top")||0,W:f("width")||E[0].scrollWidth||0,H:f("height")||E[0].scrollHeight||0,pX:t.pageX,pY:t.pageY,k:e.k},M1=!(!E1||"d"==e.k)&&{X:i.left||f1("left")||0,Y:i.top||f1("top")||0,W:E1[0].offsetWidth||f1("width")||0,H:E1[0].offsetHeight||f1("height")||0,pX:t.pageX,pY:t.pageY,k:e.k},$("input.hasDatepicker",E[0])[0])try{$("input.hasDatepicker",E[0]).datepicker("hide")}catch(t){}return $(document).mousemove($.jqDnR.drag).mouseup($.jqDnR.stop),!1})})},f=function(t){return parseInt(E.css(t),10)||!1},f1=function(t){return parseInt(E1.css(t),10)||!1};$.fn.tinyDraggable=function(t){var e=$.extend({handle:0,exclude:0},t);return this.each(function(){var t,i,n=$(this);(e.handle?$(e.handle,n):n).on({mousedown:function(s){if(!e.exclude||!~$.inArray(s.target,$(e.exclude,n))){s.preventDefault();var r=n.offset();t=s.pageX-r.left,i=s.pageY-r.top,$(document).on("mousemove.drag",function(e){n.offset({top:e.pageY-i,left:e.pageX-t})})}},mouseup:function(){$(document).off("mousemove.drag")}})})},$.fn.jqm=function(t){var e={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:F,ajaxText:"",target:F,modal:F,toTop:F,onShow:F,onHide:F,onLoad:F};return this.each(function(){return this._jqm?H[this._jqm].c=$.extend({},H[this._jqm].c,t):(s++,this._jqm=s,H[s]={c:$.extend(e,$.jqm.params,t),a:F,w:$(this).addClass("jqmID"+s),s:s},void(e.trigger&&$(this).jqmAddTrigger(e.trigger)))})},$.fn.jqmAddClose=function(t){return hs(this,t,"jqmHide")},$.fn.jqmAddTrigger=function(t){return hs(this,t,"jqmShow")},$.fn.jqmShow=function(t){return this.each(function(){$.jqm.open(this._jqm,t)})},$.fn.jqmHide=function(t){return this.each(function(){$.jqm.close(this._jqm,t)})},$.jqm={hash:{},open:function(t,i){var n=H[t],s=n.c,r="."+s.closeClass,o=parseInt(n.w.css("z-index"));o=o>0?o:3e3;var a=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":o-1,opacity:s.overlay/100});if(n.a)return F;if(n.t=i,n.a=!0,n.w.css("z-index",o),s.modal?(A[0]||setTimeout(function(){new L("bind")},1),A.push(t)):s.overlay>0?s.closeoverlay&&n.w.jqmAddClose(a):a=F,n.o=a?a.addClass(s.overlayClass).prependTo("body"):F,s.ajax){var l=s.target||n.w,c=s.ajax;l="string"==typeof l?$(l,n.w):$(l),c="@"===c.substr(0,1)?$(i).attr(c.substring(1)):c,l.html(s.ajaxText).load(c,function(){s.onLoad&&s.onLoad.call(this,n),r&&n.w.jqmAddClose($(r,n.w)),e(n)})}else r&&n.w.jqmAddClose($(r,n.w));return s.toTop&&n.o&&n.w.before('<span id="jqmP'+n.w[0]._jqm+'"></span>').insertAfter(n.o),s.onShow?s.onShow(n):n.w.show(),e(n),F},close:function(t){var e=H[t];return e.a?(e.a=F,A[0]&&(A.pop(),A[0]||new L("unbind")),e.c.toTop&&e.o&&$("#jqmP"+e.w[0]._jqm).after(e.w).remove(),e.c.onHide?e.c.onHide(e):(e.w.hide(),e.o&&e.o.remove()),F):F},params:{}};var s=0,H=$.jqm.hash,A=[],F=!1,e=function(t){void 0===t.c.focusField&&(t.c.focusField=0),t.c.focusField>=0&&f(t)},f=function(t){try{$(":input:visible",t.w)[parseInt(t.c.focusField,10)].focus()}catch(t){}},L=function(t){$(document)[t]("keypress",m)[t]("keydown",m)[t]("mousedown",m)},m=function(t){var e=H[A[A.length-1]],i=!$(t.target).parents(".jqmID"+e.s)[0];return i&&($(".jqmID"+e.s).each(function(){var e=$(this),n=e.offset();return n.top<=t.pageY&&t.pageY<=n.top+e.height()&&n.left<=t.pageX&&t.pageX<=n.left+e.width()?(i=!1,!1):void 0}),f(e)),!i},hs=function(t,e,i){return t.each(function(){var t=this._jqm;$(e).each(function(){this[i]||(this[i]=[],$(this).click(function(){for(var t in{jqmShow:1,jqmHide:1})for(var e in this[t])H[this[t][e]]&&H[this[t][e]].w[t](this);return F})),this[i].push(t)})})};$.fmatter={},$.extend($.fmatter,{isBoolean:function(t){return"boolean"==typeof t},isObject:function(t){return t&&("object"==typeof t||$.isFunction(t))||!1},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t&&isFinite(t)},isValue:function(t){return this.isObject(t)||this.isString(t)||this.isNumber(t)||this.isBoolean(t)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=$.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))}}),$.fn.fmatter=function(t,e,i,n,s){var r=e;i=$.extend({},$.jgrid.getRegional(this,"formatter"),i);try{r=$.fn.fmatter[t].call(this,e,i,n,s)}catch(t){}return r},$.fmatter.util={NumberFormat:function(t,e){if($.fmatter.isNumber(t)||(t*=1),$.fmatter.isNumber(t)){var i,n=0>t,s=String(t),r=e.decimalSeparator||".";if($.fmatter.isNumber(e.decimalPlaces)){var o=e.decimalPlaces,a=Math.pow(10,o);if(s=String(Math.round(t*a)/a),i=s.lastIndexOf("."),o>0)for(0>i?(s+=r,i=s.length-1):"."!==r&&(s=s.replace(".",r));s.length-1-i<o;)s+="0"}if(e.thousandsSeparator){var l=e.thousandsSeparator;i=s.lastIndexOf(r),i=i>-1?i:s.length;var c,d=s.substring(i),h=-1;for(c=i;c>0;c--)h++,h%3==0&&c!==i&&(!n||c>1)&&(d=l+d),d=s.charAt(c-1)+d;s=d}return s=e.prefix?e.prefix+s:s,s=e.suffix?s+e.suffix:s}return t}},$.fn.fmatter.defaultFormat=function(t,e){return $.fmatter.isValue(t)&&""!==t?t:e.defaultValue||"&#160;"},$.fn.fmatter.email=function(t,e){return $.fmatter.isEmpty(t)?$.fn.fmatter.defaultFormat(t,e):'<a href="mailto:'+t+'">'+t+"</a>"},$.fn.fmatter.checkbox=function(t,e){var i,n=$.extend({},e.checkbox);return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(n=$.extend({},n,e.colModel.formatoptions)),i=!0===n.disabled?'disabled="disabled"':"",($.fmatter.isEmpty(t)||void 0===t)&&(t=$.fn.fmatter.defaultFormat(t,n)),t=String(t),t=(t+"").toLowerCase(),'<input type="checkbox" '+(t.search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"")+' value="'+t+'" offval="no" '+i+"/>"},$.fn.fmatter.link=function(t,e){var i={target:e.target},n="";return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(i=$.extend({},i,e.colModel.formatoptions)),i.target&&(n="target="+i.target),$.fmatter.isEmpty(t)?$.fn.fmatter.defaultFormat(t,e):"<a "+n+' href="'+t+'">'+t+"</a>"},$.fn.fmatter.showlink=function(t,e){var i,n={baseLinkUrl:e.baseLinkUrl,showAction:e.showAction,addParam:e.addParam||"",target:e.target,idName:e.idName},s="";return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(n=$.extend({},n,e.colModel.formatoptions)),n.target&&(s="target="+n.target),i=n.baseLinkUrl+n.showAction+"?"+n.idName+"="+e.rowId+n.addParam,$.fmatter.isString(t)||$.fmatter.isNumber(t)?"<a "+s+' href="'+i+'">'+t+"</a>":$.fn.fmatter.defaultFormat(t,e)},$.fn.fmatter.integer=function(t,e){var i=$.extend({},e.integer);return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(i=$.extend({},i,e.colModel.formatoptions)),$.fmatter.isEmpty(t)?i.defaultValue:$.fmatter.util.NumberFormat(t,i)},$.fn.fmatter.number=function(t,e){var i=$.extend({},e.number)
;return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(i=$.extend({},i,e.colModel.formatoptions)),$.fmatter.isEmpty(t)?i.defaultValue:$.fmatter.util.NumberFormat(t,i)},$.fn.fmatter.currency=function(t,e){var i=$.extend({},e.currency);return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(i=$.extend({},i,e.colModel.formatoptions)),$.fmatter.isEmpty(t)?i.defaultValue:$.fmatter.util.NumberFormat(t,i)},$.fn.fmatter.date=function(t,e,i,n){var s=$.extend({},e.date);return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(s=$.extend({},s,e.colModel.formatoptions)),s.reformatAfterEdit||"edit"!==n?$.fmatter.isEmpty(t)?$.fn.fmatter.defaultFormat(t,e):$.jgrid.parseDate.call(this,s.srcformat,t,s.newformat,s):$.fn.fmatter.defaultFormat(t,e)},$.fn.fmatter.select=function(t,e){t=String(t);var i,n,s=!1,r=[];if(void 0!==e.colModel.formatoptions?(s=e.colModel.formatoptions.value,i=void 0===e.colModel.formatoptions.separator?":":e.colModel.formatoptions.separator,n=void 0===e.colModel.formatoptions.delimiter?";":e.colModel.formatoptions.delimiter):void 0!==e.colModel.editoptions&&(s=e.colModel.editoptions.value,i=void 0===e.colModel.editoptions.separator?":":e.colModel.editoptions.separator,n=void 0===e.colModel.editoptions.delimiter?";":e.colModel.editoptions.delimiter),s){var o,a=1==(null!=e.colModel.editoptions&&!0===e.colModel.editoptions.multiple),l=[];if(a&&(l=t.split(","),l=$.map(l,function(t){return $.trim(t)})),$.fmatter.isString(s)){var c,d=s.split(n),h=0;for(c=0;c<d.length;c++)if(o=d[c].split(i),o.length>2&&(o[1]=$.map(o,function(t,e){return e>0?t:void 0}).join(i)),a)$.inArray(o[0],l)>-1&&(r[h]=o[1],h++);else if($.trim(o[0])===$.trim(t)){r[0]=o[1];break}}else $.fmatter.isObject(s)&&(a?r=$.map(l,function(t){return s[t]}):r[0]=s[t]||"")}return t=r.join(", "),""===t?$.fn.fmatter.defaultFormat(t,e):t},$.fn.fmatter.rowactions=function(t){var e=$(this).closest("tr.jqgrow"),i=e.attr("id"),n=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),s=$("#"+n),r=s[0],o=r.p,a=o.colModel[$.jgrid.getCellIndex(this)],l=a.frozen?$("tr#"+i+" td:eq("+$.jgrid.getCellIndex(this)+") > div",s):$(this).parent(),c={extraparam:{}},d=function(t,e){$.isFunction(c.afterSave)&&c.afterSave.call(r,t,e),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()},h=function(t){$.isFunction(c.afterRestore)&&c.afterRestore.call(r,t),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==a.formatoptions&&(c=$.extend(c,a.formatoptions)),void 0!==o.editOptions&&(c.editOptions=o.editOptions),void 0!==o.delOptions&&(c.delOptions=o.delOptions),e.hasClass("jqgrid-new-row")&&(c.extraparam[o.prmNames.oper]=o.prmNames.addoper);var u={keys:c.keys,oneditfunc:c.onEdit,successfunc:c.onSuccess,url:c.url,extraparam:c.extraparam,aftersavefunc:d,errorfunc:c.onError,afterrestorefunc:h,restoreAfterError:c.restoreAfterError,mtype:c.mtype};switch(t){case"edit":s.jqGrid("editRow",i,u),l.find("div.ui-inline-edit,div.ui-inline-del").hide(),l.find("div.ui-inline-save,div.ui-inline-cancel").show(),s.triggerHandler("jqGridAfterGridComplete");break;case"save":s.jqGrid("saveRow",i,u)&&(l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),s.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":s.jqGrid("restoreRow",i,h),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),s.triggerHandler("jqGridAfterGridComplete");break;case"del":s.jqGrid("delGridRow",i,c.delOptions);break;case"formedit":s.jqGrid("setSelection",i),s.jqGrid("editGridRow",i,c.editOptions)}},$.fn.fmatter.actions=function(t,e){var i,n={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},s=e.rowId,r="",o=$.jgrid.getRegional(this,"nav"),a=$.jgrid.styleUI[e.styleUI||"jQueryUI"].fmatter,l=$.jgrid.styleUI[e.styleUI||"jQueryUI"].common;if(void 0!==e.colModel.formatoptions&&(n=$.extend(n,e.colModel.formatoptions)),void 0===s||$.fmatter.isEmpty(s))return"";var c="onmouseover=jQuery(this).addClass('"+l.hover+"'); onmouseout=jQuery(this).removeClass('"+l.hover+"');  ";return n.editformbutton?(i="id='jEditButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); "+c,r+="<div title='"+o.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+a.icon_edit+"'></span></div>"):n.editbutton&&(i="id='jEditButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); "+c,r+="<div title='"+o.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+a.icon_edit+"'></span></div>"),n.delbutton&&(i="id='jDeleteButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); "+c,r+="<div title='"+o.deltitle+"' style='float:left;' class='ui-pg-div ui-inline-del' "+i+"><span class='"+l.icon_base+" "+a.icon_del+"'></span></div>"),i="id='jSaveButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); "+c,r+="<div title='"+o.savetitle+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+i+"><span class='"+l.icon_base+" "+a.icon_save+"'></span></div>",i="id='jCancelButton_"+s+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); "+c,"<div style='margin-left:8px;'>"+(r+="<div title='"+o.canceltitle+"' style='float:left;display:none;' class='ui-pg-div ui-inline-cancel' "+i+"><span class='"+l.icon_base+" "+a.icon_cancel+"'></span></div>")+"</div>"},$.unformat=function(t,e,i,n){var s,r,o=e.colModel.formatter,a=e.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,c=e.colModel.unformat||$.fn.fmatter[o]&&$.fn.fmatter[o].unformat;if(void 0!==c&&$.isFunction(c))s=c.call(this,$(t).text(),e,t);else if(void 0!==o&&$.fmatter.isString(o)){var d,h=$.jgrid.getRegional(this,"formatter")||{};switch(o){case"integer":a=$.extend({},h.integer,a),r=a.thousandsSeparator.replace(l,"\\$1"),d=new RegExp(r,"g"),s=$(t).text().replace(d,"");break;case"number":a=$.extend({},h.number,a),r=a.thousandsSeparator.replace(l,"\\$1"),d=new RegExp(r,"g"),s=$(t).text().replace(d,"").replace(a.decimalSeparator,".");break;case"currency":a=$.extend({},h.currency,a),r=a.thousandsSeparator.replace(l,"\\$1"),d=new RegExp(r,"g"),s=$(t).text(),a.prefix&&a.prefix.length&&(s=s.substr(a.prefix.length)),a.suffix&&a.suffix.length&&(s=s.substr(0,s.length-a.suffix.length)),s=s.replace(d,"").replace(a.decimalSeparator,".");break;case"checkbox":var u=e.colModel.editoptions?e.colModel.editoptions.value.split(":"):["Yes","No"];s=$("input",t).is(":checked")?u[0]:u[1];break;case"select":s=$.unformat.select(t,e,i,n);break;case"actions":return"";default:s=$(t).text()}}return void 0!==s?s:!0===n?$(t).text():$.jgrid.htmlDecode($(t).html())},$.unformat.select=function(t,e,i,n){var s=[],r=$(t).text();if(!0===n)return r;var o=$.extend({},void 0!==e.colModel.formatoptions?e.colModel.formatoptions:e.colModel.editoptions),a=void 0===o.separator?":":o.separator,l=void 0===o.delimiter?";":o.delimiter;if(o.value){var c,d=o.value,h=!0===o.multiple,u=[];if(h&&(u=r.split(","),u=$.map(u,function(t){return $.trim(t)})),$.fmatter.isString(d)){var p,f=d.split(l),g=0;for(p=0;p<f.length;p++)if(c=f[p].split(a),c.length>2&&(c[1]=$.map(c,function(t,e){return e>0?t:void 0}).join(a)),h)$.inArray($.trim(c[1]),u)>-1&&(s[g]=c[0],g++);else if($.trim(c[1])===$.trim(r)){s[0]=c[0];break}}else($.fmatter.isObject(d)||$.isArray(d))&&(h||(u[0]=r),s=$.map(u,function(t){var e;return $.each(d,function(i,n){return n===t?(e=i,!1):void 0}),void 0!==e?e:void 0}));return s.join(", ")}return r||""},$.unformat.date=function(t,e){var i=$.jgrid.getRegional(this,"formatter.date")||{};return void 0!==e.formatoptions&&(i=$.extend({},i,e.formatoptions)),$.fmatter.isEmpty(t)?$.fn.fmatter.defaultFormat(t,e):$.jgrid.parseDate.call(this,i.newformat,t,i.srcformat,i)},window.jqGridUtils={stringify:function(t){return JSON.stringify(t,function(t,e){return"function"==typeof e?e.toString():e})},parse:function(str){return JSON.parse(str,function(key,value){return"string"==typeof value&&-1!==value.indexOf("function")?eval("("+value+")"):value})},encode:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},jsonToXML:function(t,e){var i=$.extend({xmlDecl:'<?xml version="1.0" encoding="UTF-8" ?>\n',attr_prefix:"-",encode:!0},e||{}),n=this,s=function(t,e){return"#text"===t?i.encode?n.encode(e):e:"function"==typeof e?"<"+t+"><![CDATA["+e+"]]></"+t+">\n":""===e?"<"+t+">__EMPTY_STRING_</"+t+">\n":"<"+t+">"+(i.encode?n.encode(e):e)+"</"+t+">\n"},r=function(t,e){for(var i=[],n=0;n<e.length;n++){var a=e[n];void 0===a||null==a?i[i.length]="<"+t+" />":"object"==typeof a&&a.constructor==Array?i[i.length]=r(t,a):i[i.length]="object"==typeof a?o(t,a):s(t,a)}return i.length||(i[0]="<"+t+">__EMPTY_ARRAY_</"+t+">\n"),i.join("")},o=function(t,e){var a=[],l=[];for(var c in e)if(e.hasOwnProperty(c)){var d=e[c];c.charAt(0)!==i.attr_prefix?null==d?a[a.length]="<"+c+" />":"object"==typeof d&&d.constructor===Array?a[a.length]=r(c,d):a[a.length]="object"==typeof d?o(c,d):s(c,d):l[l.length]=" "+c.substring(1)+'="'+(i.encode?n.encode(d):d)+'"'}var h=l.join(""),u=a.join("");return null==t||(u=a.length>0?u.match(/\n/)?"<"+t+h+">\n"+u+"</"+t+">\n":"<"+t+h+">"+u+"</"+t+">\n":"<"+t+h+" />\n"),u},a=o(null,t);return i.xmlDecl+a},xmlToJSON:function(root,options){var o=$.extend({force_array:[],attr_prefix:"-"},options||{});if(root){var __force_array={};if(o.force_array)for(var i=0;i<o.force_array.length;i++)__force_array[o.force_array[i]]=1;"string"==typeof root&&(root=$.parseXML(root)),root.documentElement&&(root=root.documentElement);var addNode=function(hash,key,cnts,val){if("string"==typeof val)if(-1!==val.indexOf("function"))val=eval("("+val+")");else switch(val){case"__EMPTY_ARRAY_":val=[];break;case"__EMPTY_STRING_":val="";break;case"false":val=!1;break;case"true":val=!0}__force_array[key]?(1===cnts&&(hash[key]=[]),hash[key][hash[key].length]=val):1===cnts?hash[key]=val:2===cnts?hash[key]=[hash[key],val]:hash[key][hash[key].length]=val},parseElement=function(t){if(7!==t.nodeType){if(3===t.nodeType||4===t.nodeType){if(null==t.nodeValue.match(/[^\x00-\x20]/))return;return t.nodeValue}var e,i,n,s,r={};if(t.attributes&&t.attributes.length)for(e={},i=0;i<t.attributes.length;i++)"string"==typeof(n=t.attributes[i].nodeName)&&(s=t.attributes[i].nodeValue)&&(n=o.attr_prefix+n,"undefined"==typeof r[n]&&(r[n]=0),r[n]++,addNode(e,n,r[n],s));if(t.childNodes&&t.childNodes.length){var a=!0;for(e&&(a=!1),i=0;i<t.childNodes.length&&a;i++){var l=t.childNodes[i].nodeType;3!==l&&4!==l&&(a=!1)}if(a)for(e||(e=""),i=0;i<t.childNodes.length;i++)e+=t.childNodes[i].nodeValue;else for(e||(e={}),i=0;i<t.childNodes.length;i++)"string"==typeof(n=t.childNodes[i].nodeName)&&(s=parseElement(t.childNodes[i]))&&("undefined"==typeof r[n]&&(r[n]=0),r[n]++,addNode(e,n,r[n],s))}return e}},json=parseElement(root);if(__force_array[root.nodeName]&&(json=[json]),11!==root.nodeType){var tmp={};tmp[root.nodeName]=json,json=tmp}return json}}}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";var e={},i=Math.max,n=Math.min;e.c={},e.c.d=t(document),e.c.t=function(t){return t.originalEvent.touches.length-1},e.o=function(){var i=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var e=function(t,e){var n;for(n in e)i.o[n]=e[n];i._carve().init(),i._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=t.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:!0===this.$.data("cursor")&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var n=t(this);i.i[e]=n,i.v[e]=i.o.parse(n.val()),n.bind("change blur",function(){var t={};t[e]=n.val(),i.val(i._validate(t))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){i.val(i._validate(i.o.parse(i.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=t(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=t('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",e).parent().bind("configure",e),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;i.g=i.c,i.clear(),i.dH&&(t=i.dH()),!1!==t&&i.draw()},this._touch=function(t){var n=function(t){var e=i.xy2val(t.originalEvent.touches[i.t].pageX,t.originalEvent.touches[i.t].pageY);e!=i.cv&&(i.cH&&!1===i.cH(e)||(i.change(i._validate(e)),i._draw()))};return this.t=e.c.t(t),n(t),e.c.d.bind("touchmove.k",n).bind("touchend.k",function(){e.c.d.unbind("touchmove.k touchend.k"),i.val(i.cv)}),this},this._mouse=function(t){var n=function(t){var e=i.xy2val(t.pageX,t.pageY);e!=i.cv&&(i.cH&&!1===i.cH(e)||(i.change(i._validate(e)),i._draw()))};return n(t),e.c.d.bind("mousemove.k",n).bind("keyup.k",function(t){if(27===t.keyCode){if(e.c.d.unbind("mouseup.k mousemove.k keyup.k"),i.eH&&!1===i.eH())return;i.cancel()}}).bind("mouseup.k",function(){e.c.d.unbind("mousemove.k mouseup.k keyup.k"),i.val(i.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),i._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),i._xy()._touch(t)}),this.listen()),this.relative&&t(window).resize(function(){i._carve().init(),i._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){var e=~~((t<0?-.5:.5)+t/this.o.step)*this.o.step;return Math.round(100*e)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(){},this.val=function(){},this.xy2val=function(){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var i;return t=t.substring(1,7),i=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)],"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"},this.copy=function(t,e){for(var i in t)e[i]=t[i]}},e.Dial=function(){e.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=t.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?i(n(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var s,r;return s=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(s=this.angleArc-s-this.PI2),this.angleArc!=this.PI2&&s<0&&s>-.5?s=0:s<0&&(s+=this.PI2),r=s*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(r=i(n(r,this.o.max),this.o.min)),r},this.listen=function(){var e,s,r,o,a=this,l=function(t){t.preventDefault();var r=t.originalEvent,o=r.detail||r.wheelDeltaX,l=r.detail||r.wheelDeltaY,c=a._validate(a.o.parse(a.$.val()))+(o>0||l>0?a.o.step:o<0||l<0?-a.o.step:0);c=i(n(c,a.o.max),a.o.min),a.val(c,!1),a.rH&&(clearTimeout(e),e=setTimeout(function(){a.rH(c),e=null},100),s||(s=setTimeout(function(){e&&a.rH(c),s=null},200)))},c=1,d={37:-a.o.step,38:a.o.step,39:a.o.step,40:-a.o.step};this.$.bind("keydown",function(e){var s=e.keyCode;if(s>=96&&s<=105&&(s=e.keyCode=s-48),r=parseInt(String.fromCharCode(s)),isNaN(r)&&(13!==s&&8!==s&&9!==s&&189!==s&&(190!==s||a.$.val().match(/\./))&&e.preventDefault(),t.inArray(s,[37,38,39,40])>-1)){e.preventDefault();var l=a.o.parse(a.$.val())+d[s]*c;a.o.stopper&&(l=i(n(l,a.o.max),a.o.min)),a.change(a._validate(l)),a._draw(),o=window.setTimeout(function(){c*=2},30)}}).bind("keyup",function(){isNaN(r)?o&&(window.clearTimeout(o),o=null,c=1,a.val(a.$.val())):a.$.val()>a.o.max&&a.$.val(a.o.max)||a.$.val()<a.o.min&&a.$.val(a.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",l),this.$.bind("mousewheel DOMMouseScroll",l)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=i(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,i;return t=this.angle(t),this.o.flip?(e=this.endAngle+1e-5,i=e-t-1e-5):(e=this.startAngle-1e-5,i=e+t+1e-5),this.o.cursor&&(e=i-this.cursorExt)&&(i+=this.cursorExt),{s:e,e:i,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,i=this.arc(this.cv),n=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,"none"!==this.o.bgColor&&(e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke()),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),n=this.cv==this.v),e.beginPath(),e.strokeStyle=n?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,i.s,i.e,i.d),e.stroke()},this.cancel=function(){this.val(this.v)}},t.fn.dial=t.fn.knob=function(i){return this.each(function(){var n=new e.Dial;n.o=i,n.$=t(this),n.run()}).parent()}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e,i=navigator.userAgent,n=/iphone/i.test(i),s=/chrome/i.test(i),r=/android/i.test(i);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var i;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(i,o){var a,l,c,d,h,u,p,f;if(!i&&this.length>0){a=t(this[0]);var g=a.data(t.mask.dataName);return g?g():void 0}return o=t.extend({autoclear:t.mask.autoclear,placeholder:t.mask.placeholder,completed:null},o),l=t.mask.definitions,c=[],d=p=i.length,h=null,t.each(i.split(""),function(t,e){"?"==e?(p--,d=t):l[e]?(c.push(new RegExp(l[e])),null===h&&(h=c.length-1),d>t&&(u=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function a(){if(o.completed){for(var t=h;u>=t;t++)if(c[t]&&T[t]===g(t))return;o.completed.call(S)}}function g(t){return o.placeholder.charAt(t<o.placeholder.length?t:0)}function m(t){for(;++t<p&&!c[t];);return t}function v(t){for(;--t>=0&&!c[t];);return t}function b(t,e){var i,n;if(!(0>t)){for(i=t,n=m(e);p>i;i++)if(c[i]){if(!(p>n&&c[i].test(T[n])))break;T[i]=T[n],T[n]=g(n),n=m(n)}k(),S.caret(Math.max(h,t))}}function y(t){var e,i,n,s;for(e=t,i=g(t);p>e;e++)if(c[e]){if(n=m(e),s=T[e],T[e]=i,!(p>n&&c[n].test(s)))break;i=s}}function w(){var t=S.val(),e=S.caret();if(f&&f.length&&f.length>t.length){for(D(!0);e.begin>0&&!c[e.begin-1];)e.begin--;if(0===e.begin)for(;e.begin<h&&!c[e.begin];)e.begin++;S.caret(e.begin,e.begin)}else{for(D(!0);e.begin<p&&!c[e.begin];)e.begin++;S.caret(e.begin,e.begin)}a()}function _(){D(),S.val()!=E&&S.change()}function x(t){if(!S.prop("readonly")){var e,i,s,r=t.which||t.keyCode;f=S.val(),8===r||46===r||n&&127===r?(e=S.caret(),i=e.begin,s=e.end,s-i==0&&(i=46!==r?v(i):s=m(i-1),s=46===r?m(s):s),$(i,s),b(i,s-1),t.preventDefault()):13===r?_.call(this,t):27===r&&(S.val(E),S.caret(0,D()),t.preventDefault())}}function C(e){if(!S.prop("readonly")){var i,n,s,o=e.which||e.keyCode,l=S.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||32>o)&&o&&13!==o){if(l.end-l.begin!=0&&($(l.begin,l.end),b(l.begin,l.end-1)),i=m(l.begin-1),p>i&&(n=String.fromCharCode(o),c[i].test(n))){if(y(i),T[i]=n,k(),s=m(i),r){var d=function(){t.proxy(t.fn.caret,S,s)()};setTimeout(d,0)}else S.caret(s);l.begin<=u&&a()}e.preventDefault()}}}function $(t,e){var i;for(i=t;e>i&&p>i;i++)c[i]&&(T[i]=g(i))}function k(){S.val(T.join(""))}function D(t){var e,i,n,s=S.val(),r=-1;for(e=0,n=0;p>e;e++)if(c[e]){for(T[e]=g(e);n++<s.length;)if(i=s.charAt(n-1),c[e].test(i)){T[e]=i,r=e;break}if(n>s.length){$(e+1,p);break}}else T[e]===s.charAt(n)&&n++,d>e&&(r=e);return t?k():d>r+1?o.autoclear||T.join("")===I?(S.val()&&S.val(""),$(0,p)):k():(k(),S.val(S.val().substring(0,r+1))),d?e:h}var S=t(this),T=t.map(i.split(""),function(t,e){return"?"!=t?l[t]?g(e):t:void 0}),I=T.join(""),E=S.val();S.data(t.mask.dataName,function(){return t.map(T,function(t,e){return c[e]&&t!=g(e)?t:null}).join("")}),S.one("unmask",function(){S.off(".mask").removeData(t.mask.dataName)}).on("focus.mask",function(){if(!S.prop("readonly")){clearTimeout(e);var t;E=S.val(),t=D(),e=setTimeout(function(){S.get(0)===document.activeElement&&(k(),t==i.replace("?","").length?S.caret(0,t):S.caret(t))},10)}}).on("blur.mask",_).on("keydown.mask",x).on("keypress.mask",C).on("input.mask paste.mask",function(){S.prop("readonly")||setTimeout(function(){var t=D(!0);S.caret(t),a()},0)}),s&&r&&S.off("input.mask").on("input.mask",w),D()})}})}),function(t,e,i){"function"==typeof define&&define.amd?define(["jquery"],function(n){return i(n,t,e),n.mobile}):i(t.jQuery,t,e)}(this,document,function(t,e,i){!function(t,e,i,n){function s(t){for(;t&&"undefined"!=typeof t.originalEvent;)t=t.originalEvent;return t}function r(e,i){var r,o,a,l,c,d,h,u,p,f=e.type;if(e=t.Event(e),e.type=i,r=e.originalEvent,o=t.event.props,f.search(/^(mouse|click)/)>-1&&(o=E),r)for(h=o.length,l;h;)l=o[--h],e[l]=r[l];if(f.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),-1!==f.search(/^touch/)&&(a=s(r),f=a.touches,c=a.changedTouches,d=f&&f.length?f[0]:c&&c.length?c[0]:n))for(u=0,p=T.length;p>u;u++)l=T[u],e[l]=d[l];return e}function o(e){for(var i,n,s={};e;){i=t.data(e,k);for(n in i)i[n]&&(s[n]=s.hasVirtualBinding=!0);e=e.parentNode}return s}function a(e,i){for(var n;e;){if((n=t.data(e,k))&&(!i||n[i]))return e;e=e.parentNode}return null}function l(){O=!1}function c(){O=!0}function d(){z=0,R.length=0,N=!1,c()}function h(){l()}function u(){p(),A=setTimeout(function(){A=0,d()},t.vmouse.resetTimerDuration)}function p(){A&&(clearTimeout(A),A=0)}function f(e,i,n){var s;return(n&&n[e]||!n&&a(i.target,e))&&(s=r(i,e),t(i.target).trigger(s)),s}function g(e){var i,n=t.data(e.target,D);N||z&&z===n||(i=f("v"+e.type,e))&&(i.isDefaultPrevented()&&e.preventDefault(),i.isPropagationStopped()&&e.stopPropagation(),i.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function m(e){var i,n,r,a=s(e).touches;a&&1===a.length&&(i=e.target,n=o(i),n.hasVirtualBinding&&(z=L++,t.data(i,D,z),p(),h(),P=!1,r=s(e).touches[0],M=r.pageX,F=r.pageY,f("vmouseover",e,n),f("vmousedown",e,n)))}function v(t){O||(P||f("vmousecancel",t,o(t.target)),P=!0,u())}function b(e){if(!O){var i=s(e).touches[0],n=P,r=t.vmouse.moveDistanceThreshold,a=o(e.target);P=P||Math.abs(i.pageX-M)>r||Math.abs(i.pageY-F)>r,P&&!n&&f("vmousecancel",e,a),f("vmousemove",e,a),u()}}function y(t){if(!O){c();var e,i,n=o(t.target);f("vmouseup",t,n),P||(e=f("vclick",t,n))&&e.isDefaultPrevented()&&(i=s(t).changedTouches[0],R.push({touchID:z,x:i.clientX,y:i.clientY}),N=!0),f("vmouseout",t,n),P=!1,u()}}function w(e){var i,n=t.data(e,k);if(n)for(i in n)if(n[i])return!0;return!1}function _(){}function x(e){var i=e.substr(1);return{setup:function(){w(this)||t.data(this,k,{}),t.data(this,k)[e]=!0,j[e]=(j[e]||0)+1,1===j[e]&&q.bind(i,g),t(this).bind(i,_),H&&(j.touchstart=(j.touchstart||0)+1,1===j.touchstart&&q.bind("touchstart",m).bind("touchend",y).bind("touchmove",b).bind("scroll",v))},teardown:function(){--j[e],j[e]||q.unbind(i,g),H&&(--j.touchstart||q.unbind("touchstart",m).unbind("touchmove",b).unbind("touchend",y).unbind("scroll",v));var n=t(this),s=t.data(this,k);s&&(s[e]=!1),n.unbind(i,_),w(this)||n.removeData(k)}}}var C,$,k="virtualMouseBindings",D="virtualTouchID",S="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),T="clientX clientY pageX pageY screenX screenY".split(" "),I=t.event.mouseHooks?t.event.mouseHooks.props:[],E=t.event.props.concat(I),j={},A=0,M=0,F=0,P=!1,R=[],N=!1,O=!1,H="addEventListener"in i,q=t(i),L=1,z=0;for(t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},$=0;$<S.length;$++)t.event.special[S[$]]=x(S[$]);H&&i.addEventListener("click",function(e){var i,n,s,r,o,a=R.length,l=e.target;if(a)for(i=e.clientX,n=e.clientY,C=t.vmouse.clickDistanceThreshold,s=l;s;){for(r=0;a>r;r++)if(o=R[r],0,s===l&&Math.abs(o.x-i)<C&&Math.abs(o.y-n)<C||t.data(s,D)===o.touchID)return e.preventDefault(),void e.stopPropagation();s=s.parentNode}},!0)}(t,0,i),function(t){t.mobile={}}(t),function(t){var e={touch:"ontouchend"in i};t.mobile.support=t.mobile.support||{},t.extend(t.support,e),t.extend(t.mobile.support,e)}(t),function(t,e,n){function s(e,i,s,r){var o=s.type;s.type=i,r?t.event.trigger(s,n,e):t.event.dispatch.call(e,s),s.type=o}var r=t(i),o=t.mobile.support.touch,a="touchmove scroll",l=o?"touchstart":"mousedown",c=o?"touchend":"mouseup",d=o?"touchmove":"mousemove";t.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,i){t.fn[i]=function(t){return t?this.bind(i,t):this.trigger(i)},t.attrFn&&(t.attrFn[i]=!0)}),t.event.special.scrollstart={enabled:!0,setup:function(){function e(t,e){i=e,s(r,i?"scrollstart":"scrollstop",t)}var i,n,r=this;t(r).bind(a,function(s){t.event.special.scrollstart.enabled&&(i||e(s,!0),clearTimeout(n),n=setTimeout(function(){e(s,!1)},50))})},teardown:function(){t(this).unbind(a)}},t.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var e=this,i=t(e),n=!1;i.bind("vmousedown",function(o){function a(){clearTimeout(d)}function l(){a(),i.unbind("vclick",c).unbind("vmouseup",a),r.unbind("vmousecancel",l)}function c(t){l(),n||h!==t.target?n&&t.preventDefault():s(e,"tap",t)}if(n=!1,o.which&&1!==o.which)return!1;var d,h=o.target;i.bind("vmouseup",a).bind("vclick",c),r.bind("vmousecancel",l),d=setTimeout(function(){t.event.special.tap.emitTapOnTaphold||(n=!0),s(e,"taphold",t.Event("taphold",{target:h}))},t.event.special.tap.tapholdThreshold)})},teardown:function(){t(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),r.unbind("vmousecancel")}},t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(t){var i=e.pageXOffset,n=e.pageYOffset,s=t.clientX,r=t.clientY;return 0===t.pageY&&Math.floor(r)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(s)>Math.floor(t.pageX)?(s-=i,r-=n):(r<t.pageY-n||s<t.pageX-i)&&(s=t.pageX-i,r=t.pageY-n),{x:s,y:r}},start:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=t.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:t(e.target)}},stop:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=t.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function(e,i,n,r){if(i.time-e.time<t.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-i.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-i.coords[1])<t.event.special.swipe.verticalDistanceThreshold){var o=e.coords[0]>i.coords[0]?"swipeleft":"swiperight";return s(n,"swipe",t.Event("swipe",{target:r,swipestart:e,swipestop:i}),!0),s(n,o,t.Event(o,{target:r,swipestart:e,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var e,i=this,n=t(i),s={};e=t.data(this,"mobile-events"),e||(e={length:0},t.data(this,"mobile-events",e)),e.length++,e.swipe=s,s.start=function(e){if(!t.event.special.swipe.eventInProgress){t.event.special.swipe.eventInProgress=!0;var n,o=t.event.special.swipe.start(e),a=e.target,l=!1;s.move=function(e){o&&!e.isDefaultPrevented()&&(n=t.event.special.swipe.stop(e),
l||(l=t.event.special.swipe.handleSwipe(o,n,i,a))&&(t.event.special.swipe.eventInProgress=!1),Math.abs(o.coords[0]-n.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},s.stop=function(){l=!0,t.event.special.swipe.eventInProgress=!1,r.off(d,s.move),s.move=null},r.on(d,s.move).one(c,s.stop)}},n.on(l,s.start)},teardown:function(){var e,i;e=t.data(this,"mobile-events"),e&&(i=e.swipe,delete e.swipe,0===--e.length&&t.removeData(this,"mobile-events")),i&&(i.start&&t(this).off(l,i.start),i.move&&r.off(d,i.move),i.stop&&r.off(c,i.stop))}},t.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,i){t.event.special[e]={setup:function(){t(this).bind(i,t.noop)},teardown:function(){t(this).unbind(i)}}})}(t,this)}),function(t,e,i,n){function s(i,n){this.w=t(e),this.el=t(i),this.options=t.extend({},o,n),this.init()}var r=(i.documentElement,function(){var t=i.createElement("div"),n=i.documentElement;if(!("pointerEvents"in t.style))return!1;t.style.pointerEvents="auto",t.style.pointerEvents="x",n.appendChild(t);var s=e.getComputedStyle&&"auto"===e.getComputedStyle(t,"").pointerEvents;return n.removeChild(t),!!s}()),o={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};s.prototype={init:function(){var e=this;e.reset(),e.el.data("nestable-group",this.options.group),e.placeEl=t('<div class="'+e.options.placeClass+'"/>'),t.each(this.el.find(e.options.itemNodeName),function(i,n){e.setParent(t(n))}),e.el.on("click","button",function(i){if(!(e.dragEl||"button"in i&&0!==i.button)){var n=t(i.currentTarget),s=n.data("action"),r=n.parent(e.options.itemNodeName);"collapse"===s&&e.collapseItem(r),"expand"===s&&e.expandItem(r)}});var i=function(i){i=i.originalEvent;var n=t(i.target);if(!n.hasClass(e.options.handleClass)){if(n.closest("."+e.options.noDragClass).length)return;n=n.closest("."+e.options.handleClass)}!n.length||e.dragEl||"button"in i&&0!==i.button||"touches"in i&&1!==i.touches.length||(i.preventDefault(),e.dragStart("touches"in i?i.touches[0]:i))},n=function(t){e.dragEl&&(t=t.originalEvent,t.preventDefault(),e.dragMove("touches"in t?t.touches[0]:t))},s=function(t){e.dragEl&&(t=t.originalEvent,t.preventDefault(),e.dragStop("touches"in t?t.touches[0]:t))};e.el.on("mousedown touchstart MSPointerDown pointerdown",i),e.w.on("mousemove touchmove MSPointerMove pointermove",n),e.w.on("mouseup touchend touchcancel MSPointerUp MSPointerCancel pointerup pointercancel",s)},serialize:function(){var e=this;return step=function(i,n){var s=[];return i.children(e.options.itemNodeName).each(function(){var i=t(this),r=t.extend({},i.data()),o=i.children(e.options.listNodeName);o.length&&(r.children=step(o,n+1)),s.push(r)}),s},step(e.el.find(e.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(t){t.removeClass(this.options.collapsedClass),t.children('[data-action="expand"]').hide(),t.children('[data-action="collapse"]').show(),t.children(this.options.listNodeName).show()},collapseItem:function(t){t.children(this.options.listNodeName).length&&(t.addClass(this.options.collapsedClass),t.children('[data-action="collapse"]').hide(),t.children('[data-action="expand"]').show(),t.children(this.options.listNodeName).hide())},expandAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.expandItem(t(this))})},collapseAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.collapseItem(t(this))})},setParent:function(e){e.children(this.options.listNodeName).length&&(e.prepend(t(this.options.expandBtnHTML)),e.prepend(t(this.options.collapseBtnHTML))),e.children('[data-action="expand"]').hide()},unsetParent:function(t){t.removeClass(this.options.collapsedClass),t.children("[data-action]").remove(),t.children(this.options.listNodeName).remove()},dragStart:function(e){var s=this.mouse,r=t(e.target),o=r.closest(this.options.itemNodeName);this.placeEl.css("height",o.height()),s.offsetX=e.offsetX!==n?e.offsetX:e.pageX-r.offset().left,s.offsetY=e.offsetY!==n?e.offsetY:e.pageY-r.offset().top,s.startX=s.lastX=e.pageX,s.startY=s.lastY=e.pageY,this.dragRootEl=this.el,this.dragEl=t(i.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",o.width()),o.after(this.placeEl),o[0].parentNode.removeChild(o[0]),o.appendTo(this.dragEl),t(i.body).append(this.dragEl),this.dragEl.css({left:e.pageX-s.offsetX,top:e.pageY-s.offsetY});var a,l,c=this.dragEl.find(this.options.itemNodeName);for(a=0;a<c.length;a++)(l=t(c[a]).parents(this.options.listNodeName).length)>this.dragDepth&&(this.dragDepth=l)},dragStop:function(){var t=this.dragEl.children(this.options.itemNodeName).first();t[0].parentNode.removeChild(t[0]),this.placeEl.replaceWith(t),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(n){var s,o,a,l,c=this.options,d=this.mouse;this.dragEl.css({left:n.pageX-d.offsetX,top:n.pageY-d.offsetY}),d.lastX=d.nowX,d.lastY=d.nowY,d.nowX=n.pageX,d.nowY=n.pageY,d.distX=d.nowX-d.lastX,d.distY=d.nowY-d.lastY,d.lastDirX=d.dirX,d.lastDirY=d.dirY,d.dirX=0===d.distX?0:d.distX>0?1:-1,d.dirY=0===d.distY?0:d.distY>0?1:-1;var h=Math.abs(d.distX)>Math.abs(d.distY)?1:0;if(!d.moving)return d.dirAx=h,void(d.moving=!0);d.dirAx!==h?(d.distAxX=0,d.distAxY=0):(d.distAxX+=Math.abs(d.distX),0!==d.dirX&&d.dirX!==d.lastDirX&&(d.distAxX=0),d.distAxY+=Math.abs(d.distY),0!==d.dirY&&d.dirY!==d.lastDirY&&(d.distAxY=0)),d.dirAx=h,d.dirAx&&d.distAxX>=c.threshold&&(d.distAxX=0,a=this.placeEl.prev(c.itemNodeName),d.distX>0&&a.length&&!a.hasClass(c.collapsedClass)&&(s=a.find(c.listNodeName).last(),this.placeEl.parents(c.listNodeName).length+this.dragDepth<=c.maxDepth&&(s.length?(s=a.children(c.listNodeName).last(),s.append(this.placeEl)):(s=t("<"+c.listNodeName+"/>").addClass(c.listClass),s.append(this.placeEl),a.append(s),this.setParent(a)))),d.distX<0&&(l=this.placeEl.next(c.itemNodeName),l.length||(o=this.placeEl.parent(),this.placeEl.closest(c.itemNodeName).after(this.placeEl),o.children().length||this.unsetParent(o.parent()))));var u=!1;if(r||(this.dragEl[0].style.visibility="hidden"),this.pointEl=t(i.elementFromPoint(n.pageX-i.body.scrollLeft,n.pageY-(e.pageYOffset||i.documentElement.scrollTop))),r||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(c.handleClass)&&(this.pointEl=this.pointEl.parent(c.itemNodeName)),this.pointEl.hasClass(c.emptyClass))u=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(c.itemClass))return;var p=this.pointEl.closest("."+c.rootClass),f=this.dragRootEl.data("nestable-id")!==p.data("nestable-id");if(!d.dirAx||f||u){if(f&&c.group!==p.data("nestable-group"))return;if(this.dragDepth-1+this.pointEl.parents(c.listNodeName).length>c.maxDepth)return;var g=n.pageY<this.pointEl.offset().top+this.pointEl.height()/2;o=this.placeEl.parent(),u?(s=t(i.createElement(c.listNodeName)).addClass(c.listClass),s.append(this.placeEl),this.pointEl.replaceWith(s)):g?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),o.children().length||this.unsetParent(o.parent()),this.dragRootEl.find(c.itemNodeName).length||this.dragRootEl.append('<div class="'+c.emptyClass+'"/>'),f&&(this.dragRootEl=p,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},t.fn.nestable=function(e){var i=this,n=this;return i.each(function(){var i=t(this).data("nestable");i?"string"==typeof e&&"function"==typeof i[e]&&(n=i[e]()):(t(this).data("nestable",new s(this,e)),t(this).data("nestable-id",(new Date).getTime()))}),n||i}}(window.jQuery||window.Zepto,window,document),function(t){"use strict";var e={init:function(i){return this.each(function(){this.self=t(this),e.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,i),e._adjustCallback.call(this),e._adjustNumber.call(this),e._adjustHints.call(this),this.opt.score=e._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&e._adjustStarType.call(this),e._adjustPath.call(this),e._createStars.call(this),this.opt.cancel&&e._createCancel.call(this),this.opt.precision&&e._adjustPrecision.call(this),e._createScore.call(this),e._apply.call(this,this.opt.score),e._setTitle.call(this,this.opt.score),e._target.call(this,this.opt.score),this.opt.readOnly?e._lock.call(this):(this.style.cursor="pointer",e._binds.call(this))})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName","target"],e=0;e<t.length;e++)"function"==typeof this.opt[t[e]]&&(this.opt[t[e]]=this.opt[t[e]].call(this))},_adjustedScore:function(t){return t?e._between(t,0,this.opt.number):t},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,e=0;e<this.opt.number;e++){var i=this.opt.hints[e];"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),this.opt.hints[e]=[];for(var n=0;t>n;n++){var s=i[n],r=i[i.length-1];void 0===r&&(r=null),this.opt.hints[e][n]=void 0===s?r:s}}},_adjustNumber:function(){this.opt.number=e._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){e._fill.call(this,t),t&&(t>0&&this.score.val(t),e._roundStars.call(this,t))},_between:function(t,e,i){return Math.min(Math.max(parseFloat(t),e),i)},_binds:function(){this.cancel&&(e._bindOverCancel.call(this),e._bindClickCancel.call(this),e._bindOutCancel.call(this)),e._bindOver.call(this),e._bindClick.call(this),e._bindOut.call(this)},_bindClick:function(){var i=this;i.stars.on("click.raty",function(n){var s=!0,r=i.opt.half||i.opt.precision?i.self.data("score"):this.alt||t(this).data("alt");i.opt.click&&(s=i.opt.click.call(i,+r,n)),(s||void 0===s)&&(i.opt.half&&!i.opt.precision&&(r=e._roundHalfScore.call(i,r)),e._apply.call(i,r))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(i){var n=+t.score.val()||void 0;e._apply.call(t,n),e._target.call(t,n,i),e._resetTitle.call(t),t.opt.mouseout&&t.opt.mouseout.call(t,n,i)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(i){var n=t.opt.cancelOff;if("img"!==t.opt.starType&&(n=t.opt.cancelClass+" "+n),e._setIcon.call(t,this,n),t.opt.mouseout){var s=+t.score.val()||void 0;t.opt.mouseout.call(t,s,i)}})},_bindOver:function(){var t=this,i=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(i,function(i){var n=e._getScoreByPosition.call(t,i,this);e._fill.call(t,n),t.opt.half&&(e._roundStars.call(t,n,i),e._setTitle.call(t,n,i),t.self.data("score",n)),e._target.call(t,n,i),t.opt.mouseover&&t.opt.mouseover.call(t,n,i)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(i){var n=t.opt.path+t.opt.starOff,s=t.opt.cancelOn;"img"===t.opt.starType?t.stars.attr("src",n):(s=t.opt.cancelClass+" "+s,t.stars.attr("class",n)),e._setIcon.call(t,this,s),e._target.call(t,null,i),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,i=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?i.attr({src:e,alt:"x"}):i.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(i):this.self.append("&#160;").append(i),this.cancel=i},_createScore:function(){var i=t(this.opt.targetScore);this.score=i.length?i:e._buildScoreField.call(this)},_createStars:function(){for(var i=1;i<=this.opt.number;i++){var n=e._nameForIndex.call(this,i),s={alt:i,src:this.opt.path+this.opt[n]};"img"!==this.opt.starType&&(s={"data-alt":i,"class":s.src}),s.title=e._getHint.call(this,i),t("<"+this.opt.starType+" />",s).appendTo(this),this.opt.space&&this.self.append(i<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_fill:function(t){for(var i=0,n=1;n<=this.stars.length;n++){var s,r=this.stars[n-1],o=e._turnOn.call(this,n,t);if(this.opt.iconRange&&this.opt.iconRange.length>i){var a=this.opt.iconRange[i];s=e._getRangeIcon.call(this,a,o),n<=a.range&&e._setIcon.call(this,r,s),n===a.range&&i++}else s=this.opt[o?"starOn":"starOff"],e._setIcon.call(this,r,s)}},_getFirstDecimal:function(t){var e=t.toString().split(".")[1],i=0;return e&&(i=parseInt(e.charAt(0),10),"9999"===e.slice(1,5)&&i++),i},_getRangeIcon:function(t,e){return e?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(i,n){var s=parseInt(n.alt||n.getAttribute("data-alt"),10);if(this.opt.half){var r=e._getWidth.call(this);s=s-1+parseFloat((i.pageX-t(n).offset().left)/r)}return s},_getHint:function(t,i){if(0!==t&&!t)return this.opt.noRatedMsg;var n=e._getFirstDecimal.call(this,t),s=Math.ceil(t),r=this.opt.hints[(s||1)-1],o=r,a=!i||this.move;return this.opt.precision?(a&&(n=0===n?9:n-1),o=r[n]):(this.opt.halfShow||this.opt.half)&&(n=a&&0===n?1:n>5?1:0,o=r[n]),""===o?"":o||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||e._error.call(this,"Could not get the icon width!"),t},_lock:function(){var t=e._getHint.call(this,this.score.val());this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(){for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1)},_roundHalfScore:function(t){var i=parseInt(t,10),n=e._getFirstDecimal.call(this,t);return 0!==n&&(n=n>5?1:.5),i+n},_roundStars:function(t,i){var n,s=(t%1).toFixed(2);if(i||this.move?n=s>.5?"starOn":"starHalf":s>this.opt.round.down&&(n="starOn",this.opt.halfShow&&s<this.opt.round.up?n="starHalf":s<this.opt.round.full&&(n="starOff")),n){var r=this.opt[n],o=this.stars[Math.ceil(t)-1];e._setIcon.call(this,o,r)}},_setIcon:function(t,e){t["img"===this.opt.starType?"src":"className"]=this.opt.path+e},_setTarget:function(t,e){e&&(e=this.opt.targetFormat.toString().replace("{score}",e)),t.is(":input")?t.val(e):t.html(e)},_setTitle:function(t,i){if(t){var n=parseInt(Math.ceil(t),10);this.stars[n-1].title=e._getHint.call(this,t,i)}},_target:function(i,n){if(this.opt.target){var s=t(this.opt.target);s.length||e._error.call(this,"Target selector invalid or missing!");var r=n&&"mouseover"===n.type;if(void 0===i)i=this.opt.targetText;else if(null===i)i=r?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?i=e._getHint.call(this,i,n):this.opt.precision&&(i=parseFloat(i).toFixed(1));var o=n&&"mousemove"===n.type;r||o||this.opt.targetKeep||(i=this.opt.targetText)}e._setTarget.call(this,s,i)}},_turnOn:function(t,e){return this.opt.single?t===e:e>=t},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(i){return this.each(function(){var n=t(this);!0!==n.data("readonly")&&(e[i?"click":"score"].call(n,null),this.score.removeAttr("value"))})},click:function(i){return this.each(function(){!0!==t(this).data("readonly")&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),this.opt.click&&this.opt.click.call(this,i,t.Event("click")),e._target.call(this,i))})},destroy:function(){return this.each(function(){var e=t(this),i=e.data("raw");i?e.off(".raty").empty().css({cursor:i.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var t,e=[];return this.each(function(){t=this.score.val(),e.push(t?+t:void 0)}),e.length>1?e:e[0]},move:function(i){return this.each(function(){var n=parseInt(i,10),s=e._getFirstDecimal.call(this,i);n>=this.opt.number&&(n=this.opt.number-1,s=10);var r=e._getWidth.call(this),o=r/10,a=t(this.stars[n]),l=a.offset().left+o*s,c=t.Event("mousemove",{pageX:l});this.move=!0,a.trigger(c),this.move=!1})},readOnly:function(i){return this.each(function(){var n=t(this);n.data("readonly")!==i&&(i?(n.off(".raty").children("img").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),n.data("readonly",i))})},reload:function(){return e.set.call(this,{})},score:function(){var i=t(this);return arguments.length?e.setScore.apply(i,arguments):e.getScore.call(i)},set:function(e){return this.each(function(){t(this).raty(t.extend({},this.opt,e))})},setScore:function(i){return this.each(function(){!0!==t(this).data("readonly")&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),e._target.call(this,i))})}};t.fn.raty=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(function(n){"use strict";var s,r,o,a,l,c,d,h,u,p,f,g,m,v,b,y,w,_,x,C,$,k,D,S,T,I,E,j,A,M,F,P={},R=0;s=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new o("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new o("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new o("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},T='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',r=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),n.extend.apply(n,e))):t.prototype=arguments[0],t.prototype.cls=t,t},n.SPFormatClass=o=r({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,n){var s,r,o,a,l,c=this,d=t;return this.format.replace(this.fre,function(){var t;return r=arguments[1],o=arguments[3],s=c.precre.exec(r),s?(l=s[2],r=s[1]):l=!1,a=d[r],a===i?"":o&&e&&e[o]?(t=e[o],t.get?e[o].get(a)||a:e[o][a]||a):(u(a)&&(a=n.get("numberFormatter")?n.get("numberFormatter")(a):m(a,l,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),a)})}}),n.spformat=function(t,e){return new o(t,e)},a=function(t,e,i){return e>t?e:t>i?i:t},l=function(t,i){var n;return 2===i?(n=e.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*i+i)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]):(n=(t.length*i+2)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1])},c=function(t){var e;switch(t){case"undefined":t=i;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},d=function(t){var e,i=[];for(e=t.length;e--;)i[e]=c(t[e]);return i},h=function(t,e){var i,n,s=[];for(i=0,n=t.length;n>i;i++)t[i]!==e&&s.push(t[i]);return s},u=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=function(t,e,i,s,r){var o,a;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),o=(o=n.inArray(".",t))<0?t.length:o,o<t.length&&(t[o]=r),a=o-i;a>0;a-=i)t.splice(a,0,s);return t.join("")},p=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},function(t){var e,i=0;for(e=t.length;e--;)i+="number"==typeof t[e]?t[e]:0;return i},g=function(t){return n.isArray(t)?t:[t]},f=function(e){var i;t.createStyleSheet?t.createStyleSheet().cssText=e:(i=t.createElement("style"),i.type="text/css",t.getElementsByTagName("head")[0].appendChild(i),i["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},n.fn.simpledraw=function(e,s,r,o){var a,l;if(r&&(a=this.data("_jqs_vcanvas")))return a;if(!1===n.fn.sparkline.canvas)return!1;if(n.fn.sparkline.canvas===i){var c=t.createElement("canvas");if(c.getContext&&c.getContext("2d"))n.fn.sparkline.canvas=function(t,e,i,n){return new A(t,e,i,n)};else{if(!t.namespaces||t.namespaces.v)return n.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(t,e,i){return new M(t,e,i)}}}return e===i&&(e=n(this).innerWidth()),s===i&&(s=n(this).innerHeight()),a=n.fn.sparkline.canvas(e,s,this,o),l=n(this).data("_jqs_mhandler"),l&&l.registerCanvas(a),a},n.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},n.RangeMapClass=v=r({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,n,s,r=this.rangelist;if((s=this.map[t])!==i)return s;if(r)for(e=r.length;e--;)if(n=r[e],n[0]<=t&&n[1]>=t)return n[2];return i}}),n.range_map=function(t){return new v(t)},b=r({init:function(t,e){var i=n(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=n(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(n.proxy(this.mouseenter,this)),e.mouseleave(n.proxy(this.mouseleave,this)),e.click(n.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(t){var e=n.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){n(t.body).unbind("mousemove.jqs"),n(t.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new y(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){n(t.body).unbind("mousemove.jqs");var e,i,s=this.splist,r=s.length,o=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;r>i;i++)e=s[i],e.clearRegionHighlight()&&(o=!0);o&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,s,r,o=this.splist,a=o.length,l=!1,c=this.$canvas.offset(),d=this.currentPageX-c.left,h=this.currentPageY-c.top;if(this.over){for(i=0;a>i;i++)e=o[i],(s=e.setRegionHighlight(this.currentEl,d,h))&&(l=!0);if(l){if(r=n.Event("sparklineRegionChange"),r.sparklines=this.splist,this.$el.trigger(r),this.tooltip){for(t="",i=0;a>i;i++)e=o[i],t+=e.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===s&&this.mouseleave()}}}),y=r({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,s=e.get("tooltipClassname","jqstooltip"),r=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:r,"class":s}),this.tooltip=n("<div/>",{id:"jqstooltip","class":s}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,e){if(t===i){if(this.mousex===i)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=i,n(window).unbind("resize.jqs scroll.jqs")}}),I=function(){f(T)},n(I),F=[],n.fn.sparkline=function(e,s){return this.each(function(){var r,o,a=new n.fn.sparkline.options(this,s),l=n(this);if(r=function(){var s,r,o,c,d,h,u;return"html"===e||e===i?(u=this.getAttribute(a.get("tagValuesAttribute")),u!==i&&null!==u||(u=l.html()),s=u.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):s=e,r="auto"===a.get("width")?s.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&n.data(this,"_jqs_vcanvas")||(c=t.createElement("span"),c.innerHTML="a",l.html(c),o=n(c).innerHeight()||n(c).height(),n(c).remove(),c=null):o=a.get("height"),a.get("disableInteraction")?d=!1:(d=n.data(this,"_jqs_mhandler"),d?a.get("composite")||d.reset():(d=new b(this,a),n.data(this,"_jqs_mhandler",d))),a.get("composite")&&!n.data(this,"_jqs_vcanvas")?void(n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0))):(h=new(n.fn.sparkline[a.get("type")])(this,s,a,r,o),h.render(),void(d&&d.registerSparkline(h)))},n(this).html()&&!a.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!a.get("composite")&&n.data(this,"_jqs_pending"))for(o=F.length;o;o--)F[o-1][0]==this&&F.splice(o-1,1);F.push([this,r]),n.data(this,"_jqs_pending",!0)}else r.call(this)})},n.fn.sparkline.defaults=s(),n.sparkline_display_visible=function(){var t,e,i,s=[];for(e=0,i=F.length;i>e;e++)t=F[e][0],n(t).is(":visible")&&!n(t).parents().is(":hidden")?(F[e][1].call(t),n.data(F[e][0],"_jqs_pending",!1),s.push(e)):n(t).closest("html").length||n.data(t,"_jqs_pending")||(n.data(F[e][0],"_jqs_pending",!1),s.push(e));for(e=s.length;e;e--)F.splice(s[e-1],1)},n.fn.sparkline.options=r({init:function(t,e){var i,s,r,o;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},s=n.fn.sparkline.defaults,r=s.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||r.tagOptionsPrefix),o=this.getTagSetting("type"),i=o===P?s[e.type||r.type]:s[o],this.mergedOptions=n.extend({},r,i,e)},getTagSetting:function(t){var e,n,s,r,o=this.tagOptionsPrefix;if(!1===o||o===i)return P;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if((e=this.tag.getAttribute(o+t))===i||null===e)e=P;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),n=e.length;n--;)e[n]=c(e[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(s=e.substr(1,e.length-2).split(","),e={},n=s.length;n--;)r=s[n].split(":",2),e[r[0].replace(/(^\s*)|(\s*$)/g,"")]=c(r[1].replace(/(^\s*)|(\s*$)/g,""));else e=c(e);this.tagValCache.key=e}return e},get:function(t,e){var n,s=this.getTagSetting(t);return s!==P?s:(n=this.mergedOptions[t])===i?e:n}}),n.fn.sparkline._base=r({disabled:!1,init:function(t,e,s,r,o){this.el=t,this.$el=n(t),this.values=e,this.options=s,this.width=r,this.height=o,this.currentRegion=i},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(){},
setRegionHighlight:function(t,e,n){var s,r=this.currentRegion,o=!this.options.get("disableHighlight");return e>this.canvasWidth||n>this.canvasHeight||0>e||0>n?null:(s=this.getRegion(t,e,n),r!==s&&(r!==i&&o&&this.removeHighlight(),this.currentRegion=s,s!==i&&o&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==i&&(this.removeHighlight(),this.currentRegion=i,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t,e,s,r,a,l,c,d,h,u,p,f,g,m,v=this.options,b="",y=[];if(this.currentRegion===i)return"";if(t=this.getCurrentRegionFields(),p=v.get("tooltipFormatter"))return p(this,v,t);if(v.get("tooltipChartTitle")&&(b+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(n.isArray(e)||(e=[e]),n.isArray(t)||(t=[t]),c=this.options.get("tooltipFormatFieldlist"),d=this.options.get("tooltipFormatFieldlistKey"),c&&d){for(h=[],l=t.length;l--;)u=t[l][d],-1!=(m=n.inArray(u,c))&&(h[m]=t[l]);t=h}for(s=e.length,g=t.length,l=0;s>l;l++)for(f=e[l],"string"==typeof f&&(f=new o(f)),r=f.fclass||"jqsfield",m=0;g>m;m++)t[m].isNull&&v.get("tooltipSkipNull")||(n.extend(t[m],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),a=f.render(t[m],v.get("tooltipValueLookups"),v),y.push('<div class="'+r+'">'+a+"</div>"));return y.length?b+y.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var n,s,r,o,l=i.get("highlightColor"),c=i.get("highlightLighten");if(l)return l;if(c&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(r=[],s=4===t.length?16:1,o=0;3>o;o++)r[o]=a(e.round(parseInt(n[o+1],16)*s*c),0,255);return"rgb("+r.join(",")+")"}return t}}),w={changeHighlight:function(t){var e,i=this.currentRegion,s=this.target,r=this.regionShapes[i];r&&(e=this.renderRegion(i,t),n.isArray(e)||n.isArray(r)?(s.replaceWithShapes(r,e),this.regionShapes[i]=n.map(e,function(t){return t.id})):(s.replaceWithShape(r,e),this.regionShapes[i]=e.id))},render:function(){var t,e,i,s,r=this.values,o=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(i=r.length;i--;)if(t=this.renderRegion(i))if(n.isArray(t)){for(e=[],s=t.length;s--;)t[s].append(),e.push(t[s].id);a[i]=e}else t.append(),a[i]=t.id;else a[i]=null;o.render()}}},n.fn.sparkline.line=_=r(n.fn.sparkline._base,{type:"line",init:function(t,e,i,n,s){_._super.init.call(this,t,e,i,n,s),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e){var n,s=this.regionMap;for(n=s.length;n--;)if(null!==s[n]&&e>=s[n][0]&&e<=s[n][1])return s[n][2];return i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,n=this.currentRegion,s=this.target,r=this.vertices[n],o=this.options,a=o.get("spotRadius"),l=o.get("highlightSpotColor"),c=o.get("highlightLineColor");r&&(a&&l&&(t=s.drawCircle(r[0],r[1],a,i,l),this.highlightSpotId=t.id,s.insertAfterShape(this.lastShapeId,t)),c&&(e=s.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,c),this.highlightLineId=e.id,s.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,n,s,r,o=this.values,a=o.length,l=this.xvalues,c=this.yvalues,d=this.yminmax;for(t=0;a>t;t++)i=o[t],n="string"==typeof o[t],s="object"==typeof o[t]&&o[t]instanceof Array,r=n&&o[t].split(":"),n&&2===r.length?(l.push(Number(r[0])),c.push(Number(r[1])),d.push(Number(r[1]))):s?(l.push(i[0]),c.push(i[1]),d.push(i[1])):(l.push(t),null===o[t]||"null"===o[t]?c.push(null):(c.push(Number(i)),d.push(Number(i))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,d),this.miny=this.minyorg=e.min.apply(e,d),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=c,this.yminmax=d},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");e!==i&&(e<this.miny&&(this.miny=e),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,n,s,r,o){var a=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),c=n+e.round(s-s*((l-this.miny)/o)),d=e.round(s*(l-a)/o);this.target.drawRect(t,c,r,d,i,this.options.get("normalRangeColor")).append()},render:function(){var t,s,r,o,a,l,c,d,h,u,p,f,g,m,b,y,w,x,C,$,k,D,S,T,I,E=this.options,j=this.target,A=this.canvasWidth,M=this.canvasHeight,F=this.vertices,P=E.get("spotRadius"),R=this.regionMap;if(_._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),S=this.xvalues,T=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(o=a=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,s=this.maxy-this.miny==0?1:this.maxy-this.miny,r=this.yvalues.length-1,P&&(4*P>A||4*P>M)&&(P=0),P&&(k=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(k||E.get("minSpotColor")||E.get("spotColor")&&T[r]===this.miny)&&(M-=e.ceil(P)),(k||E.get("maxSpotColor")||E.get("spotColor")&&T[r]===this.maxy)&&(M-=e.ceil(P),o+=e.ceil(P)),(k||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(T[0]===this.miny||T[0]===this.maxy))&&(a+=e.ceil(P),A-=e.ceil(P)),(k||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(T[r]===this.miny||T[r]===this.maxy))&&(A-=e.ceil(P))),M--,E.get("normalRangeMin")===i||E.get("drawNormalOnTop")||this.drawNormalRange(a,o,M,A,s),c=[],d=[c],m=b=null,y=T.length,I=0;y>I;I++)h=S[I],p=S[I+1],u=T[I],f=a+e.round((h-this.minx)*(A/t)),g=y-1>I?a+e.round((p-this.minx)*(A/t)):A,b=f+(g-f)/2,R[I]=[m||0,b,I],m=b,null===u?I&&(null!==T[I-1]&&(c=[],d.push(c)),F.push(null)):(u<this.miny&&(u=this.miny),u>this.maxy&&(u=this.maxy),c.length||c.push([f,o+M]),l=[f,o+e.round(M-M*((u-this.miny)/s))],c.push(l),F.push(l));for(w=[],x=[],C=d.length,I=0;C>I;I++)c=d[I],c.length&&(E.get("fillColor")&&(c.push([c[c.length-1][0],o+M]),x.push(c.slice(0)),c.pop()),c.length>2&&(c[0]=[c[0][0],c[1][1]]),w.push(c));for(C=x.length,I=0;C>I;I++)j.drawShape(x[I],E.get("fillColor"),E.get("fillColor")).append();for(E.get("normalRangeMin")!==i&&E.get("drawNormalOnTop")&&this.drawNormalRange(a,o,M,A,s),C=w.length,I=0;C>I;I++)j.drawShape(w[I],E.get("lineColor"),i,E.get("lineWidth")).append();if(P&&E.get("valueSpots"))for($=E.get("valueSpots"),$.get===i&&($=new v($)),I=0;y>I;I++)(D=$.get(T[I]))&&j.drawCircle(a+e.round((S[I]-this.minx)*(A/t)),o+e.round(M-M*((T[I]-this.miny)/s)),P,i,D).append();P&&E.get("spotColor")&&null!==T[r]&&j.drawCircle(a+e.round((S[S.length-1]-this.minx)*(A/t)),o+e.round(M-M*((T[r]-this.miny)/s)),P,i,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(P&&E.get("minSpotColor")&&(h=S[n.inArray(this.minyorg,T)],j.drawCircle(a+e.round((h-this.minx)*(A/t)),o+e.round(M-M*((this.minyorg-this.miny)/s)),P,i,E.get("minSpotColor")).append()),P&&E.get("maxSpotColor")&&(h=S[n.inArray(this.maxyorg,T)],j.drawCircle(a+e.round((h-this.minx)*(A/t)),o+e.round(M-M*((this.maxyorg-this.miny)/s)),P,i,E.get("maxSpotColor")).append())),this.lastShapeId=j.getLastShapeId(),this.canvasTop=o,j.render()}}}),n.fn.sparkline.bar=x=r(n.fn.sparkline._base,w,{type:"bar",init:function(t,s,r,o,l){var u,p,f,g,m,b,y,w,_,C,$,k,D,S,T,I,E,j,A,M,F,P,R=parseInt(r.get("barWidth"),10),N=parseInt(r.get("barSpacing"),10),O=r.get("chartRangeMin"),H=r.get("chartRangeMax"),q=r.get("chartRangeClip"),L=1/0,z=-1/0;for(x._super.init.call(this,t,s,r,o,l),b=0,y=s.length;y>b;b++)M=s[b],((u="string"==typeof M&&M.indexOf(":")>-1)||n.isArray(M))&&(T=!0,u&&(M=s[b]=d(M.split(":"))),M=h(M,null),p=e.min.apply(e,M),f=e.max.apply(e,M),L>p&&(L=p),f>z&&(z=f));this.stacked=T,this.regionShapes={},this.barWidth=R,this.barSpacing=N,this.totalBarWidth=R+N,this.width=o=s.length*R+(s.length-1)*N,this.initTarget(),q&&(D=O===i?-1/0:O,S=H===i?1/0:H),m=[],g=T?[]:m;var B=[],W=[];for(b=0,y=s.length;y>b;b++)if(T)for(I=s[b],s[b]=A=[],B[b]=0,g[b]=W[b]=0,E=0,j=I.length;j>E;E++)null!==(M=A[E]=q?a(I[E],D,S):I[E])&&(M>0&&(B[b]+=M),0>L&&z>0?0>M?W[b]+=e.abs(M):g[b]+=M:g[b]+=e.abs(M-(0>M?z:L)),m.push(M));else M=q?a(s[b],D,S):s[b],null!==(M=s[b]=c(M))&&m.push(M);this.max=k=e.max.apply(e,m),this.min=$=e.min.apply(e,m),this.stackMax=z=T?e.max.apply(e,B):k,this.stackMin=L=T?e.min.apply(e,m):$,r.get("chartRangeMin")!==i&&(r.get("chartRangeClip")||r.get("chartRangeMin")<$)&&($=r.get("chartRangeMin")),r.get("chartRangeMax")!==i&&(r.get("chartRangeClip")||r.get("chartRangeMax")>k)&&(k=r.get("chartRangeMax")),this.zeroAxis=_=r.get("zeroAxis",!0),C=0>=$&&k>=0&&_?0:0==_?$:$>0?$:k,this.xaxisOffset=C,w=T?e.max.apply(e,g)+e.max.apply(e,W):k-$,this.canvasHeightEf=_&&0>$?this.canvasHeight-2:this.canvasHeight-1,C>$?(P=T&&k>=0?z:k,(F=(P-C)/w*this.canvasHeight)!==e.ceil(F)&&(this.canvasHeightEf-=2,F=e.ceil(F))):F=this.canvasHeight,this.yoffset=F,n.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new v(this.colorMapByValue))),this.range=w},getRegion:function(t,n){var s=e.floor(n/this.totalBarWidth);return 0>s||s>=this.values.length?i:s},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=g(this.values[i]),s=[];for(e=n.length;e--;)t=n[e],s.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return s},calcColor:function(t,e,s){var r,o,a=this.colorMapByIndex,l=this.colorMapByValue,c=this.options;return r=this.stacked?c.get("stackedBarColor"):0>e?c.get("negBarColor"):c.get("barColor"),0===e&&c.get("zeroColor")!==i&&(r=c.get("zeroColor")),l&&(o=l.get(e))?r=o:a&&a.length>s&&(r=a[s]),n.isArray(r)?r[t%r.length]:r},renderRegion:function(t,s){var r,o,a,l,c,d,h,u,f,g,m=this.values[t],v=this.options,b=this.xaxisOffset,y=[],w=this.range,_=this.stacked,x=this.target,C=t*this.totalBarWidth,$=this.canvasHeightEf,k=this.yoffset;if(m=n.isArray(m)?m:[m],h=m.length,u=m[0],l=p(null,m),g=p(b,m,!0),l)return v.get("nullColor")?(a=s?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),r=k>0?k-1:k,x.drawRect(C,r,this.barWidth-1,0,a,a)):i;for(c=k,d=0;h>d;d++){if(u=m[d],_&&u===b){if(!g||f)continue;f=!0}o=w>0?e.floor($*(e.abs(u-b)/w))+1:1,b>u||u===b&&0===k?(r=c,c+=o):(r=k-o,k-=o),a=this.calcColor(d,u,t),s&&(a=this.calcHighlightColor(a,v)),y.push(x.drawRect(C,r,this.barWidth-1,o-1,a,a))}return 1===y.length?y[0]:y}}),n.fn.sparkline.tristate=C=r(n.fn.sparkline._base,w,{type:"tristate",init:function(t,e,s,r,o){var a=parseInt(s.get("barWidth"),10),l=parseInt(s.get("barSpacing"),10);C._super.init.call(this,t,e,s,r,o),this.regionShapes={},this.barWidth=a,this.barSpacing=l,this.totalBarWidth=a+l,this.values=n.map(e,Number),this.width=r=e.length*a+(e.length-1)*l,n.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new v(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n=this.values,s=this.options,r=this.colorMapByIndex,o=this.colorMapByValue;return o&&(i=o.get(t))?i:r&&r.length>e?r[e]:n[e]<0?s.get("negBarColor"):n[e]>0?s.get("posBarColor"):s.get("zeroBarColor")},renderRegion:function(t,i){var n,s,r,o,a,l,c=this.values,d=this.options,h=this.target;return n=h.pixelHeight,r=e.round(n/2),o=t*this.totalBarWidth,c[t]<0?(a=r,s=r-1):c[t]>0?(a=0,s=r-1):(a=r-1,s=2),l=this.calcColor(c[t],t),null!==l?(i&&(l=this.calcHighlightColor(l,d)),h.drawRect(o,a,this.barWidth-1,s-1,l,l)):void 0}}),n.fn.sparkline.discrete=$=r(n.fn.sparkline._base,w,{type:"discrete",init:function(t,s,r,o,a){$._super.init.call(this,t,s,r,o,a),this.regionShapes={},this.values=s=n.map(s,Number),this.min=e.min.apply(e,s),this.max=e.max.apply(e,s),this.range=this.max-this.min,this.width=o="auto"===r.get("width")?2*s.length:this.width,this.interval=e.floor(o/s.length),this.itemWidth=o/s.length,r.get("chartRangeMin")!==i&&(r.get("chartRangeClip")||r.get("chartRangeMin")<this.min)&&(this.min=r.get("chartRangeMin")),r.get("chartRangeMax")!==i&&(r.get("chartRangeClip")||r.get("chartRangeMax")>this.max)&&(this.max=r.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===r.get("lineHeight")?e.round(.3*this.canvasHeight):r.get("lineHeight"))},getRegion:function(t,i){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],offset:t}},renderRegion:function(t,i){var n,s,r,o,l=this.values,c=this.options,d=this.min,h=this.max,u=this.range,p=this.interval,f=this.target,g=this.canvasHeight,m=this.lineHeight,v=g-m;return s=a(l[t],d,h),o=t*p,n=e.round(v-v*((s-d)/u)),r=c.get("thresholdColor")&&s<c.get("thresholdValue")?c.get("thresholdColor"):c.get("lineColor"),i&&(r=this.calcHighlightColor(r,c)),f.drawLine(o,n,o,n+m,r)}}),n.fn.sparkline.bullet=k=r(n.fn.sparkline._base,{type:"bullet",init:function(t,n,s,r,o){var a,l,c;k._super.init.call(this,t,n,s,r,o),this.values=n=d(n),c=n.slice(),c[0]=null===c[0]?c[2]:c[0],c[1]=null===n[1]?c[2]:c[1],a=e.min.apply(e,n),l=e.max.apply(e,n),a=s.get("base")===i?0>a?a:0:s.get("base"),this.min=a,this.max=l,this.range=l-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=r="auto"===s.get("width")?"4.0em":r,this.target=this.$el.simpledraw(r,o,s.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var s=this.target.getShapeAt(t,e,n);return s!==i&&this.shapes[s]!==i?this.shapes[s]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,i){var n=this.values[t],s=e.round(this.canvasWidth*((n-this.min)/this.range)),r=this.options.get("rangeColors")[t-2];return i&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,s-1,this.canvasHeight-1,r,r)},renderPerformance:function(t){var i=this.values[1],n=e.round(this.canvasWidth*((i-this.min)/this.range)),s=this.options.get("performanceColor");return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),n-1,e.round(.4*this.canvasHeight)-1,s,s)},renderTarget:function(t){var i=this.values[0],n=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),s=e.round(.1*this.canvasHeight),r=this.canvasHeight-2*s,o=this.options.get("targetColor");return t&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(n,s,this.options.get("targetWidth")-1,r-1,o,o)},render:function(){var t,e,i=this.values.length,n=this.target;if(k._super.render.call(this)){for(t=2;i>t;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),n.fn.sparkline.pie=D=r(n.fn.sparkline._base,{type:"pie",init:function(t,i,s,r,o){var a,l=0;if(D._super.init.call(this,t,i,s,r,o),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),"auto"===s.get("width")&&(this.width=this.height),i.length>0)for(a=i.length;a--;)l+=i[a];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var s=this.target.getShapeAt(t,e,n);return s!==i&&this.shapes[s]!==i?this.shapes[s]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,n){var s,r,o,a,l,c=this.target,d=this.options,h=this.radius,u=d.get("borderWidth"),p=d.get("offset"),f=2*e.PI,g=this.values,m=this.total,v=p?2*e.PI*(p/360):0;for(a=g.length,o=0;a>o;o++){if(s=v,r=v,m>0&&(r=v+f*(g[o]/m)),t===o)return l=d.get("sliceColors")[o%d.get("sliceColors").length],n&&(l=this.calcHighlightColor(l,d)),c.drawPieSlice(h,h,h-u,s,r,i,l);v=r}},render:function(){var t,n,s=this.target,r=this.values,o=this.options,a=this.radius,l=o.get("borderWidth");if(D._super.render.call(this)){for(l&&s.drawCircle(a,a,e.floor(a-l/2),o.get("borderColor"),i,l).append(),n=r.length;n--;)r[n]&&(t=this.renderSlice(n).append(),this.valueShapes[n]=t.id,this.shapes[t.id]=n);s.render()}}}),n.fn.sparkline.box=S=r(n.fn.sparkline._base,{type:"box",init:function(t,e,i,s,r){S._super.init.call(this,t,e,i,s,r),this.values=n.map(e,Number),this.width="auto"===i.get("width")?"4.0em":s,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&t.push({field:"lo",value:this.loutlier}),this.routlier!==i&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,n,s,r,o,a,c,d,h,u,p,f=this.target,g=this.values,m=g.length,v=this.options,b=this.canvasWidth,y=this.canvasHeight,w=v.get("chartRangeMin")===i?e.min.apply(e,g):v.get("chartRangeMin"),_=v.get("chartRangeMax")===i?e.max.apply(e,g):v.get("chartRangeMax"),x=0;if(S._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&g.length>5?(n=g[0],t=g[1],r=g[2],o=g[3],a=g[4],c=g[5],d=g[6]):(t=g[0],r=g[1],o=g[2],a=g[3],c=g[4]);else if(g.sort(function(t,e){return t-e}),r=l(g,1),o=l(g,2),a=l(g,3),s=a-r,v.get("showOutliers")){for(t=c=i,h=0;m>h;h++)t===i&&g[h]>r-s*v.get("outlierIQR")&&(t=g[h]),g[h]<a+s*v.get("outlierIQR")&&(c=g[h]);n=g[0],d=g[m-1]}else t=g[0],c=g[m-1];this.quartiles=[r,o,a],this.lwhisker=t,this.rwhisker=c,this.loutlier=n,this.routlier=d,p=b/(_-w+1),v.get("showOutliers")&&(x=e.ceil(v.get("spotRadius")),b-=2*e.ceil(v.get("spotRadius")),p=b/(_-w+1),t>n&&f.drawCircle((n-w)*p+x,y/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),d>c&&f.drawCircle((d-w)*p+x,y/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),f.drawRect(e.round((r-w)*p+x),e.round(.1*y),e.round((a-r)*p),e.round(.8*y),v.get("boxLineColor"),v.get("boxFillColor")).append(),f.drawLine(e.round((t-w)*p+x),e.round(y/2),e.round((r-w)*p+x),e.round(y/2),v.get("lineColor")).append(),f.drawLine(e.round((t-w)*p+x),e.round(y/4),e.round((t-w)*p+x),e.round(y-y/4),v.get("whiskerColor")).append(),f.drawLine(e.round((c-w)*p+x),e.round(y/2),e.round((a-w)*p+x),e.round(y/2),v.get("lineColor")).append(),f.drawLine(e.round((c-w)*p+x),e.round(y/4),e.round((c-w)*p+x),e.round(y-y/4),v.get("whiskerColor")).append(),f.drawLine(e.round((o-w)*p+x),e.round(.1*y),e.round((o-w)*p+x),e.round(.9*y),v.get("medianColor")).append(),v.get("target")&&(u=e.ceil(v.get("spotRadius")),f.drawLine(e.round((v.get("target")-w)*p+x),e.round(y/2-u),e.round((v.get("target")-w)*p+x),e.round(y/2+u),v.get("targetColor")).append(),f.drawLine(e.round((v.get("target")-w)*p+x-u),e.round(y/2),e.round((v.get("target")-w)*p+x+u),e.round(y/2),v.get("targetColor")).append()),f.render()}}}),E=r({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),j=r({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),n.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,s,r){return this.drawShape([[t,e],[i,n]],s,r)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,s,r){return this._genShape("Circle",[t,e,i,n,s,r])},drawPieSlice:function(t,e,i,n,s,r,o){return this._genShape("PieSlice",[t,e,i,n,s,r,o])},drawRect:function(t,e,i,n,s,r){return this._genShape("Rect",[t,e,i,n,s,r])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){n(e).html(t)},_calculatePixelDims:function(t,e,i){var s;s=this._pxregex.exec(e),this.pixelHeight=s?s[1]:n(i).height(),s=this._pxregex.exec(t),this.pixelWidth=s?s[1]:n(i).width()},_genShape:function(t,e){var i=R++;return e.unshift(i),new E(this,i,t,e)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),A=r(j,{init:function(e,s,r,o){A._super.init.call(this,e,s,r),this.canvas=t.createElement("canvas"),r[0]&&(r=r[0]),n.data(r,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:e,height:s,verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,s,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var s=this.canvas.getContext("2d");return t!==i&&(s.strokeStyle=t),s.lineWidth=n===i?1:n,e!==i&&(s.fillStyle=e),s},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i},_drawShape:function(t,e,n,s,r){var o,a,l=this._getContext(n,s,r);for(l.beginPath(),l.moveTo(e[0][0]+.5,e[0][1]+.5),o=1,a=e.length;a>o;o++)l.lineTo(e[o][0]+.5,e[o][1]+.5);n!==i&&l.stroke(),s!==i&&l.fill(),this.targetX!==i&&this.targetY!==i&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,n,s,r,o,a,l){var c=this._getContext(o,a,l);c.beginPath(),c.arc(n,s,r,0,2*e.PI,!1),this.targetX!==i&&this.targetY!==i&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),o!==i&&c.stroke(),a!==i&&c.fill()},_drawPieSlice:function(t,e,n,s,r,o,a,l){var c=this._getContext(a,l);c.beginPath(),c.moveTo(e,n),c.arc(e,n,s,r,o,!1),c.lineTo(e,n),c.closePath(),a!==i&&c.stroke(),l&&c.fill(),this.targetX!==i&&this.targetY!==i&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,s,r,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+s],[e,i+s],[e,i]],r,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,s,r=this.shapeseq,o={};for(n=t.length;n--;)o[t[n]]=!0;for(n=r.length;n--;)i=r[n],o[i]&&(r.splice(n,1),delete this.shapes[i],s=n);for(n=e.length;n--;)r.splice(s,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,n=this.shapeseq,s=this.shapes,r=n.length,o=this._getContext();for(o.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;r>i;i++)t=n[i],e=s[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),M=r(j,{init:function(e,i,s){var r;M._super.init.call(this,e,i,s),s[0]&&(s=s[0]),n.data(s,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,r='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",r),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,s,r){var o,a,l,c,d,h,u=[];for(h=0,d=e.length;d>h;h++)u[h]=e[h][0]+","+e[h][1];return o=u.splice(0,1),r=r===i?1:r,a=n===i?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+n+'" ',l=s===i?' filled="false"':' fillColor="'+s+'" filled="true" ',c=u[0]===u[u.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+a+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+u.join(", ")+" "+c+'e"> </v:shape>'},_drawCircle:function(t,e,n,s,r,o,a){var l,c;return e-=s,n-=s,l=r===i?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+r+'" ',c=o===i?' filled="false"':' fillColor="'+o+'" filled="true" ','<v:oval  id="jqsshape'+t+'" '+l+c+' style="position:absolute;top:'+n+"px; left:"+e+"px; width:"+2*s+"px; height:"+2*s+'px"></v:oval>'},_drawPieSlice:function(t,n,s,r,o,a,l,c){var d,h,u,p,f,g,m;if(o===a)return"";if(a-o==2*e.PI&&(o=0,a=2*e.PI),h=n+e.round(e.cos(o)*r),u=s+e.round(e.sin(o)*r),p=n+e.round(e.cos(a)*r),f=s+e.round(e.sin(a)*r),h===p&&u===f){if(a-o<e.PI)return"";h=p=n+r,u=f=s}return h===p&&u===f&&a-o<e.PI?"":(d=[n-r,s-r,n+r,s+r,h,u,p,f],g=l===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=c===i?' filled="false"':' fillColor="'+c+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+n+","+s+" wa "+d.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,s,r,o){return this._drawShape(t,[[e,i],[e,i+s],[e+n,i+s],[e+n,i],[e,i]],r,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=n("#jqsshape"+t),s=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=s},replaceWithShapes:function(t,e){var i,s=n("#jqsshape"+t[0]),r="",o=e.length;for(i=0;o>i;i++)r+=this["_draw"+e[i].type].apply(this,e[i].args);for(s[0].outerHTML=r,i=1;i<t.length;i++)n("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,e){var i=n("#jqsshape"+t),s=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",s)},removeShapeId:function(t){var e=n("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,s=n._mouseInit,r=n._mouseDestroy;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),s.call(e)},n._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)}}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function n(){var n,s;return!i.settings.submitHandler||(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),s=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),void 0!==s&&s)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each(function(){(e=i.element(this)&&e)||(n=n.concat(i.errorList))}),i.errorList=n),e},rules:function(e,i){if(this.length){var n,s,r,o,a,l,c=this[0];if(e)switch(n=t.data(c.form,"validator").settings,s=n.rules,r=t.validator.staticRules(c),e){case"add":t.extend(r,t.validator.normalizeRule(i)),delete r.messages,s[c.name]=r,i.messages&&(n.messages[c.name]=t.extend(n.messages[c.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=r[i],delete r[i],"required"===i&&t(c).removeAttr("aria-required")}),l):(delete s[c.name],r)}return o=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c),o.required&&(a=o.required,delete o.required,o=t.extend({required:a},o),t(c).attr("aria-required","true")),o.remote&&(a=o.remote,delete o.remote,o=t.extend(o,{remote:a})),o}}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var i=t(e).val();return null!==i&&!!t.trim(""+i)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:void 0===i?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},
errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,n)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),s=i.settings;s[n]&&!t(this).is(s.ignore)&&s[n].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i,n,s=this.clean(e),r=this.validationTargetFor(s),o=this,a=!0;return void 0===r?delete this.invalid[s.name]:(this.prepareElement(r),this.currentElements=t(r),n=this.groups[r.name],n&&t.each(this.groups,function(t,e){e===n&&t!==r.name&&(s=o.validationTargetFor(o.clean(o.findByName(t))))&&s.name in o.invalid&&(o.currentElements.push(s),a=a&&o.check(s))}),i=!1!==this.check(r),a=a&&i,this.invalid[r.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),a},showErrors:function(e){if(e){var i=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||t(this).attr("name");return!n&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]),!(n in i||!e.objectLength(t(this).rules()))&&(i[n]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n,s=t(e),r=e.type;return"radio"===r||"checkbox"===r?this.findByName(e.name).filter(":checked").val():"number"===r&&"undefined"!=typeof e.validity?e.validity.badInput?"NaN":s.val():(i=e.hasAttribute("contenteditable")?s.text():s.val(),"file"===r?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"),n>=0?i.substr(n+1):(n=i.lastIndexOf("\\"),n>=0?i.substr(n+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,s,r=t(e).rules(),o=t.map(r,function(t,e){return e}).length,a=!1,l=this.elementValue(e);if("function"==typeof r.normalizer){if("string"!=typeof(l=r.normalizer.call(e,l)))throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(n in r){s={method:n,parameters:r[n]};try{if("dependency-mismatch"===(i=t.validator.methods[n].call(this,l,e,s.parameters))&&1===o){a=!0;continue}if(a=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,s),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+s.method+"' method."),t}}if(!a)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){var n=this.findDefined(this.customMessage(e.name,i.method),this.customDataMessage(e,i.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),s=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,e):s.test(n)&&(n=t.validator.format(n.replace(s,"{$1}"),i.parameters)),n},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,s,r,o,a=this.errorsFor(e),l=this.idOrName(e),c=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(a=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),n=a,this.settings.wrapper&&(n=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e),a.is("label")?a.attr("for",l):0===a.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=a.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(c+=" "+r):c=r,t(e).attr("aria-describedby",c),(s=this.groups[e.name])&&(o=this,t.each(o.groups,function(e,i){i===s&&t("[name='"+o.escapeCssMeta(e)+"']",o.currentForm).attr("aria-describedby",a.attr("id"))})))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),n=t(e).attr("aria-describedby"),s="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(s=s+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(s)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,n){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,s={},r=t(e),o=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=r.attr(i),this.normalizeAttributeRule(s,o,i,n);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(e){var i,n,s={},r=t(e),o=e.getAttribute("type");for(i in t.validator.methods)n=r.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(s,o,i,n);return s},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,s){if(!1===s)return void delete e[n];if(s.param||s.depends){var r=!0;switch(typeof s.depends){case"string":r=!!t(s.depends,i.form).length;break;case"function":r=s.depends.call(i,i)}r?e[n]=void 0===s.param||s.param:(t.data(i.form,"validator").resetElements(t(i)),delete e[n])}}),t.each(e,function(n,s){e[n]=t.isFunction(s)&&"normalizer"!==n?s(i):s}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var s=t(i).val();return s&&s.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n},maxlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n>=s},rangelength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n[0]&&s<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,n){var s=t(i).attr("type"),r="Step attribute on input type "+s+" is not supported.",o=["text","number","range"],a=new RegExp("\\b"+s+"\\b");if(s&&!a.test(o.join()))throw new Error(r);return this.optional(i)||e%n==0},equalTo:function(e,i,n){var s=t(n);return this.settings.onfocusout&&s.not(".validate-equalTo-blur").length&&s.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(i).valid()}),e===s.val()},remote:function(e,i,n,s){if(this.optional(i))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var r,o,a,l=this.previousValue(i,s);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][s],this.settings.messages[i.name][s]=l.message,n="string"==typeof n&&{url:n}||n,a=t.param(t.extend({data:e},n.data)),l.old===a?l.valid:(l.old=a,r=this,this.startRequest(i),o={},o[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:r.currentForm,success:function(t){var n,o,a,c=!0===t||"true"===t;r.settings.messages[i.name][s]=l.originalMessage,c?(a=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(i),r.formSubmitted=a,r.successList.push(i),r.invalid[i.name]=!1,r.showErrors()):(n={},o=t||r.defaultMessage(i,{method:s,parameters:e}),n[i.name]=l.message=o,r.invalid[i.name]=!0,r.showErrors(n)),l.valid=c,r.stopRequest(i,c)}},n)),"pending")}}});var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var s=t.port;"abort"===t.mode&&(i[s]&&i[s].abort(),i[s]=n)}):(e=t.ajax,t.ajax=function(n){var s=("mode"in n?n:t.ajaxSettings).mode,r=("port"in n?n:t.ajaxSettings).port;return"abort"===s?(i[r]&&i[r].abort(),i[r]=e.apply(this,arguments),i[r]):e.apply(this,arguments)})}),function(t){function e(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function i(){var t=require("util");return"Markdown.mk_block( "+t.inspect(this.toString())+", "+t.inspect(this.trailing)+", "+t.inspect(this.lineNumber)+" )"}function n(t){for(var e=0,i=-1;-1!==(i=t.indexOf("\n",i+1));)e++;return e}function s(t,e){function i(t){this.len_after=t,this.name="close_"+e}var n=t+"_state",s="strong"==t?"em_state":"strong_state";return function(r){if(this[n][0]==e)return this[n].shift(),[r.length,new i(r.length-e.length)];var o=this[s].slice(),a=this[n].slice();this[n].unshift(e);var l=this.processInline(r.substr(e.length)),c=l[l.length-1];if(this[n].shift(),c instanceof i){l.pop();return[r.length-c.len_after,[t].concat(l)]}return this[s]=o,this[n]=a,[e.length,e]}}function r(t){for(var e=t.split(""),i=[""],n=!1;e.length;){var s=e.shift();switch(s){case" ":n?i[i.length-1]+=s:i.push("");break;case"'":case'"':n=!n;break;case"\\":s=e.shift();default:i[i.length-1]+=s}}return i}function o(t){return m(t)&&t.length>1&&"object"==typeof t[1]&&!m(t[1])?t[1]:void 0}function l(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(t){if("string"==typeof t)return l(t);var e=t.shift(),i={},n=[];for(!t.length||"object"!=typeof t[0]||t[0]instanceof Array||(i=t.shift());t.length;)n.push(c(t.shift()));var s="";for(var r in i)s+=" "+r+'="'+l(i[r])+'"';return"img"==e||"br"==e||"hr"==e?"<"+e+s+"/>":"<"+e+s+">"+n.join("")+"</"+e+">"}function d(t,e,i){var n;i=i||{};var s=t.slice(0);"function"==typeof i.preprocessTreeNode&&(s=i.preprocessTreeNode(s,e));var r=o(s);if(r){s[1]={};for(n in r)s[1][n]=r[n];r=s[1]}if("string"==typeof s)return s;switch(s[0]){case"header":s[0]="h"+s[1].level,delete s[1].level;break;case"bulletlist":s[0]="ul";break;case"numberlist":s[0]="ol";break;case"listitem":s[0]="li";break;case"para":s[0]="p";break;case"markdown":s[0]="html",r&&delete r.references;break;case"code_block":s[0]="pre",n=r?2:1;var a=["code"];a.push.apply(a,s.splice(n,s.length-n)),s[n]=a;break;case"inlinecode":s[0]="code";break;case"img":s[1].src=s[1].href,delete s[1].href;break;case"linebreak":s[0]="br";break;case"link":s[0]="a";break;case"link_ref":s[0]="a";var l=e[r.ref];if(!l)return r.original;delete r.ref,r.href=l.href,l.title&&(r.title=l.title),delete r.original;break;case"img_ref":s[0]="img";var l=e[r.ref];if(!l)return r.original;delete r.ref,r.src=l.href,l.title&&(r.title=l.title),delete r.original}if(n=1,r){for(var c in s[1]){n=2;break}1===n&&s.splice(n,1)}for(;n<s.length;++n)s[n]=d(s[n],e,i);return s}function h(t){for(var e=o(t)?2:1;e<t.length;)"string"==typeof t[e]?e+1<t.length&&"string"==typeof t[e+1]?t[e]+=t.splice(e+1,1)[0]:++e:(h(t[e]),++e)}var u=t.Markdown=function(t){switch(typeof t){case"undefined":this.dialect=u.dialects.Gruber;break;case"object":this.dialect=t;break;default:if(!(t in u.dialects))throw new Error("Unknown Markdown dialect '"+String(t)+"'");this.dialect=u.dialects[t]}this.em_state=[],this.strong_state=[],this.debug_indent=""};t.parse=function(t,e){return new u(e).toTree(t)},t.toHTML=function(e,i,n){var s=t.toHTMLTree(e,i,n);return t.renderJsonML(s)},t.toHTMLTree=function(t,e,i){"string"==typeof t&&(t=this.parse(t,e));var n=o(t),s={};n&&n.references&&(s=n.references);var r=d(t,s,i);return h(r),r};var f=u.mk_block=function(t,n,s){1==arguments.length&&(n="\n\n");var r=new String(t);return r.trailing=n,r.inspect=i,r.toSource=e,void 0!=s&&(r.lineNumber=s),r};u.prototype.split_blocks=function(t){t=t.replace(/(\r\n|\n|\r)/g,"\n");var e,i=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,s=[],r=1;for(null!=(e=/^(\s*\n)/.exec(t))&&(r+=n(e[0]),i.lastIndex=e[0].length);null!==(e=i.exec(t));)"\n#"==e[2]&&(e[2]="\n",i.lastIndex--),s.push(f(e[1],e[2],r)),r+=n(e[0]);return s},u.prototype.processBlock=function(t,e){var i=this.dialect.block,n=i.__order__;if("__call__"in i)return i.__call__.call(this,t,e);for(var s=0;s<n.length;s++){var r=i[n[s]].call(this,t,e);if(r)return(!m(r)||r.length>0&&!m(r[0]))&&this.debug(n[s],"didn't return a proper array"),r}return[]},u.prototype.processInline=function(t){return this.dialect.inline.__call__.call(this,String(t))},u.prototype.toTree=function(t,e){var i=t instanceof Array?t:this.split_blocks(t),n=this.tree;try{for(this.tree=e||this.tree||["markdown"];i.length;){var s=this.processBlock(i.shift(),i);s.length&&this.tree.push.apply(this.tree,s)}return this.tree}finally{e&&(this.tree=n)}},u.prototype.debug=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,t),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,t)},u.prototype.loop_re_over_block=function(t,e,i){for(var n,s=e.valueOf();s.length&&null!=(n=t.exec(s));)s=s.substr(n[0].length),i.call(this,n);return s},u.dialects={},u.dialects.Gruber={block:{atxHeader:function(t,e){var i=t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(i){var n=["header",{level:i[1].length}];return Array.prototype.push.apply(n,this.processInline(i[2])),i[0].length<t.length&&e.unshift(f(t.substr(i[0].length),t.trailing,t.lineNumber+2)),[n]}},setextHeader:function(t,e){var i=t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(i){var n="="===i[2]?1:2,s=["header",{level:n},i[1]];return i[0].length<t.length&&e.unshift(f(t.substr(i[0].length),t.trailing,t.lineNumber+2)),[s]}},code:function(t,e){var i=[],n=/^(?: {0,3}\t| {4})(.*)\n?/;if(t.match(n)){t:for(;;){var s=this.loop_re_over_block(n,t.valueOf(),function(t){i.push(t[1])});if(s.length){e.unshift(f(s,t.trailing));break t}if(!e.length)break t;if(!e[0].match(n))break t;i.push(t.trailing.replace(/[^\n]/g,"").substring(2)),t=e.shift()}return[["code_block",i.join("\n")]]}},horizRule:function(t,e){var i=t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(i){var n=[["hr"]];return i[1]&&n.unshift.apply(n,this.processBlock(i[1],[])),i[3]&&e.unshift(f(i[3])),n}},lists:function(){function t(t){return new RegExp("(?:^("+l+"{0,"+t+"} {0,3})("+r+")\\s+)|(^"+l+"{0,"+(t-1)+"}[ ]{0,4})")}function e(t){return t.replace(/ {0,3}\t/g,"    ")}function i(t,e,i,n){if(e)return void t.push(["para"].concat(i));var s=t[t.length-1]instanceof Array&&"para"==t[t.length-1][0]?t[t.length-1]:t;n&&t.length>1&&i.unshift(n);for(var r=0;r<i.length;r++){var o=i[r];"string"==typeof o&&s.length>1&&"string"==typeof s[s.length-1]?s[s.length-1]+=o:s.push(o)}}function n(t,e){for(var i=new RegExp("^("+l+"{"+t+"}.*?\\n?)*$"),n=new RegExp("^"+l+"{"+t+"}","gm"),s=[];e.length>0&&i.exec(e[0]);){var r=e.shift(),o=r.replace(n,"");s.push(f(o,r.trailing,r.lineNumber))}return s}function s(t,e,i){var n=t.list,s=n[n.length-1];if(!(s[1]instanceof Array&&"para"==s[1][0]))if(e+1==i.length)s.push(["para"].concat(s.splice(1,s.length-1)));else{var r=s.pop();s.push(["para"].concat(s.splice(1,s.length-1)),r)}}var r="[*+-]|\\d+\\.",o=/[*+-]/,a=new RegExp("^( {0,3})("+r+")[ \t]+"),l="(?: {0,3}\\t| {4})";return function(r,l){function c(t){var e=o.exec(t[2])?["bulletlist"]:["numberlist"];return p.push({list:e,indent:t[1]}),e}var d=r.match(a);if(d){for(var h,u,p=[],f=c(d),m=!1,v=[p[0].list];;){for(var b=r.split(/(?=\n)/),y="",w=0;w<b.length;w++){var _="",x=b[w].replace(/^\n/,function(t){return _=t,""}),C=t(p.length);if(d=x.match(C),void 0!==d[1]){y.length&&(i(h,m,this.processInline(y),_),m=!1,y=""),d[1]=e(d[1]);var $=Math.floor(d[1].length/4)+1;if($>p.length)f=c(d),h.push(f),h=f[1]=["listitem"];else{var k=!1;for(u=0;u<p.length;u++)if(p[u].indent==d[1]){f=p[u].list,p.splice(u+1,p.length-(u+1)),k=!0;break}k||($++,$<=p.length?(p.splice($,p.length-$),f=p[$-1].list):(f=c(d),h.push(f))),h=["listitem"],f.push(h)}_=""}x.length>d[0].length&&(y+=_+x.substr(d[0].length))}y.length&&(i(h,m,this.processInline(y),_),m=!1,y="");var D=n(p.length,l);D.length>0&&(g(p,s,this),h.push.apply(h,this.toTree(D,[])));var S=l[0]&&l[0].valueOf()||"";if(!S.match(a)&&!S.match(/^ /))break;r=l.shift();var T=this.dialect.block.horizRule(r,l);if(T){v.push.apply(v,T);break}g(p,s,this),m=!0}return v}}}(),blockquote:function(t,e){if(t.match(/^>/m)){var i=[];if(">"!=t[0]){for(var n=t.split(/\n/),s=[],r=t.lineNumber;n.length&&">"!=n[0][0];)s.push(n.shift()),r++;var a=f(s.join("\n"),"\n",t.lineNumber);i.push.apply(i,this.processBlock(a,[])),t=f(n.join("\n"),t.trailing,r)}for(;e.length&&">"==e[0][0];){var l=e.shift();t=f(t+t.trailing+l,l.trailing,t.lineNumber)}var c=t.replace(/^> ?/gm,""),d=(this.tree,this.toTree(c,["blockquote"])),h=o(d);return h&&h.references&&(delete h.references,v(h)&&d.splice(1,1)),i.push(d),i}},referenceDefn:function(t,e){var i=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(t.match(i)){o(this.tree)||this.tree.splice(1,0,{});var n=o(this.tree);void 0===n.references&&(n.references={});var s=this.loop_re_over_block(i,t,function(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1));var e=n.references[t[1].toLowerCase()]={href:t[2]};void 0!==t[4]?e.title=t[4]:void 0!==t[5]&&(e.title=t[5])});return s.length&&e.unshift(f(s,t.trailing)),[]}},para:function(t){return[["para"].concat(this.processInline(t))]}}},u.dialects.Gruber.inline={__oneElement__:function(t,e,i){var n,s;if(e=e||this.dialect.inline.__patterns__,!(n=new RegExp("([\\s\\S]*?)("+(e.source||e)+")").exec(t)))return[t.length,t];if(n[1])return[n[1].length,n[1]];var s;return n[2]in this.dialect.inline&&(s=this.dialect.inline[n[2]].call(this,t.substr(n.index),n,i||[])),s=s||[n[2].length,n[2]]},__call__:function(t,e){function i(t){"string"==typeof t&&"string"==typeof s[s.length-1]?s[s.length-1]+=t:s.push(t)}for(var n,s=[];t.length>0;)n=this.dialect.inline.__oneElement__.call(this,t,e,s),t=t.substr(n.shift()),g(n,i);return s},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(t){return this.dialect.inline.__escape__.exec(t)?[2,t.charAt(1)]:[1,"\\"]},"![":function(t){var e=t.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1)),e[2]=this.dialect.inline.__call__.call(this,e[2],/\\/)[0];var i={alt:e[1],href:e[2]||""};return void 0!==e[4]&&(i.title=e[4]),[e[0].length,["img",i]]}return e=t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),e?[e[0].length,["img_ref",{alt:e[1],ref:e[2].toLowerCase(),original:e[0]}]]:[2,"!["]},"[":function(t){var e=String(t),i=u.DialectHelpers.inline_until_char.call(this,t.substr(1),"]");if(!i)return[1,"["];var n,s,r=1+i[0],o=i[1];t=t.substr(r);var a=t.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(a){var l=a[1];if(r+=a[0].length,l&&"<"==l[0]&&">"==l[l.length-1]&&(l=l.substring(1,l.length-1)),!a[3])for(var c=1,d=0;d<l.length;d++)switch(l[d]){case"(":c++;break;case")":0==--c&&(r-=l.length-d,l=l.substring(0,d))}return l=this.dialect.inline.__call__.call(this,l,/\\/)[0],s={href:l||""},void 0!==a[3]&&(s.title=a[3]),n=["link",s].concat(o),[r,n]}return a=t.match(/^\s*\[(.*?)\]/),a?(r+=a[0].length,s={ref:(a[1]||String(o)).toLowerCase(),original:e.substr(0,r)},n=["link_ref",s].concat(o),[r,n]):1==o.length&&"string"==typeof o[0]?(s={ref:o[0].toLowerCase(),original:e.substr(0,r)},n=["link_ref",s,o[0]],[r,n]):[1,"["]},"<":function(t){var e;return null!=(e=t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?e[3]?[e[0].length,["link",{href:"mailto:"+e[3]},e[3]]]:"mailto"==e[2]?[e[0].length,["link",{href:e[1]},e[1].substr("mailto:".length)]]:[e[0].length,["link",{href:e[1]},e[1]]]:[1,"<"]},"`":function(t){var e=t.match(/(`+)(([\s\S]*?)\1)/);return e&&e[2]?[e[1].length+e[2].length,["inlinecode",e[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}},u.dialects.Gruber.inline["**"]=s("strong","**"),u.dialects.Gruber.inline.__=s("strong","__"),u.dialects.Gruber.inline["*"]=s("em","*"),u.dialects.Gruber.inline._=s("em","_"),u.buildBlockOrder=function(t){var e=[];for(var i in t)"__order__"!=i&&"__call__"!=i&&e.push(i);t.__order__=e},u.buildInlinePatterns=function(t){var e=[];for(var i in t)if(!i.match(/^__.*__$/)){var n=i.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");e.push(1==i.length?n:"(?:"+n+")")}e=e.join("|"),t.__patterns__=e;var s=t.__call__;t.__call__=function(t,i){return void 0!=i?s.call(this,t,i):s.call(this,t,e)}},u.DialectHelpers={},u.DialectHelpers.inline_until_char=function(t,e){for(var i=0,n=[];;){if(t.charAt(i)==e)return i++,[i,n];if(i>=t.length)return null;var s=this.dialect.inline.__oneElement__.call(this,t.substr(i));i+=s[0],n.push.apply(n,s.slice(1))}},u.subclassDialect=function(t){function e(){}function i(){}return e.prototype=t.block,i.prototype=t.inline,{block:new e,inline:new i}},u.buildBlockOrder(u.dialects.Gruber.block),u.buildInlinePatterns(u.dialects.Gruber.inline),u.dialects.Maruku=u.subclassDialect(u.dialects.Gruber),u.dialects.Maruku.processMetaHash=function(t){for(var e=r(t),i={},n=0;n<e.length;++n)if(/^#/.test(e[n]))i.id=e[n].substring(1);else if(/^\./.test(e[n]))i["class"]?i["class"]=i["class"]+e[n].replace(/./," "):i["class"]=e[n].substring(1);else if(/\=/.test(e[n])){var s=e[n].split(/\=/);i[s[0]]=s[1]}return i},u.dialects.Maruku.block.document_meta=function(t){
if(!(t.lineNumber>1)&&t.match(/^(?:\w+:.*\n)*\w+:.*$/)){o(this.tree)||this.tree.splice(1,0,{});var e=t.split(/\n/);for(p in e){var i=e[p].match(/(\w+):\s*(.*)$/),n=i[1].toLowerCase(),s=i[2];this.tree[1][n]=s}return[]}},u.dialects.Maruku.block.block_meta=function(t){var e=t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(e){var i,n=this.dialect.processMetaHash(e[2]);if(""===e[1]){var s=this.tree[this.tree.length-1];if(i=o(s),"string"==typeof s)return;i||(i={},s.splice(1,0,i));for(a in n)i[a]=n[a];return[]}var r=t.replace(/\n.*$/,""),l=this.processBlock(r,[]);(i=o(l[0]))||(i={},l[0].splice(1,0,i));for(a in n)i[a]=n[a];return l}},u.dialects.Maruku.block.definition_list=function(t,e){var i,n,s=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,r=["dl"];if(n=t.match(s)){for(var o=[t];e.length&&s.exec(e[0]);)o.push(e.shift());for(var a=0;a<o.length;++a){var n=o[a].match(s),l=n[1].replace(/\n$/,"").split(/\n/),c=n[2].split(/\n:\s+/);for(i=0;i<l.length;++i)r.push(["dt",l[i]]);for(i=0;i<c.length;++i)r.push(["dd"].concat(this.processInline(c[i].replace(/(\n)\s+/,"$1"))))}return[r]}},u.dialects.Maruku.block.table=function(t){var e,i,n=function(t,e){e=e||"\\s",e.match(/^[\\|\[\]{}?*.+^$]$/)&&(e="\\"+e);for(var i,n=[],s=new RegExp("^((?:\\\\.|[^\\\\"+e+"])*)"+e+"(.*)");i=t.match(s);)n.push(i[1]),t=i[2];return n.push(t),n},s=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,r=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(i=t.match(s))i[3]=i[3].replace(/^\s*\|/gm,"");else if(!(i=t.match(r)))return;var o=["table",["thead",["tr"]],["tbody"]];i[2]=i[2].replace(/\|\s*$/,"").split("|");var a=[];for(g(i[2],function(t){t.match(/^\s*-+:\s*$/)?a.push({align:"right"}):t.match(/^\s*:-+\s*$/)?a.push({align:"left"}):t.match(/^\s*:-+:\s*$/)?a.push({align:"center"}):a.push({})}),i[1]=n(i[1].replace(/\|\s*$/,""),"|"),e=0;e<i[1].length;e++)o[1][1].push(["th",a[e]||{}].concat(this.processInline(i[1][e].trim())));return g(i[3].replace(/\|\s*$/gm,"").split("\n"),function(t){var i=["tr"];for(t=n(t,"|"),e=0;e<t.length;e++)i.push(["td",a[e]||{}].concat(this.processInline(t[e].trim())));o[2].push(i)},this),[o]},u.dialects.Maruku.inline["{:"]=function(t,e,i){if(!i.length)return[2,"{:"];var n=i[i.length-1];if("string"==typeof n)return[2,"{:"];var s=t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!s)return[2,"{:"];var r=this.dialect.processMetaHash(s[1]),a=o(n);a||(a={},n.splice(1,0,a));for(var l in r)a[l]=r[l];return[s[0].length,""]},u.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,u.buildBlockOrder(u.dialects.Maruku.block),u.buildInlinePatterns(u.dialects.Maruku.inline);var g,m=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)};g=Array.prototype.forEach?function(t,e,i){return t.forEach(e,i)}:function(t,e,i){for(var n=0;n<t.length;n++)e.call(i||t,t[n],n,t)};var v=function(t){for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0};t.renderJsonML=function(t,e){e=e||{},e.root=e.root||!1;var i=[];if(e.root)i.push(c(t));else for(t.shift(),!t.length||"object"!=typeof t[0]||t[0]instanceof Array||t.shift();t.length;)i.push(c(t.shift()));return i.join("\n\n")}}(function(){return"undefined"==typeof exports?(window.markdown={},window.markdown):exports}()),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Ui.apply(null,arguments)}function e(t){Ui=t}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var i in e)r(e,i)&&(t[i]=e[i]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,i,n){return It(t,e,i,n,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(t){return null==t._pf&&(t._pf=l()),t._pf}function d(t){if(null==t._isValid){var e=c(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=a(NaN);return null!=t?o(c(e),t):c(e).userInvalidated=!0,e}function u(t){return void 0===t}function p(t,e){var i,n,s;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=c(e)),u(e._locale)||(t._locale=e._locale),Vi.length>0)for(i in Vi)n=Vi[i],s=e[n],u(s)||(t[n]=s);return t}function f(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===Xi&&(Xi=!0,t.updateOffset(this),Xi=!1)}function g(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=m(e)),i}function b(t,e,i){var n,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;s>n;n++)(i&&t[n]!==e[n]||!i&&v(t[n])!==v(e[n]))&&o++;return o+r}function y(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function _(t){for(var e,i,n,s,r=0;r<t.length;){for(s=w(t[r]).split("-"),e=s.length,i=w(t[r+1]),i=i?i.split("-"):null;e>0;){if(n=x(s.slice(0,e).join("-")))return n;if(i&&i.length>=e&&b(s,i,!0)>=e-1)break;e--}r++}return null}function x(t){var e=null;if(!Ki[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Yi._abbr,require("./locale/"+t),C(e)}catch(t){}return Ki[t]}function C(t,e){var i;return t&&(i=u(e)?k(t):$(t,e))&&(Yi=i),Yi._abbr}function $(t,e){return null!==e?(e.abbr=t,Ki[t]=Ki[t]||new y,Ki[t].set(e),C(t),Ki[t]):(delete Ki[t],null)}function k(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Yi;if(!i(t)){if(e=x(t))return e;t=[t]}return _(t)}function D(t,e){var i=t.toLowerCase();Qi[i]=Qi[i+"s"]=Qi[e]=t}function S(t){return"string"==typeof t?Qi[t]||Qi[t.toLowerCase()]:void 0}function T(t){var e,i,n={};for(i in t)r(t,i)&&(e=S(i))&&(n[e]=t[i]);return n}function I(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function E(e,i){return function(n){return null!=n?(A(this,e,n),t.updateOffset(this,i),this):j(this,e)}}function j(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function A(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function M(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=S(t),I(this[t]))return this[t](e);return this}function F(t,e,i){var n=""+Math.abs(t),s=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}function P(t,e,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),t&&(en[t]=s),e&&(en[e[0]]=function(){return F(s.apply(this,arguments),e[1],e[2])}),i&&(en[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function R(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function N(t){var e,i,n=t.match(Zi);for(e=0,i=n.length;i>e;e++)en[n[e]]?n[e]=en[n[e]]:n[e]=R(n[e]);return function(s){var r="";for(e=0;i>e;e++)r+=n[e]instanceof Function?n[e].call(s,t):n[e];return r}}function O(t,e){return t.isValid()?(e=H(e,t.localeData()),tn[e]=tn[e]||N(e),tn[e](t)):t.localeData().invalidDate()}function H(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Ji.lastIndex=0;n>=0&&Ji.test(t);)t=t.replace(Ji,i),Ji.lastIndex=0,n-=1;return t}function q(t,e,i){wn[t]=I(e)?e:function(t){return t&&i?i:e}}function L(t,e){return r(wn,t)?wn[t](e._strict,e._locale):new RegExp(z(t))}function z(t){return B(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,s){return e||i||n||s}))}function B(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=v(t)}),i=0;i<t.length;i++)_n[t[i]]=n}function G(t,e){W(t,function(t,i,n,s){n._w=n._w||{},e(t,n._w,n,s)})}function U(t,e,i){null!=e&&r(_n,t)&&_n[t](e,i._a,i,t)}function Y(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function V(t,e){return i(this._months)?this._months[t.month()]:this._months[jn.test(e)?"format":"standalone"][t.month()]}function X(t,e){return i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[jn.test(e)?"format":"standalone"][t.month()]}function K(t,e,i){var n,s,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(s=a([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function Q(t,e){var i;return t.isValid()?"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(i=Math.min(t.date(),Y(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t):t}function Z(e){return null!=e?(Q(this,e),t.updateOffset(this,!0),this):j(this,"Month")}function J(){return Y(this.year(),this.month())}function tt(t){return this._monthsParseExact?(r(this,"_monthsRegex")||it.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function et(t){return this._monthsParseExact?(r(this,"_monthsRegex")||it.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function it(){function t(t,e){return e.length-t.length}var e,i,n=[],s=[],r=[];for(e=0;12>e;e++)i=a([2e3,e]),n.push(this.monthsShort(i,"")),s.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),s.sort(t),r.sort(t),e=0;12>e;e++)n[e]=B(n[e]),s[e]=B(s[e]),r[e]=B(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")$","i")}function nt(t){var e,i=t._a;return i&&-2===c(t).overflow&&(e=i[Cn]<0||i[Cn]>11?Cn:i[$n]<1||i[$n]>Y(i[xn],i[Cn])?$n:i[kn]<0||i[kn]>24||24===i[kn]&&(0!==i[Dn]||0!==i[Sn]||0!==i[Tn])?kn:i[Dn]<0||i[Dn]>59?Dn:i[Sn]<0||i[Sn]>59?Sn:i[Tn]<0||i[Tn]>999?Tn:-1,c(t)._overflowDayOfYear&&(xn>e||e>$n)&&(e=$n),c(t)._overflowWeeks&&-1===e&&(e=In),c(t)._overflowWeekday&&-1===e&&(e=En),c(t).overflow=e),t}function st(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function rt(t,e){var i=!0;return o(function(){return i&&(st(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function ot(t,e){Rn[t]||(st(e),Rn[t]=!0)}function at(t){var e,i,n,s,r,o,a=t._i,l=Nn.exec(a)||On.exec(a);if(l){for(c(t).iso=!0,e=0,i=qn.length;i>e;e++)if(qn[e][1].exec(l[1])){s=qn[e][0],n=!1!==qn[e][2];break}if(null==s)return void(t._isValid=!1);if(l[3]){for(e=0,i=Ln.length;i>e;e++)if(Ln[e][1].exec(l[3])){r=(l[2]||" ")+Ln[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!Hn.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=s+(r||"")+(o||""),xt(t)}else t._isValid=!1}function lt(e){var i=zn.exec(e._i);return null!==i?void(e._d=new Date(+i[1])):(at(e),void(!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))))}function ct(t,e,i,n,s,r,o){var a=new Date(t,e,i,n,s,r,o);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function dt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function ht(t){return ut(t)?366:365}function ut(t){return t%4==0&&t%100!=0||t%400==0}function pt(){return ut(this.year())}function ft(t,e,i){var n=7+e-i;return-(7+dt(t,0,n).getUTCDay()-e)%7+n-1}function gt(t,e,i,n,s){var r,o,a=(7+i-n)%7,l=ft(t,n,s),c=1+7*(e-1)+a+l;return 0>=c?(r=t-1,o=ht(r)+c):c>ht(t)?(r=t+1,o=c-ht(t)):(r=t,o=c),{year:r,dayOfYear:o}}function mt(t,e,i){var n,s,r=ft(t.year(),e,i),o=Math.floor((t.dayOfYear()-r-1)/7)+1;return 1>o?(s=t.year()-1,n=o+vt(s,e,i)):o>vt(t.year(),e,i)?(n=o-vt(t.year(),e,i),s=t.year()+1):(s=t.year(),n=o),{week:n,year:s}}function vt(t,e,i){var n=ft(t,e,i),s=ft(t+1,e,i);return(ht(t)-n+s)/7}function bt(t,e,i){return null!=t?t:null!=e?e:i}function yt(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function wt(t){var e,i,n,s,r=[];if(!t._d){for(n=yt(t),t._w&&null==t._a[$n]&&null==t._a[Cn]&&_t(t),t._dayOfYear&&(s=bt(t._a[xn],n[xn]),t._dayOfYear>ht(s)&&(c(t)._overflowDayOfYear=!0),i=dt(s,0,t._dayOfYear),t._a[Cn]=i.getUTCMonth(),t._a[$n]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[kn]&&0===t._a[Dn]&&0===t._a[Sn]&&0===t._a[Tn]&&(t._nextDay=!0,t._a[kn]=0),t._d=(t._useUTC?dt:ct).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[kn]=24)}}function _t(t){var e,i,n,s,r,o,a,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,o=4,i=bt(e.GG,t._a[xn],mt(Et(),1,4).year),n=bt(e.W,1),(1>(s=bt(e.E,1))||s>7)&&(l=!0)):(r=t._locale._week.dow,o=t._locale._week.doy,i=bt(e.gg,t._a[xn],mt(Et(),r,o).year),n=bt(e.w,1),null!=e.d?(0>(s=e.d)||s>6)&&(l=!0):null!=e.e?(s=e.e+r,(e.e<0||e.e>6)&&(l=!0)):s=r),1>n||n>vt(i,r,o)?c(t)._overflowWeeks=!0:null!=l?c(t)._overflowWeekday=!0:(a=gt(i,n,s,r,o),t._a[xn]=a.year,t._dayOfYear=a.dayOfYear)}function xt(e){if(e._f===t.ISO_8601)return void at(e);e._a=[],c(e).empty=!0;var i,n,s,r,o,a=""+e._i,l=a.length,d=0;for(s=H(e._f,e._locale).match(Zi)||[],i=0;i<s.length;i++)r=s[i],n=(a.match(L(r,e))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&c(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),d+=n.length),en[r]?(n?c(e).empty=!1:c(e).unusedTokens.push(r),U(r,n,e)):e._strict&&!n&&c(e).unusedTokens.push(r);c(e).charsLeftOver=l-d,a.length>0&&c(e).unusedInput.push(a),!0===c(e).bigHour&&e._a[kn]<=12&&e._a[kn]>0&&(c(e).bigHour=void 0),e._a[kn]=Ct(e._locale,e._a[kn],e._meridiem),wt(e),nt(e)}function Ct(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function $t(t){var e,i,n,s,r;if(0===t._f.length)return c(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],xt(e),d(e)&&(r+=c(e).charsLeftOver,r+=10*c(e).unusedTokens.length,c(e).score=r,(null==n||n>r)&&(n=r,i=e));o(t,i||e)}function kt(t){if(!t._d){var e=T(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),wt(t)}}function Dt(t){var e=new f(nt(St(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function St(t){var e=t._i,s=t._f;return t._locale=t._locale||k(t._l),null===e||void 0===s&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new f(nt(e)):(i(s)?$t(t):s?xt(t):n(e)?t._d=e:Tt(t),d(t)||(t._d=null),t))}function Tt(e){var r=e._i;void 0===r?e._d=new Date(t.now()):n(r)?e._d=new Date(+r):"string"==typeof r?lt(e):i(r)?(e._a=s(r.slice(0),function(t){return parseInt(t,10)}),wt(e)):"object"==typeof r?kt(e):"number"==typeof r?e._d=new Date(r):t.createFromInputFallback(e)}function It(t,e,i,n,s){var r={};return"boolean"==typeof i&&(n=i,i=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=i,r._i=t,r._f=e,r._strict=n,Dt(r)}function Et(t,e,i,n){return It(t,e,i,n,!1)}function jt(t,e){var n,s;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Et();for(n=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](n)||(n=e[s]);return n}function At(){return jt("isBefore",[].slice.call(arguments,0))}function Mt(){return jt("isAfter",[].slice.call(arguments,0))}function Ft(t){var e=T(t),i=e.year||0,n=e.quarter||0,s=e.month||0,r=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*a,this._days=+o+7*r,this._months=+s+3*n+12*i,this._data={},this._locale=k(),this._bubble()}function Pt(t){return t instanceof Ft}function Rt(t,e){P(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+F(~~(t/60),2)+e+F(~~t%60,2)})}function Nt(t,e){var i=(e||"").match(t)||[],n=i[i.length-1]||[],s=(n+"").match(Yn)||["-",0,0],r=60*s[1]+v(s[2]);return"+"===s[0]?r:-r}function Ot(e,i){var s,r;return i._isUTC?(s=i.clone(),r=(g(e)||n(e)?+e:+Et(e))-+s,s._d.setTime(+s._d+r),t.updateOffset(s,!1),s):Et(e).local()}function Ht(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qt(e,i){var n,s=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Nt(vn,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&i&&(n=Ht(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==e&&(!i||this._changeInProgress?ie(this,Qt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:Ht(this):null!=e?this:NaN}function Lt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function zt(t){return this.utcOffset(0,t)}function Bt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ht(this),"m")),this}function Wt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Nt(mn,this._i)),this}function Gt(t){return!!this.isValid()&&(t=t?Et(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ut(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yt(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),t=St(t),t._a){var e=t._isUTC?a(t._a):Et(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Vt(){return!!this.isValid()&&!this._isUTC}function Xt(){return!!this.isValid()&&this._isUTC}function Kt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qt(t,e){var i,n,s,o=t,a=null;return Pt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=Vn.exec(t))?(i="-"===a[1]?-1:1,o={y:0,d:v(a[$n])*i,h:v(a[kn])*i,m:v(a[Dn])*i,s:v(a[Sn])*i,ms:v(a[Tn])*i}):(a=Xn.exec(t))?(i="-"===a[1]?-1:1,o={y:Zt(a[2],i),M:Zt(a[3],i),d:Zt(a[4],i),h:Zt(a[5],i),m:Zt(a[6],i),s:Zt(a[7],i),w:Zt(a[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=te(Et(o.from),Et(o.to)),o={},o.ms=s.milliseconds,o.M=s.months),n=new Ft(o),Pt(t)&&r(t,"_locale")&&(n._locale=t._locale),n}function Zt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Jt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function te(t,e){var i;return t.isValid()&&e.isValid()?(e=Ot(e,t),t.isBefore(e)?i=Jt(t,e):(i=Jt(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ee(t,e){return function(i,n){var s,r;return null===n||isNaN(+n)||(ot(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=i,i=n,n=r),i="string"==typeof i?+i:i,s=Qt(i,n),ie(this,s,t),this}}function ie(e,i,n,s){var r=i._milliseconds,o=i._days,a=i._months;e.isValid()&&(s=null==s||s,r&&e._d.setTime(+e._d+r*n),o&&A(e,"Date",j(e,"Date")+o*n),a&&Q(e,j(e,"Month")+a*n),s&&t.updateOffset(e,o||a))}function ne(t,e){var i=t||Et(),n=Ot(i,this).startOf("day"),s=this.diff(n,"days",!0),r=-6>s?"sameElse":-1>s?"lastWeek":0>s?"lastDay":1>s?"sameDay":2>s?"nextDay":7>s?"nextWeek":"sameElse",o=e&&(I(e[r])?e[r]():e[r]);return this.format(o||this.localeData().calendar(r,this,Et(i)))}function se(){return new f(this)}function re(t,e){var i=g(t)?t:Et(t);return!(!this.isValid()||!i.isValid())&&(e=S(u(e)?"millisecond":e),"millisecond"===e?+this>+i:+i<+this.clone().startOf(e))}function oe(t,e){var i=g(t)?t:Et(t);return!(!this.isValid()||!i.isValid())&&(e=S(u(e)?"millisecond":e),"millisecond"===e?+i>+this:+this.clone().endOf(e)<+i)}function ae(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function le(t,e){var i,n=g(t)?t:Et(t);return!(!this.isValid()||!n.isValid())&&(e=S(e||"millisecond"),"millisecond"===e?+this==+n:(i=+n,+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e)))}function ce(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function de(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function he(t,e,i){var n,s,r,o;return this.isValid()?(n=Ot(t,this),n.isValid()?(s=6e4*(n.utcOffset()-this.utcOffset()),e=S(e),"year"===e||"month"===e||"quarter"===e?(o=ue(this,n),"quarter"===e?o/=3:"year"===e&&(o/=12)):(r=this-n,o="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),i?o:m(o)):NaN):NaN}function ue(t,e){var i,n,s=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(s,"months");return 0>e-r?(i=t.clone().add(s-1,"months"),n=(e-r)/(r-i)):(i=t.clone().add(s+1,"months"),n=(e-r)/(i-r)),-(s+n)}function pe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fe(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?I(Date.prototype.toISOString)?this.toDate().toISOString():O(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ge(e){var i=O(this,e||t.defaultFormat);return this.localeData().postformat(i)}function me(t,e){return this.isValid()&&(g(t)&&t.isValid()||Et(t).isValid())?Qt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ve(t){return this.from(Et(),t)}function be(t,e){return this.isValid()&&(g(t)&&t.isValid()||Et(t).isValid())?Qt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ye(t){return this.to(Et(),t)}function we(t){var e;return void 0===t?this._locale._abbr:(e=k(t),null!=e&&(this._locale=e),this)}function _e(){return this._locale}function xe(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ce(t){return t=S(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function $e(){return+this._d-6e4*(this._offset||0)}function ke(){return Math.floor(+this/1e3)}function De(){return this._offset?new Date(+this):this._d}function Se(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Te(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ie(){return this.isValid()?this.toISOString():"null"}function Ee(){return d(this)}function je(){return o({},c(this))}function Ae(){return c(this).overflow}function Me(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Fe(t,e){P(0,[t,t.length],0,e)}function Pe(t){return He.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Re(t){return He.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ne(){return vt(this.year(),1,4)}function Oe(){var t=this.localeData()._week;return vt(this.year(),t.dow,t.doy)}function He(t,e,i,n,s){var r;return null==t?mt(this,n,s).year:(r=vt(t,n,s),e>r&&(e=r),qe.call(this,t,e,i,n,s))}function qe(t,e,i,n,s){var r=gt(t,e,i,n,s),o=dt(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Le(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function ze(t){return mt(t,this._week.dow,this._week.doy).week}function Be(){return this._week.dow}function We(){return this._week.doy}function Ge(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ue(t){var e=mt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ye(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Ve(t,e){return i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function Xe(t){return this._weekdaysShort[t.day()]}function Ke(t){return this._weekdaysMin[t.day()]}function Qe(t,e,i){var n,s,r;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(s=Et([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function Ze(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ye(t,this.localeData()),this.add(t-e,"d")):e}function Je(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function ti(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function ei(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function ii(){return this.hours()%12||12}function ni(t,e){P(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function si(t,e){return e._meridiemParse}function ri(t){return"p"===(t+"").toLowerCase().charAt(0)}function oi(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function ai(t,e){e[Tn]=v(1e3*("0."+t))}function li(){return this._isUTC?"UTC":""}function ci(){return this._isUTC?"Coordinated Universal Time":""}function di(t){return Et(1e3*t)}function hi(){return Et.apply(null,arguments).parseZone()}function ui(t,e,i){var n=this._calendar[t];return I(n)?n.call(e,i):n}function pi(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function fi(){return this._invalidDate}function gi(t){return this._ordinal.replace("%d",t)}function mi(t){return t}function vi(t,e,i,n){var s=this._relativeTime[i];return I(s)?s(t,e,i,n):s.replace(/%d/i,t)}function bi(t,e){var i=this._relativeTime[t>0?"future":"past"];return I(i)?i(e):i.replace(/%s/i,e)}function yi(t){var e,i;for(i in t)e=t[i],I(e)?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function wi(t,e,i,n){var s=k(),r=a().set(n,e);return s[i](r,t)}function _i(t,e,i,n,s){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return wi(t,e,i,s);var r,o=[];for(r=0;n>r;r++)o[r]=wi(t,r,i,s);return o}function xi(t,e){return _i(t,e,"months",12,"month")}function Ci(t,e){return _i(t,e,"monthsShort",12,"month")}function $i(t,e){return _i(t,e,"weekdays",7,"day")}function ki(t,e){return _i(t,e,"weekdaysShort",7,"day")}function Di(t,e){return _i(t,e,"weekdaysMin",7,"day")}function Si(){var t=this._data;return this._milliseconds=vs(this._milliseconds),this._days=vs(this._days),this._months=vs(this._months),t.milliseconds=vs(t.milliseconds),t.seconds=vs(t.seconds),t.minutes=vs(t.minutes),t.hours=vs(t.hours),t.months=vs(t.months),t.years=vs(t.years),this}function Ti(t,e,i,n){var s=Qt(e,i);return t._milliseconds+=n*s._milliseconds,t._days+=n*s._days,t._months+=n*s._months,t._bubble()}function Ii(t,e){return Ti(this,t,e,1)}function Ei(t,e){return Ti(this,t,e,-1)}function ji(t){return 0>t?Math.floor(t):Math.ceil(t)}function Ai(){var t,e,i,n,s,r=this._milliseconds,o=this._days,a=this._months,l=this._data;return r>=0&&o>=0&&a>=0||0>=r&&0>=o&&0>=a||(r+=864e5*ji(Fi(a)+o),o=0,a=0),l.milliseconds=r%1e3,t=m(r/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,i=m(e/60),l.hours=i%24,o+=m(i/24),s=m(Mi(o)),a+=s,o-=ji(Fi(s)),n=m(a/12),a%=12,l.days=o,l.months=a,l.years=n,this}function Mi(t){return 4800*t/146097}function Fi(t){return 146097*t/4800}function Pi(t){var e,i,n=this._milliseconds;if("month"===(t=S(t))||"year"===t)return e=this._days+n/864e5,i=this._months+Mi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Fi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function Ri(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Ni(t){return function(){return this.as(t)}}function Oi(t){return t=S(t),this[t+"s"]()}function Hi(t){return function(){return this._data[t]}}function qi(){return m(this.days()/7)}function Li(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}function zi(t,e,i){var n=Qt(t).abs(),s=Ms(n.as("s")),r=Ms(n.as("m")),o=Ms(n.as("h")),a=Ms(n.as("d")),l=Ms(n.as("M")),c=Ms(n.as("y")),d=s<Fs.s&&["s",s]||1>=r&&["m"]||r<Fs.m&&["mm",r]||1>=o&&["h"]||o<Fs.h&&["hh",o]||1>=a&&["d"]||a<Fs.d&&["dd",a]||1>=l&&["M"]||l<Fs.M&&["MM",l]||1>=c&&["y"]||["yy",c];return d[2]=e,d[3]=+t>0,d[4]=i,Li.apply(null,d)}function Bi(t,e){return void 0!==Fs[t]&&(void 0===e?Fs[t]:(Fs[t]=e,!0))}function Wi(t){var e=this.localeData(),i=zi(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Gi(){var t,e,i,n=Ps(this._milliseconds)/1e3,s=Ps(this._days),r=Ps(this._months);t=m(n/60),e=m(t/60),n%=60,t%=60,i=m(r/12),r%=12;var o=i,a=r,l=s,c=e,d=t,h=n,u=this.asSeconds();return u?(0>u?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(c||d||h?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(h?h+"S":""):"P0D"}var Ui,Yi,Vi=t.momentProperties=[],Xi=!1,Ki={},Qi={},Zi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ji=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,tn={},en={},nn=/\d/,sn=/\d\d/,rn=/\d{3}/,on=/\d{4}/,an=/[+-]?\d{6}/,ln=/\d\d?/,cn=/\d\d\d\d?/,dn=/\d\d\d\d\d\d?/,hn=/\d{1,3}/,un=/\d{1,4}/,pn=/[+-]?\d{1,6}/,fn=/\d+/,gn=/[+-]?\d+/,mn=/Z|[+-]\d\d:?\d\d/gi,vn=/Z|[+-]\d\d(?::?\d\d)?/gi,bn=/[+-]?\d+(\.\d{1,3})?/,yn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,wn={},_n={},xn=0,Cn=1,$n=2,kn=3,Dn=4,Sn=5,Tn=6,In=7,En=8;P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),P("MMMM",0,0,function(t){return this.localeData().months(this,t)}),D("month","M"),q("M",ln),q("MM",ln,sn),q("MMM",function(t,e){return e.monthsShortRegex(t)}),q("MMMM",function(t,e){return e.monthsRegex(t)}),W(["M","MM"],function(t,e){e[Cn]=v(t)-1}),W(["MMM","MMMM"],function(t,e,i,n){var s=i._locale.monthsParse(t,n,i._strict);null!=s?e[Cn]=s:c(i).invalidMonth=t});var jn=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,An="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Mn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Fn=yn,Pn=yn,Rn={};t.suppressDeprecationWarnings=!1
;var Nn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,On=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Hn=/Z|[+-]\d\d(?::?\d\d)?/,qn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ln=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zn=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=rt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),P("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),D("year","y"),q("Y",gn),q("YY",ln,sn),q("YYYY",un,on),q("YYYYY",pn,an),q("YYYYYY",pn,an),W(["YYYYY","YYYYYY"],xn),W("YYYY",function(e,i){i[xn]=2===e.length?t.parseTwoDigitYear(e):v(e)}),W("YY",function(e,i){i[xn]=t.parseTwoDigitYear(e)}),W("Y",function(t,e){e[xn]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Bn=E("FullYear",!1);t.ISO_8601=function(){};var Wn=rt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:h()}),Gn=rt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()}),Un=function(){return Date.now?Date.now():+new Date};Rt("Z",":"),Rt("ZZ",""),q("Z",vn),q("ZZ",vn),W(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Nt(vn,t)});var Yn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Vn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Xn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qt.fn=Ft.prototype;var Kn=ee(1,"add"),Qn=ee(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Zn=rt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Fe("gggg","weekYear"),Fe("ggggg","weekYear"),Fe("GGGG","isoWeekYear"),Fe("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),q("G",gn),q("g",gn),q("GG",ln,sn),q("gg",ln,sn),q("GGGG",un,on),q("gggg",un,on),q("GGGGG",pn,an),q("ggggg",pn,an),G(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=v(t)}),G(["gg","GG"],function(e,i,n,s){i[s]=t.parseTwoDigitYear(e)}),P("Q",0,"Qo","quarter"),D("quarter","Q"),q("Q",nn),W("Q",function(t,e){e[Cn]=3*(v(t)-1)}),P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),q("w",ln),q("ww",ln,sn),q("W",ln),q("WW",ln,sn),G(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=v(t)});var Jn={dow:0,doy:6};P("D",["DD",2],"Do","date"),D("date","D"),q("D",ln),q("DD",ln,sn),q("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),W(["D","DD"],$n),W("Do",function(t,e){e[$n]=v(t.match(ln)[0],10)});var ts=E("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),P("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),P("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),q("d",ln),q("e",ln),q("E",ln),q("dd",yn),q("ddd",yn),q("dddd",yn),G(["dd","ddd","dddd"],function(t,e,i,n){var s=i._locale.weekdaysParse(t,n,i._strict);null!=s?e.d=s:c(i).invalidWeekday=t}),G(["d","e","E"],function(t,e,i,n){e[n]=v(t)});var es="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),is="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ns="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),q("DDD",hn),q("DDDD",rn),W(["DDD","DDDD"],function(t,e,i){i._dayOfYear=v(t)}),P("H",["HH",2],0,"hour"),P("h",["hh",2],0,ii),P("hmm",0,0,function(){return""+ii.apply(this)+F(this.minutes(),2)}),P("hmmss",0,0,function(){return""+ii.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),P("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),P("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),ni("a",!0),ni("A",!1),D("hour","h"),q("a",si),q("A",si),q("H",ln),q("h",ln),q("HH",ln,sn),q("hh",ln,sn),q("hmm",cn),q("hmmss",dn),q("Hmm",cn),q("Hmmss",dn),W(["H","HH"],kn),W(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),W(["h","hh"],function(t,e,i){e[kn]=v(t),c(i).bigHour=!0}),W("hmm",function(t,e,i){var n=t.length-2;e[kn]=v(t.substr(0,n)),e[Dn]=v(t.substr(n)),c(i).bigHour=!0}),W("hmmss",function(t,e,i){var n=t.length-4,s=t.length-2;e[kn]=v(t.substr(0,n)),e[Dn]=v(t.substr(n,2)),e[Sn]=v(t.substr(s)),c(i).bigHour=!0}),W("Hmm",function(t,e){var i=t.length-2;e[kn]=v(t.substr(0,i)),e[Dn]=v(t.substr(i))}),W("Hmmss",function(t,e){var i=t.length-4,n=t.length-2;e[kn]=v(t.substr(0,i)),e[Dn]=v(t.substr(i,2)),e[Sn]=v(t.substr(n))});var ss=/[ap]\.?m?\.?/i,rs=E("Hours",!0);P("m",["mm",2],0,"minute"),D("minute","m"),q("m",ln),q("mm",ln,sn),W(["m","mm"],Dn);var os=E("Minutes",!1);P("s",["ss",2],0,"second"),D("second","s"),q("s",ln),q("ss",ln,sn),W(["s","ss"],Sn);var as=E("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),q("S",hn,nn),q("SS",hn,sn),q("SSS",hn,rn);var ls;for(ls="SSSS";ls.length<=9;ls+="S")q(ls,fn);for(ls="S";ls.length<=9;ls+="S")W(ls,ai);var cs=E("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var ds=f.prototype;ds.add=Kn,ds.calendar=ne,ds.clone=se,ds.diff=he,ds.endOf=Ce,ds.format=ge,ds.from=me,ds.fromNow=ve,ds.to=be,ds.toNow=ye,ds.get=M,ds.invalidAt=Ae,ds.isAfter=re,ds.isBefore=oe,ds.isBetween=ae,ds.isSame=le,ds.isSameOrAfter=ce,ds.isSameOrBefore=de,ds.isValid=Ee,ds.lang=Zn,ds.locale=we,ds.localeData=_e,ds.max=Gn,ds.min=Wn,ds.parsingFlags=je,ds.set=M,ds.startOf=xe,ds.subtract=Qn,ds.toArray=Se,ds.toObject=Te,ds.toDate=De,ds.toISOString=fe,ds.toJSON=Ie,ds.toString=pe,ds.unix=ke,ds.valueOf=$e,ds.creationData=Me,ds.year=Bn,ds.isLeapYear=pt,ds.weekYear=Pe,ds.isoWeekYear=Re,ds.quarter=ds.quarters=Le,ds.month=Z,ds.daysInMonth=J,ds.week=ds.weeks=Ge,ds.isoWeek=ds.isoWeeks=Ue,ds.weeksInYear=Oe,ds.isoWeeksInYear=Ne,ds.date=ts,ds.day=ds.days=Ze,ds.weekday=Je,ds.isoWeekday=ti,ds.dayOfYear=ei,ds.hour=ds.hours=rs,ds.minute=ds.minutes=os,ds.second=ds.seconds=as,ds.millisecond=ds.milliseconds=cs,ds.utcOffset=qt,ds.utc=zt,ds.local=Bt,ds.parseZone=Wt,ds.hasAlignedHourOffset=Gt,ds.isDST=Ut,ds.isDSTShifted=Yt,ds.isLocal=Vt,ds.isUtcOffset=Xt,ds.isUtc=Kt,ds.isUTC=Kt,ds.zoneAbbr=li,ds.zoneName=ci,ds.dates=rt("dates accessor is deprecated. Use date instead.",ts),ds.months=rt("months accessor is deprecated. Use month instead",Z),ds.years=rt("years accessor is deprecated. Use year instead",Bn),ds.zone=rt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Lt);var hs=ds,us={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ps={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},fs=/\d{1,2}/,gs={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ms=y.prototype;ms._calendar=us,ms.calendar=ui,ms._longDateFormat=ps,ms.longDateFormat=pi,ms._invalidDate="Invalid date",ms.invalidDate=fi,ms._ordinal="%d",ms.ordinal=gi,ms._ordinalParse=fs,ms.preparse=mi,ms.postformat=mi,ms._relativeTime=gs,ms.relativeTime=vi,ms.pastFuture=bi,ms.set=yi,ms.months=V,ms._months=An,ms.monthsShort=X,ms._monthsShort=Mn,ms.monthsParse=K,ms._monthsRegex=Pn,ms.monthsRegex=et,ms._monthsShortRegex=Fn,ms.monthsShortRegex=tt,ms.week=ze,ms._week=Jn,ms.firstDayOfYear=We,ms.firstDayOfWeek=Be,ms.weekdays=Ve,ms._weekdays=es,ms.weekdaysMin=Ke,ms._weekdaysMin=ns,ms.weekdaysShort=Xe,ms._weekdaysShort=is,ms.weekdaysParse=Qe,ms.isPM=ri,ms._meridiemParse=ss,ms.meridiem=oi,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=rt("moment.lang is deprecated. Use moment.locale instead.",C),t.langData=rt("moment.langData is deprecated. Use moment.localeData instead.",k);var vs=Math.abs,bs=Ni("ms"),ys=Ni("s"),ws=Ni("m"),_s=Ni("h"),xs=Ni("d"),Cs=Ni("w"),$s=Ni("M"),ks=Ni("y"),Ds=Hi("milliseconds"),Ss=Hi("seconds"),Ts=Hi("minutes"),Is=Hi("hours"),Es=Hi("days"),js=Hi("months"),As=Hi("years"),Ms=Math.round,Fs={s:45,m:45,h:22,d:26,M:11},Ps=Math.abs,Rs=Ft.prototype;return Rs.abs=Si,Rs.add=Ii,Rs.subtract=Ei,Rs.as=Pi,Rs.asMilliseconds=bs,Rs.asSeconds=ys,Rs.asMinutes=ws,Rs.asHours=_s,Rs.asDays=xs,Rs.asWeeks=Cs,Rs.asMonths=$s,Rs.asYears=ks,Rs.valueOf=Ri,Rs._bubble=Ai,Rs.get=Oi,Rs.milliseconds=Ds,Rs.seconds=Ss,Rs.minutes=Ts,Rs.hours=Is,Rs.days=Es,Rs.weeks=qi,Rs.months=js,Rs.years=As,Rs.humanize=Wi,Rs.toISOString=Gi,Rs.toString=Gi,Rs.toJSON=Gi,Rs.locale=we,Rs.localeData=_e,Rs.toIsoString=rt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gi),Rs.lang=Zn,P("X",0,0,"unix"),P("x",0,0,"valueOf"),q("x",gn),q("X",bn),W("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),W("x",function(t,e,i){i._d=new Date(v(t))}),t.version="2.11.2",e(Et),t.fn=hs,t.min=At,t.max=Mt,t.now=Un,t.utc=a,t.unix=di,t.months=xi,t.isDate=n,t.locale=C,t.invalid=h,t.duration=Qt,t.isMoment=g,t.weekdays=$i,t.parseZone=hi,t.localeData=k,t.isDuration=Pt,t.monthsShort=Ci,t.weekdaysMin=Di,t.defineLocale=$,t.weekdaysShort=ki,t.normalizeUnits=S,t.relativeTimeThreshold=Bi,t.prototype=hs,t}),function(){var t=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function e(t){function e(t){var e=t.charCodeAt(0);if(92!==e)return e;var i=t.charAt(1);return(e=h[i])?e:"0"<=i&&i<="7"?parseInt(t.substring(1),8):"u"===i||"x"===i?parseInt(t.substring(2),16):t.charCodeAt(1)}function i(t){return t<32?(t<16?"\\x0":"\\x")+t.toString(16):(t=String.fromCharCode(t),"\\"===t||"-"===t||"]"===t||"^"===t?"\\"+t:t)}function n(t){var n=t.substring(1,t.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),t=[],s="^"===n[0],r=["["];s&&r.push("^");for(var s=s?1:0,o=n.length;s<o;++s){var a=n[s];if(/\\[bdsw]/i.test(a))r.push(a);else{var l,a=e(a);s+2<o&&"-"===n[s+1]?(l=e(n[s+2]),s+=2):l=a,t.push([a,l]),l<65||a>122||(l<65||a>90||t.push([32|Math.max(65,a),32|Math.min(l,90)]),l<97||a>122||t.push([-33&Math.max(97,a),-33&Math.min(l,122)]))}}for(t.sort(function(t,e){return t[0]-e[0]||e[1]-t[1]}),n=[],o=[],s=0;s<t.length;++s)a=t[s],a[0]<=o[1]+1?o[1]=Math.max(o[1],a[1]):n.push(o=a);for(s=0;s<n.length;++s)a=n[s],r.push(i(a[0])),a[1]>a[0]&&(a[1]+1>a[0]&&r.push("-"),r.push(i(a[1])));return r.push("]"),r.join("")}function s(t){for(var e=t.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),s=e.length,a=[],l=0,c=0;l<s;++l){var d=e[l];"("===d?++c:"\\"===d.charAt(0)&&(d=+d.substring(1))&&(d<=c?a[d]=-1:e[l]=i(d))}for(l=1;l<a.length;++l)-1===a[l]&&(a[l]=++r);for(c=l=0;l<s;++l)d=e[l],"("===d?(++c,a[c]||(e[l]="(?:")):"\\"===d.charAt(0)&&(d=+d.substring(1))&&d<=c&&(e[l]="\\"+a[d]);for(l=0;l<s;++l)"^"===e[l]&&"^"!==e[l+1]&&(e[l]="");if(t.ignoreCase&&o)for(l=0;l<s;++l)d=e[l],t=d.charAt(0),d.length>=2&&"["===t?e[l]=n(d):"\\"!==t&&(e[l]=d.replace(/[A-Za-z]/g,function(t){return t=t.charCodeAt(0),"["+String.fromCharCode(-33&t,32|t)+"]"}));return e.join("")}for(var r=0,o=!1,a=!1,l=0,c=t.length;l<c;++l){var d=t[l];if(d.ignoreCase)a=!0;else if(/[a-z]/i.test(d.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){o=!0,a=!1;break}}for(var h={b:8,t:9,n:10,v:11,f:12,r:13},u=[],l=0,c=t.length;l<c;++l){if(d=t[l],d.global||d.multiline)throw Error(""+d);u.push("(?:"+s(d)+")")}return RegExp(u.join("|"),a?"gi":"g")}function i(t,e){function i(t){var l=t.nodeType;if(1==l){if(!n.test(t.className)){for(l=t.firstChild;l;l=l.nextSibling)i(l);l=t.nodeName.toLowerCase(),"br"!==l&&"li"!==l||(s[a]="\n",o[a<<1]=r++,o[a++<<1|1]=t)}}else 3!=l&&4!=l||(l=t.nodeValue,l.length&&(l=e?l.replace(/\r\n?/g,"\n"):l.replace(/[\t\n\r ]+/g," "),s[a]=l,o[a<<1]=r,r+=l.length,o[a++<<1|1]=t))}var n=/(?:^|\s)nocode(?:\s|$)/,s=[],r=0,o=[],a=0;return i(t),{a:s.join("").replace(/\n$/,""),d:o}}function n(t,e,i,n){e&&(t={a:e,e:t},i(t),n.push.apply(n,t.g))}function s(t){for(var e=void 0,i=t.firstChild;i;i=i.nextSibling)var n=i.nodeType,e=1===n?e?t:i:3===n&&_.test(i.nodeValue)?t:e;return e===t?void 0:e}function r(i,s){function r(t){for(var e=t.e,i=[e,"pln"],d=0,h=t.a.match(o)||[],u={},p=0,f=h.length;p<f;++p){var g,m=h[p],v=u[m],b=void 0;if("string"==typeof v)g=!1;else{var y=a[m.charAt(0)];if(y)b=m.match(y[1]),v=y[0];else{for(g=0;g<l;++g)if(y=s[g],b=m.match(y[1])){v=y[0];break}b||(v="pln")}!(g=v.length>=5&&"lang-"===v.substring(0,5))||b&&"string"==typeof b[1]||(g=!1,v="src"),g||(u[m]=v)}if(y=d,d+=m.length,g){g=b[1];var w=m.indexOf(g),_=w+g.length;b[2]&&(_=m.length-b[2].length,w=_-g.length),v=v.substring(5),n(e+y,m.substring(0,w),r,i),n(e+y+w,g,c(v,g),i),n(e+y+_,m.substring(_),r,i)}else i.push(e+y,v)}t.g=i}var o,a={};!function(){for(var n=i.concat(s),r=[],l={},c=0,d=n.length;c<d;++c){var h=n[c],u=h[3];if(u)for(var p=u.length;--p>=0;)a[u.charAt(p)]=h;h=h[1],u=""+h,l.hasOwnProperty(u)||(r.push(h),l[u]=t)}r.push(/[\S\s]/),o=e(r)}();var l=s.length;return r}function o(e){var i=[],n=[];e.tripleQuotedStrings?i.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,t,"'\""]):e.multiLineStrings?i.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,t,"'\"`"]):i.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,t,"\"'"]),e.verbatimStrings&&n.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,t]);var s=e.hashComments;if(s&&(e.cStyleComments?(s>1?i.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,t,"#"]):i.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,t,"#"]),n.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,t])):i.push(["com",/^#[^\n\r]*/,t,"#"])),e.cStyleComments&&(n.push(["com",/^\/\/[^\n\r]*/,t]),n.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,t])),s=e.regexLiterals){var o=(s=s>1?"":"\n\r")?".":"[\\S\\s]";n.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*(/(?=[^/*"+s+"])(?:[^/\\x5B\\x5C"+s+"]|\\x5C"+o+"|\\x5B(?:[^\\x5C\\x5D"+s+"]|\\x5C"+o+")*(?:\\x5D|$))+/)")])}return(s=e.types)&&n.push(["typ",s]),s=(""+e.keywords).replace(/^ | $/g,""),s.length&&n.push(["kwd",RegExp("^(?:"+s.replace(/[\s,]+/g,"|")+")\\b"),t]),i.push(["pln",/^\s+/,t," \r\n\t\xa0"]),s="^.[^\\s\\w.$@'\"`/\\\\]*",e.regexLiterals&&(s+="(?!s*/)"),n.push(["lit",/^@[$_a-z][\w$@]*/i,t],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,t],["pln",/^[$_a-z][\w$@]*/i,t],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,t,"0123456789"],["pln",/^\\[\S\s]?/,t],["pun",RegExp(s),t]),r(i,n)}function a(t,e,i){function n(t){var e=t.nodeType;if(1!=e||r.test(t.className)){if((3==e||4==e)&&i){var l=t.nodeValue,c=l.match(o);c&&(e=l.substring(0,c.index),t.nodeValue=e,(l=l.substring(c.index+c[0].length))&&t.parentNode.insertBefore(a.createTextNode(l),t.nextSibling),s(t),e||t.parentNode.removeChild(t))}}else if("br"===t.nodeName)s(t),t.parentNode&&t.parentNode.removeChild(t);else for(t=t.firstChild;t;t=t.nextSibling)n(t)}function s(t){function e(t,i){var n=i?t.cloneNode(!1):t,s=t.parentNode;if(s){var s=e(s,1),r=t.nextSibling;s.appendChild(n);for(var o=r;o;o=r)r=o.nextSibling,s.appendChild(o)}return n}for(;!t.nextSibling;)if(!(t=t.parentNode))return;for(var i,t=e(t.nextSibling,0);(i=t.parentNode)&&1===i.nodeType;)t=i;c.push(t)}for(var r=/(?:^|\s)nocode(?:\s|$)/,o=/\r\n?|\n/,a=t.ownerDocument,l=a.createElement("li");t.firstChild;)l.appendChild(t.firstChild);for(var c=[l],d=0;d<c.length;++d)n(c[d]);e===(0|e)&&c[0].setAttribute("value",e);var h=a.createElement("ol");h.className="linenums";for(var e=Math.max(0,e-1|0)||0,d=0,u=c.length;d<u;++d)l=c[d],l.className="L"+(d+e)%10,l.firstChild||l.appendChild(a.createTextNode("\xa0")),h.appendChild(l);t.appendChild(h)}function l(t,e){for(var i=e.length;--i>=0;){var n=e[i];C.hasOwnProperty(n)?h.console&&console.warn("cannot override language handler %s",n):C[n]=t}}function c(t,e){return t&&C.hasOwnProperty(t)||(t=/^\s*</.test(e)?"default-markup":"default-code"),C[t]}function d(t){var e=t.h;try{var n=i(t.c,t.i),s=n.a;t.a=s,t.d=n.d,t.e=0,c(e,s)(t);var r=/\bMSIE\s(\d+)/.exec(navigator.userAgent),r=r&&+r[1]<=8,e=/\n/g,o=t.a,a=o.length,n=0,l=t.d,d=l.length,s=0,u=t.g,p=u.length,f=0;u[p]=a;var g,m;for(m=g=0;m<p;)u[m]!==u[m+2]?(u[g++]=u[m++],u[g++]=u[m++]):m+=2;for(p=g,m=g=0;m<p;){for(var v=u[m],b=u[m+1],y=m+2;y+2<=p&&u[y+1]===b;)y+=2;u[g++]=v,u[g++]=b,m=y}u.length=g;var w,_=t.c;_&&(w=_.style.display,_.style.display="none");try{for(;s<d;){var x,C=l[s+2]||a,$=u[f+2]||a,y=Math.min(C,$),k=l[s+1];if(1!==k.nodeType&&(x=o.substring(n,y))){r&&(x=x.replace(e,"\r")),k.nodeValue=x;var D=k.ownerDocument,S=D.createElement("span");S.className=u[f+1];var T=k.parentNode;T.replaceChild(S,k),S.appendChild(k),n<C&&(l[s+1]=k=D.createTextNode(o.substring(y,C)),T.insertBefore(k,S.nextSibling))}n=y,n>=C&&(s+=2),n>=$&&(f+=2)}}finally{_&&(_.style.display=w)}}catch(t){h.console&&console.log(t&&t.stack||t)}}var h=window,u=["break,continue,do,else,for,if,return,while"],p=[[u,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],f=[p,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],g=[p,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],m=[g,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],p=[p,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],v=[u,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],b=[u,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],y=[u,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],u=[u,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],w=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,_=/\S/,x=o({keywords:[f,m,p,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",v,b,u],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),C={};l(x,["default-code"]),l(r([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),l(r([["pln",/^\s+/,t," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,t,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'\/>]|\/(?=\s)))/],["pun",/^[\/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),l(r([],[["atv",/^[\S\s]+/]]),["uq.val"]),l(o({keywords:f,hashComments:!0,cStyleComments:!0,types:w}),["c","cc","cpp","cxx","cyc","m"]),l(o({keywords:"null,true,false"}),["json"]),l(o({keywords:m,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:w}),["cs"]),l(o({keywords:g,cStyleComments:!0}),["java"]),l(o({keywords:u,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),l(o({keywords:v,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),l(o({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),l(o({keywords:b,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),l(o({keywords:p,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),l(o({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),l(o({keywords:y,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),l(r([],[["str",/^[\S\s]+/]]),["regex"]);var $=h.PR={createSimpleLexer:r,registerLangHandler:l,sourceDecorator:o,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:h.prettyPrintOne=function(t,e,i){var n=document.createElement("div");return n.innerHTML="<pre>"+t+"</pre>",n=n.firstChild,i&&a(n,i,!0),d({h:e,j:i,c:n,i:1}),n.innerHTML},prettyPrint:h.prettyPrint=function(e,i){function n(){for(var i=h.PR_SHOULD_USE_CONTINUATION?f.now()+250:Infinity;m<l.length&&f.now()<i;m++){for(var r=l[m],c=C,u=r;u=u.previousSibling;){var p=u.nodeType,$=(7===p||8===p)&&u.nodeValue;if($?!/^\??prettify\b/.test($):3!==p||/\S/.test(u.nodeValue))break;if($){c={},$.replace(/\b(\w+)=([\w%+\-.:]+)/g,function(t,e,i){c[e]=i});break}}if(u=r.className,(c!==C||b.test(u))&&!y.test(u)){for(p=!1,$=r.parentNode;$;$=$.parentNode)if(x.test($.tagName)&&$.className&&b.test($.className)){p=!0;break}if(!p){if(r.className+=" prettyprinted",!(p=c.lang)){var k,p=u.match(v);!p&&(k=s(r))&&_.test(k.tagName)&&(p=k.className.match(v)),p&&(p=p[1])}if(w.test(r.tagName))$=1;else var $=r.currentStyle,D=o.defaultView,$=($=$?$.whiteSpace:D&&D.getComputedStyle?D.getComputedStyle(r,t).getPropertyValue("white-space"):0)&&"pre"===$.substring(0,3);D=c.linenums,(D="true"===D||+D)||(D=!!(D=u.match(/\blinenums\b(?::(\d+))?/))&&(!D[1]||!D[1].length||+D[1])),D&&a(r,D,$),g={h:p,c:r,j:D,i:$},d(g)}}}m<l.length?setTimeout(n,250):"function"==typeof e&&e()}for(var r=i||document.body,o=r.ownerDocument||document,r=[r.getElementsByTagName("pre"),r.getElementsByTagName("code"),r.getElementsByTagName("xmp")],l=[],c=0;c<r.length;++c)for(var u=0,p=r[c].length;u<p;++u)l.push(r[c][u]);var r=t,f=Date;f.now||(f={now:function(){return+new Date}});var g,m=0,v=/\blang(?:uage)?-([\w.]+)(?!\S)/,b=/\bprettyprint\b/,y=/\bprettyprinted\b/,w=/pre|xmp/i,_=/^code$/i,x=/^(?:pre|code|xmp)$/i,C={};n()}};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return $})}()}(),function(t){"use strict";t.matchMedia=t.matchMedia||function(t){var e,i=t.documentElement,n=i.firstElementChild||i.firstChild,s=t.createElement("body"),r=t.createElement("div");return r.id="mq-test-1",r.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(r),function(t){return r.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(s,n),e=42===r.offsetWidth,i.removeChild(s),{matches:e,media:t}}}(t.document)}(this),function(t){"use strict";function e(){w(!0)}var i={};t.respond=i,i.update=function(){};var n=[],s=function(){var e=!1;try{e=new t.XMLHttpRequest}catch(i){e=new t.ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}(),r=function(t,e){var i=s();i&&(i.open("GET",t,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||e(i.responseText)},4!==i.readyState&&i.send(null))};if(i.ajax=r,i.queue=n,i.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},i.mediaQueriesSupported=t.matchMedia&&null!==t.matchMedia("only all")&&t.matchMedia("only all").matches,!i.mediaQueriesSupported){var o,a,l,c=t.document,d=c.documentElement,h=[],u=[],p=[],f={},g=30,m=c.getElementsByTagName("head")[0]||d,v=c.getElementsByTagName("base")[0],b=m.getElementsByTagName("link"),y=function(){var t,e=c.createElement("div"),i=c.body,n=d.style.fontSize,s=i&&i.style.fontSize,r=!1;return e.style.cssText="position:absolute;font-size:1em;width:1em",i||(i=r=c.createElement("body"),i.style.background="none"),d.style.fontSize="100%",i.style.fontSize="100%",i.appendChild(e),r&&d.insertBefore(i,d.firstChild),t=e.offsetWidth,r?d.removeChild(i):i.removeChild(e),d.style.fontSize=n,s&&(i.style.fontSize=s),t=l=parseFloat(t)},w=function(e){var i="clientWidth",n=d[i],s="CSS1Compat"===c.compatMode&&n||c.body[i]||n,r={},f=b[b.length-1],v=(new Date).getTime();if(e&&o&&g>v-o)return t.clearTimeout(a),void(a=t.setTimeout(w,g));o=v;for(var _ in h)if(h.hasOwnProperty(_)){var x=h[_],C=x.minw,$=x.maxw,k=null===C,D=null===$,S="em";C&&(C=parseFloat(C)*(C.indexOf(S)>-1?l||y():1)),$&&($=parseFloat($)*($.indexOf(S)>-1?l||y():1)),x.hasquery&&(k&&D||!(k||s>=C)||!(D||$>=s))||(r[x.media]||(r[x.media]=[]),r[x.media].push(u[x.rules]))}for(var T in p)p.hasOwnProperty(T)&&p[T]&&p[T].parentNode===m&&m.removeChild(p[T]);p.length=0;for(var I in r)if(r.hasOwnProperty(I)){var E=c.createElement("style"),j=r[I].join("\n");E.type="text/css",E.media=I,m.insertBefore(E,f.nextSibling),E.styleSheet?E.styleSheet.cssText=j:E.appendChild(c.createTextNode(j)),p.push(E)}},_=function(t,e,n){var s=t.replace(i.regex.keyframes,"").match(i.regex.media),r=s&&s.length||0;e=e.substring(0,e.lastIndexOf("/"));var o=function(t){return t.replace(i.regex.urls,"$1"+e+"$2$3")},a=!r&&n;e.length&&(e+="/"),a&&(r=1);for(var l=0;r>l;l++){var c,d,p,f;a?(c=n,u.push(o(t))):(c=s[l].match(i.regex.findStyles)&&RegExp.$1,u.push(RegExp.$2&&o(RegExp.$2))),p=c.split(","),f=p.length;for(var g=0;f>g;g++)d=p[g],h.push({media:d.split("(")[0].match(i.regex.only)&&RegExp.$2||"all",rules:u.length-1,hasquery:d.indexOf("(")>-1,minw:d.match(i.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:d.match(i.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}w()},x=function(){if(n.length){var e=n.shift();r(e.href,function(i){_(i,e.href,e.media),f[e.href]=!0,t.setTimeout(function(){x()},0)})}},C=function(){for(var e=0;e<b.length;e++){var i=b[e],s=i.href,r=i.media,o=i.rel&&"stylesheet"===i.rel.toLowerCase();s&&o&&!f[s]&&(i.styleSheet&&i.styleSheet.rawCssText?(_(i.styleSheet.rawCssText,s,r),f[s]=!0):(!/^([a-zA-Z:]*\/\/)/.test(s)&&!v||s.replace(RegExp.$1,"").split("/")[0]===t.location.host)&&("//"===s.substring(0,2)&&(s=t.location.protocol+s),n.push({href:s,media:r})))}x()};C(),i.update=C,i.getEmValue=y,t.addEventListener?t.addEventListener("resize",e,!1):t.attachEvent&&t.attachEvent("onresize",e)}}(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};var t,i,n;!function(e){function s(t,e){return w.call(t,e)}function r(t,e){var i,n,s,r,o,a,l,c,d,h,u,p=e&&e.split("/"),f=b.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),o=t.length-1,b.nodeIdCompat&&x.test(t[o])&&(t[o]=t[o].replace(x,"")),t=p.slice(0,p.length-1).concat(t),d=0;d<t.length;d+=1)if("."===(u=t[d]))t.splice(d,1),d-=1;else if(".."===u){if(1===d&&(".."===t[2]||".."===t[0]))break;d>0&&(t.splice(d-1,2),d-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&f){for(i=t.split("/"),d=i.length;d>0;d-=1){if(n=i.slice(0,d).join("/"),p)for(h=p.length;h>0;h-=1)if((s=f[p.slice(0,h).join("/")])&&(s=s[n])){r=s,a=d;break}if(r)break;!l&&g&&g[n]&&(l=g[n],c=d)}!r&&l&&(r=l,a=c),r&&(i.splice(0,a,r),t=i.join("/"))}return t}function o(t,i){return function(){var n=_.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(e,n.concat([t,i]))}}function a(t){return function(e){return r(e,t)}}function l(t){return function(e){m[t]=e}}function c(t){if(s(v,t)){var i=v[t];delete v[t],y[t]=!0,u.apply(e,i)}if(!s(m,t)&&!s(y,t))throw new Error("No "+t);return m[t]}function d(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function h(t){return function(){return b&&b.config&&b.config[t]||{}}}var u,p,f,g,m={},v={},b={},y={},w=Object.prototype.hasOwnProperty,_=[].slice,x=/\.js$/;f=function(t,e){var i,n=d(t),s=n[0];return t=n[1],s&&(s=r(s,e),i=c(s)),s?t=i&&i.normalize?i.normalize(t,a(e)):r(t,e):(t=r(t,e),n=d(t),s=n[0],t=n[1],s&&(i=c(s))),{f:s?s+"!"+t:t,n:t,pr:s,p:i}},g={require:function(t){return o(t)},exports:function(t){var e=m[t];return void 0!==e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:h(t)}}},u=function(t,i,n,r){var a,d,h,u,p,b,w=[],_=typeof n;if(r=r||t,"undefined"===_||"function"===_){for(i=!i.length&&n.length?["require","exports","module"]:i,p=0;p<i.length;p+=1)if(u=f(i[p],r),"require"===(d=u.f))w[p]=g.require(t);else if("exports"===d)w[p]=g.exports(t),b=!0;else if("module"===d)a=w[p]=g.module(t);else if(s(m,d)||s(v,d)||s(y,d))w[p]=c(d);else{if(!u.p)throw new Error(t+" missing "+d);u.p.load(u.n,o(r,!0),l(d),{}),w[p]=m[d]}h=n?n.apply(m[t],w):void 0,t&&(a&&a.exports!==e&&a.exports!==m[t]?m[t]=a.exports:h===e&&b||(m[t]=h))}else t&&(m[t]=n)},t=i=p=function(t,i,n,s,r){if("string"==typeof t)return g[t]?g[t](i):c(f(t,i).f);if(!t.splice){if(b=t,b.deps&&p(b.deps,b.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=s,s=r),s?u(e,t,i,n):setTimeout(function(){u(e,t,i,n)},4),p},p.config=function(t){
return p(t)},t._defined=m,n=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),s(m,t)||s(v,t)||(v[t]=[t,e,i])},n.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e){"function"==typeof e[n]&&"constructor"!==n&&i.push(n)}return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var s in e)n.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,s=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),s=i.prototype.constructor),s.apply(this,arguments)}function s(){this.constructor=n}var r=e(i),o=e(t);i.displayName=t.displayName,n.prototype=new s;for(var a=0;a<o.length;a++){var l=o[a];n.prototype[l]=t.prototype[l]}for(var c=(function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var s=i.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),s.apply(this,arguments)}}),d=0;d<r.length;d++){var h=r[d];n.prototype[h]=c(h)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;n>i;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;t>i;i++){e+=Math.floor(36*Math.random()).toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var s=0;s<i.length;s++){var r=i[s];r=r.substring(0,1).toLowerCase()+r.substring(1),r in n||(n[r]={}),s==i.length-1&&(n[r]=t[e]),n=n[r]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),s=i.style.overflowX,r=i.style.overflowY;return(s!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===s||"scroll"===r||(n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth))},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),s=this.options.get("translations").get(e.message);n.append(i(s(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],s=this.option(n);e.push(s)}this.$results.append(e)},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.setClasses=function(){var e=this;this.data.current(function(i){var n=t.map(i,function(t){return t.id.toString()}),s=e.$results.find(".select2-results__option[aria-selected]");s.each(function(){var e=t(this),i=t.data(this,"data"),s=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(s,n)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var r=s.filter("[aria-selected=true]");r.length>0?r.first().trigger("mouseenter"):s.first().trigger("mouseenter")})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]);for(var s in n){var r=n[s];i.setAttribute(s,r)}if(e.children){var o=t(i),a=document.createElement("strong");a.className="select2-results__group",t(a),this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var d=e.children[c],h=this.option(d);l.push(h)}var u=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});u.append(l),o.append(a),o.append(u)}else this.template(e,i);return t.data(i,"data",e),i},i.prototype.bind=function(e){var i=this,n=e.id+"-results";this.$results.attr("id",n),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.hideMessages(),i.showLoading(t)}),e.on("select",function(){e.isOpen()&&i.setClasses()}),e.on("unselect",function(){e.isOpen()&&i.setClasses()}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var s=n-1;0===t.length&&(s=0);var r=e.eq(s);r.trigger("mouseenter");var o=i.$results.offset().top,a=r.offset().top,l=i.$results.scrollTop()+(a-o);0===s?i.$results.scrollTop(0):0>a-o&&i.$results.scrollTop(l)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t),s=n+1;if(!(s>=e.length)){var r=e.eq(s);r.trigger("mouseenter");var o=i.$results.offset().top+i.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),l=i.$results.scrollTop()+a-o;0===s?i.$results.scrollTop(0):a>o&&i.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-i.$results.scrollTop()+t.deltaY,s=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&n<=i.$results.height();s?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var n=t(this),s=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:s}):i.trigger("close",{})):void i.trigger("select",{originalEvent:e,data:s})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:e,element:t(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,s=t.offset().top,r=this.$results.scrollTop()+(s-n),o=s-n;r-=2*t.outerHeight(!1),2>=i?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(r)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),s=this.options.get("escapeMarkup"),r=n(e,i);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=s(r):t(i).append(r)},i}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},n.prototype.bind=function(t){var e=this,n=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e._handleBlur(t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",n),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(e){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||t.contains(i.$selection[0],document.activeElement)||i.trigger("blur",e)},1)},n.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var i=t(e.target),n=i.closest(".select2");t(".select2.select2-container--open").each(function(){var e=t(this);this!=n[0]&&e.data("element").select2("close")})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){e.find(".selection").append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},n.prototype.bind=function(t){var e=this;n.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("selection:update",function(t){e.update(t.data)})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},n.prototype.selectionContainer=function(){return t("<span></span>")},n.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n),i.prop("title",e.title||e.text)},n}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(){var e=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(i){if(!e.options.get("disabled")){var n=t(this),s=n.parent(),r=s.data("data");e.trigger("unselect",{originalEvent:i,data:r})}})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},n.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var s=t[n],r=this.selectionContainer(),o=this.display(s,r);r.append(o),r.prop("title",s.title||s.text),r.data("data",s),e.push(r)}var a=this.$selection.find(".select2-selection__rendered");i.appendMany(a,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||i)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function i(){}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),s=0;s<n.length;s++){var r={data:n[s]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},i.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||i.which!=e.DELETE&&i.which!=e.BACKSPACE||this._handleClear(i)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=t('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(t,e,n){var s=this;t.call(this,e,n),e.on("open",function(){s.$search.trigger("focus")}),e.on("close",function(){s.$search.val(""),s.$search.removeAttr("aria-activedescendant"),s.$search.trigger("focus")}),e.on("enable",function(){s.$search.prop("disabled",!1),s._transferTabIndex()}),e.on("disable",function(){s.$search.prop("disabled",!0)}),e.on("focus",function(){s.$search.trigger("focus")}),e.on("results:focus",function(t){s.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){s.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){s._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),s.trigger("keypress",t),s._keyUpPrevented=t.isDefaultPrevented(),t.which===i.BACKSPACE&&""===s.$search.val()){var e=s.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var n=e.data("data");s.searchRemoveChoice(n),t.preventDefault()}}});var r=document.documentMode,o=r&&11>=r;this.$selection.on("input.searchcheck",".select2-search--inline",function(){return o?void s.$selection.off("input.search input.searchcheck"):void s.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(o&&"input"===t.type)return void s.$selection.off("input.search input.searchcheck");var e=t.which;e!=i.SHIFT&&e!=i.CTRL&&e!=i.ALT&&e!=i.TAB&&s.handleSearch(t)})},n.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{t=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var s=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];e.call(this,i,n),i.on("*",function(e,i){if(-1!==t.inArray(e,r)){i=i||{};var n=t.Event("select2:"+e,{params:i});s.$element.trigger(n),-1!==t.inArray(e,o)&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),n+=null!=i.id?"-"+i.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),s=n.item(t);e.push(s)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,
i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var s=[];t=[t],t.push.apply(t,n);for(var r=0;r<t.length;r++){var o=t[r].id;-1===i.inArray(o,s)&&s.push(o)}e.$element.val(s),e.$element.trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,i(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var s=[],r=0;r<n.length;r++){var o=n[r].id;o!==t.id&&-1===i.inArray(o,s)&&s.push(o)}e.$element.val(s),e.$element.trigger("change")})},n.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(t,e){var n=[],s=this;this.$element.children().each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var r=s.item(e),o=s.matches(t,r);null!==o&&n.push(o)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=i(e),s=this._normalizeItem(t);return s.element=e,i.data(e,"data",s),n},n.prototype.item=function(t){var e={};if(null!=(e=i.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),s=[],r=0;r<n.length;r++){var o=i(n[r]),a=this.item(o);s.push(a)}e.children=s}return e=this._normalizeItem(e),e.element=t[0],i.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){i.isPlainObject(t)||(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(n,t),n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){function n(t){return function(){return i(this).val()==t.id}}for(var s=this,r=this.$element.find("option"),o=r.map(function(){return s.item(i(this)).id}).get(),a=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(i.inArray(c.id,o)>=0){var d=r.filter(n(c)),h=this.item(d),u=i.extend(!0,{},h,c),p=this.option(u);d.replaceWith(p)}else{var f=this.option(c);if(c.children){var g=this.convertToOptions(c.children);e.appendMany(f,g)}a.push(f)}}return a},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return i.extend({},t,{q:t.term})},transport:function(t,e,n){var s=i.ajax(t);return s.then(e),s.fail(n),s}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=r.transport(r,function(n){var r=s.processResults(n,t);s.options.get("debug")&&window.console&&console.error&&(r&&r.results&&i.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){});s._request=n}var s=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var s=n.get("tags"),r=n.get("createTag");if(void 0!==r&&(this.createTag=r),e.call(this,i,n),t.isArray(s))for(var o=0;o<s.length;o++){var a=s[o],l=this._normalizeItem(a),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(t,e,i){function n(t,r){for(var o=t.results,a=0;a<o.length;a++){var l=o[a],c=null!=l.children&&!n({results:l.children},!0);if(l.text===e.term||c)return!r&&(t.data=o,void i(t))}if(r)return!0;var d=s.createTag(e);if(null!=d){var h=s.option(d);h.attr("data-select2-tag",!0),s.addOptions([h]),s.insertTag(o,d)}t.results=o,i(t)}var s=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,i):void t.call(this,e,n)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(t,e,i){function n(t){s.trigger("select",{data:t})}var s=this;e.term=e.term||"";var r=this.tokenizer(e,this.options,n);r.term!==e.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),e.term=r.term),t.call(this,e,i)},e.prototype.tokenizer=function(e,i,n,s){for(var r=n.get("tokenSeparators")||[],o=i.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<o.length;){var c=o[a];if(-1!==t.inArray(c,r)){var d=o.substr(0,a),h=t.extend({},i,{term:d}),u=l(h);null!=u?(s(u),o=o.substr(a+1)||"",a=0):a++}else a++}return{term:o}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var n=this;this.current(function(s){var r=null!=s?s.length:0;return n.maximumSelectionLength>0&&r>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void t.call(n,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.bind=function(){},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},e.prototype.bind=function(e,i,n){var s=this;e.call(this,i,n),this.$search.on("keydown",function(t){s.trigger("keypress",t),s._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){s.handleSearch(t)}),i.on("open",function(){s.$search.attr("tabindex",0),s.$search.focus(),window.setTimeout(function(){s.$search.focus()},0)}),i.on("close",function(){s.$search.attr("tabindex",-1),s.$search.val("")}),i.on("results:all",function(t){if(null==t.query.term||""===t.query.term){s.showSearch(t)?s.$searchContainer.removeClass("select2-search--hide"):s.$searchContainer.addClass("select2-search--hide")}})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var s=e[n];this.placeholder.id===s.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,n){var s=this;e.call(this,i,n),i.on("query",function(t){s.lastParams=t,s.loading=!0}),i.on("query:append",function(t){s.lastParams=t,s.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,s.$loadingMore[0]);if(!s.loading&&e){s.$results.offset().top+s.$results.outerHeight(!1)+50>=s.$loadingMore.offset().top+s.$loadingMore.outerHeight(!1)&&s.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(e,i,n){this.$dropdownParent=n.get("dropdownParent")||t(document.body),e.call(this,i,n)}return i.prototype.bind=function(t,e,i){var n=this,s=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),s||(s=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var s=this,r="scroll.select2."+n.id,o="resize.select2."+n.id,a="orientationchange.select2."+n.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(r+" "+o+" "+a,function(){s._positionDropdown(),s._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var s="scroll.select2."+n.id,r="resize.select2."+n.id,o="orientationchange.select2."+n.id;this.$container.parents().filter(e.hasScroll).off(s),t(window).off(s+" "+r+" "+o)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),s=null,r=(this.$container.position(),this.$container.offset());r.bottom=r.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=r.top,o.bottom=r.top+o.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<r.top-a.height,d=l.bottom>r.bottom+a.height,h={left:r.left,top:o.bottom};if("static"!==this.$dropdownParent[0].style.position){var u=this.$dropdownParent.offset();h.top-=u.top,h.left-=u.left}i||n||(s="below"),d||!c||i?!c&&d&&i&&(s="below"):s="above",("above"==s||i&&"below"!==s)&&(h.top=o.top-a.height),null!=s&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+s),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+s)),this.$dropdownContainer.css(h)},i.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var s=e[n];s.children?i+=t(s.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){return!(t(i.data.results)<this.minimumResultsForSearch)&&e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(){n._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();if(!(t.length<1)){var e=t.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close",{})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,s,r,o,a,l,c,d,h,u,p,f,g,m,v,b,y,w,_,x,C,$,k,D,S,T){function I(){this.reset()}return I.prototype.apply=function(h){if(h=t.extend({},this.defaults,h),null==h.dataAdapter){if(null!=h.ajax?h.dataAdapter=f:null!=h.data?h.dataAdapter=p:h.dataAdapter=u,h.minimumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,v)),h.maximumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,b)),h.maximumSelectionLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,y)),h.tags&&(h.dataAdapter=c.Decorate(h.dataAdapter,g)),null==h.tokenSeparators&&null==h.tokenizer||(h.dataAdapter=c.Decorate(h.dataAdapter,m)),null!=h.query){var T=e(h.amdBase+"compat/query");h.dataAdapter=c.Decorate(h.dataAdapter,T)}if(null!=h.initSelection){var I=e(h.amdBase+"compat/initSelection");h.dataAdapter=c.Decorate(h.dataAdapter,I)}}if(null==h.resultsAdapter&&(h.resultsAdapter=i,null!=h.ajax&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,C)),null!=h.placeholder&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,x)),h.selectOnClose&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,D))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=w;else{var E=c.Decorate(w,_);h.dropdownAdapter=E}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,k)),h.closeOnSelect&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,S)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var j=e(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=c.Decorate(h.dropdownAdapter,j)}h.dropdownAdapter=c.Decorate(h.dropdownAdapter,$)}if(null==h.selectionAdapter){if(h.multiple?h.selectionAdapter=s:h.selectionAdapter=n,null!=h.placeholder&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,r)),h.allowClear&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,o)),h.multiple&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,a)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){var A=e(h.amdBase+"compat/containerCss");h.selectionAdapter=c.Decorate(h.selectionAdapter,A)}h.selectionAdapter=c.Decorate(h.selectionAdapter,l)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var M=h.language.split("-"),F=M[0];h.language=[h.language,F]}else h.language=[h.language];if(t.isArray(h.language)){var P=new d;h.language.push("en");for(var R=h.language,N=0;N<R.length;N++){var O=R[N],H={};try{H=d.loadPath(O)}catch(t){try{O=this.defaults.amdLanguageBase+O,H=d.loadPath(O)}catch(t){h.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+O+'" could not be automatically loaded. A fallback will be used instead.');continue}}P.extend(H)}h.translations=P}else{var q=d.loadPath(this.defaults.amdLanguageBase+"en"),L=new d(h.language);L.extend(q),h.translations=L}return h},I.prototype.reset=function(){function e(t){function e(t){return h[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,s){if(""===t.trim(n.term))return s;if(s.children&&s.children.length>0){for(var r=t.extend(!0,{},s),o=s.children.length-1;o>=0;o--){null==i(n,s.children[o])&&r.children.splice(o,1)}return r.children.length>0?r:i(n,r)}var a=e(s.text).toUpperCase(),l=e(n.term).toUpperCase();return a.indexOf(l)>-1?s:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:T,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},I.prototype.set=function(e,i){var n=t.camelCase(e),s={};s[n]=i;var r=c._convertData(s);t.extend(this.defaults,r)},new I}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function s(e,s){if(this.options=e,null!=s&&this.fromElement(s),this.options=i.apply(this.options),s&&s.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,r)}}return s.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var s={};s=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var r=e.extend(!0,{},s);r=n._convertData(r);for(var o in r)e.inArray(o,i)>-1||(e.isPlainObject(this.options[o])?e.extend(this.options[o],r[o]):this.options[o]=r[o]);return this},s.prototype.get=function(t){return this.options[t]},s.prototype.set=function(t,e){this.options[t]=e},s}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var s=function(t,i){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),s.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(t,this.options);var o=this.render();this._placeContainer(o);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){d.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(s,i.Observable),s.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e="select2-"+e},s.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},s.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var s=t.outerWidth(!1);return 0>=s?"auto":s+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var o=r.split(";"),a=0,l=o.length;l>a;a+=1){var c=o[a].replace(/\s/g,""),d=c.match(i);if(null!==d&&d.length>=1)return d[1]}return null}return e},s.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},s.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){t.each(i,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},s.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},s.prototype._registerSelectionEvents=function(){var e=this,i=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(n,s){-1===t.inArray(n,i)&&e.trigger(n,s)})},s.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},s.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},s.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&e.altKey?(t.close(),e.preventDefault()):i===n.ENTER?(t.trigger("results:select",{}),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):i===n.UP?(t.trigger("results:previous",{}),e.preventDefault()):i===n.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},s.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},s.prototype.trigger=function(t,e){var i=s.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in n){var r=n[t],o={prevented:!1,name:t,args:e};if(i.call(this,r,o),o.prevented)return void(e.prevented=!0)}i.call(this,t,e)},s.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},s.prototype.open=function(){this.isOpen()||this.trigger("query",{})},s.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},s.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},s.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},s.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},s.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},s.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},s.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},s.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},s.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},s}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,i,n){if(null==t.fn.select2){var s=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var n=t.extend(!0,{},e);new i(t(this),n)}),this;if("string"==typeof e){var n;return this.each(function(){var i=t(this).data("select2");null==i&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var s=Array.prototype.slice.call(arguments,1);n=i[e].apply(i,s)}),t.inArray(e,s)>-1?this:n}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i}),function(t,e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var i,n=document.createElement(t||"div");for(i in e)n[i]=e[i];return n}function e(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,n){var s=["opacity",e,~~(100*t),i,n].join("-"),r=.01+i/n*100,o=Math.max(1-(1-t)/e*(100-r),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return u[s]||(d.insertRule("@"+l+"keyframes "+s+"{0%{opacity:"+o+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+o+"}}",d.cssRules.length),u[s]=1),s}function n(t,e){var i,n,s=t.style;if(e=e.charAt(0).toUpperCase()+e.slice(1),void 0!==s[e])return e;for(n=0;n<h.length;n++)if(i=h[n]+e,void 0!==s[i])return i}function s(t,e){for(var i in e)t.style[n(t,i)||i]=e[i];return t}function r(t){
for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)void 0===t[n]&&(t[n]=i[n])}return t}function o(t,e){return"string"==typeof t?t:t[e%t.length]}function a(t){this.opts=r(t||{},a.defaults,p)}function l(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}d.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,n){function r(){return s(i("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function a(t,a,l){e(u,e(s(r(),{rotation:360/n.lines*t+"deg",left:~~a}),e(s(i("roundrect",{arcsize:n.corners}),{width:c,height:n.scale*n.width,left:n.scale*n.radius,top:-n.scale*n.width>>1,filter:l}),i("fill",{color:o(n.color,t),opacity:n.opacity}),i("stroke",{opacity:0}))))}var l,c=n.scale*(n.length+n.width),d=2*n.scale*c,h=-(n.width+n.length)*n.scale*2+"px",u=s(r(),{position:"absolute",top:h,left:h});if(n.shadow)for(l=1;l<=n.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)a(l);return e(t,u)},a.prototype.opacity=function(t,e,i,n){var s=t.firstChild;n=n.shadow&&n.lines||0,s&&e+n<s.childNodes.length&&(s=s.childNodes[e+n],s=s&&s.firstChild,(s=s&&s.firstChild)&&(s.opacity=i))}}var c,d,h=["webkit","Moz","ms","O"],u={},p={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},r(a.prototype,{spin:function(e){this.stop();var i=this,n=i.opts,r=i.el=t(null,{className:n.className});if(s(r,{position:n.position,width:0,zIndex:n.zIndex,left:n.left,top:n.top}),e&&e.insertBefore(r,e.firstChild||null),r.setAttribute("role","progressbar"),i.lines(r,i.opts),!c){var o,a=0,l=(n.lines-1)*(1-n.direction)/2,d=n.fps,h=d/n.speed,u=(1-n.opacity)/(h*n.trail/100),p=h/n.lines;!function t(){a++;for(var e=0;e<n.lines;e++)o=Math.max(1-(a+(n.lines-e)*p)%h*u,n.opacity),i.opacity(r,e*n.direction+l,o,n);i.timeout=i.el&&setTimeout(t,~~(1e3/d))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(n,r){function a(e,i){return s(t(),{position:"absolute",width:r.scale*(r.length+r.width)+"px",height:r.scale*r.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*d+r.rotate)+"deg) translate("+r.scale*r.radius+"px,0)",borderRadius:(r.corners*r.scale*r.width>>1)+"px"})}for(var l,d=0,h=(r.lines-1)*(1-r.direction)/2;d<r.lines;d++)l=s(t(),{position:"absolute",top:1+~(r.scale*r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:c&&i(r.opacity,r.trail,h+d*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&e(l,s(a("#000","0 0 4px #000"),{top:"2px"})),e(n,e(l,a(o(r.color,d),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),"undefined"!=typeof document){d=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}();var f=s(t("group"),{behavior:"url(#default#VML)"});!n(f,"transform")&&f.adj?l():c=n(f,"animation")}return a}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=t.fn.spinbox,i=function(e,i){this.$element=t(e),this.$element.find(".btn").on("click",function(t){t.preventDefault()}),this.options=t.extend({},t.fn.spinbox.defaults,i),this.options.step=this.$element.data("step")||this.options.step,this.options.value<this.options.min?this.options.value=this.options.min:this.options.max<this.options.value&&(this.options.value=this.options.max),this.$input=this.$element.find(".spinbox-input"),this.$input.on("focusout.fu.spinbox",this.$input,t.proxy(this.change,this)),this.$element.on("keydown.fu.spinbox",this.$input,t.proxy(this.keydown,this)),this.$element.on("keyup.fu.spinbox",this.$input,t.proxy(this.keyup,this)),this.bindMousewheelListeners(),this.mousewheelTimeout={},this.options.hold?(this.$element.on("mousedown.fu.spinbox",".spinbox-up",t.proxy(function(){this.startSpin(!0)},this)),this.$element.on("mouseup.fu.spinbox",".spinbox-up, .spinbox-down",t.proxy(this.stopSpin,this)),this.$element.on("mouseout.fu.spinbox",".spinbox-up, .spinbox-down",t.proxy(this.stopSpin,this)),this.$element.on("mousedown.fu.spinbox",".spinbox-down",t.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click.fu.spinbox",".spinbox-up",t.proxy(function(){this.step(!0)},this)),this.$element.on("click.fu.spinbox",".spinbox-down",t.proxy(function(){this.step(!1)},this))),this.switches={count:1,enabled:!0},"medium"===this.options.speed?this.switches.speed=300:"fast"===this.options.speed?this.switches.speed=100:this.switches.speed=500,this.options.defaultUnit=s(this.options.defaultUnit,this.options.units)?this.options.defaultUnit:"",this.unit=this.options.defaultUnit,this.lastValue=this.options.value,this.render(),this.options.disabled&&this.disable()},n=function(t,e){return Math.round(t/e)*e},s=function(e,i){var n=!1,s=e.toLowerCase();return t.each(i,function(t,e){return e=e.toLowerCase(),s===e?(n=!0,!1):void 0}),n},r=function(t){return isNaN(parseFloat(t))?t:(t>this.options.max?t=this.options.cycle?this.options.min:this.options.max:t<this.options.min&&(t=this.options.cycle?this.options.max:this.options.min),this.options.limitToStep&&this.options.step&&(t=n(t,this.options.step),t>this.options.max?t-=this.options.step:t<this.options.min&&(t+=this.options.step)),t)};i.prototype={constructor:i,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){t(this).attr("value",t(this).val())}),this.$element[0].outerHTML},render:function(){this.setValue(this.getDisplayValue())},change:function(){this.setValue(this.getDisplayValue()),this.triggerChangedEvent()},stopSpin:function(){void 0!==this.switches.timeout&&(clearTimeout(this.switches.timeout),this.switches.count=1,this.triggerChangedEvent())},triggerChangedEvent:function(){var t=this.getValue();t!==this.lastValue&&(this.lastValue=t,this.$element.trigger("changed.fu.spinbox",t))},startSpin:function(e){if(!this.options.disabled){var i=this.switches.count;1===i?(this.step(e),i=1):i=3>i?1.5:8>i?2.5:4,this.switches.timeout=setTimeout(t.proxy(function(){this.iterate(e)},this),this.switches.speed/i),this.switches.count++}},iterate:function(t){this.step(t),this.startSpin(t)},step:function(t){this.setValue(this.getDisplayValue());var e;e=t?this.options.value+this.options.step:this.options.value-this.options.step,e=e.toFixed(5),this.setValue(e+this.unit)},getDisplayValue:function(){var t=this.parseInput(this.$input.val());return t||this.options.value},setDisplayValue:function(t){this.$input.val(t)},getValue:function(){var t=this.options.value;return"."!==this.options.decimalMark&&(t=(t+"").split(".").join(this.options.decimalMark)),t+this.unit},setValue:function(t){if("."!==this.options.decimalMark&&(t=this.parseInput(t)),"number"!=typeof t){var e=t.replace(/[0-9.-]/g,"");this.unit=s(e,this.options.units)?e:this.options.defaultUnit}var i=this.getIntValue(t);return isNaN(i)&&!isFinite(i)?this.setValue(this.options.value):(i=r.call(this,i),this.options.value=i,t=i+this.unit,"."!==this.options.decimalMark&&(t=(t+"").split(".").join(this.options.decimalMark)),this.setDisplayValue(t),this)},value:function(t){return t||0===t?this.setValue(t):this.getValue()},parseInput:function(t){return t=(t+"").split(this.options.decimalMark).join(".")},getIntValue:function(t){return t=void 0===t?this.getValue():t,void 0!==t?("string"==typeof t&&(t=this.parseInput(t)),t=parseFloat(t,10)):void 0},disable:function(){this.options.disabled=!0,this.$element.addClass("disabled"),this.$input.attr("disabled",""),this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=!1,this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$element.find("button").removeClass("disabled")},keydown:function(t){var e=t.keyCode;38===e?this.step(!0):40===e?this.step(!1):13===e&&this.change()},keyup:function(t){var e=t.keyCode;38!==e&&40!==e||this.triggerChangedEvent()},bindMousewheelListeners:function(){var e=this.$input.get(0);e.addEventListener?(e.addEventListener("mousewheel",t.proxy(this.mousewheelHandler,this),!1),e.addEventListener("DOMMouseScroll",t.proxy(this.mousewheelHandler,this),!1)):e.attachEvent("onmousewheel",t.proxy(this.mousewheelHandler,this))},mousewheelHandler:function(t){if(!this.options.disabled){var e=window.event||t,i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),n=this;return clearTimeout(this.mousewheelTimeout),this.mousewheelTimeout=setTimeout(function(){n.triggerChangedEvent()},300),0>i?this.step(!0):this.step(!1),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}},t.fn.spinbox=function(e){var n,s=Array.prototype.slice.call(arguments,1),r=this.each(function(){var r=t(this),o=r.data("fu.spinbox"),a="object"==typeof e&&e;o||r.data("fu.spinbox",o=new i(this,a)),"string"==typeof e&&(n=o[e].apply(o,s))});return void 0===n?r:n},t.fn.spinbox.defaults={value:0,min:0,max:999,step:1,hold:!0,speed:"medium",disabled:!1,cycle:!1,units:[],decimalMark:".",defaultUnit:"",limitToStep:!1},t.fn.spinbox.Constructor=i,t.fn.spinbox.noConflict=function(){return t.fn.spinbox=e,this},t(document).on("mousedown.fu.spinbox.data-api","[data-initialize=spinbox]",function(e){var i=t(e.target).closest(".spinbox");i.data("fu.spinbox")||i.spinbox(i.data())}),t(function(){t("[data-initialize=spinbox]").each(function(){var e=t(this);e.data("fu.spinbox")||e.spinbox(e.data())})})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(t,e,i){e.addClass("tree-selected"),"item"===e.data("type")&&i.hasClass(t.options["unselected-icon"])&&i.removeClass(t.options["unselected-icon"]).addClass(t.options["selected-icon"])}function i(t,e,i){e.removeClass("tree-selected"),"item"===e.data("type")&&i.hasClass(t.options["selected-icon"])&&i.removeClass(t.options["selected-icon"]).addClass(t.options["unselected-icon"])}function n(n,s,r){t.each(r.$elements,function(e,i){var n=t(i);n[0]!==s.$element[0]&&r.dataForEvent.push(t(n).data())}),s.$element.hasClass("tree-selected")?(i(n,s.$element,s.$icon),r.eventType="deselected"):(e(n,s.$element,s.$icon),r.eventType="selected",r.dataForEvent.push(s.elementData))}function s(t,n,s){s.$elements[0]!==n.$element[0]?(t.deselectAll(t.$element),e(t,n.$element,n.$icon),s.eventType="selected",s.dataForEvent=[n.elementData]):(i(t,n.$element,n.$icon),s.eventType="deselected",s.dataForEvent=[])}var r=t.fn.tree,o=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.tree.defaults,i),this.options.itemSelect&&this.$element.on("click.fu.tree",".tree-item",t.proxy(function(t){this.selectItem(t.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-branch-header",t.proxy(function(t){this.options.folderSelect||this.toggleFolder(t.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-overflow",t.proxy(function(e){this.populate(t(e.currentTarget))},this)),this.options.folderSelect&&(this.$element.addClass("tree-folder-select"),this.$element.off("click.fu.tree",".tree-branch-name"),this.$element.on("click.fu.tree",".icon-caret",t.proxy(function(e){this.toggleFolder(t(e.currentTarget).next())},this)),this.$element.on("click.fu.tree",".tree-branch-header",t.proxy(function(e){this.selectFolder(t(e.currentTarget))},this))),this.render()};o.prototype={constructor:o,deselectAll:function(e){e=e||this.$element;var n=t(e).find(".tree-selected"),s=this;return n.each(function(e,n){i(s,t(n),t(n).find("."+t.trim(s.options["base-icon"]).replace(/(\s+)/g,".")))}),n},destroy:function(){return this.$element.find("li:not([data-template])").remove(),this.$element.remove(),this.$element[0].outerHTML},render:function(){this.populate(this.$element)},populate:function(e,i){var n=this,s=e.hasClass("tree-overflow"),r=e.hasClass("tree")?e:e.parent(),o=r.hasClass("tree");s&&!o&&(r=r.parent());var a=r.data();s&&(a.overflow=e.data()),i=i||!1,s&&(o?e.replaceWith(r.find("> .tree-loader").remove()):e.remove());var l=r.find(".tree-loader:last");!1===i&&l.removeClass("hide hidden"),this.options.dataSource(a||{},function(e){t.each(e.data,function(e,i){var s;if("folder"===i.type){s=n.$element.find("[data-template=treebranch]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template"),s.data(i),s.find(".tree-branch-name > .tree-label").html(i.text||i.name);var a=s.find(".tree-branch-header");"icon-class"in i&&a.find("i").addClass(i["icon-class"]),"additionalParameters"in i&&"item-selected"in i.additionalParameters&&1==i.additionalParameters["item-selected"]&&setTimeout(function(){a.trigger("click")},0)}else"item"===i.type?(s=n.$element.find("[data-template=treeitem]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template"),s.find(".tree-item-name > .tree-label").html(i.text||i.name),s.data(i),"additionalParameters"in i&&"item-selected"in i.additionalParameters&&1==i.additionalParameters["item-selected"]&&(s.addClass("tree-selected"),s.find("i").removeClass(n.options["unselected-icon"]).addClass(n.options["selected-icon"]))):"overflow"===i.type&&(s=n.$element.find("[data-template=treeoverflow]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template"),s.find(".tree-overflow-name > .tree-label").html(i.text||i.name),s.data(i));var l=i.attr||i.dataAttributes||[];t.each(l,function(t,e){switch(t){case"cssClass":case"class":case"className":s.addClass(e);break;case"data-icon":s.find(".icon-item").removeClass().addClass("icon-item "+e),s.attr(t,e);break;case"id":s.attr(t,e),s.attr("aria-labelledby",e+"-label"),s.find(".tree-branch-name > .tree-label").attr("id",e+"-label");break;default:s.attr(t,e)}}),o?r.append(s):r.find(".tree-branch-children:eq(0)").append(s)}),r.find(".tree-loader").addClass("hidden"),n.$element.trigger("loaded.fu.tree",r)})},selectTreeNode:function(e,i){var r={};r.$element=t(e);var o={};o.$elements=this.$element.find(".tree-selected"),o.dataForEvent=[],"folder"===i?(r.$element=r.$element.closest(".tree-branch"),r.$icon=r.$element.find(".icon-folder")):r.$icon=r.$element.find(".icon-item"),r.elementData=r.$element.data(),this.options.multiSelect?n(this,r,o):s(this,r,o),this.$element.trigger(o.eventType+".fu.tree",{target:r.elementData,selected:o.dataForEvent}),r.$element.trigger("updated.fu.tree",{selected:o.dataForEvent,item:r.$element,eventType:o.eventType})},discloseFolder:function(e){var i=t(e),n=i.closest(".tree-branch"),s=n.find(".tree-branch-children"),r=s.eq(0);n.addClass("tree-open"),n.attr("aria-expanded","true"),r.removeClass("hide hidden"),n.find("> .tree-branch-header .icon-folder").eq(0).removeClass(this.options["close-icon"]).addClass(this.options["open-icon"]),n.find("> .icon-caret").eq(0).removeClass(this.options["folder-open-icon"]).addClass(this.options["folder-close-icon"]),s.children().length||this.populate(s),this.$element.trigger("disclosedFolder.fu.tree",n.data())},closeFolder:function(e){var i=t(e),n=i.closest(".tree-branch"),s=n.find(".tree-branch-children"),r=s.eq(0);n.removeClass("tree-open"),n.attr("aria-expanded","false"),r.addClass("hidden"),n.find("> .tree-branch-header .icon-folder").eq(0).removeClass(this.options["open-icon"]).addClass(this.options["close-icon"]),n.find("> .icon-caret").eq(0).removeClass(this.options["folder-close-icon"]).addClass(this.options["folder-open-icon"]),this.options.cacheItems||r.empty(),this.$element.trigger("closed.fu.tree",n.data())},toggleFolder:function(e){var i=t(e);i.find("."+t.trim(this.options["close-icon"]).replace(/(\s+)/g,".")).length?this.discloseFolder(e):i.find("."+t.trim(this.options["open-icon"]).replace(/(\s+)/g,".")).length&&this.closeFolder(e)},selectFolder:function(t){this.options.folderSelect&&this.selectTreeNode(t,"folder")},selectItem:function(t){this.options.itemSelect&&this.selectTreeNode(t,"item")},selectedItems:function(){var e=this.$element.find(".tree-selected"),i=[];return t.each(e,function(e,n){i.push(t(n).data())}),i},collapse:function(){var t=this,e=[],i=function i(n,s){e.push(s),0===t.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").length&&(t.$element.trigger("closedAll.fu.tree",{tree:t.$element,reportedClosed:e}),t.$element.off("loaded.fu.tree",t.$element,i))};t.$element.on("closed.fu.tree",i),t.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").each(function(){t.closeFolder(this)})},discloseVisible:function(){var e=this,i=e.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')"),n=[],s=function t(s,r){n.push(r),n.length===i.length&&(e.$element.trigger("disclosedVisible.fu.tree",{tree:e.$element,reportedOpened:n}),e.$element.off("loaded.fu.tree",e.$element,t))};e.$element.on("loaded.fu.tree",s),e.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").each(function(){e.discloseFolder(t(this).find(".tree-branch-header"))})},discloseAll:function(){var t=this;void 0===t.$element.data("disclosures")&&t.$element.data("disclosures",0);var e=t.options.disclosuresUpperLimit>=1&&t.$element.data("disclosures")>=t.options.disclosuresUpperLimit;if(0===t.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").length)t.$element.trigger("disclosedAll.fu.tree",{tree:t.$element,disclosures:t.$element.data("disclosures")}),t.options.cacheItems||t.$element.one("closeAll.fu.tree",function(){t.$element.data("disclosures",0)});else{if(e&&(t.$element.trigger("exceededDisclosuresLimit.fu.tree",{tree:t.$element,disclosures:t.$element.data("disclosures")}),!t.$element.data("ignore-disclosures-limit")))return;t.$element.data("disclosures",t.$element.data("disclosures")+1),t.$element.one("disclosedVisible.fu.tree",function(){t.discloseAll()}),t.discloseVisible()}},refreshFolder:function(t){var e=t.closest(".tree-branch"),i=e.find(".tree-branch-children");i.eq(0).empty(),e.hasClass("tree-open")?this.populate(i,!1):this.populate(i,!0),this.$element.trigger("refreshedFolder.fu.tree",e.data())}},o.prototype.closeAll=o.prototype.collapse,o.prototype.openFolder=o.prototype.discloseFolder,o.prototype.getValue=o.prototype.selectedItems,t.fn.tree=function(e){var i,n=Array.prototype.slice.call(arguments,1),s=this.each(function(){var s=t(this),r=s.data("fu.tree"),a="object"==typeof e&&e;r||s.data("fu.tree",r=new o(this,a)),"string"==typeof e&&(i=r[e].apply(r,n))});return void 0===i?s:i},t.fn.tree.defaults={dataSource:function(){},multiSelect:!1,cacheItems:!0,folderSelect:!0,itemSelect:!0,disclosuresUpperLimit:0},t.fn.tree.Constructor=o,t.fn.tree.noConflict=function(){return t.fn.tree=r,this}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=t.fn.wizard,i=function(e,i){var n;this.$element=t(e),this.options=t.extend({},t.fn.wizard.defaults,i),this.options.disablePreviousStep="previous"===this.$element.attr("data-restrict")||this.options.disablePreviousStep,this.currentStep=this.options.selectedItem.step,this.numSteps=this.$element.find(".steps li").length,this.$prevBtn=this.$element.find("button.btn-prev"),this.$nextBtn=this.$element.find("button.btn-next"),0===this.$element.children(".steps-container").length&&(this.$element.addClass("no-steps-container"),window&&window.console&&window.console.warn&&window.console.warn('please update your wizard markup to include ".steps-container" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup')),n=this.$nextBtn.children().detach(),this.nextText=t.trim(this.$nextBtn.text()),this.$nextBtn.append(n),this.$prevBtn.on("click.fu.wizard",t.proxy(this.previous,this)),this.$nextBtn.on("click.fu.wizard",t.proxy(this.next,this)),this.$element.on("click.fu.wizard","li.complete",t.proxy(this.stepclicked,this)),this.selectedItem(this.options.selectedItem),this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))};i.prototype={constructor:i,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},addSteps:function(e){var i,n,s,r,o,a,l=[].slice.call(arguments).slice(1),c=this.$element.find(".steps"),d=this.$element.find(".step-content");for(e=-1===e||e>this.numSteps+1?this.numSteps+1:e,l[0]instanceof Array&&(l=l[0]),o=c.find("li:nth-child("+e+")"),r=d.find(".step-pane:nth-child("+e+")"),o.length<1&&(o=null),i=0,n=l.length;n>i;i++)a=t('<li data-step="'+e+'"><span class="badge badge-info"></span></li>'),a.append(l[i].label||"").append('<span class="chevron"></span>'),a.find(".badge").append(l[i].badge||e),s=t('<div class="step-pane" data-step="'+e+'"></div>'),s.append(l[i].pane||""),o?(o.before(a),r.before(s)):(c.append(a),d.append(s)),e++;this.syncSteps(),this.numSteps=c.find("li").length,this.setState()},removeSteps:function(e,i){var n,s="nextAll",r=0,o=this.$element.find(".steps"),a=this.$element.find(".step-content");i=void 0!==i?i:1,e>o.find("li").length?n=o.find("li:last"):(n=o.find("li:nth-child("+e+")").prev(),n.length<1&&(s="children",n=o)),n[s]().each(function(){var e=t(this),n=e.attr("data-step");return i>r&&(e.remove(),a.find('.step-pane[data-step="'+n+'"]:first').remove(),void r++)}),this.syncSteps(),this.numSteps=o.find("li").length,this.setState()},setState:function(){var e=this.currentStep>1,i=1===this.currentStep,n=this.currentStep===this.numSteps;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",!0===i||!1===e);var s=this.$nextBtn.attr("data-last");if(s){this.lastText=s;var r=this.nextText;!0===n?(r=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete");var o=this.$nextBtn.children().detach();this.$nextBtn.text(r).append(o)}var a=this.$element.find(".steps li");a.removeClass("active").removeClass("complete"),a.find("span.badge").removeClass("badge-info").removeClass("badge-success");var l=".steps li:lt("+(this.currentStep-1)+")",c=this.$element.find(l);c.addClass("complete"),c.find("span.badge").addClass("badge-success");var d=".steps li:eq("+(this.currentStep-1)+")",h=this.$element.find(d);h.addClass("active"),h.find("span.badge").addClass("badge-info");var u=this.$element.find(".step-content"),p=h.attr("data-step");u.find(".step-pane").removeClass("active"),u.find('.step-pane[data-step="'+p+'"]:first').addClass("active"),this.$element.find(".steps").first().attr("style","margin-left: 0");var f=0;this.$element.find(".steps > li").each(function(){f+=t(this).outerWidth()});var g=0;if(g=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width(),f>g){var m=f-g;this.$element.find(".steps").first().attr("style","margin-left: -"+m+"px"),this.$element.find("li.active").first().position().left<200&&(m+=this.$element.find("li.active").first().position().left-200,1>m?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+m+"px"))}if("undefined"!=typeof this.initialized){var v=t.Event("changed.fu.wizard");this.$element.trigger(v,{step:this.currentStep})}this.initialized=!0},stepclicked:function(e){var i=t(e.currentTarget),n=this.$element.find(".steps li").index(i);if(!(n<this.currentStep&&this.options.disablePreviousStep)){var s=t.Event("stepclicked.fu.wizard");this.$element.trigger(s,{step:n+1}),s.isDefaultPrevented()||(this.currentStep=n+1,this.setState())}},syncSteps:function(){var e=1,i=this.$element.find(".steps"),n=this.$element.find(".step-content");i.children().each(function(){var i=t(this),s=i.find(".badge"),r=i.attr("data-step");isNaN(parseInt(s.html(),10))||s.html(e),i.attr("data-step",e),n.find('.step-pane[data-step="'+r+'"]:last').attr("data-step",e),e++})},previous:function(){if(!this.options.disablePreviousStep&&1!==this.currentStep){var e=t.Event("actionclicked.fu.wizard");if(this.$element.trigger(e,{step:this.currentStep,direction:"previous"}),!e.isDefaultPrevented()&&(this.currentStep-=1,this.setState(),this.$prevBtn.is(":focus"))){var i=this.$element.find(".active").find("input, select, textarea")[0];void 0!==i?t(i).focus():0===this.$element.find(".active input:first").length&&this.$prevBtn.is(":disabled")&&this.$nextBtn.focus()}}},next:function(){var e=t.Event("actionclicked.fu.wizard");if(this.$element.trigger(e,{step:this.currentStep,direction:"next"}),!e.isDefaultPrevented()&&(this.currentStep<this.numSteps?(this.currentStep+=1,this.setState()):this.$element.trigger("finished.fu.wizard"),this.$nextBtn.is(":focus"))){var i=this.$element.find(".active").find("input, select, textarea")[0];void 0!==i?t(i).focus():0===this.$element.find(".active input:first").length&&this.$nextBtn.is(":disabled")&&this.$prevBtn.focus()}},selectedItem:function(t){var e,i;return t?(i=t.step||-1,i=Number(this.$element.find('.steps li[data-name="'+i+'"]').first().attr("data-step"))||Number(i),i>=1&&i<=this.numSteps?(this.currentStep=i,this.setState()):(i=this.$element.find(".steps li.active:first").attr("data-step"),isNaN(i)||(this.currentStep=parseInt(i,10),this.setState())),e=this):(e={step:this.currentStep},this.$element.find(".steps li.active:first[data-name]").length&&(e.stepname=this.$element.find(".steps li.active:first").attr("data-name"))),e}},t.fn.wizard=function(e){var n,s=Array.prototype.slice.call(arguments,1),r=this.each(function(){var r=t(this),o=r.data("fu.wizard"),a="object"==typeof e&&e;o||r.data("fu.wizard",o=new i(this,a)),"string"==typeof e&&(n=o[e].apply(o,s))});return void 0===n?r:n},t.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}},t.fn.wizard.Constructor=i,t.fn.wizard.noConflict=function(){return t.fn.wizard=e,this},t(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(e){var i=t(e.target).closest(".wizard");i.data("fu.wizard")||i.wizard(i.data())}),t(function(){t("[data-initialize=wizard]").each(function(){var e=t(this);e.data("fu.wizard")||e.wizard(e.data())})})}),function(){}.call(this),jQuery(document).ready(function(t){t("#op").change(function(){t("#splash").css("opacity",t("#op").val())}),t(".colorpicker").colorpicker(),t(".colorpicker").on("changeColor",function(e){t("#clrbx").css("background-color",e.color.toHex())}),t("#color").click(function(){t(".back").css("display","none"),t(".backcolor").css("display","block")}),t("#back").click(function(){t(".back").css("display","block"),t(".backcolor").css("display","none")}),t("#color").is(":checked")?(t(".back").css("display","none"),t(".backcolor").css("display","block")):(t(".back").css("display","block"),t(".backcolor").css("display","none"))}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);